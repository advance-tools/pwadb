{"modules":[{"ast":{"type":"Program","start":0,"end":6416,"body":[{"type":"ExportNamedDeclaration","start":0,"end":1472,"declaration":{"type":"VariableDeclaration","start":7,"end":1472,"declarations":[{"type":"VariableDeclarator","start":13,"end":1471,"id":{"type":"Identifier","start":13,"end":22,"name":"getSchema"},"init":{"type":"ArrowFunctionExpression","start":25,"end":1471,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":26,"end":30,"name":"name"}],"body":{"type":"ObjectExpression","start":36,"end":1470,"properties":[{"type":"Property","start":42,"end":64,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":42,"end":47,"name":"title"},"value":{"type":"BinaryExpression","start":49,"end":64,"left":{"type":"Identifier","start":49,"end":53,"name":"name"},"operator":"+","right":{"type":"Literal","start":56,"end":64,"value":"_store","raw":"'_store'"}},"kind":"init"},{"type":"Property","start":70,"end":130,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":70,"end":81,"name":"description"},"value":{"type":"TemplateLiteral","start":83,"end":130,"expressions":[{"type":"Identifier","start":92,"end":96,"name":"name"}],"quasis":[{"type":"TemplateElement","start":84,"end":90,"value":{"raw":"Store ","cooked":"Store "},"tail":false},{"type":"TemplateElement","start":97,"end":129,"value":{"raw":" types of data in the collection","cooked":" types of data in the collection"},"tail":true}]},"kind":"init"},{"type":"Property","start":136,"end":157,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":136,"end":150,"name":"keyCompression"},"value":{"type":"Literal","start":152,"end":157,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":163,"end":173,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":163,"end":170,"name":"version"},"value":{"type":"Literal","start":172,"end":173,"value":4,"raw":"4"},"kind":"init"},{"type":"Property","start":179,"end":193,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":179,"end":183,"name":"type"},"value":{"type":"Literal","start":185,"end":193,"value":"object","raw":"'object'"},"kind":"init"},{"type":"Property","start":199,"end":222,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":199,"end":209,"name":"primaryKey"},"value":{"type":"Literal","start":211,"end":222,"value":"tenantUrl","raw":"'tenantUrl'"},"kind":"init"},{"type":"Property","start":228,"end":1406,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":228,"end":238,"name":"properties"},"value":{"type":"ObjectExpression","start":240,"end":1406,"properties":[{"type":"Property","start":250,"end":327,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":250,"end":259,"name":"tenantUrl"},"value":{"type":"ObjectExpression","start":261,"end":327,"properties":[{"type":"Property","start":275,"end":289,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":275,"end":279,"name":"type"},"value":{"type":"Literal","start":281,"end":289,"value":"string","raw":"'string'"},"kind":"init"},{"type":"Property","start":303,"end":316,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":303,"end":310,"name":"primary"},"value":{"type":"Literal","start":312,"end":316,"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":337,"end":386,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":337,"end":345,"name":"matchUrl"},"value":{"type":"ObjectExpression","start":347,"end":386,"properties":[{"type":"Property","start":361,"end":375,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":361,"end":365,"name":"type"},"value":{"type":"Literal","start":367,"end":375,"value":"string","raw":"'string'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":396,"end":495,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":396,"end":402,"name":"method"},"value":{"type":"ObjectExpression","start":404,"end":495,"properties":[{"type":"Property","start":418,"end":432,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":418,"end":422,"name":"type"},"value":{"type":"Literal","start":424,"end":432,"value":"string","raw":"'string'"},"kind":"init"},{"type":"Property","start":446,"end":484,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":446,"end":450,"name":"enum"},"value":{"type":"ArrayExpression","start":452,"end":484,"elements":[{"type":"Literal","start":453,"end":458,"value":"GET","raw":"'GET'"},{"type":"Literal","start":460,"end":466,"value":"POST","raw":"'POST'"},{"type":"Literal","start":468,"end":473,"value":"PUT","raw":"'PUT'"},{"type":"Literal","start":475,"end":483,"value":"DELETE","raw":"'DELETE'"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":505,"end":560,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":505,"end":509,"name":"data"},"value":{"type":"ObjectExpression","start":511,"end":560,"properties":[{"type":"Property","start":525,"end":549,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":525,"end":529,"name":"type"},"value":{"type":"ArrayExpression","start":531,"end":549,"elements":[{"type":"Literal","start":532,"end":540,"value":"object","raw":"'object'"},{"type":"Literal","start":542,"end":548,"value":"null","raw":"'null'"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":570,"end":616,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":570,"end":574,"name":"time"},"value":{"type":"ObjectExpression","start":576,"end":616,"properties":[{"type":"Property","start":590,"end":605,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":590,"end":594,"name":"type"},"value":{"type":"Literal","start":596,"end":605,"value":"integer","raw":"'integer'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":626,"end":682,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":626,"end":631,"name":"error"},"value":{"type":"ObjectExpression","start":633,"end":682,"properties":[{"type":"Property","start":647,"end":671,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":647,"end":651,"name":"type"},"value":{"type":"ArrayExpression","start":653,"end":671,"elements":[{"type":"Literal","start":654,"end":662,"value":"string","raw":"'string'"},{"type":"Literal","start":664,"end":670,"value":"null","raw":"'null'"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":692,"end":1279,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":692,"end":702,"name":"fileFields"},"value":{"type":"ObjectExpression","start":704,"end":1279,"properties":[{"type":"Property","start":718,"end":733,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":718,"end":722,"name":"type"},"value":{"type":"ArrayExpression","start":724,"end":733,"elements":[{"type":"Literal","start":725,"end":732,"value":"array","raw":"'array'"}]},"kind":"init"},{"type":"Property","start":747,"end":758,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":747,"end":754,"name":"default"},"value":{"type":"ArrayExpression","start":756,"end":758,"elements":[]},"kind":"init"},{"type":"Property","start":772,"end":1269,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":772,"end":777,"name":"items"},"value":{"type":"ObjectExpression","start":779,"end":1269,"properties":[{"type":"Property","start":797,"end":813,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":797,"end":801,"name":"type"},"value":{"type":"ArrayExpression","start":803,"end":813,"elements":[{"type":"Literal","start":804,"end":812,"value":"object","raw":"'object'"}]},"kind":"init"},{"type":"Property","start":831,"end":1255,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":831,"end":841,"name":"properties"},"value":{"type":"ObjectExpression","start":843,"end":1255,"properties":[{"type":"Property","start":865,"end":940,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":865,"end":874,"name":"fileField"},"value":{"type":"ObjectExpression","start":876,"end":940,"properties":[{"type":"Property","start":902,"end":918,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":902,"end":906,"name":"type"},"value":{"type":"ArrayExpression","start":908,"end":918,"elements":[{"type":"Literal","start":909,"end":917,"value":"string","raw":"'string'"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":962,"end":1041,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":962,"end":975,"name":"fileNameField"},"value":{"type":"ObjectExpression","start":977,"end":1041,"properties":[{"type":"Property","start":1003,"end":1019,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1003,"end":1007,"name":"type"},"value":{"type":"ArrayExpression","start":1009,"end":1019,"elements":[{"type":"Literal","start":1010,"end":1018,"value":"string","raw":"'string'"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1063,"end":1137,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1063,"end":1071,"name":"fileType"},"value":{"type":"ObjectExpression","start":1073,"end":1137,"properties":[{"type":"Property","start":1099,"end":1115,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1099,"end":1103,"name":"type"},"value":{"type":"ArrayExpression","start":1105,"end":1115,"elements":[{"type":"Literal","start":1106,"end":1114,"value":"string","raw":"'string'"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1159,"end":1237,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1159,"end":1171,"name":"fileKeyField"},"value":{"type":"ObjectExpression","start":1173,"end":1237,"properties":[{"type":"Property","start":1199,"end":1215,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1199,"end":1203,"name":"type"},"value":{"type":"ArrayExpression","start":1205,"end":1215,"elements":[{"type":"Literal","start":1206,"end":1214,"value":"string","raw":"'string'"}]},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1289,"end":1340,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1289,"end":1298,"name":"createdAt"},"value":{"type":"ObjectExpression","start":1300,"end":1340,"properties":[{"type":"Property","start":1314,"end":1329,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1314,"end":1318,"name":"type"},"value":{"type":"Literal","start":1320,"end":1329,"value":"integer","raw":"'integer'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1350,"end":1400,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1350,"end":1359,"name":"updatedAt"},"value":{"type":"ObjectExpression","start":1361,"end":1400,"properties":[{"type":"Property","start":1375,"end":1390,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1375,"end":1379,"name":"type"},"value":{"type":"Literal","start":1381,"end":1390,"value":"integer","raw":"'integer'"},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":1412,"end":1467,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1412,"end":1421,"name":"encrypted"},"value":{"type":"ArrayExpression","start":1423,"end":1467,"elements":[{"type":"Literal","start":1433,"end":1439,"value":"data","raw":"'data'"},{"type":"Literal","start":1449,"end":1461,"value":"fileFields","raw":"'fileFields'"}]},"kind":"init"}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":1473,"end":1505,"declaration":{"type":"VariableDeclaration","start":1480,"end":1505,"declarations":[{"type":"VariableDeclarator","start":1486,"end":1504,"id":{"type":"Identifier","start":1486,"end":1499,"name":"pwaDocMethods"},"init":{"type":"ObjectExpression","start":1502,"end":1504,"properties":[]}}],"kind":"const"},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9jdW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9kZWZpbml0aW9ucy9kb2N1bWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErQkEsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFvRCxDQUFDLElBQVksRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6RixLQUFLLEVBQUUsSUFBSSxHQUFHLFFBQVE7SUFDdEIsV0FBVyxFQUFFLFNBQVMsSUFBSSxrQ0FBa0M7SUFDNUQsY0FBYyxFQUFFLEtBQUs7SUFDckIsT0FBTyxFQUFFLENBQUM7SUFDVixJQUFJLEVBQUUsUUFBUTtJQUNkLFVBQVUsRUFBRSxXQUFXO0lBQ3ZCLFVBQVUsRUFBRTtRQUNSLFNBQVMsRUFBRTtZQUNQLElBQUksRUFBRSxRQUFRO1lBQ2QsT0FBTyxFQUFFLElBQUk7U0FDaEI7UUFDRCxRQUFRLEVBQUU7WUFDTixJQUFJLEVBQUUsUUFBUTtTQUNqQjtRQUNELE1BQU0sRUFBRTtZQUNKLElBQUksRUFBRSxRQUFRO1lBQ2QsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxFQUFFO1lBQ0YsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtRQUNELElBQUksRUFBRTtZQUNGLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsS0FBSyxFQUFFO1lBQ0gsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtRQUNELFVBQVUsRUFBRTtZQUNSLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNmLE9BQU8sRUFBRSxFQUFFO1lBQ1gsS0FBSyxFQUFFO2dCQUNILElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQztnQkFDaEIsVUFBVSxFQUFFO29CQUNSLFNBQVMsRUFBRTt3QkFDUCxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELGFBQWEsRUFBRTt3QkFDWCxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELFFBQVEsRUFBRTt3QkFDTixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELFlBQVksRUFBRTt3QkFDVixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO2lCQUNKO2FBQ0o7U0FDSjtRQUNELFNBQVMsRUFBRTtZQUNQLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsU0FBUyxFQUFFO1lBQ1AsSUFBSSxFQUFFLFNBQVM7U0FDbEI7S0FDSjtJQUNELFNBQVMsRUFBRTtRQUNQLE1BQU07UUFDTixZQUFZO0tBQ2Y7Q0FDSixDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQWtCLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJ4SnNvblNjaGVtYSwgUnhEb2N1bWVudCB9IGZyb20gJ3J4ZGInO1xuXG5leHBvcnQgdHlwZSBNZXRob2QgPSAnR0VUJyB8ICdQT1NUJyB8ICdQVVQnIHwgJ0RFTEVURSc7XG5cbmV4cG9ydCB0eXBlIERhdGF0eXBlID0ge1xuICAgIGlkOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVDb25maWcge1xuICAgIGZpbGVGaWVsZDogc3RyaW5nO1xuICAgIGZpbGVOYW1lRmllbGQ6IHN0cmluZztcbiAgICBmaWxlVHlwZTogc3RyaW5nO1xuICAgIGZpbGVLZXlGaWVsZDogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBQd2FEb2NUeXBlPFQgZXh0ZW5kcyBEYXRhdHlwZT4gPSB7XG4gICAgdGVuYW50VXJsOiBzdHJpbmc7XG4gICAgbWF0Y2hVcmw6IHN0cmluZztcbiAgICBtZXRob2Q6IE1ldGhvZDtcbiAgICBkYXRhOiBUIHwgbnVsbDtcbiAgICB0aW1lOiBudW1iZXI7XG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gICAgZmlsZUZpZWxkczogRmlsZUNvbmZpZ1tdO1xuICAgIGNyZWF0ZWRBdDogbnVtYmVyO1xuICAgIHVwZGF0ZWRBdDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgUHdhRG9jTWV0aG9kcyA9IHt9O1xuXG5leHBvcnQgdHlwZSBQd2FEb2N1bWVudDxUIGV4dGVuZHMgRGF0YXR5cGU+ID0gUnhEb2N1bWVudDxQd2FEb2NUeXBlPFQ+LCBQd2FEb2NNZXRob2RzPjtcblxuZXhwb3J0IGNvbnN0IGdldFNjaGVtYTogKG5hbWU6IHN0cmluZykgPT4gUnhKc29uU2NoZW1hPFB3YURvY1R5cGU8YW55Pj4gPSAobmFtZTogc3RyaW5nKSA9PiAoe1xuICAgIHRpdGxlOiBuYW1lICsgJ19zdG9yZScsXG4gICAgZGVzY3JpcHRpb246IGBTdG9yZSAke25hbWV9IHR5cGVzIG9mIGRhdGEgaW4gdGhlIGNvbGxlY3Rpb25gLFxuICAgIGtleUNvbXByZXNzaW9uOiBmYWxzZSxcbiAgICB2ZXJzaW9uOiA0LFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIHByaW1hcnlLZXk6ICd0ZW5hbnRVcmwnLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgdGVuYW50VXJsOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG1hdGNoVXJsOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGVudW06IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURSddLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiBbJ29iamVjdCcsICdudWxsJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJywgJ251bGwnXSxcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZUZpZWxkczoge1xuICAgICAgICAgICAgdHlwZTogWydhcnJheSddLFxuICAgICAgICAgICAgZGVmYXVsdDogW10sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFsnb2JqZWN0J10sXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBmaWxlRmllbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJ11cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWVGaWVsZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmaWxlS2V5RmllbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJ11cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZWRBdDoge1xuICAgICAgICAgICAgdHlwZTogJ2ludGVnZXInXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGVuY3J5cHRlZDogW1xuICAgICAgICAnZGF0YScsXG4gICAgICAgICdmaWxlRmllbGRzJ1xuICAgIF0sXG59KTtcblxuZXhwb3J0IGNvbnN0IHB3YURvY01ldGhvZHM6IFB3YURvY01ldGhvZHMgPSB7fTtcbiJdfQ==","start":1506,"end":6416}]},"code":"export const getSchema = (name) => ({\n    title: name + '_store',\n    description: `Store ${name} types of data in the collection`,\n    keyCompression: false,\n    version: 4,\n    type: 'object',\n    primaryKey: 'tenantUrl',\n    properties: {\n        tenantUrl: {\n            type: 'string',\n            primary: true,\n        },\n        matchUrl: {\n            type: 'string',\n        },\n        method: {\n            type: 'string',\n            enum: ['GET', 'POST', 'PUT', 'DELETE'],\n        },\n        data: {\n            type: ['object', 'null'],\n        },\n        time: {\n            type: 'integer',\n        },\n        error: {\n            type: ['string', 'null'],\n        },\n        fileFields: {\n            type: ['array'],\n            default: [],\n            items: {\n                type: ['object'],\n                properties: {\n                    fileField: {\n                        type: ['string']\n                    },\n                    fileNameField: {\n                        type: ['string']\n                    },\n                    fileType: {\n                        type: ['string']\n                    },\n                    fileKeyField: {\n                        type: ['string']\n                    }\n                }\n            }\n        },\n        createdAt: {\n            type: 'integer',\n        },\n        updatedAt: {\n            type: 'integer'\n        }\n    },\n    encrypted: [\n        'data',\n        'fileFields'\n    ],\n});\nexport const pwaDocMethods = {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9jdW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9kZWZpbml0aW9ucy9kb2N1bWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErQkEsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFvRCxDQUFDLElBQVksRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6RixLQUFLLEVBQUUsSUFBSSxHQUFHLFFBQVE7SUFDdEIsV0FBVyxFQUFFLFNBQVMsSUFBSSxrQ0FBa0M7SUFDNUQsY0FBYyxFQUFFLEtBQUs7SUFDckIsT0FBTyxFQUFFLENBQUM7SUFDVixJQUFJLEVBQUUsUUFBUTtJQUNkLFVBQVUsRUFBRSxXQUFXO0lBQ3ZCLFVBQVUsRUFBRTtRQUNSLFNBQVMsRUFBRTtZQUNQLElBQUksRUFBRSxRQUFRO1lBQ2QsT0FBTyxFQUFFLElBQUk7U0FDaEI7UUFDRCxRQUFRLEVBQUU7WUFDTixJQUFJLEVBQUUsUUFBUTtTQUNqQjtRQUNELE1BQU0sRUFBRTtZQUNKLElBQUksRUFBRSxRQUFRO1lBQ2QsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxFQUFFO1lBQ0YsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtRQUNELElBQUksRUFBRTtZQUNGLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsS0FBSyxFQUFFO1lBQ0gsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtRQUNELFVBQVUsRUFBRTtZQUNSLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNmLE9BQU8sRUFBRSxFQUFFO1lBQ1gsS0FBSyxFQUFFO2dCQUNILElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQztnQkFDaEIsVUFBVSxFQUFFO29CQUNSLFNBQVMsRUFBRTt3QkFDUCxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELGFBQWEsRUFBRTt3QkFDWCxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELFFBQVEsRUFBRTt3QkFDTixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELFlBQVksRUFBRTt3QkFDVixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO2lCQUNKO2FBQ0o7U0FDSjtRQUNELFNBQVMsRUFBRTtZQUNQLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsU0FBUyxFQUFFO1lBQ1AsSUFBSSxFQUFFLFNBQVM7U0FDbEI7S0FDSjtJQUNELFNBQVMsRUFBRTtRQUNQLE1BQU07UUFDTixZQUFZO0tBQ2Y7Q0FDSixDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQWtCLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJ4SnNvblNjaGVtYSwgUnhEb2N1bWVudCB9IGZyb20gJ3J4ZGInO1xuXG5leHBvcnQgdHlwZSBNZXRob2QgPSAnR0VUJyB8ICdQT1NUJyB8ICdQVVQnIHwgJ0RFTEVURSc7XG5cbmV4cG9ydCB0eXBlIERhdGF0eXBlID0ge1xuICAgIGlkOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVDb25maWcge1xuICAgIGZpbGVGaWVsZDogc3RyaW5nO1xuICAgIGZpbGVOYW1lRmllbGQ6IHN0cmluZztcbiAgICBmaWxlVHlwZTogc3RyaW5nO1xuICAgIGZpbGVLZXlGaWVsZDogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBQd2FEb2NUeXBlPFQgZXh0ZW5kcyBEYXRhdHlwZT4gPSB7XG4gICAgdGVuYW50VXJsOiBzdHJpbmc7XG4gICAgbWF0Y2hVcmw6IHN0cmluZztcbiAgICBtZXRob2Q6IE1ldGhvZDtcbiAgICBkYXRhOiBUIHwgbnVsbDtcbiAgICB0aW1lOiBudW1iZXI7XG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gICAgZmlsZUZpZWxkczogRmlsZUNvbmZpZ1tdO1xuICAgIGNyZWF0ZWRBdDogbnVtYmVyO1xuICAgIHVwZGF0ZWRBdDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgUHdhRG9jTWV0aG9kcyA9IHt9O1xuXG5leHBvcnQgdHlwZSBQd2FEb2N1bWVudDxUIGV4dGVuZHMgRGF0YXR5cGU+ID0gUnhEb2N1bWVudDxQd2FEb2NUeXBlPFQ+LCBQd2FEb2NNZXRob2RzPjtcblxuZXhwb3J0IGNvbnN0IGdldFNjaGVtYTogKG5hbWU6IHN0cmluZykgPT4gUnhKc29uU2NoZW1hPFB3YURvY1R5cGU8YW55Pj4gPSAobmFtZTogc3RyaW5nKSA9PiAoe1xuICAgIHRpdGxlOiBuYW1lICsgJ19zdG9yZScsXG4gICAgZGVzY3JpcHRpb246IGBTdG9yZSAke25hbWV9IHR5cGVzIG9mIGRhdGEgaW4gdGhlIGNvbGxlY3Rpb25gLFxuICAgIGtleUNvbXByZXNzaW9uOiBmYWxzZSxcbiAgICB2ZXJzaW9uOiA0LFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIHByaW1hcnlLZXk6ICd0ZW5hbnRVcmwnLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgdGVuYW50VXJsOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG1hdGNoVXJsOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGVudW06IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURSddLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiBbJ29iamVjdCcsICdudWxsJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJywgJ251bGwnXSxcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZUZpZWxkczoge1xuICAgICAgICAgICAgdHlwZTogWydhcnJheSddLFxuICAgICAgICAgICAgZGVmYXVsdDogW10sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFsnb2JqZWN0J10sXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBmaWxlRmllbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJ11cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWVGaWVsZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmaWxlS2V5RmllbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJ11cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZWRBdDoge1xuICAgICAgICAgICAgdHlwZTogJ2ludGVnZXInXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGVuY3J5cHRlZDogW1xuICAgICAgICAnZGF0YScsXG4gICAgICAgICdmaWxlRmllbGRzJ1xuICAgIF0sXG59KTtcblxuZXhwb3J0IGNvbnN0IHB3YURvY01ldGhvZHM6IFB3YURvY01ldGhvZHMgPSB7fTtcbiJdfQ==","customTransformCache":false,"dependencies":[],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export const getSchema = (name) => ({\n    title: name + '_store',\n    description: `Store ${name} types of data in the collection`,\n    keyCompression: false,\n    version: 4,\n    type: 'object',\n    primaryKey: 'tenantUrl',\n    properties: {\n        tenantUrl: {\n            type: 'string',\n            primary: true,\n        },\n        matchUrl: {\n            type: 'string',\n        },\n        method: {\n            type: 'string',\n            enum: ['GET', 'POST', 'PUT', 'DELETE'],\n        },\n        data: {\n            type: ['object', 'null'],\n        },\n        time: {\n            type: 'integer',\n        },\n        error: {\n            type: ['string', 'null'],\n        },\n        fileFields: {\n            type: ['array'],\n            default: [],\n            items: {\n                type: ['object'],\n                properties: {\n                    fileField: {\n                        type: ['string']\n                    },\n                    fileNameField: {\n                        type: ['string']\n                    },\n                    fileType: {\n                        type: ['string']\n                    },\n                    fileKeyField: {\n                        type: ['string']\n                    }\n                }\n            }\n        },\n        createdAt: {\n            type: 'integer',\n        },\n        updatedAt: {\n            type: 'integer'\n        }\n    },\n    encrypted: [\n        'data',\n        'fileFields'\n    ],\n});\nexport const pwaDocMethods = {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZG9jdW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9kZWZpbml0aW9ucy9kb2N1bWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUErQkEsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFvRCxDQUFDLElBQVksRUFBRSxFQUFFLENBQUMsQ0FBQztJQUN6RixLQUFLLEVBQUUsSUFBSSxHQUFHLFFBQVE7SUFDdEIsV0FBVyxFQUFFLFNBQVMsSUFBSSxrQ0FBa0M7SUFDNUQsY0FBYyxFQUFFLEtBQUs7SUFDckIsT0FBTyxFQUFFLENBQUM7SUFDVixJQUFJLEVBQUUsUUFBUTtJQUNkLFVBQVUsRUFBRSxXQUFXO0lBQ3ZCLFVBQVUsRUFBRTtRQUNSLFNBQVMsRUFBRTtZQUNQLElBQUksRUFBRSxRQUFRO1lBQ2QsT0FBTyxFQUFFLElBQUk7U0FDaEI7UUFDRCxRQUFRLEVBQUU7WUFDTixJQUFJLEVBQUUsUUFBUTtTQUNqQjtRQUNELE1BQU0sRUFBRTtZQUNKLElBQUksRUFBRSxRQUFRO1lBQ2QsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxDQUFDO1NBQ3pDO1FBQ0QsSUFBSSxFQUFFO1lBQ0YsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtRQUNELElBQUksRUFBRTtZQUNGLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsS0FBSyxFQUFFO1lBQ0gsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtRQUNELFVBQVUsRUFBRTtZQUNSLElBQUksRUFBRSxDQUFDLE9BQU8sQ0FBQztZQUNmLE9BQU8sRUFBRSxFQUFFO1lBQ1gsS0FBSyxFQUFFO2dCQUNILElBQUksRUFBRSxDQUFDLFFBQVEsQ0FBQztnQkFDaEIsVUFBVSxFQUFFO29CQUNSLFNBQVMsRUFBRTt3QkFDUCxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELGFBQWEsRUFBRTt3QkFDWCxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELFFBQVEsRUFBRTt3QkFDTixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO29CQUNELFlBQVksRUFBRTt3QkFDVixJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7cUJBQ25CO2lCQUNKO2FBQ0o7U0FDSjtRQUNELFNBQVMsRUFBRTtZQUNQLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsU0FBUyxFQUFFO1lBQ1AsSUFBSSxFQUFFLFNBQVM7U0FDbEI7S0FDSjtJQUNELFNBQVMsRUFBRTtRQUNQLE1BQU07UUFDTixZQUFZO0tBQ2Y7Q0FDSixDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQWtCLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJ4SnNvblNjaGVtYSwgUnhEb2N1bWVudCB9IGZyb20gJ3J4ZGInO1xuXG5leHBvcnQgdHlwZSBNZXRob2QgPSAnR0VUJyB8ICdQT1NUJyB8ICdQVVQnIHwgJ0RFTEVURSc7XG5cbmV4cG9ydCB0eXBlIERhdGF0eXBlID0ge1xuICAgIGlkOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEZpbGVDb25maWcge1xuICAgIGZpbGVGaWVsZDogc3RyaW5nO1xuICAgIGZpbGVOYW1lRmllbGQ6IHN0cmluZztcbiAgICBmaWxlVHlwZTogc3RyaW5nO1xuICAgIGZpbGVLZXlGaWVsZDogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBQd2FEb2NUeXBlPFQgZXh0ZW5kcyBEYXRhdHlwZT4gPSB7XG4gICAgdGVuYW50VXJsOiBzdHJpbmc7XG4gICAgbWF0Y2hVcmw6IHN0cmluZztcbiAgICBtZXRob2Q6IE1ldGhvZDtcbiAgICBkYXRhOiBUIHwgbnVsbDtcbiAgICB0aW1lOiBudW1iZXI7XG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gICAgZmlsZUZpZWxkczogRmlsZUNvbmZpZ1tdO1xuICAgIGNyZWF0ZWRBdDogbnVtYmVyO1xuICAgIHVwZGF0ZWRBdDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgUHdhRG9jTWV0aG9kcyA9IHt9O1xuXG5leHBvcnQgdHlwZSBQd2FEb2N1bWVudDxUIGV4dGVuZHMgRGF0YXR5cGU+ID0gUnhEb2N1bWVudDxQd2FEb2NUeXBlPFQ+LCBQd2FEb2NNZXRob2RzPjtcblxuZXhwb3J0IGNvbnN0IGdldFNjaGVtYTogKG5hbWU6IHN0cmluZykgPT4gUnhKc29uU2NoZW1hPFB3YURvY1R5cGU8YW55Pj4gPSAobmFtZTogc3RyaW5nKSA9PiAoe1xuICAgIHRpdGxlOiBuYW1lICsgJ19zdG9yZScsXG4gICAgZGVzY3JpcHRpb246IGBTdG9yZSAke25hbWV9IHR5cGVzIG9mIGRhdGEgaW4gdGhlIGNvbGxlY3Rpb25gLFxuICAgIGtleUNvbXByZXNzaW9uOiBmYWxzZSxcbiAgICB2ZXJzaW9uOiA0LFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIHByaW1hcnlLZXk6ICd0ZW5hbnRVcmwnLFxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgdGVuYW50VXJsOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIHByaW1hcnk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG1hdGNoVXJsOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgfSxcbiAgICAgICAgbWV0aG9kOiB7XG4gICAgICAgICAgICB0eXBlOiAnc3RyaW5nJyxcbiAgICAgICAgICAgIGVudW06IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURSddLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiBbJ29iamVjdCcsICdudWxsJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJywgJ251bGwnXSxcbiAgICAgICAgfSxcbiAgICAgICAgZmlsZUZpZWxkczoge1xuICAgICAgICAgICAgdHlwZTogWydhcnJheSddLFxuICAgICAgICAgICAgZGVmYXVsdDogW10sXG4gICAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFsnb2JqZWN0J10sXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICBmaWxlRmllbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJ11cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWVGaWVsZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnXVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmaWxlS2V5RmllbGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFsnc3RyaW5nJ11cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlZEF0OiB7XG4gICAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZWRBdDoge1xuICAgICAgICAgICAgdHlwZTogJ2ludGVnZXInXG4gICAgICAgIH1cbiAgICB9LFxuICAgIGVuY3J5cHRlZDogW1xuICAgICAgICAnZGF0YScsXG4gICAgICAgICdmaWxlRmllbGRzJ1xuICAgIF0sXG59KTtcblxuZXhwb3J0IGNvbnN0IHB3YURvY01ldGhvZHM6IFB3YURvY01ldGhvZHMgPSB7fTtcbiJdfQ==","originalSourcemap":{"version":3,"file":"document.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/definitions/document.ts"],"names":[],"mappings":[[[0,0,31,0],[6,0,31,6],[7,0,31,7],[13,0,31,13],[22,0,31,22],[25,0,31,74],[26,0,31,75],[30,0,31,87],[32,0,31,89],[34,0,31,91],[35,0,31,92],[36,0,31,93]],[[4,0,32,4],[9,0,32,9],[11,0,32,11],[15,0,32,15],[18,0,32,18],[26,0,32,26]],[[4,0,33,4],[15,0,33,15],[17,0,33,17],[26,0,33,26],[30,0,33,30],[64,0,33,64]],[[4,0,34,4],[18,0,34,18],[20,0,34,20],[25,0,34,25]],[[4,0,35,4],[11,0,35,11],[13,0,35,13],[14,0,35,14]],[[4,0,36,4],[8,0,36,8],[10,0,36,10],[18,0,36,18]],[[4,0,37,4],[14,0,37,14],[16,0,37,16],[27,0,37,27]],[[4,0,38,4],[14,0,38,14],[16,0,38,16]],[[8,0,39,8],[17,0,39,17],[19,0,39,19]],[[12,0,40,12],[16,0,40,16],[18,0,40,18],[26,0,40,26]],[[12,0,41,12],[19,0,41,19],[21,0,41,21],[25,0,41,25]],[[9,0,42,9]],[[8,0,43,8],[16,0,43,16],[18,0,43,18]],[[12,0,44,12],[16,0,44,16],[18,0,44,18],[26,0,44,26]],[[9,0,45,9]],[[8,0,46,8],[14,0,46,14],[16,0,46,16]],[[12,0,47,12],[16,0,47,16],[18,0,47,18],[26,0,47,26]],[[12,0,48,12],[16,0,48,16],[18,0,48,18],[19,0,48,19],[24,0,48,24],[26,0,48,26],[32,0,48,32],[34,0,48,34],[39,0,48,39],[41,0,48,41],[49,0,48,49],[50,0,48,50]],[[9,0,49,9]],[[8,0,50,8],[12,0,50,12],[14,0,50,14]],[[12,0,51,12],[16,0,51,16],[18,0,51,18],[19,0,51,19],[27,0,51,27],[29,0,51,29],[35,0,51,35],[36,0,51,36]],[[9,0,52,9]],[[8,0,53,8],[12,0,53,12],[14,0,53,14]],[[12,0,54,12],[16,0,54,16],[18,0,54,18],[27,0,54,27]],[[9,0,55,9]],[[8,0,56,8],[13,0,56,13],[15,0,56,15]],[[12,0,57,12],[16,0,57,16],[18,0,57,18],[19,0,57,19],[27,0,57,27],[29,0,57,29],[35,0,57,35],[36,0,57,36]],[[9,0,58,9]],[[8,0,59,8],[18,0,59,18],[20,0,59,20]],[[12,0,60,12],[16,0,60,16],[18,0,60,18],[19,0,60,19],[26,0,60,26],[27,0,60,27]],[[12,0,61,12],[19,0,61,19],[21,0,61,21],[23,0,61,23]],[[12,0,62,12],[17,0,62,17],[19,0,62,19]],[[16,0,63,16],[20,0,63,20],[22,0,63,22],[23,0,63,23],[31,0,63,31],[32,0,63,32]],[[16,0,64,16],[26,0,64,26],[28,0,64,28]],[[20,0,65,20],[29,0,65,29],[31,0,65,31]],[[24,0,66,24],[28,0,66,28],[30,0,66,30],[31,0,66,31],[39,0,66,39],[40,0,66,40]],[[21,0,67,21]],[[20,0,68,20],[33,0,68,33],[35,0,68,35]],[[24,0,69,24],[28,0,69,28],[30,0,69,30],[31,0,69,31],[39,0,69,39],[40,0,69,40]],[[21,0,70,21]],[[20,0,71,20],[28,0,71,28],[30,0,71,30]],[[24,0,72,24],[28,0,72,28],[30,0,72,30],[31,0,72,31],[39,0,72,39],[40,0,72,40]],[[21,0,73,21]],[[20,0,74,20],[32,0,74,32],[34,0,74,34]],[[24,0,75,24],[28,0,75,28],[30,0,75,30],[31,0,75,31],[39,0,75,39],[40,0,75,40]],[[21,0,76,21]],[[17,0,77,17]],[[13,0,78,13]],[[9,0,79,9]],[[8,0,80,8],[17,0,80,17],[19,0,80,19]],[[12,0,81,12],[16,0,81,16],[18,0,81,18],[27,0,81,27]],[[9,0,82,9]],[[8,0,83,8],[17,0,83,17],[19,0,83,19]],[[12,0,84,12],[16,0,84,16],[18,0,84,18],[27,0,84,27]],[[9,0,85,9]],[[5,0,86,5]],[[4,0,87,4],[13,0,87,13],[15,0,87,15]],[[8,0,88,8],[14,0,88,14]],[[8,0,89,8],[20,0,89,20]],[[5,0,90,5]],[[1,0,91,1],[2,0,91,2],[3,0,91,3]],[[0,0,93,0],[6,0,93,6],[7,0,93,7],[13,0,93,13],[26,0,93,26],[29,0,93,44],[31,0,93,46],[32,0,93,47]]],"sourcesContent":["import { RxJsonSchema, RxDocument } from 'rxdb';\n\nexport type Method = 'GET' | 'POST' | 'PUT' | 'DELETE';\n\nexport type Datatype = {\n    id: string;\n};\n\nexport interface FileConfig {\n    fileField: string;\n    fileNameField: string;\n    fileType: string;\n    fileKeyField: string;\n}\n\nexport type PwaDocType<T extends Datatype> = {\n    tenantUrl: string;\n    matchUrl: string;\n    method: Method;\n    data: T | null;\n    time: number;\n    error: string | null;\n    fileFields: FileConfig[];\n    createdAt: number;\n    updatedAt: number;\n};\n\nexport type PwaDocMethods = {};\n\nexport type PwaDocument<T extends Datatype> = RxDocument<PwaDocType<T>, PwaDocMethods>;\n\nexport const getSchema: (name: string) => RxJsonSchema<PwaDocType<any>> = (name: string) => ({\n    title: name + '_store',\n    description: `Store ${name} types of data in the collection`,\n    keyCompression: false,\n    version: 4,\n    type: 'object',\n    primaryKey: 'tenantUrl',\n    properties: {\n        tenantUrl: {\n            type: 'string',\n            primary: true,\n        },\n        matchUrl: {\n            type: 'string',\n        },\n        method: {\n            type: 'string',\n            enum: ['GET', 'POST', 'PUT', 'DELETE'],\n        },\n        data: {\n            type: ['object', 'null'],\n        },\n        time: {\n            type: 'integer',\n        },\n        error: {\n            type: ['string', 'null'],\n        },\n        fileFields: {\n            type: ['array'],\n            default: [],\n            items: {\n                type: ['object'],\n                properties: {\n                    fileField: {\n                        type: ['string']\n                    },\n                    fileNameField: {\n                        type: ['string']\n                    },\n                    fileType: {\n                        type: ['string']\n                    },\n                    fileKeyField: {\n                        type: ['string']\n                    }\n                }\n            }\n        },\n        createdAt: {\n            type: 'integer',\n        },\n        updatedAt: {\n            type: 'integer'\n        }\n    },\n    encrypted: [\n        'data',\n        'fileFields'\n    ],\n});\n\nexport const pwaDocMethods: PwaDocMethods = {};\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":5580,"body":[{"type":"ImportDeclaration","start":0,"end":39,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"getSchema"},"local":{"type":"Identifier","start":9,"end":18,"name":"getSchema"}}],"source":{"type":"Literal","start":26,"end":38,"value":"./document","raw":"'./document'"}},{"type":"ExportNamedDeclaration","start":40,"end":885,"declaration":{"type":"VariableDeclaration","start":47,"end":885,"declarations":[{"type":"VariableDeclarator","start":53,"end":884,"id":{"type":"Identifier","start":53,"end":73,"name":"getCollectionCreator"},"init":{"type":"ArrowFunctionExpression","start":76,"end":884,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":77,"end":81,"name":"name"},{"type":"Identifier","start":83,"end":100,"name":"collectionMethods"},{"type":"Identifier","start":102,"end":117,"name":"documentMethods"},{"type":"AssignmentPattern","start":119,"end":135,"left":{"type":"Identifier","start":119,"end":130,"name":"attachments"},"right":{"type":"ObjectExpression","start":133,"end":135,"properties":[]}},{"type":"AssignmentPattern","start":137,"end":149,"left":{"type":"Identifier","start":137,"end":144,"name":"options"},"right":{"type":"ObjectExpression","start":147,"end":149,"properties":[]}},{"type":"AssignmentPattern","start":151,"end":175,"left":{"type":"Identifier","start":151,"end":170,"name":"migrationStrategies"},"right":{"type":"ObjectExpression","start":173,"end":175,"properties":[]}},{"type":"AssignmentPattern","start":177,"end":195,"left":{"type":"Identifier","start":177,"end":188,"name":"autoMigrate"},"right":{"type":"Literal","start":191,"end":195,"value":true,"raw":"true"}}],"body":{"type":"ObjectExpression","start":201,"end":883,"properties":[{"type":"Property","start":207,"end":211,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":207,"end":211,"name":"name"},"kind":"init","value":{"type":"Identifier","start":207,"end":211,"name":"name"}},{"type":"Property","start":217,"end":240,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":217,"end":223,"name":"schema"},"value":{"type":"CallExpression","start":225,"end":240,"callee":{"type":"Identifier","start":225,"end":234,"name":"getSchema"},"arguments":[{"type":"Identifier","start":235,"end":239,"name":"name"}],"optional":false},"kind":"init"},{"type":"Property","start":246,"end":272,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":246,"end":253,"name":"statics"},"value":{"type":"Identifier","start":255,"end":272,"name":"collectionMethods"},"kind":"init"},{"type":"Property","start":278,"end":302,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":278,"end":285,"name":"methods"},"value":{"type":"Identifier","start":287,"end":302,"name":"documentMethods"},"kind":"init"},{"type":"Property","start":308,"end":319,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":308,"end":319,"name":"attachments"},"kind":"init","value":{"type":"Identifier","start":308,"end":319,"name":"attachments"}},{"type":"Property","start":325,"end":332,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":325,"end":332,"name":"options"},"kind":"init","value":{"type":"Identifier","start":325,"end":332,"name":"options"}},{"type":"Property","start":338,"end":863,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":338,"end":357,"name":"migrationStrategies"},"value":{"type":"ObjectExpression","start":359,"end":863,"properties":[{"type":"Property","start":369,"end":528,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":369,"end":370,"value":1,"raw":"1"},"value":{"type":"ArrowFunctionExpression","start":372,"end":528,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":373,"end":379,"name":"oldDoc"}],"body":{"type":"BlockStatement","start":384,"end":528,"body":[{"type":"ExpressionStatement","start":398,"end":438,"expression":{"type":"AssignmentExpression","start":398,"end":437,"operator":"=","left":{"type":"MemberExpression","start":398,"end":414,"object":{"type":"Identifier","start":398,"end":404,"name":"oldDoc"},"property":{"type":"Identifier","start":405,"end":414,"name":"createdAt"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":417,"end":437,"callee":{"type":"MemberExpression","start":417,"end":435,"object":{"type":"NewExpression","start":417,"end":427,"callee":{"type":"Identifier","start":421,"end":425,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":428,"end":435,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false}}},{"type":"ExpressionStatement","start":451,"end":491,"expression":{"type":"AssignmentExpression","start":451,"end":490,"operator":"=","left":{"type":"MemberExpression","start":451,"end":467,"object":{"type":"Identifier","start":451,"end":457,"name":"oldDoc"},"property":{"type":"Identifier","start":458,"end":467,"name":"updatedAt"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":470,"end":490,"callee":{"type":"MemberExpression","start":470,"end":488,"object":{"type":"NewExpression","start":470,"end":480,"callee":{"type":"Identifier","start":474,"end":478,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":481,"end":488,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false}}},{"type":"ReturnStatement","start":504,"end":518,"argument":{"type":"Identifier","start":511,"end":517,"name":"oldDoc"}}]}},"kind":"init"},{"type":"Property","start":538,"end":627,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":538,"end":539,"value":2,"raw":"2"},"value":{"type":"ArrowFunctionExpression","start":541,"end":627,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":542,"end":548,"name":"oldDoc"}],"body":{"type":"BlockStatement","start":553,"end":627,"body":[{"type":"ExpressionStatement","start":567,"end":590,"expression":{"type":"AssignmentExpression","start":567,"end":589,"operator":"=","left":{"type":"MemberExpression","start":567,"end":584,"object":{"type":"Identifier","start":567,"end":573,"name":"oldDoc"},"property":{"type":"Identifier","start":574,"end":584,"name":"fileFields"},"computed":false,"optional":false},"right":{"type":"ArrayExpression","start":587,"end":589,"elements":[]}}},{"type":"ReturnStatement","start":603,"end":617,"argument":{"type":"Identifier","start":610,"end":616,"name":"oldDoc"}}]}},"kind":"init"},{"type":"Property","start":637,"end":726,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":637,"end":638,"value":3,"raw":"3"},"value":{"type":"ArrowFunctionExpression","start":640,"end":726,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":641,"end":647,"name":"oldDoc"}],"body":{"type":"BlockStatement","start":652,"end":726,"body":[{"type":"ExpressionStatement","start":666,"end":689,"expression":{"type":"AssignmentExpression","start":666,"end":688,"operator":"=","left":{"type":"MemberExpression","start":666,"end":683,"object":{"type":"Identifier","start":666,"end":672,"name":"oldDoc"},"property":{"type":"Identifier","start":673,"end":683,"name":"fileFields"},"computed":false,"optional":false},"right":{"type":"ArrayExpression","start":686,"end":688,"elements":[]}}},{"type":"ReturnStatement","start":702,"end":716,"argument":{"type":"Identifier","start":709,"end":715,"name":"oldDoc"}}]}},"kind":"init"},{"type":"Property","start":736,"end":825,"method":false,"shorthand":false,"computed":false,"key":{"type":"Literal","start":736,"end":737,"value":4,"raw":"4"},"value":{"type":"ArrowFunctionExpression","start":739,"end":825,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":740,"end":746,"name":"oldDoc"}],"body":{"type":"BlockStatement","start":751,"end":825,"body":[{"type":"ExpressionStatement","start":765,"end":788,"expression":{"type":"AssignmentExpression","start":765,"end":787,"operator":"=","left":{"type":"MemberExpression","start":765,"end":782,"object":{"type":"Identifier","start":765,"end":771,"name":"oldDoc"},"property":{"type":"Identifier","start":772,"end":782,"name":"fileFields"},"computed":false,"optional":false},"right":{"type":"ArrayExpression","start":785,"end":787,"elements":[]}}},{"type":"ReturnStatement","start":801,"end":815,"argument":{"type":"Identifier","start":808,"end":814,"name":"oldDoc"}}]}},"kind":"init"},{"type":"SpreadElement","start":835,"end":857,"argument":{"type":"Identifier","start":838,"end":857,"name":"migrationStrategies"}}]},"kind":"init"},{"type":"Property","start":869,"end":880,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":869,"end":880,"name":"autoMigrate"},"kind":"init","value":{"type":"Identifier","start":869,"end":880,"name":"autoMigrate"}}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":886,"end":925,"declaration":{"type":"VariableDeclaration","start":893,"end":925,"declarations":[{"type":"VariableDeclarator","start":899,"end":924,"id":{"type":"Identifier","start":899,"end":919,"name":"pwaCollectionMethods"},"init":{"type":"ObjectExpression","start":922,"end":924,"properties":[]}}],"kind":"const"},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL2RlZmluaXRpb25zL2NvbGxlY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUF1QyxTQUFTLEVBQWUsTUFBTSxZQUFZLENBQUM7QUFPekYsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FDaEMsSUFBWSxFQUNaLGlCQUF1QyxFQUN2QyxlQUE4QixFQUM5QixXQUFXLEdBQUcsRUFBRSxFQUNoQixPQUFPLEdBQUcsRUFBRSxFQUNaLG1CQUFtQixHQUFHLEVBQUUsRUFDeEIsV0FBVyxHQUFHLElBQUksRUFDcEIsRUFBRSxDQUFDLENBQUM7SUFDRSxJQUFJO0lBQ0osTUFBTSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUM7SUFDdkIsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixPQUFPLEVBQUUsZUFBZTtJQUN4QixXQUFXO0lBQ1gsT0FBTztJQUNQLG1CQUFtQixFQUFFO1FBRWpCLENBQUMsRUFBRSxDQUFDLE1BQXVCLEVBQUUsRUFBRTtZQUUzQixNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDeEMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBRXhDLE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDRCxDQUFDLEVBQUUsQ0FBQyxNQUF1QixFQUFFLEVBQUU7WUFFM0IsTUFBTSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7WUFFdkIsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUNELENBQUMsRUFBRSxDQUFDLE1BQXVCLEVBQUUsRUFBRTtZQUUzQixNQUFNLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztZQUV2QixPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBQ0QsQ0FBQyxFQUFFLENBQUMsTUFBdUIsRUFBRSxFQUFFO1lBRTNCLE1BQU0sQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1lBRXZCLE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDRCxHQUFHLG1CQUFtQjtLQUN6QjtJQUNELFdBQVc7Q0FDTSxDQUFBLENBQUM7QUFFMUIsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQXlCLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFB3YURvY1R5cGUsIFB3YURvY01ldGhvZHMsIERhdGF0eXBlLCBnZXRTY2hlbWEsIFB3YURvY3VtZW50IH0gZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBSeENvbGxlY3Rpb24sIFJ4Q29sbGVjdGlvbkNyZWF0b3IgfSBmcm9tICdyeGRiJztcblxuZXhwb3J0IHR5cGUgUHdhQ29sbGVjdGlvbk1ldGhvZHMgPSB7fTtcblxuZXhwb3J0IHR5cGUgUHdhQ29sbGVjdGlvbjxUIGV4dGVuZHMgRGF0YXR5cGU+ID0gUnhDb2xsZWN0aW9uPFB3YURvY1R5cGU8VD4sIFB3YURvY01ldGhvZHMsIFB3YUNvbGxlY3Rpb25NZXRob2RzPjtcblxuZXhwb3J0IGNvbnN0IGdldENvbGxlY3Rpb25DcmVhdG9yID0gKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uTWV0aG9kczogUHdhQ29sbGVjdGlvbk1ldGhvZHMsXG4gICAgZG9jdW1lbnRNZXRob2RzOiBQd2FEb2NNZXRob2RzLFxuICAgIGF0dGFjaG1lbnRzID0ge30sXG4gICAgb3B0aW9ucyA9IHt9LFxuICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXMgPSB7fSxcbiAgICBhdXRvTWlncmF0ZSA9IHRydWUsXG4pID0+ICh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNjaGVtYTogZ2V0U2NoZW1hKG5hbWUpLFxuICAgICAgICBzdGF0aWNzOiBjb2xsZWN0aW9uTWV0aG9kcywgLy8gKG9wdGlvbmFsKSAvLyBPUk0tZnVuY3Rpb25zIGZvciB0aGlzIGNvbGxlY3Rpb25cbiAgICAgICAgbWV0aG9kczogZG9jdW1lbnRNZXRob2RzLCAvLyAob3B0aW9uYWwpIE9STS1mdW5jdGlvbnMgZm9yIGRvY3VtZW50c1xuICAgICAgICBhdHRhY2htZW50cywgLy8gKG9wdGlvbmFsKSBPUk0tZnVuY3Rpb25zIGZvciBhdHRhY2htZW50c1xuICAgICAgICBvcHRpb25zLCAvLyAob3B0aW9uYWwpIEN1c3RvbSBwYXJhbXRlcnMgdGhhdCBtaWdodCBiZSB1c2VkIGluIHBsdWdpbnNcbiAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczoge1xuICAgICAgICAgICAgLy8gMSBtZWFucywgdGhpcyB0cmFuc2Zvcm1zIGRhdGEgZnJvbSB2ZXJzaW9uIDAgdG8gdmVyc2lvbiAxXG4gICAgICAgICAgICAxOiAob2xkRG9jOiBQd2FEb2NUeXBlPGFueT4pID0+IHtcblxuICAgICAgICAgICAgICAgIG9sZERvYy5jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBvbGREb2MudXBkYXRlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkRG9jO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDI6IChvbGREb2M6IFB3YURvY1R5cGU8YW55PikgPT4ge1xuXG4gICAgICAgICAgICAgICAgb2xkRG9jLmZpbGVGaWVsZHMgPSBbXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBvbGREb2M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMzogKG9sZERvYzogUHdhRG9jVHlwZTxhbnk+KSA9PiB7XG5cbiAgICAgICAgICAgICAgICBvbGREb2MuZmlsZUZpZWxkcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZERvYztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA0OiAob2xkRG9jOiBQd2FEb2NUeXBlPGFueT4pID0+IHtcblxuICAgICAgICAgICAgICAgIG9sZERvYy5maWxlRmllbGRzID0gW107XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkRG9jO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLm1pZ3JhdGlvblN0cmF0ZWdpZXNcbiAgICAgICAgfSwgLy8gKG9wdGlvbmFsKVxuICAgICAgICBhdXRvTWlncmF0ZSwgLy8gKG9wdGlvbmFsKVxufSBhcyBSeENvbGxlY3Rpb25DcmVhdG9yKTtcblxuZXhwb3J0IGNvbnN0IHB3YUNvbGxlY3Rpb25NZXRob2RzOiBQd2FDb2xsZWN0aW9uTWV0aG9kcyA9IHt9O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gaW50ZXJmYWNlc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBMaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogVFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3Rpb25MaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogUHdhRG9jdW1lbnQ8VD5bXTtcbiAgICBjb3VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQd2FMaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogUHdhRG9jdW1lbnQ8VD5bXTtcbn1cbiJdfQ==","start":926,"end":5580}]},"code":"import { getSchema } from './document';\nexport const getCollectionCreator = (name, collectionMethods, documentMethods, attachments = {}, options = {}, migrationStrategies = {}, autoMigrate = true) => ({\n    name,\n    schema: getSchema(name),\n    statics: collectionMethods,\n    methods: documentMethods,\n    attachments,\n    options,\n    migrationStrategies: {\n        1: (oldDoc) => {\n            oldDoc.createdAt = new Date().getTime();\n            oldDoc.updatedAt = new Date().getTime();\n            return oldDoc;\n        },\n        2: (oldDoc) => {\n            oldDoc.fileFields = [];\n            return oldDoc;\n        },\n        3: (oldDoc) => {\n            oldDoc.fileFields = [];\n            return oldDoc;\n        },\n        4: (oldDoc) => {\n            oldDoc.fileFields = [];\n            return oldDoc;\n        },\n        ...migrationStrategies\n    },\n    autoMigrate,\n});\nexport const pwaCollectionMethods = {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL2RlZmluaXRpb25zL2NvbGxlY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUF1QyxTQUFTLEVBQWUsTUFBTSxZQUFZLENBQUM7QUFPekYsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FDaEMsSUFBWSxFQUNaLGlCQUF1QyxFQUN2QyxlQUE4QixFQUM5QixXQUFXLEdBQUcsRUFBRSxFQUNoQixPQUFPLEdBQUcsRUFBRSxFQUNaLG1CQUFtQixHQUFHLEVBQUUsRUFDeEIsV0FBVyxHQUFHLElBQUksRUFDcEIsRUFBRSxDQUFDLENBQUM7SUFDRSxJQUFJO0lBQ0osTUFBTSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUM7SUFDdkIsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixPQUFPLEVBQUUsZUFBZTtJQUN4QixXQUFXO0lBQ1gsT0FBTztJQUNQLG1CQUFtQixFQUFFO1FBRWpCLENBQUMsRUFBRSxDQUFDLE1BQXVCLEVBQUUsRUFBRTtZQUUzQixNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDeEMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBRXhDLE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDRCxDQUFDLEVBQUUsQ0FBQyxNQUF1QixFQUFFLEVBQUU7WUFFM0IsTUFBTSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7WUFFdkIsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUNELENBQUMsRUFBRSxDQUFDLE1BQXVCLEVBQUUsRUFBRTtZQUUzQixNQUFNLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztZQUV2QixPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBQ0QsQ0FBQyxFQUFFLENBQUMsTUFBdUIsRUFBRSxFQUFFO1lBRTNCLE1BQU0sQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1lBRXZCLE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDRCxHQUFHLG1CQUFtQjtLQUN6QjtJQUNELFdBQVc7Q0FDTSxDQUFBLENBQUM7QUFFMUIsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQXlCLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFB3YURvY1R5cGUsIFB3YURvY01ldGhvZHMsIERhdGF0eXBlLCBnZXRTY2hlbWEsIFB3YURvY3VtZW50IH0gZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBSeENvbGxlY3Rpb24sIFJ4Q29sbGVjdGlvbkNyZWF0b3IgfSBmcm9tICdyeGRiJztcblxuZXhwb3J0IHR5cGUgUHdhQ29sbGVjdGlvbk1ldGhvZHMgPSB7fTtcblxuZXhwb3J0IHR5cGUgUHdhQ29sbGVjdGlvbjxUIGV4dGVuZHMgRGF0YXR5cGU+ID0gUnhDb2xsZWN0aW9uPFB3YURvY1R5cGU8VD4sIFB3YURvY01ldGhvZHMsIFB3YUNvbGxlY3Rpb25NZXRob2RzPjtcblxuZXhwb3J0IGNvbnN0IGdldENvbGxlY3Rpb25DcmVhdG9yID0gKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uTWV0aG9kczogUHdhQ29sbGVjdGlvbk1ldGhvZHMsXG4gICAgZG9jdW1lbnRNZXRob2RzOiBQd2FEb2NNZXRob2RzLFxuICAgIGF0dGFjaG1lbnRzID0ge30sXG4gICAgb3B0aW9ucyA9IHt9LFxuICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXMgPSB7fSxcbiAgICBhdXRvTWlncmF0ZSA9IHRydWUsXG4pID0+ICh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNjaGVtYTogZ2V0U2NoZW1hKG5hbWUpLFxuICAgICAgICBzdGF0aWNzOiBjb2xsZWN0aW9uTWV0aG9kcywgLy8gKG9wdGlvbmFsKSAvLyBPUk0tZnVuY3Rpb25zIGZvciB0aGlzIGNvbGxlY3Rpb25cbiAgICAgICAgbWV0aG9kczogZG9jdW1lbnRNZXRob2RzLCAvLyAob3B0aW9uYWwpIE9STS1mdW5jdGlvbnMgZm9yIGRvY3VtZW50c1xuICAgICAgICBhdHRhY2htZW50cywgLy8gKG9wdGlvbmFsKSBPUk0tZnVuY3Rpb25zIGZvciBhdHRhY2htZW50c1xuICAgICAgICBvcHRpb25zLCAvLyAob3B0aW9uYWwpIEN1c3RvbSBwYXJhbXRlcnMgdGhhdCBtaWdodCBiZSB1c2VkIGluIHBsdWdpbnNcbiAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczoge1xuICAgICAgICAgICAgLy8gMSBtZWFucywgdGhpcyB0cmFuc2Zvcm1zIGRhdGEgZnJvbSB2ZXJzaW9uIDAgdG8gdmVyc2lvbiAxXG4gICAgICAgICAgICAxOiAob2xkRG9jOiBQd2FEb2NUeXBlPGFueT4pID0+IHtcblxuICAgICAgICAgICAgICAgIG9sZERvYy5jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBvbGREb2MudXBkYXRlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkRG9jO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDI6IChvbGREb2M6IFB3YURvY1R5cGU8YW55PikgPT4ge1xuXG4gICAgICAgICAgICAgICAgb2xkRG9jLmZpbGVGaWVsZHMgPSBbXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBvbGREb2M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMzogKG9sZERvYzogUHdhRG9jVHlwZTxhbnk+KSA9PiB7XG5cbiAgICAgICAgICAgICAgICBvbGREb2MuZmlsZUZpZWxkcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZERvYztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA0OiAob2xkRG9jOiBQd2FEb2NUeXBlPGFueT4pID0+IHtcblxuICAgICAgICAgICAgICAgIG9sZERvYy5maWxlRmllbGRzID0gW107XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkRG9jO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLm1pZ3JhdGlvblN0cmF0ZWdpZXNcbiAgICAgICAgfSwgLy8gKG9wdGlvbmFsKVxuICAgICAgICBhdXRvTWlncmF0ZSwgLy8gKG9wdGlvbmFsKVxufSBhcyBSeENvbGxlY3Rpb25DcmVhdG9yKTtcblxuZXhwb3J0IGNvbnN0IHB3YUNvbGxlY3Rpb25NZXRob2RzOiBQd2FDb2xsZWN0aW9uTWV0aG9kcyA9IHt9O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gaW50ZXJmYWNlc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBMaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogVFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3Rpb25MaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogUHdhRG9jdW1lbnQ8VD5bXTtcbiAgICBjb3VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQd2FMaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogUHdhRG9jdW1lbnQ8VD5bXTtcbn1cbiJdfQ==","customTransformCache":false,"dependencies":["/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/collection.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { getSchema } from './document';\nexport const getCollectionCreator = (name, collectionMethods, documentMethods, attachments = {}, options = {}, migrationStrategies = {}, autoMigrate = true) => ({\n    name,\n    schema: getSchema(name),\n    statics: collectionMethods,\n    methods: documentMethods,\n    attachments,\n    options,\n    migrationStrategies: {\n        1: (oldDoc) => {\n            oldDoc.createdAt = new Date().getTime();\n            oldDoc.updatedAt = new Date().getTime();\n            return oldDoc;\n        },\n        2: (oldDoc) => {\n            oldDoc.fileFields = [];\n            return oldDoc;\n        },\n        3: (oldDoc) => {\n            oldDoc.fileFields = [];\n            return oldDoc;\n        },\n        4: (oldDoc) => {\n            oldDoc.fileFields = [];\n            return oldDoc;\n        },\n        ...migrationStrategies\n    },\n    autoMigrate,\n});\nexport const pwaCollectionMethods = {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL2RlZmluaXRpb25zL2NvbGxlY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUF1QyxTQUFTLEVBQWUsTUFBTSxZQUFZLENBQUM7QUFPekYsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQUcsQ0FDaEMsSUFBWSxFQUNaLGlCQUF1QyxFQUN2QyxlQUE4QixFQUM5QixXQUFXLEdBQUcsRUFBRSxFQUNoQixPQUFPLEdBQUcsRUFBRSxFQUNaLG1CQUFtQixHQUFHLEVBQUUsRUFDeEIsV0FBVyxHQUFHLElBQUksRUFDcEIsRUFBRSxDQUFDLENBQUM7SUFDRSxJQUFJO0lBQ0osTUFBTSxFQUFFLFNBQVMsQ0FBQyxJQUFJLENBQUM7SUFDdkIsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixPQUFPLEVBQUUsZUFBZTtJQUN4QixXQUFXO0lBQ1gsT0FBTztJQUNQLG1CQUFtQixFQUFFO1FBRWpCLENBQUMsRUFBRSxDQUFDLE1BQXVCLEVBQUUsRUFBRTtZQUUzQixNQUFNLENBQUMsU0FBUyxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDeEMsTUFBTSxDQUFDLFNBQVMsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBRXhDLE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDRCxDQUFDLEVBQUUsQ0FBQyxNQUF1QixFQUFFLEVBQUU7WUFFM0IsTUFBTSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7WUFFdkIsT0FBTyxNQUFNLENBQUM7UUFDbEIsQ0FBQztRQUNELENBQUMsRUFBRSxDQUFDLE1BQXVCLEVBQUUsRUFBRTtZQUUzQixNQUFNLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQztZQUV2QixPQUFPLE1BQU0sQ0FBQztRQUNsQixDQUFDO1FBQ0QsQ0FBQyxFQUFFLENBQUMsTUFBdUIsRUFBRSxFQUFFO1lBRTNCLE1BQU0sQ0FBQyxVQUFVLEdBQUcsRUFBRSxDQUFDO1lBRXZCLE9BQU8sTUFBTSxDQUFDO1FBQ2xCLENBQUM7UUFDRCxHQUFHLG1CQUFtQjtLQUN6QjtJQUNELFdBQVc7Q0FDTSxDQUFBLENBQUM7QUFFMUIsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQXlCLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFB3YURvY1R5cGUsIFB3YURvY01ldGhvZHMsIERhdGF0eXBlLCBnZXRTY2hlbWEsIFB3YURvY3VtZW50IH0gZnJvbSAnLi9kb2N1bWVudCc7XG5pbXBvcnQgeyBSeENvbGxlY3Rpb24sIFJ4Q29sbGVjdGlvbkNyZWF0b3IgfSBmcm9tICdyeGRiJztcblxuZXhwb3J0IHR5cGUgUHdhQ29sbGVjdGlvbk1ldGhvZHMgPSB7fTtcblxuZXhwb3J0IHR5cGUgUHdhQ29sbGVjdGlvbjxUIGV4dGVuZHMgRGF0YXR5cGU+ID0gUnhDb2xsZWN0aW9uPFB3YURvY1R5cGU8VD4sIFB3YURvY01ldGhvZHMsIFB3YUNvbGxlY3Rpb25NZXRob2RzPjtcblxuZXhwb3J0IGNvbnN0IGdldENvbGxlY3Rpb25DcmVhdG9yID0gKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uTWV0aG9kczogUHdhQ29sbGVjdGlvbk1ldGhvZHMsXG4gICAgZG9jdW1lbnRNZXRob2RzOiBQd2FEb2NNZXRob2RzLFxuICAgIGF0dGFjaG1lbnRzID0ge30sXG4gICAgb3B0aW9ucyA9IHt9LFxuICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXMgPSB7fSxcbiAgICBhdXRvTWlncmF0ZSA9IHRydWUsXG4pID0+ICh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNjaGVtYTogZ2V0U2NoZW1hKG5hbWUpLFxuICAgICAgICBzdGF0aWNzOiBjb2xsZWN0aW9uTWV0aG9kcywgLy8gKG9wdGlvbmFsKSAvLyBPUk0tZnVuY3Rpb25zIGZvciB0aGlzIGNvbGxlY3Rpb25cbiAgICAgICAgbWV0aG9kczogZG9jdW1lbnRNZXRob2RzLCAvLyAob3B0aW9uYWwpIE9STS1mdW5jdGlvbnMgZm9yIGRvY3VtZW50c1xuICAgICAgICBhdHRhY2htZW50cywgLy8gKG9wdGlvbmFsKSBPUk0tZnVuY3Rpb25zIGZvciBhdHRhY2htZW50c1xuICAgICAgICBvcHRpb25zLCAvLyAob3B0aW9uYWwpIEN1c3RvbSBwYXJhbXRlcnMgdGhhdCBtaWdodCBiZSB1c2VkIGluIHBsdWdpbnNcbiAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczoge1xuICAgICAgICAgICAgLy8gMSBtZWFucywgdGhpcyB0cmFuc2Zvcm1zIGRhdGEgZnJvbSB2ZXJzaW9uIDAgdG8gdmVyc2lvbiAxXG4gICAgICAgICAgICAxOiAob2xkRG9jOiBQd2FEb2NUeXBlPGFueT4pID0+IHtcblxuICAgICAgICAgICAgICAgIG9sZERvYy5jcmVhdGVkQXQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBvbGREb2MudXBkYXRlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkRG9jO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIDI6IChvbGREb2M6IFB3YURvY1R5cGU8YW55PikgPT4ge1xuXG4gICAgICAgICAgICAgICAgb2xkRG9jLmZpbGVGaWVsZHMgPSBbXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBvbGREb2M7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgMzogKG9sZERvYzogUHdhRG9jVHlwZTxhbnk+KSA9PiB7XG5cbiAgICAgICAgICAgICAgICBvbGREb2MuZmlsZUZpZWxkcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZERvYztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICA0OiAob2xkRG9jOiBQd2FEb2NUeXBlPGFueT4pID0+IHtcblxuICAgICAgICAgICAgICAgIG9sZERvYy5maWxlRmllbGRzID0gW107XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkRG9jO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLm1pZ3JhdGlvblN0cmF0ZWdpZXNcbiAgICAgICAgfSwgLy8gKG9wdGlvbmFsKVxuICAgICAgICBhdXRvTWlncmF0ZSwgLy8gKG9wdGlvbmFsKVxufSBhcyBSeENvbGxlY3Rpb25DcmVhdG9yKTtcblxuZXhwb3J0IGNvbnN0IHB3YUNvbGxlY3Rpb25NZXRob2RzOiBQd2FDb2xsZWN0aW9uTWV0aG9kcyA9IHt9O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gaW50ZXJmYWNlc1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBMaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogVFtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3Rpb25MaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogUHdhRG9jdW1lbnQ8VD5bXTtcbiAgICBjb3VudD86IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQd2FMaXN0UmVzcG9uc2U8VCBleHRlbmRzIERhdGF0eXBlPiB7XG4gICAgbmV4dDogc3RyaW5nO1xuICAgIHByZXZpb3VzOiBzdHJpbmc7XG4gICAgcmVzdWx0czogUHdhRG9jdW1lbnQ8VD5bXTtcbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"collection.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/definitions/collection.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,46],[18,0,0,55],[20,0,0,70],[26,0,0,76],[38,0,0,88],[39,0,0,89]],[[0,0,7,0],[6,0,7,6],[7,0,7,7],[13,0,7,13],[33,0,7,33],[36,0,7,36],[37,0,8,4],[41,0,8,16],[43,0,9,4],[60,0,9,43],[62,0,10,4],[77,0,10,34],[79,0,11,4],[90,0,11,15],[93,0,11,18],[95,0,11,20],[97,0,12,4],[104,0,12,11],[107,0,12,14],[109,0,12,16],[111,0,13,4],[130,0,13,23],[133,0,13,26],[135,0,13,28],[137,0,14,4],[148,0,14,15],[151,0,14,18],[155,0,14,22],[157,0,15,2],[159,0,15,4],[160,0,15,5],[161,0,15,6]],[[4,0,16,8],[8,0,16,12]],[[4,0,17,8],[10,0,17,14],[12,0,17,16],[21,0,17,25],[22,0,17,26],[26,0,17,30],[27,0,17,31]],[[4,0,18,8],[11,0,18,15],[13,0,18,17],[30,0,18,34]],[[4,0,19,8],[11,0,19,15],[13,0,19,17],[28,0,19,32]],[[4,0,20,8],[15,0,20,19]],[[4,0,21,8],[11,0,21,15]],[[4,0,22,8],[23,0,22,27],[25,0,22,29]],[[8,0,24,12],[9,0,24,13],[11,0,24,15],[12,0,24,16],[18,0,24,39],[20,0,24,41],[22,0,24,43]],[[12,0,26,16],[18,0,26,22],[19,0,26,23],[28,0,26,32],[31,0,26,35],[35,0,26,39],[39,0,26,43],[41,0,26,45],[42,0,26,46],[49,0,26,53],[51,0,26,55],[52,0,26,56]],[[12,0,27,16],[18,0,27,22],[19,0,27,23],[28,0,27,32],[31,0,27,35],[35,0,27,39],[39,0,27,43],[41,0,27,45],[42,0,27,46],[49,0,27,53],[51,0,27,55],[52,0,27,56]],[[12,0,29,16],[19,0,29,23],[25,0,29,29],[26,0,29,30]],[[8,0,30,12],[9,0,30,13]],[[8,0,31,12],[9,0,31,13],[11,0,31,15],[12,0,31,16],[18,0,31,39],[20,0,31,41],[22,0,31,43]],[[12,0,33,16],[18,0,33,22],[19,0,33,23],[29,0,33,33],[32,0,33,36],[34,0,33,38],[35,0,33,39]],[[12,0,35,16],[19,0,35,23],[25,0,35,29],[26,0,35,30]],[[8,0,36,12],[9,0,36,13]],[[8,0,37,12],[9,0,37,13],[11,0,37,15],[12,0,37,16],[18,0,37,39],[20,0,37,41],[22,0,37,43]],[[12,0,39,16],[18,0,39,22],[19,0,39,23],[29,0,39,33],[32,0,39,36],[34,0,39,38],[35,0,39,39]],[[12,0,41,16],[19,0,41,23],[25,0,41,29],[26,0,41,30]],[[8,0,42,12],[9,0,42,13]],[[8,0,43,12],[9,0,43,13],[11,0,43,15],[12,0,43,16],[18,0,43,39],[20,0,43,41],[22,0,43,43]],[[12,0,45,16],[18,0,45,22],[19,0,45,23],[29,0,45,33],[32,0,45,36],[34,0,45,38],[35,0,45,39]],[[12,0,47,16],[19,0,47,23],[25,0,47,29],[26,0,47,30]],[[8,0,48,12],[9,0,48,13]],[[8,0,49,12],[11,0,49,15],[30,0,49,34]],[[5,0,50,9]],[[4,0,51,8],[15,0,51,19]],[[1,0,52,25],[2,0,52,25],[3,0,52,26]],[[0,0,54,0],[6,0,54,6],[7,0,54,7],[13,0,54,13],[33,0,54,33],[36,0,54,58],[38,0,54,60],[39,0,54,61]]],"sourcesContent":["import { PwaDocType, PwaDocMethods, Datatype, getSchema, PwaDocument } from './document';\nimport { RxCollection, RxCollectionCreator } from 'rxdb';\n\nexport type PwaCollectionMethods = {};\n\nexport type PwaCollection<T extends Datatype> = RxCollection<PwaDocType<T>, PwaDocMethods, PwaCollectionMethods>;\n\nexport const getCollectionCreator = (\n    name: string,\n    collectionMethods: PwaCollectionMethods,\n    documentMethods: PwaDocMethods,\n    attachments = {},\n    options = {},\n    migrationStrategies = {},\n    autoMigrate = true,\n) => ({\n        name,\n        schema: getSchema(name),\n        statics: collectionMethods, // (optional) // ORM-functions for this collection\n        methods: documentMethods, // (optional) ORM-functions for documents\n        attachments, // (optional) ORM-functions for attachments\n        options, // (optional) Custom paramters that might be used in plugins\n        migrationStrategies: {\n            // 1 means, this transforms data from version 0 to version 1\n            1: (oldDoc: PwaDocType<any>) => {\n\n                oldDoc.createdAt = new Date().getTime();\n                oldDoc.updatedAt = new Date().getTime();\n\n                return oldDoc;\n            },\n            2: (oldDoc: PwaDocType<any>) => {\n\n                oldDoc.fileFields = [];\n\n                return oldDoc;\n            },\n            3: (oldDoc: PwaDocType<any>) => {\n\n                oldDoc.fileFields = [];\n\n                return oldDoc;\n            },\n            4: (oldDoc: PwaDocType<any>) => {\n\n                oldDoc.fileFields = [];\n\n                return oldDoc;\n            },\n            ...migrationStrategies\n        }, // (optional)\n        autoMigrate, // (optional)\n} as RxCollectionCreator);\n\nexport const pwaCollectionMethods: PwaCollectionMethods = {};\n\n///////////////////////\n// interfaces\n///////////////////////\n\nexport interface ListResponse<T extends Datatype> {\n    next: string;\n    previous: string;\n    results: T[];\n}\n\nexport interface CollectionListResponse<T extends Datatype> {\n    next: string;\n    previous: string;\n    results: PwaDocument<T>[];\n    count?: number;\n}\n\nexport interface PwaListResponse<T extends Datatype> {\n    next: string;\n    previous: string;\n    results: PwaDocument<T>[];\n}\n"]},"resolvedIds":{"./document":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":5131,"body":[{"type":"ExportNamedDeclaration","start":0,"end":1235,"declaration":{"type":"VariableDeclaration","start":7,"end":1235,"declarations":[{"type":"VariableDeclarator","start":13,"end":1234,"id":{"type":"Identifier","start":13,"end":33,"name":"getSynchroniseSchema"},"init":{"type":"ArrowFunctionExpression","start":36,"end":1234,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"ObjectExpression","start":43,"end":1233,"properties":[{"type":"Property","start":49,"end":75,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":49,"end":54,"name":"title"},"value":{"type":"Literal","start":56,"end":75,"value":"synchronise_store","raw":"'synchronise_store'"},"kind":"init"},{"type":"Property","start":81,"end":155,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":81,"end":92,"name":"description"},"value":{"type":"TemplateLiteral","start":94,"end":155,"expressions":[],"quasis":[{"type":"TemplateElement","start":95,"end":154,"value":{"raw":"Stores database & collectionNames of data in the collection","cooked":"Stores database & collectionNames of data in the collection"},"tail":true}]},"kind":"init"},{"type":"Property","start":161,"end":182,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":161,"end":175,"name":"keyCompression"},"value":{"type":"Literal","start":177,"end":182,"value":false,"raw":"false"},"kind":"init"},{"type":"Property","start":188,"end":198,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":188,"end":195,"name":"version"},"value":{"type":"Literal","start":197,"end":198,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":204,"end":218,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":204,"end":208,"name":"type"},"value":{"type":"Literal","start":210,"end":218,"value":"object","raw":"'object'"},"kind":"init"},{"type":"Property","start":224,"end":240,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":224,"end":234,"name":"primaryKey"},"value":{"type":"Literal","start":236,"end":240,"value":"id","raw":"'id'"},"kind":"init"},{"type":"Property","start":246,"end":939,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":246,"end":256,"name":"properties"},"value":{"type":"ObjectExpression","start":258,"end":939,"properties":[{"type":"Property","start":268,"end":338,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":268,"end":270,"name":"id"},"value":{"type":"ObjectExpression","start":272,"end":338,"properties":[{"type":"Property","start":286,"end":300,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":286,"end":290,"name":"type"},"value":{"type":"Literal","start":292,"end":300,"value":"string","raw":"'string'"},"kind":"init"},{"type":"Property","start":314,"end":327,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":314,"end":321,"name":"primary"},"value":{"type":"Literal","start":323,"end":327,"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":348,"end":404,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":348,"end":363,"name":"databaseOptions"},"value":{"type":"ObjectExpression","start":365,"end":404,"properties":[{"type":"Property","start":379,"end":393,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":379,"end":383,"name":"type"},"value":{"type":"Literal","start":385,"end":393,"value":"string","raw":"'string'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":414,"end":468,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":414,"end":428,"name":"collectionName"},"value":{"type":"ObjectExpression","start":430,"end":468,"properties":[{"type":"Property","start":444,"end":458,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":444,"end":448,"name":"type"},"value":{"type":"Literal","start":450,"end":458,"value":"string","raw":"'string'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":478,"end":536,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":478,"end":495,"name":"collectionOptions"},"value":{"type":"ObjectExpression","start":497,"end":536,"properties":[{"type":"Property","start":511,"end":525,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":511,"end":515,"name":"type"},"value":{"type":"Literal","start":517,"end":525,"value":"string","raw":"'string'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":546,"end":606,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":546,"end":565,"name":"collectionEvictTime"},"value":{"type":"ObjectExpression","start":567,"end":606,"properties":[{"type":"Property","start":581,"end":596,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":581,"end":585,"name":"type"},"value":{"type":"Literal","start":587,"end":596,"value":"integer","raw":"'integer'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":616,"end":680,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":616,"end":639,"name":"collectionSkipDocuments"},"value":{"type":"ObjectExpression","start":641,"end":680,"properties":[{"type":"Property","start":655,"end":670,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":655,"end":659,"name":"type"},"value":{"type":"Literal","start":661,"end":670,"value":"integer","raw":"'integer'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":690,"end":757,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":690,"end":717,"name":"collectionReqTitleFieldName"},"value":{"type":"ObjectExpression","start":719,"end":757,"properties":[{"type":"Property","start":733,"end":747,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":733,"end":737,"name":"type"},"value":{"type":"Literal","start":739,"end":747,"value":"string","raw":"'string'"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":767,"end":847,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":767,"end":797,"name":"collectionReqSubTitleFieldName"},"value":{"type":"ObjectExpression","start":799,"end":847,"properties":[{"type":"Property","start":813,"end":837,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":813,"end":817,"name":"type"},"value":{"type":"ArrayExpression","start":819,"end":837,"elements":[{"type":"Literal","start":820,"end":828,"value":"string","raw":"'string'"},{"type":"Literal","start":830,"end":836,"value":"null","raw":"'null'"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":857,"end":933,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":857,"end":883,"name":"collectionReqIconFieldName"},"value":{"type":"ObjectExpression","start":885,"end":933,"properties":[{"type":"Property","start":899,"end":923,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":899,"end":903,"name":"type"},"value":{"type":"ArrayExpression","start":905,"end":923,"elements":[{"type":"Literal","start":906,"end":914,"value":"string","raw":"'string'"},{"type":"Literal","start":916,"end":922,"value":"null","raw":"'null'"}]},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":945,"end":1230,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":945,"end":954,"name":"encrypted"},"value":{"type":"ArrayExpression","start":956,"end":1230,"elements":[{"type":"Literal","start":966,"end":983,"value":"databaseOptions","raw":"'databaseOptions'"},{"type":"Literal","start":993,"end":1009,"value":"collectionName","raw":"'collectionName'"},{"type":"Literal","start":1019,"end":1038,"value":"collectionOptions","raw":"'collectionOptions'"},{"type":"Literal","start":1048,"end":1069,"value":"collectionEvictTime","raw":"'collectionEvictTime'"},{"type":"Literal","start":1079,"end":1104,"value":"collectionSkipDocuments","raw":"'collectionSkipDocuments'"},{"type":"Literal","start":1114,"end":1143,"value":"collectionReqTitleFieldName","raw":"'collectionReqTitleFieldName'"},{"type":"Literal","start":1153,"end":1185,"value":"collectionReqSubTitleFieldName","raw":"'collectionReqSubTitleFieldName'"},{"type":"Literal","start":1195,"end":1223,"value":"collectionReqIconFieldName","raw":"'collectionReqIconFieldName'"}]},"kind":"init"}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":1236,"end":1276,"declaration":{"type":"VariableDeclaration","start":1243,"end":1276,"declarations":[{"type":"VariableDeclarator","start":1249,"end":1275,"id":{"type":"Identifier","start":1249,"end":1270,"name":"synchroniseDocMethods"},"init":{"type":"ObjectExpression","start":1273,"end":1275,"properties":[]}}],"kind":"const"},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtZG9jdW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1kb2N1bWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnQkEsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQTJDLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDL0UsS0FBSyxFQUFFLG1CQUFtQjtJQUMxQixXQUFXLEVBQUUsNkRBQTZEO0lBQzFFLGNBQWMsRUFBRSxLQUFLO0lBQ3JCLE9BQU8sRUFBRSxDQUFDO0lBQ1YsSUFBSSxFQUFFLFFBQVE7SUFDZCxVQUFVLEVBQUUsSUFBSTtJQUNoQixVQUFVLEVBQUU7UUFDUixFQUFFLEVBQUU7WUFDQSxJQUFJLEVBQUUsUUFBUTtZQUNkLE9BQU8sRUFBRSxJQUFJO1NBQ2hCO1FBQ0QsZUFBZSxFQUFFO1lBQ2IsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCxjQUFjLEVBQUU7WUFDWixJQUFJLEVBQUUsUUFBUTtTQUNqQjtRQUNELGlCQUFpQixFQUFFO1lBQ2YsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCxtQkFBbUIsRUFBRTtZQUNqQixJQUFJLEVBQUUsU0FBUztTQUNsQjtRQUNELHVCQUF1QixFQUFFO1lBQ3JCLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsMkJBQTJCLEVBQUU7WUFDekIsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCw4QkFBOEIsRUFBRTtZQUM1QixJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO1NBQzNCO1FBQ0QsMEJBQTBCLEVBQUU7WUFDeEIsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtLQUNKO0lBQ0QsU0FBUyxFQUFFO1FBQ1AsaUJBQWlCO1FBQ2pCLGdCQUFnQjtRQUNoQixtQkFBbUI7UUFDbkIscUJBQXFCO1FBQ3JCLHlCQUF5QjtRQUN6Qiw2QkFBNkI7UUFDN0IsZ0NBQWdDO1FBQ2hDLDRCQUE0QjtLQUMvQjtDQUNKLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUEwQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSeERvY3VtZW50LCBSeEpzb25TY2hlbWEgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IFB3YURvY3VtZW50IH0gZnJvbSAnLi9kb2N1bWVudCc7XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlRG9jVHlwZSA9IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGRhdGFiYXNlT3B0aW9uczogc3RyaW5nLFxuICAgIGNvbGxlY3Rpb25OYW1lOiBzdHJpbmcsXG4gICAgY29sbGVjdGlvbk9wdGlvbnM6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uRXZpY3RUaW1lOiBudW1iZXIsXG4gICAgY29sbGVjdGlvblNraXBEb2N1bWVudHM6IG51bWJlclxufTtcblxuZXhwb3J0IHR5cGUgU3luY2hyb25pc2VEb2NNZXRob2RzID0ge307XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlRG9jdW1lbnQgPSBSeERvY3VtZW50PFN5bmNocm9uaXNlRG9jVHlwZT47XG5cbmV4cG9ydCBjb25zdCBnZXRTeW5jaHJvbmlzZVNjaGVtYTogKCkgPT4gUnhKc29uU2NoZW1hPFN5bmNocm9uaXNlRG9jVHlwZT4gPSAoKSA9PiAoe1xuICAgIHRpdGxlOiAnc3luY2hyb25pc2Vfc3RvcmUnLFxuICAgIGRlc2NyaXB0aW9uOiBgU3RvcmVzIGRhdGFiYXNlICYgY29sbGVjdGlvbk5hbWVzIG9mIGRhdGEgaW4gdGhlIGNvbGxlY3Rpb25gLFxuICAgIGtleUNvbXByZXNzaW9uOiBmYWxzZSxcbiAgICB2ZXJzaW9uOiAwLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIHByaW1hcnlLZXk6ICdpZCcsXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBpZDoge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhYmFzZU9wdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uTmFtZToge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgfSxcbiAgICAgICAgY29sbGVjdGlvbk9wdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lOiB7XG4gICAgICAgICAgICB0eXBlOiAnaW50ZWdlcidcbiAgICAgICAgfSxcbiAgICAgICAgY29sbGVjdGlvblNraXBEb2N1bWVudHM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnRlZ2VyJ1xuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uUmVxVGl0bGVGaWVsZE5hbWU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbGxlY3Rpb25SZXFTdWJUaXRsZUZpZWxkTmFtZToge1xuICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnLCAnbnVsbCddXG4gICAgICAgIH0sXG4gICAgICAgIGNvbGxlY3Rpb25SZXFJY29uRmllbGROYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiBbJ3N0cmluZycsICdudWxsJ11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZW5jcnlwdGVkOiBbXG4gICAgICAgICdkYXRhYmFzZU9wdGlvbnMnLFxuICAgICAgICAnY29sbGVjdGlvbk5hbWUnLFxuICAgICAgICAnY29sbGVjdGlvbk9wdGlvbnMnLFxuICAgICAgICAnY29sbGVjdGlvbkV2aWN0VGltZScsXG4gICAgICAgICdjb2xsZWN0aW9uU2tpcERvY3VtZW50cycsXG4gICAgICAgICdjb2xsZWN0aW9uUmVxVGl0bGVGaWVsZE5hbWUnLFxuICAgICAgICAnY29sbGVjdGlvblJlcVN1YlRpdGxlRmllbGROYW1lJyxcbiAgICAgICAgJ2NvbGxlY3Rpb25SZXFJY29uRmllbGROYW1lJyxcbiAgICBdLFxufSk7XG5cbmV4cG9ydCBjb25zdCBzeW5jaHJvbmlzZURvY01ldGhvZHM6IFN5bmNocm9uaXNlRG9jTWV0aG9kcyA9IHt9O1xuXG4iXX0=","start":1277,"end":5131}]},"code":"export const getSynchroniseSchema = () => ({\n    title: 'synchronise_store',\n    description: `Stores database & collectionNames of data in the collection`,\n    keyCompression: false,\n    version: 0,\n    type: 'object',\n    primaryKey: 'id',\n    properties: {\n        id: {\n            type: 'string',\n            primary: true,\n        },\n        databaseOptions: {\n            type: 'string',\n        },\n        collectionName: {\n            type: 'string'\n        },\n        collectionOptions: {\n            type: 'string',\n        },\n        collectionEvictTime: {\n            type: 'integer'\n        },\n        collectionSkipDocuments: {\n            type: 'integer'\n        },\n        collectionReqTitleFieldName: {\n            type: 'string'\n        },\n        collectionReqSubTitleFieldName: {\n            type: ['string', 'null']\n        },\n        collectionReqIconFieldName: {\n            type: ['string', 'null']\n        }\n    },\n    encrypted: [\n        'databaseOptions',\n        'collectionName',\n        'collectionOptions',\n        'collectionEvictTime',\n        'collectionSkipDocuments',\n        'collectionReqTitleFieldName',\n        'collectionReqSubTitleFieldName',\n        'collectionReqIconFieldName',\n    ],\n});\nexport const synchroniseDocMethods = {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtZG9jdW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1kb2N1bWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnQkEsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQTJDLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDL0UsS0FBSyxFQUFFLG1CQUFtQjtJQUMxQixXQUFXLEVBQUUsNkRBQTZEO0lBQzFFLGNBQWMsRUFBRSxLQUFLO0lBQ3JCLE9BQU8sRUFBRSxDQUFDO0lBQ1YsSUFBSSxFQUFFLFFBQVE7SUFDZCxVQUFVLEVBQUUsSUFBSTtJQUNoQixVQUFVLEVBQUU7UUFDUixFQUFFLEVBQUU7WUFDQSxJQUFJLEVBQUUsUUFBUTtZQUNkLE9BQU8sRUFBRSxJQUFJO1NBQ2hCO1FBQ0QsZUFBZSxFQUFFO1lBQ2IsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCxjQUFjLEVBQUU7WUFDWixJQUFJLEVBQUUsUUFBUTtTQUNqQjtRQUNELGlCQUFpQixFQUFFO1lBQ2YsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCxtQkFBbUIsRUFBRTtZQUNqQixJQUFJLEVBQUUsU0FBUztTQUNsQjtRQUNELHVCQUF1QixFQUFFO1lBQ3JCLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsMkJBQTJCLEVBQUU7WUFDekIsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCw4QkFBOEIsRUFBRTtZQUM1QixJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO1NBQzNCO1FBQ0QsMEJBQTBCLEVBQUU7WUFDeEIsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtLQUNKO0lBQ0QsU0FBUyxFQUFFO1FBQ1AsaUJBQWlCO1FBQ2pCLGdCQUFnQjtRQUNoQixtQkFBbUI7UUFDbkIscUJBQXFCO1FBQ3JCLHlCQUF5QjtRQUN6Qiw2QkFBNkI7UUFDN0IsZ0NBQWdDO1FBQ2hDLDRCQUE0QjtLQUMvQjtDQUNKLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUEwQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSeERvY3VtZW50LCBSeEpzb25TY2hlbWEgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IFB3YURvY3VtZW50IH0gZnJvbSAnLi9kb2N1bWVudCc7XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlRG9jVHlwZSA9IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGRhdGFiYXNlT3B0aW9uczogc3RyaW5nLFxuICAgIGNvbGxlY3Rpb25OYW1lOiBzdHJpbmcsXG4gICAgY29sbGVjdGlvbk9wdGlvbnM6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uRXZpY3RUaW1lOiBudW1iZXIsXG4gICAgY29sbGVjdGlvblNraXBEb2N1bWVudHM6IG51bWJlclxufTtcblxuZXhwb3J0IHR5cGUgU3luY2hyb25pc2VEb2NNZXRob2RzID0ge307XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlRG9jdW1lbnQgPSBSeERvY3VtZW50PFN5bmNocm9uaXNlRG9jVHlwZT47XG5cbmV4cG9ydCBjb25zdCBnZXRTeW5jaHJvbmlzZVNjaGVtYTogKCkgPT4gUnhKc29uU2NoZW1hPFN5bmNocm9uaXNlRG9jVHlwZT4gPSAoKSA9PiAoe1xuICAgIHRpdGxlOiAnc3luY2hyb25pc2Vfc3RvcmUnLFxuICAgIGRlc2NyaXB0aW9uOiBgU3RvcmVzIGRhdGFiYXNlICYgY29sbGVjdGlvbk5hbWVzIG9mIGRhdGEgaW4gdGhlIGNvbGxlY3Rpb25gLFxuICAgIGtleUNvbXByZXNzaW9uOiBmYWxzZSxcbiAgICB2ZXJzaW9uOiAwLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIHByaW1hcnlLZXk6ICdpZCcsXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBpZDoge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhYmFzZU9wdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uTmFtZToge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgfSxcbiAgICAgICAgY29sbGVjdGlvbk9wdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lOiB7XG4gICAgICAgICAgICB0eXBlOiAnaW50ZWdlcidcbiAgICAgICAgfSxcbiAgICAgICAgY29sbGVjdGlvblNraXBEb2N1bWVudHM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnRlZ2VyJ1xuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uUmVxVGl0bGVGaWVsZE5hbWU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbGxlY3Rpb25SZXFTdWJUaXRsZUZpZWxkTmFtZToge1xuICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnLCAnbnVsbCddXG4gICAgICAgIH0sXG4gICAgICAgIGNvbGxlY3Rpb25SZXFJY29uRmllbGROYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiBbJ3N0cmluZycsICdudWxsJ11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZW5jcnlwdGVkOiBbXG4gICAgICAgICdkYXRhYmFzZU9wdGlvbnMnLFxuICAgICAgICAnY29sbGVjdGlvbk5hbWUnLFxuICAgICAgICAnY29sbGVjdGlvbk9wdGlvbnMnLFxuICAgICAgICAnY29sbGVjdGlvbkV2aWN0VGltZScsXG4gICAgICAgICdjb2xsZWN0aW9uU2tpcERvY3VtZW50cycsXG4gICAgICAgICdjb2xsZWN0aW9uUmVxVGl0bGVGaWVsZE5hbWUnLFxuICAgICAgICAnY29sbGVjdGlvblJlcVN1YlRpdGxlRmllbGROYW1lJyxcbiAgICAgICAgJ2NvbGxlY3Rpb25SZXFJY29uRmllbGROYW1lJyxcbiAgICBdLFxufSk7XG5cbmV4cG9ydCBjb25zdCBzeW5jaHJvbmlzZURvY01ldGhvZHM6IFN5bmNocm9uaXNlRG9jTWV0aG9kcyA9IHt9O1xuXG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-document.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export const getSynchroniseSchema = () => ({\n    title: 'synchronise_store',\n    description: `Stores database & collectionNames of data in the collection`,\n    keyCompression: false,\n    version: 0,\n    type: 'object',\n    primaryKey: 'id',\n    properties: {\n        id: {\n            type: 'string',\n            primary: true,\n        },\n        databaseOptions: {\n            type: 'string',\n        },\n        collectionName: {\n            type: 'string'\n        },\n        collectionOptions: {\n            type: 'string',\n        },\n        collectionEvictTime: {\n            type: 'integer'\n        },\n        collectionSkipDocuments: {\n            type: 'integer'\n        },\n        collectionReqTitleFieldName: {\n            type: 'string'\n        },\n        collectionReqSubTitleFieldName: {\n            type: ['string', 'null']\n        },\n        collectionReqIconFieldName: {\n            type: ['string', 'null']\n        }\n    },\n    encrypted: [\n        'databaseOptions',\n        'collectionName',\n        'collectionOptions',\n        'collectionEvictTime',\n        'collectionSkipDocuments',\n        'collectionReqTitleFieldName',\n        'collectionReqSubTitleFieldName',\n        'collectionReqIconFieldName',\n    ],\n});\nexport const synchroniseDocMethods = {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtZG9jdW1lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1kb2N1bWVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnQkEsTUFBTSxDQUFDLE1BQU0sb0JBQW9CLEdBQTJDLEdBQUcsRUFBRSxDQUFDLENBQUM7SUFDL0UsS0FBSyxFQUFFLG1CQUFtQjtJQUMxQixXQUFXLEVBQUUsNkRBQTZEO0lBQzFFLGNBQWMsRUFBRSxLQUFLO0lBQ3JCLE9BQU8sRUFBRSxDQUFDO0lBQ1YsSUFBSSxFQUFFLFFBQVE7SUFDZCxVQUFVLEVBQUUsSUFBSTtJQUNoQixVQUFVLEVBQUU7UUFDUixFQUFFLEVBQUU7WUFDQSxJQUFJLEVBQUUsUUFBUTtZQUNkLE9BQU8sRUFBRSxJQUFJO1NBQ2hCO1FBQ0QsZUFBZSxFQUFFO1lBQ2IsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCxjQUFjLEVBQUU7WUFDWixJQUFJLEVBQUUsUUFBUTtTQUNqQjtRQUNELGlCQUFpQixFQUFFO1lBQ2YsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCxtQkFBbUIsRUFBRTtZQUNqQixJQUFJLEVBQUUsU0FBUztTQUNsQjtRQUNELHVCQUF1QixFQUFFO1lBQ3JCLElBQUksRUFBRSxTQUFTO1NBQ2xCO1FBQ0QsMkJBQTJCLEVBQUU7WUFDekIsSUFBSSxFQUFFLFFBQVE7U0FDakI7UUFDRCw4QkFBOEIsRUFBRTtZQUM1QixJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsTUFBTSxDQUFDO1NBQzNCO1FBQ0QsMEJBQTBCLEVBQUU7WUFDeEIsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQztTQUMzQjtLQUNKO0lBQ0QsU0FBUyxFQUFFO1FBQ1AsaUJBQWlCO1FBQ2pCLGdCQUFnQjtRQUNoQixtQkFBbUI7UUFDbkIscUJBQXFCO1FBQ3JCLHlCQUF5QjtRQUN6Qiw2QkFBNkI7UUFDN0IsZ0NBQWdDO1FBQ2hDLDRCQUE0QjtLQUMvQjtDQUNKLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxNQUFNLHFCQUFxQixHQUEwQixFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSeERvY3VtZW50LCBSeEpzb25TY2hlbWEgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IFB3YURvY3VtZW50IH0gZnJvbSAnLi9kb2N1bWVudCc7XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlRG9jVHlwZSA9IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGRhdGFiYXNlT3B0aW9uczogc3RyaW5nLFxuICAgIGNvbGxlY3Rpb25OYW1lOiBzdHJpbmcsXG4gICAgY29sbGVjdGlvbk9wdGlvbnM6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uRXZpY3RUaW1lOiBudW1iZXIsXG4gICAgY29sbGVjdGlvblNraXBEb2N1bWVudHM6IG51bWJlclxufTtcblxuZXhwb3J0IHR5cGUgU3luY2hyb25pc2VEb2NNZXRob2RzID0ge307XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlRG9jdW1lbnQgPSBSeERvY3VtZW50PFN5bmNocm9uaXNlRG9jVHlwZT47XG5cbmV4cG9ydCBjb25zdCBnZXRTeW5jaHJvbmlzZVNjaGVtYTogKCkgPT4gUnhKc29uU2NoZW1hPFN5bmNocm9uaXNlRG9jVHlwZT4gPSAoKSA9PiAoe1xuICAgIHRpdGxlOiAnc3luY2hyb25pc2Vfc3RvcmUnLFxuICAgIGRlc2NyaXB0aW9uOiBgU3RvcmVzIGRhdGFiYXNlICYgY29sbGVjdGlvbk5hbWVzIG9mIGRhdGEgaW4gdGhlIGNvbGxlY3Rpb25gLFxuICAgIGtleUNvbXByZXNzaW9uOiBmYWxzZSxcbiAgICB2ZXJzaW9uOiAwLFxuICAgIHR5cGU6ICdvYmplY3QnLFxuICAgIHByaW1hcnlLZXk6ICdpZCcsXG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBpZDoge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZycsXG4gICAgICAgICAgICBwcmltYXJ5OiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBkYXRhYmFzZU9wdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uTmFtZToge1xuICAgICAgICAgICAgdHlwZTogJ3N0cmluZydcbiAgICAgICAgfSxcbiAgICAgICAgY29sbGVjdGlvbk9wdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lOiB7XG4gICAgICAgICAgICB0eXBlOiAnaW50ZWdlcidcbiAgICAgICAgfSxcbiAgICAgICAgY29sbGVjdGlvblNraXBEb2N1bWVudHM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnRlZ2VyJ1xuICAgICAgICB9LFxuICAgICAgICBjb2xsZWN0aW9uUmVxVGl0bGVGaWVsZE5hbWU6IHtcbiAgICAgICAgICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbGxlY3Rpb25SZXFTdWJUaXRsZUZpZWxkTmFtZToge1xuICAgICAgICAgICAgdHlwZTogWydzdHJpbmcnLCAnbnVsbCddXG4gICAgICAgIH0sXG4gICAgICAgIGNvbGxlY3Rpb25SZXFJY29uRmllbGROYW1lOiB7XG4gICAgICAgICAgICB0eXBlOiBbJ3N0cmluZycsICdudWxsJ11cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZW5jcnlwdGVkOiBbXG4gICAgICAgICdkYXRhYmFzZU9wdGlvbnMnLFxuICAgICAgICAnY29sbGVjdGlvbk5hbWUnLFxuICAgICAgICAnY29sbGVjdGlvbk9wdGlvbnMnLFxuICAgICAgICAnY29sbGVjdGlvbkV2aWN0VGltZScsXG4gICAgICAgICdjb2xsZWN0aW9uU2tpcERvY3VtZW50cycsXG4gICAgICAgICdjb2xsZWN0aW9uUmVxVGl0bGVGaWVsZE5hbWUnLFxuICAgICAgICAnY29sbGVjdGlvblJlcVN1YlRpdGxlRmllbGROYW1lJyxcbiAgICAgICAgJ2NvbGxlY3Rpb25SZXFJY29uRmllbGROYW1lJyxcbiAgICBdLFxufSk7XG5cbmV4cG9ydCBjb25zdCBzeW5jaHJvbmlzZURvY01ldGhvZHM6IFN5bmNocm9uaXNlRG9jTWV0aG9kcyA9IHt9O1xuXG4iXX0=","originalSourcemap":{"version":3,"file":"synchronise-document.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/definitions/synchronise-document.ts"],"names":[],"mappings":[[[0,0,16,0],[6,0,16,6],[7,0,16,7],[13,0,16,13],[33,0,16,33],[36,0,16,76],[39,0,16,79],[41,0,16,81],[42,0,16,82],[43,0,16,83]],[[4,0,17,4],[9,0,17,9],[11,0,17,11],[30,0,17,30]],[[4,0,18,4],[15,0,18,15],[17,0,18,17],[78,0,18,78]],[[4,0,19,4],[18,0,19,18],[20,0,19,20],[25,0,19,25]],[[4,0,20,4],[11,0,20,11],[13,0,20,13],[14,0,20,14]],[[4,0,21,4],[8,0,21,8],[10,0,21,10],[18,0,21,18]],[[4,0,22,4],[14,0,22,14],[16,0,22,16],[20,0,22,20]],[[4,0,23,4],[14,0,23,14],[16,0,23,16]],[[8,0,24,8],[10,0,24,10],[12,0,24,12]],[[12,0,25,12],[16,0,25,16],[18,0,25,18],[26,0,25,26]],[[12,0,26,12],[19,0,26,19],[21,0,26,21],[25,0,26,25]],[[9,0,27,9]],[[8,0,28,8],[23,0,28,23],[25,0,28,25]],[[12,0,29,12],[16,0,29,16],[18,0,29,18],[26,0,29,26]],[[9,0,30,9]],[[8,0,31,8],[22,0,31,22],[24,0,31,24]],[[12,0,32,12],[16,0,32,16],[18,0,32,18],[26,0,32,26]],[[9,0,33,9]],[[8,0,34,8],[25,0,34,25],[27,0,34,27]],[[12,0,35,12],[16,0,35,16],[18,0,35,18],[26,0,35,26]],[[9,0,36,9]],[[8,0,37,8],[27,0,37,27],[29,0,37,29]],[[12,0,38,12],[16,0,38,16],[18,0,38,18],[27,0,38,27]],[[9,0,39,9]],[[8,0,40,8],[31,0,40,31],[33,0,40,33]],[[12,0,41,12],[16,0,41,16],[18,0,41,18],[27,0,41,27]],[[9,0,42,9]],[[8,0,43,8],[35,0,43,35],[37,0,43,37]],[[12,0,44,12],[16,0,44,16],[18,0,44,18],[26,0,44,26]],[[9,0,45,9]],[[8,0,46,8],[38,0,46,38],[40,0,46,40]],[[12,0,47,12],[16,0,47,16],[18,0,47,18],[19,0,47,19],[27,0,47,27],[29,0,47,29],[35,0,47,35],[36,0,47,36]],[[9,0,48,9]],[[8,0,49,8],[34,0,49,34],[36,0,49,36]],[[12,0,50,12],[16,0,50,16],[18,0,50,18],[19,0,50,19],[27,0,50,27],[29,0,50,29],[35,0,50,35],[36,0,50,36]],[[9,0,51,9]],[[5,0,52,5]],[[4,0,53,4],[13,0,53,13],[15,0,53,15]],[[8,0,54,8],[25,0,54,25]],[[8,0,55,8],[24,0,55,24]],[[8,0,56,8],[27,0,56,27]],[[8,0,57,8],[29,0,57,29]],[[8,0,58,8],[33,0,58,33]],[[8,0,59,8],[37,0,59,37]],[[8,0,60,8],[40,0,60,40]],[[8,0,61,8],[36,0,61,36]],[[5,0,62,5]],[[1,0,63,1],[2,0,63,2],[3,0,63,3]],[[0,0,65,0],[6,0,65,6],[7,0,65,7],[13,0,65,13],[34,0,65,34],[37,0,65,60],[39,0,65,62],[40,0,65,63]]],"sourcesContent":["import { RxDocument, RxJsonSchema } from 'rxdb';\nimport { PwaDocument } from './document';\n\nexport type SynchroniseDocType = {\n    id: string;\n    databaseOptions: string,\n    collectionName: string,\n    collectionOptions: string,\n    collectionEvictTime: number,\n    collectionSkipDocuments: number\n};\n\nexport type SynchroniseDocMethods = {};\n\nexport type SynchroniseDocument = RxDocument<SynchroniseDocType>;\n\nexport const getSynchroniseSchema: () => RxJsonSchema<SynchroniseDocType> = () => ({\n    title: 'synchronise_store',\n    description: `Stores database & collectionNames of data in the collection`,\n    keyCompression: false,\n    version: 0,\n    type: 'object',\n    primaryKey: 'id',\n    properties: {\n        id: {\n            type: 'string',\n            primary: true,\n        },\n        databaseOptions: {\n            type: 'string',\n        },\n        collectionName: {\n            type: 'string'\n        },\n        collectionOptions: {\n            type: 'string',\n        },\n        collectionEvictTime: {\n            type: 'integer'\n        },\n        collectionSkipDocuments: {\n            type: 'integer'\n        },\n        collectionReqTitleFieldName: {\n            type: 'string'\n        },\n        collectionReqSubTitleFieldName: {\n            type: ['string', 'null']\n        },\n        collectionReqIconFieldName: {\n            type: ['string', 'null']\n        }\n    },\n    encrypted: [\n        'databaseOptions',\n        'collectionName',\n        'collectionOptions',\n        'collectionEvictTime',\n        'collectionSkipDocuments',\n        'collectionReqTitleFieldName',\n        'collectionReqSubTitleFieldName',\n        'collectionReqIconFieldName',\n    ],\n});\n\nexport const synchroniseDocMethods: SynchroniseDocMethods = {};\n\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":3213,"body":[{"type":"ImportDeclaration","start":0,"end":62,"specifiers":[{"type":"ImportSpecifier","start":9,"end":29,"imported":{"type":"Identifier","start":9,"end":29,"name":"getSynchroniseSchema"},"local":{"type":"Identifier","start":9,"end":29,"name":"getSynchroniseSchema"}}],"source":{"type":"Literal","start":37,"end":61,"value":"./synchronise-document","raw":"'./synchronise-document'"}},{"type":"ExportNamedDeclaration","start":63,"end":502,"declaration":{"type":"VariableDeclaration","start":70,"end":502,"declarations":[{"type":"VariableDeclarator","start":76,"end":501,"id":{"type":"Identifier","start":76,"end":107,"name":"getSynchroniseCollectionCreator"},"init":{"type":"ArrowFunctionExpression","start":110,"end":501,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":111,"end":115,"name":"name"},{"type":"Identifier","start":117,"end":134,"name":"collectionMethods"},{"type":"Identifier","start":136,"end":151,"name":"documentMethods"},{"type":"AssignmentPattern","start":153,"end":169,"left":{"type":"Identifier","start":153,"end":164,"name":"attachments"},"right":{"type":"ObjectExpression","start":167,"end":169,"properties":[]}},{"type":"AssignmentPattern","start":171,"end":183,"left":{"type":"Identifier","start":171,"end":178,"name":"options"},"right":{"type":"ObjectExpression","start":181,"end":183,"properties":[]}},{"type":"AssignmentPattern","start":185,"end":209,"left":{"type":"Identifier","start":185,"end":204,"name":"migrationStrategies"},"right":{"type":"ObjectExpression","start":207,"end":209,"properties":[]}},{"type":"AssignmentPattern","start":211,"end":229,"left":{"type":"Identifier","start":211,"end":222,"name":"autoMigrate"},"right":{"type":"Literal","start":225,"end":229,"value":true,"raw":"true"}}],"body":{"type":"ObjectExpression","start":235,"end":500,"properties":[{"type":"Property","start":241,"end":245,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":241,"end":245,"name":"name"},"kind":"init","value":{"type":"Identifier","start":241,"end":245,"name":"name"}},{"type":"Property","start":251,"end":281,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":251,"end":257,"name":"schema"},"value":{"type":"CallExpression","start":259,"end":281,"callee":{"type":"Identifier","start":259,"end":279,"name":"getSynchroniseSchema"},"arguments":[],"optional":false},"kind":"init"},{"type":"Property","start":287,"end":363,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":287,"end":300,"name":"pouchSettings"},"value":{"type":"ObjectExpression","start":302,"end":363,"properties":[{"type":"Property","start":312,"end":325,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":312,"end":322,"name":"revs_limit"},"value":{"type":"Literal","start":324,"end":325,"value":0,"raw":"0"},"kind":"init"},{"type":"Property","start":335,"end":356,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":335,"end":350,"name":"auto_compaction"},"value":{"type":"Literal","start":352,"end":356,"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":369,"end":395,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":369,"end":376,"name":"statics"},"value":{"type":"Identifier","start":378,"end":395,"name":"collectionMethods"},"kind":"init"},{"type":"Property","start":401,"end":425,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":401,"end":408,"name":"methods"},"value":{"type":"Identifier","start":410,"end":425,"name":"documentMethods"},"kind":"init"},{"type":"Property","start":431,"end":442,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":431,"end":442,"name":"attachments"},"kind":"init","value":{"type":"Identifier","start":431,"end":442,"name":"attachments"}},{"type":"Property","start":448,"end":455,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":448,"end":455,"name":"options"},"kind":"init","value":{"type":"Identifier","start":448,"end":455,"name":"options"}},{"type":"Property","start":461,"end":480,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":461,"end":480,"name":"migrationStrategies"},"kind":"init","value":{"type":"Identifier","start":461,"end":480,"name":"migrationStrategies"}},{"type":"Property","start":486,"end":497,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":486,"end":497,"name":"autoMigrate"},"kind":"init","value":{"type":"Identifier","start":486,"end":497,"name":"autoMigrate"}}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":503,"end":550,"declaration":{"type":"VariableDeclaration","start":510,"end":550,"declarations":[{"type":"VariableDeclarator","start":516,"end":549,"id":{"type":"Identifier","start":516,"end":544,"name":"synchroniseCollectionMethods"},"init":{"type":"ObjectExpression","start":547,"end":549,"properties":[]}}],"kind":"const"},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtY29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL2RlZmluaXRpb25zL3N5bmNocm9uaXNlLWNvbGxlY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLG9CQUFvQixFQUE2QyxNQUFNLHdCQUF3QixDQUFDO0FBTXpHLE1BQU0sQ0FBQyxNQUFNLCtCQUErQixHQUFHLENBQzNDLElBQVksRUFDWixpQkFBK0MsRUFDL0MsZUFBc0MsRUFDdEMsV0FBVyxHQUFHLEVBQUUsRUFDaEIsT0FBTyxHQUFHLEVBQUUsRUFDWixtQkFBbUIsR0FBRyxFQUFFLEVBQ3hCLFdBQVcsR0FBRyxJQUFJLEVBQ3BCLEVBQUUsQ0FBQyxDQUFDO0lBQ0UsSUFBSTtJQUNKLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtJQUM5QixhQUFhLEVBQUU7UUFDWCxVQUFVLEVBQUUsQ0FBQztRQUNiLGVBQWUsRUFBRSxJQUFJO0tBQ3hCO0lBQ0QsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixPQUFPLEVBQUUsZUFBZTtJQUN4QixXQUFXO0lBQ1gsT0FBTztJQUNQLG1CQUFtQjtJQUNuQixXQUFXO0NBQ00sQ0FBQSxDQUFDO0FBRTFCLE1BQU0sQ0FBQyxNQUFNLDRCQUE0QixHQUFpQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSeENvbGxlY3Rpb24sIFJ4Q29sbGVjdGlvbkNyZWF0b3IgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGdldFN5bmNocm9uaXNlU2NoZW1hLCBTeW5jaHJvbmlzZURvY01ldGhvZHMsIFN5bmNocm9uaXNlRG9jVHlwZSB9IGZyb20gJy4vc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuXG5leHBvcnQgdHlwZSBTeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzID0ge307XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlQ29sbGVjdGlvbiA9IFJ4Q29sbGVjdGlvbjxTeW5jaHJvbmlzZURvY1R5cGUsIFN5bmNocm9uaXNlRG9jTWV0aG9kcywgU3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcz47XG5cbmV4cG9ydCBjb25zdCBnZXRTeW5jaHJvbmlzZUNvbGxlY3Rpb25DcmVhdG9yID0gKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uTWV0aG9kczogU3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICBkb2N1bWVudE1ldGhvZHM6IFN5bmNocm9uaXNlRG9jTWV0aG9kcyxcbiAgICBhdHRhY2htZW50cyA9IHt9LFxuICAgIG9wdGlvbnMgPSB7fSxcbiAgICBtaWdyYXRpb25TdHJhdGVnaWVzID0ge30sXG4gICAgYXV0b01pZ3JhdGUgPSB0cnVlLFxuKSA9PiAoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBzY2hlbWE6IGdldFN5bmNocm9uaXNlU2NoZW1hKCksXG4gICAgICAgIHBvdWNoU2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHJldnNfbGltaXQ6IDAsXG4gICAgICAgICAgICBhdXRvX2NvbXBhY3Rpb246IHRydWUsXG4gICAgICAgIH0sIC8vIChvcHRpb25hbClcbiAgICAgICAgc3RhdGljczogY29sbGVjdGlvbk1ldGhvZHMsIC8vIChvcHRpb25hbCkgLy8gT1JNLWZ1bmN0aW9ucyBmb3IgdGhpcyBjb2xsZWN0aW9uXG4gICAgICAgIG1ldGhvZHM6IGRvY3VtZW50TWV0aG9kcywgLy8gKG9wdGlvbmFsKSBPUk0tZnVuY3Rpb25zIGZvciBkb2N1bWVudHNcbiAgICAgICAgYXR0YWNobWVudHMsIC8vIChvcHRpb25hbCkgT1JNLWZ1bmN0aW9ucyBmb3IgYXR0YWNobWVudHNcbiAgICAgICAgb3B0aW9ucywgLy8gKG9wdGlvbmFsKSBDdXN0b20gcGFyYW10ZXJzIHRoYXQgbWlnaHQgYmUgdXNlZCBpbiBwbHVnaW5zXG4gICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXMsIC8vIChvcHRpb25hbClcbiAgICAgICAgYXV0b01pZ3JhdGUsIC8vIChvcHRpb25hbClcbn0gYXMgUnhDb2xsZWN0aW9uQ3JlYXRvcik7XG5cbmV4cG9ydCBjb25zdCBzeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzOiBTeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzID0ge307XG4iXX0=","start":551,"end":3213}]},"code":"import { getSynchroniseSchema } from './synchronise-document';\nexport const getSynchroniseCollectionCreator = (name, collectionMethods, documentMethods, attachments = {}, options = {}, migrationStrategies = {}, autoMigrate = true) => ({\n    name,\n    schema: getSynchroniseSchema(),\n    pouchSettings: {\n        revs_limit: 0,\n        auto_compaction: true,\n    },\n    statics: collectionMethods,\n    methods: documentMethods,\n    attachments,\n    options,\n    migrationStrategies,\n    autoMigrate,\n});\nexport const synchroniseCollectionMethods = {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtY29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL2RlZmluaXRpb25zL3N5bmNocm9uaXNlLWNvbGxlY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLG9CQUFvQixFQUE2QyxNQUFNLHdCQUF3QixDQUFDO0FBTXpHLE1BQU0sQ0FBQyxNQUFNLCtCQUErQixHQUFHLENBQzNDLElBQVksRUFDWixpQkFBK0MsRUFDL0MsZUFBc0MsRUFDdEMsV0FBVyxHQUFHLEVBQUUsRUFDaEIsT0FBTyxHQUFHLEVBQUUsRUFDWixtQkFBbUIsR0FBRyxFQUFFLEVBQ3hCLFdBQVcsR0FBRyxJQUFJLEVBQ3BCLEVBQUUsQ0FBQyxDQUFDO0lBQ0UsSUFBSTtJQUNKLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtJQUM5QixhQUFhLEVBQUU7UUFDWCxVQUFVLEVBQUUsQ0FBQztRQUNiLGVBQWUsRUFBRSxJQUFJO0tBQ3hCO0lBQ0QsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixPQUFPLEVBQUUsZUFBZTtJQUN4QixXQUFXO0lBQ1gsT0FBTztJQUNQLG1CQUFtQjtJQUNuQixXQUFXO0NBQ00sQ0FBQSxDQUFDO0FBRTFCLE1BQU0sQ0FBQyxNQUFNLDRCQUE0QixHQUFpQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSeENvbGxlY3Rpb24sIFJ4Q29sbGVjdGlvbkNyZWF0b3IgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGdldFN5bmNocm9uaXNlU2NoZW1hLCBTeW5jaHJvbmlzZURvY01ldGhvZHMsIFN5bmNocm9uaXNlRG9jVHlwZSB9IGZyb20gJy4vc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuXG5leHBvcnQgdHlwZSBTeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzID0ge307XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlQ29sbGVjdGlvbiA9IFJ4Q29sbGVjdGlvbjxTeW5jaHJvbmlzZURvY1R5cGUsIFN5bmNocm9uaXNlRG9jTWV0aG9kcywgU3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcz47XG5cbmV4cG9ydCBjb25zdCBnZXRTeW5jaHJvbmlzZUNvbGxlY3Rpb25DcmVhdG9yID0gKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uTWV0aG9kczogU3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICBkb2N1bWVudE1ldGhvZHM6IFN5bmNocm9uaXNlRG9jTWV0aG9kcyxcbiAgICBhdHRhY2htZW50cyA9IHt9LFxuICAgIG9wdGlvbnMgPSB7fSxcbiAgICBtaWdyYXRpb25TdHJhdGVnaWVzID0ge30sXG4gICAgYXV0b01pZ3JhdGUgPSB0cnVlLFxuKSA9PiAoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBzY2hlbWE6IGdldFN5bmNocm9uaXNlU2NoZW1hKCksXG4gICAgICAgIHBvdWNoU2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHJldnNfbGltaXQ6IDAsXG4gICAgICAgICAgICBhdXRvX2NvbXBhY3Rpb246IHRydWUsXG4gICAgICAgIH0sIC8vIChvcHRpb25hbClcbiAgICAgICAgc3RhdGljczogY29sbGVjdGlvbk1ldGhvZHMsIC8vIChvcHRpb25hbCkgLy8gT1JNLWZ1bmN0aW9ucyBmb3IgdGhpcyBjb2xsZWN0aW9uXG4gICAgICAgIG1ldGhvZHM6IGRvY3VtZW50TWV0aG9kcywgLy8gKG9wdGlvbmFsKSBPUk0tZnVuY3Rpb25zIGZvciBkb2N1bWVudHNcbiAgICAgICAgYXR0YWNobWVudHMsIC8vIChvcHRpb25hbCkgT1JNLWZ1bmN0aW9ucyBmb3IgYXR0YWNobWVudHNcbiAgICAgICAgb3B0aW9ucywgLy8gKG9wdGlvbmFsKSBDdXN0b20gcGFyYW10ZXJzIHRoYXQgbWlnaHQgYmUgdXNlZCBpbiBwbHVnaW5zXG4gICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXMsIC8vIChvcHRpb25hbClcbiAgICAgICAgYXV0b01pZ3JhdGUsIC8vIChvcHRpb25hbClcbn0gYXMgUnhDb2xsZWN0aW9uQ3JlYXRvcik7XG5cbmV4cG9ydCBjb25zdCBzeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzOiBTeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzID0ge307XG4iXX0=","customTransformCache":false,"dependencies":["/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-document.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-collection.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { getSynchroniseSchema } from './synchronise-document';\nexport const getSynchroniseCollectionCreator = (name, collectionMethods, documentMethods, attachments = {}, options = {}, migrationStrategies = {}, autoMigrate = true) => ({\n    name,\n    schema: getSynchroniseSchema(),\n    pouchSettings: {\n        revs_limit: 0,\n        auto_compaction: true,\n    },\n    statics: collectionMethods,\n    methods: documentMethods,\n    attachments,\n    options,\n    migrationStrategies,\n    autoMigrate,\n});\nexport const synchroniseCollectionMethods = {};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtY29sbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL2RlZmluaXRpb25zL3N5bmNocm9uaXNlLWNvbGxlY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLG9CQUFvQixFQUE2QyxNQUFNLHdCQUF3QixDQUFDO0FBTXpHLE1BQU0sQ0FBQyxNQUFNLCtCQUErQixHQUFHLENBQzNDLElBQVksRUFDWixpQkFBK0MsRUFDL0MsZUFBc0MsRUFDdEMsV0FBVyxHQUFHLEVBQUUsRUFDaEIsT0FBTyxHQUFHLEVBQUUsRUFDWixtQkFBbUIsR0FBRyxFQUFFLEVBQ3hCLFdBQVcsR0FBRyxJQUFJLEVBQ3BCLEVBQUUsQ0FBQyxDQUFDO0lBQ0UsSUFBSTtJQUNKLE1BQU0sRUFBRSxvQkFBb0IsRUFBRTtJQUM5QixhQUFhLEVBQUU7UUFDWCxVQUFVLEVBQUUsQ0FBQztRQUNiLGVBQWUsRUFBRSxJQUFJO0tBQ3hCO0lBQ0QsT0FBTyxFQUFFLGlCQUFpQjtJQUMxQixPQUFPLEVBQUUsZUFBZTtJQUN4QixXQUFXO0lBQ1gsT0FBTztJQUNQLG1CQUFtQjtJQUNuQixXQUFXO0NBQ00sQ0FBQSxDQUFDO0FBRTFCLE1BQU0sQ0FBQyxNQUFNLDRCQUE0QixHQUFpQyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSeENvbGxlY3Rpb24sIFJ4Q29sbGVjdGlvbkNyZWF0b3IgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGdldFN5bmNocm9uaXNlU2NoZW1hLCBTeW5jaHJvbmlzZURvY01ldGhvZHMsIFN5bmNocm9uaXNlRG9jVHlwZSB9IGZyb20gJy4vc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuXG5leHBvcnQgdHlwZSBTeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzID0ge307XG5cbmV4cG9ydCB0eXBlIFN5bmNocm9uaXNlQ29sbGVjdGlvbiA9IFJ4Q29sbGVjdGlvbjxTeW5jaHJvbmlzZURvY1R5cGUsIFN5bmNocm9uaXNlRG9jTWV0aG9kcywgU3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcz47XG5cbmV4cG9ydCBjb25zdCBnZXRTeW5jaHJvbmlzZUNvbGxlY3Rpb25DcmVhdG9yID0gKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBjb2xsZWN0aW9uTWV0aG9kczogU3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICBkb2N1bWVudE1ldGhvZHM6IFN5bmNocm9uaXNlRG9jTWV0aG9kcyxcbiAgICBhdHRhY2htZW50cyA9IHt9LFxuICAgIG9wdGlvbnMgPSB7fSxcbiAgICBtaWdyYXRpb25TdHJhdGVnaWVzID0ge30sXG4gICAgYXV0b01pZ3JhdGUgPSB0cnVlLFxuKSA9PiAoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBzY2hlbWE6IGdldFN5bmNocm9uaXNlU2NoZW1hKCksXG4gICAgICAgIHBvdWNoU2V0dGluZ3M6IHtcbiAgICAgICAgICAgIHJldnNfbGltaXQ6IDAsXG4gICAgICAgICAgICBhdXRvX2NvbXBhY3Rpb246IHRydWUsXG4gICAgICAgIH0sIC8vIChvcHRpb25hbClcbiAgICAgICAgc3RhdGljczogY29sbGVjdGlvbk1ldGhvZHMsIC8vIChvcHRpb25hbCkgLy8gT1JNLWZ1bmN0aW9ucyBmb3IgdGhpcyBjb2xsZWN0aW9uXG4gICAgICAgIG1ldGhvZHM6IGRvY3VtZW50TWV0aG9kcywgLy8gKG9wdGlvbmFsKSBPUk0tZnVuY3Rpb25zIGZvciBkb2N1bWVudHNcbiAgICAgICAgYXR0YWNobWVudHMsIC8vIChvcHRpb25hbCkgT1JNLWZ1bmN0aW9ucyBmb3IgYXR0YWNobWVudHNcbiAgICAgICAgb3B0aW9ucywgLy8gKG9wdGlvbmFsKSBDdXN0b20gcGFyYW10ZXJzIHRoYXQgbWlnaHQgYmUgdXNlZCBpbiBwbHVnaW5zXG4gICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXMsIC8vIChvcHRpb25hbClcbiAgICAgICAgYXV0b01pZ3JhdGUsIC8vIChvcHRpb25hbClcbn0gYXMgUnhDb2xsZWN0aW9uQ3JlYXRvcik7XG5cbmV4cG9ydCBjb25zdCBzeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzOiBTeW5jaHJvbmlzZUNvbGxlY3Rpb25NZXRob2RzID0ge307XG4iXX0=","originalSourcemap":{"version":3,"file":"synchronise-collection.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/definitions/synchronise-collection.ts"],"names":[],"mappings":[[[0,0,1,0],[7,0,1,7],[9,0,1,9],[29,0,1,29],[31,0,1,74],[37,0,1,80],[61,0,1,104],[62,0,1,105]],[[0,0,7,0],[6,0,7,6],[7,0,7,7],[13,0,7,13],[44,0,7,44],[47,0,7,47],[48,0,8,4],[52,0,8,16],[54,0,9,4],[71,0,9,51],[73,0,10,4],[88,0,10,42],[90,0,11,4],[101,0,11,15],[104,0,11,18],[106,0,11,20],[108,0,12,4],[115,0,12,11],[118,0,12,14],[120,0,12,16],[122,0,13,4],[141,0,13,23],[144,0,13,26],[146,0,13,28],[148,0,14,4],[159,0,14,15],[162,0,14,18],[166,0,14,22],[168,0,15,2],[170,0,15,4],[171,0,15,5],[172,0,15,6]],[[4,0,16,8],[8,0,16,12]],[[4,0,17,8],[10,0,17,14],[12,0,17,16],[32,0,17,36],[34,0,17,38]],[[4,0,18,8],[17,0,18,21],[19,0,18,23]],[[8,0,19,12],[18,0,19,22],[20,0,19,24],[21,0,19,25]],[[8,0,20,12],[23,0,20,27],[25,0,20,29],[29,0,20,33]],[[5,0,21,9]],[[4,0,22,8],[11,0,22,15],[13,0,22,17],[30,0,22,34]],[[4,0,23,8],[11,0,23,15],[13,0,23,17],[28,0,23,32]],[[4,0,24,8],[15,0,24,19]],[[4,0,25,8],[11,0,25,15]],[[4,0,26,8],[23,0,26,27]],[[4,0,27,8],[15,0,27,19]],[[1,0,28,25],[2,0,28,25],[3,0,28,26]],[[0,0,30,0],[6,0,30,6],[7,0,30,7],[13,0,30,13],[41,0,30,41],[44,0,30,74],[46,0,30,76],[47,0,30,77]]],"sourcesContent":["import { RxCollection, RxCollectionCreator } from 'rxdb';\nimport { getSynchroniseSchema, SynchroniseDocMethods, SynchroniseDocType } from './synchronise-document';\n\nexport type SynchroniseCollectionMethods = {};\n\nexport type SynchroniseCollection = RxCollection<SynchroniseDocType, SynchroniseDocMethods, SynchroniseCollectionMethods>;\n\nexport const getSynchroniseCollectionCreator = (\n    name: string,\n    collectionMethods: SynchroniseCollectionMethods,\n    documentMethods: SynchroniseDocMethods,\n    attachments = {},\n    options = {},\n    migrationStrategies = {},\n    autoMigrate = true,\n) => ({\n        name,\n        schema: getSynchroniseSchema(),\n        pouchSettings: {\n            revs_limit: 0,\n            auto_compaction: true,\n        }, // (optional)\n        statics: collectionMethods, // (optional) // ORM-functions for this collection\n        methods: documentMethods, // (optional) ORM-functions for documents\n        attachments, // (optional) ORM-functions for attachments\n        options, // (optional) Custom paramters that might be used in plugins\n        migrationStrategies, // (optional)\n        autoMigrate, // (optional)\n} as RxCollectionCreator);\n\nexport const synchroniseCollectionMethods: SynchroniseCollectionMethods = {};\n"]},"resolvedIds":{"./synchronise-document":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-document.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2550,"body":[{"type":"ImportDeclaration","start":0,"end":50,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"HttpParams"},"local":{"type":"Identifier","start":9,"end":19,"name":"HttpParams"}}],"source":{"type":"Literal","start":27,"end":49,"value":"@angular/common/http","raw":"\"@angular/common/http\""}},{"type":"ExportNamedDeclaration","start":51,"end":361,"declaration":{"type":"ClassDeclaration","start":58,"end":361,"id":{"type":"Identifier","start":64,"end":77,"name":"CustomEncoder"},"superClass":null,"body":{"type":"ClassBody","start":78,"end":361,"body":[{"type":"MethodDefinition","start":84,"end":146,"static":false,"computed":false,"key":{"type":"Identifier","start":84,"end":93,"name":"encodeKey"},"kind":"method","value":{"type":"FunctionExpression","start":93,"end":146,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":94,"end":97,"name":"key"}],"body":{"type":"BlockStatement","start":99,"end":146,"body":[{"type":"ReturnStatement","start":109,"end":140,"argument":{"type":"CallExpression","start":116,"end":139,"callee":{"type":"Identifier","start":116,"end":134,"name":"encodeURIComponent"},"arguments":[{"type":"Identifier","start":135,"end":138,"name":"key"}],"optional":false}}]}}},{"type":"MethodDefinition","start":151,"end":219,"static":false,"computed":false,"key":{"type":"Identifier","start":151,"end":162,"name":"encodeValue"},"kind":"method","value":{"type":"FunctionExpression","start":162,"end":219,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":163,"end":168,"name":"value"}],"body":{"type":"BlockStatement","start":170,"end":219,"body":[{"type":"ReturnStatement","start":180,"end":213,"argument":{"type":"CallExpression","start":187,"end":212,"callee":{"type":"Identifier","start":187,"end":205,"name":"encodeURIComponent"},"arguments":[{"type":"Identifier","start":206,"end":211,"name":"value"}],"optional":false}}]}}},{"type":"MethodDefinition","start":224,"end":286,"static":false,"computed":false,"key":{"type":"Identifier","start":224,"end":233,"name":"decodeKey"},"kind":"method","value":{"type":"FunctionExpression","start":233,"end":286,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":234,"end":237,"name":"key"}],"body":{"type":"BlockStatement","start":239,"end":286,"body":[{"type":"ReturnStatement","start":249,"end":280,"argument":{"type":"CallExpression","start":256,"end":279,"callee":{"type":"Identifier","start":256,"end":274,"name":"decodeURIComponent"},"arguments":[{"type":"Identifier","start":275,"end":278,"name":"key"}],"optional":false}}]}}},{"type":"MethodDefinition","start":291,"end":359,"static":false,"computed":false,"key":{"type":"Identifier","start":291,"end":302,"name":"decodeValue"},"kind":"method","value":{"type":"FunctionExpression","start":302,"end":359,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":303,"end":308,"name":"value"}],"body":{"type":"BlockStatement","start":310,"end":359,"body":[{"type":"ReturnStatement","start":320,"end":353,"argument":{"type":"CallExpression","start":327,"end":352,"callee":{"type":"Identifier","start":327,"end":345,"name":"decodeURIComponent"},"arguments":[{"type":"Identifier","start":346,"end":351,"name":"value"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":362,"end":543,"declaration":{"type":"ClassDeclaration","start":369,"end":543,"id":{"type":"Identifier","start":375,"end":391,"name":"CustomHttpParams"},"superClass":{"type":"Identifier","start":400,"end":410,"name":"HttpParams"},"body":{"type":"ClassBody","start":411,"end":543,"body":[{"type":"MethodDefinition","start":417,"end":541,"static":false,"computed":false,"key":{"type":"Identifier","start":417,"end":428,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":428,"end":541,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":429,"end":436,"name":"options"}],"body":{"type":"BlockStatement","start":438,"end":541,"body":[{"type":"ExpressionStatement","start":448,"end":511,"expression":{"type":"AssignmentExpression","start":448,"end":510,"operator":"=","left":{"type":"Identifier","start":448,"end":455,"name":"options"},"right":{"type":"ObjectExpression","start":458,"end":510,"properties":[{"type":"SpreadElement","start":460,"end":478,"argument":{"type":"LogicalExpression","start":464,"end":477,"left":{"type":"Identifier","start":464,"end":471,"name":"options"},"operator":"||","right":{"type":"ObjectExpression","start":475,"end":477,"properties":[]}}},{"type":"Property","start":480,"end":508,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":480,"end":487,"name":"encoder"},"value":{"type":"NewExpression","start":489,"end":508,"callee":{"type":"Identifier","start":493,"end":506,"name":"CustomEncoder"},"arguments":[]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":520,"end":535,"expression":{"type":"CallExpression","start":520,"end":534,"callee":{"type":"Super","start":520,"end":525},"arguments":[{"type":"Identifier","start":526,"end":533,"name":"options"}],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tUGFyYW1zLnJlc291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcHdhZGItbGliL3NyYy9saWIvcmVzb3VyY2VzL2N1c3RvbVBhcmFtcy5yZXNvdXJjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQXNCLFVBQVUsRUFBcUIsTUFBTSxzQkFBc0IsQ0FBQztBQUV6RixNQUFNLE9BQU8sYUFBYTtJQUN0QixTQUFTLENBQUMsR0FBVztRQUNqQixPQUFPLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBYTtRQUNyQixPQUFPLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxTQUFTLENBQUMsR0FBVztRQUNqQixPQUFPLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBYTtRQUNyQixPQUFPLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxVQUFVO0lBRTVDLFlBQVksT0FBMkI7UUFFbkMsT0FBTyxHQUFHLEVBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxhQUFhLEVBQUUsRUFBQyxDQUFDO1FBRTdELEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUNsQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUGFyYW1ldGVyQ29kZWMsIEh0dHBQYXJhbXMsIEh0dHBQYXJhbXNPcHRpb25zIH0gZnJvbSBcIkBhbmd1bGFyL2NvbW1vbi9odHRwXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21FbmNvZGVyIGltcGxlbWVudHMgSHR0cFBhcmFtZXRlckNvZGVjIHtcbiAgICBlbmNvZGVLZXkoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSk7XG4gICAgfVxuXG4gICAgZW5jb2RlVmFsdWUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgIH1cblxuICAgIGRlY29kZUtleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICB9XG5cbiAgICBkZWNvZGVWYWx1ZSh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3VzdG9tSHR0cFBhcmFtcyBleHRlbmRzIEh0dHBQYXJhbXMge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IEh0dHBQYXJhbXNPcHRpb25zKSB7XG5cbiAgICAgICAgb3B0aW9ucyA9IHsuLi4ob3B0aW9ucyB8fCB7fSksIGVuY29kZXI6IG5ldyBDdXN0b21FbmNvZGVyKCl9O1xuXG4gICAgICAgIHN1cGVyKG9wdGlvbnMpXG4gICAgfVxufVxuIl19","start":544,"end":2550}]},"code":"import { HttpParams } from \"@angular/common/http\";\nexport class CustomEncoder {\n    encodeKey(key) {\n        return encodeURIComponent(key);\n    }\n    encodeValue(value) {\n        return encodeURIComponent(value);\n    }\n    decodeKey(key) {\n        return decodeURIComponent(key);\n    }\n    decodeValue(value) {\n        return decodeURIComponent(value);\n    }\n}\nexport class CustomHttpParams extends HttpParams {\n    constructor(options) {\n        options = { ...(options || {}), encoder: new CustomEncoder() };\n        super(options);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tUGFyYW1zLnJlc291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcHdhZGItbGliL3NyYy9saWIvcmVzb3VyY2VzL2N1c3RvbVBhcmFtcy5yZXNvdXJjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQXNCLFVBQVUsRUFBcUIsTUFBTSxzQkFBc0IsQ0FBQztBQUV6RixNQUFNLE9BQU8sYUFBYTtJQUN0QixTQUFTLENBQUMsR0FBVztRQUNqQixPQUFPLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBYTtRQUNyQixPQUFPLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxTQUFTLENBQUMsR0FBVztRQUNqQixPQUFPLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBYTtRQUNyQixPQUFPLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxVQUFVO0lBRTVDLFlBQVksT0FBMkI7UUFFbkMsT0FBTyxHQUFHLEVBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxhQUFhLEVBQUUsRUFBQyxDQUFDO1FBRTdELEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUNsQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUGFyYW1ldGVyQ29kZWMsIEh0dHBQYXJhbXMsIEh0dHBQYXJhbXNPcHRpb25zIH0gZnJvbSBcIkBhbmd1bGFyL2NvbW1vbi9odHRwXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21FbmNvZGVyIGltcGxlbWVudHMgSHR0cFBhcmFtZXRlckNvZGVjIHtcbiAgICBlbmNvZGVLZXkoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSk7XG4gICAgfVxuXG4gICAgZW5jb2RlVmFsdWUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgIH1cblxuICAgIGRlY29kZUtleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICB9XG5cbiAgICBkZWNvZGVWYWx1ZSh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3VzdG9tSHR0cFBhcmFtcyBleHRlbmRzIEh0dHBQYXJhbXMge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IEh0dHBQYXJhbXNPcHRpb25zKSB7XG5cbiAgICAgICAgb3B0aW9ucyA9IHsuLi4ob3B0aW9ucyB8fCB7fSksIGVuY29kZXI6IG5ldyBDdXN0b21FbmNvZGVyKCl9O1xuXG4gICAgICAgIHN1cGVyKG9wdGlvbnMpXG4gICAgfVxufVxuIl19","customTransformCache":false,"dependencies":["@angular/common/http"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { HttpParams } from \"@angular/common/http\";\nexport class CustomEncoder {\n    encodeKey(key) {\n        return encodeURIComponent(key);\n    }\n    encodeValue(value) {\n        return encodeURIComponent(value);\n    }\n    decodeKey(key) {\n        return decodeURIComponent(key);\n    }\n    decodeValue(value) {\n        return decodeURIComponent(value);\n    }\n}\nexport class CustomHttpParams extends HttpParams {\n    constructor(options) {\n        options = { ...(options || {}), encoder: new CustomEncoder() };\n        super(options);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tUGFyYW1zLnJlc291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcHdhZGItbGliL3NyYy9saWIvcmVzb3VyY2VzL2N1c3RvbVBhcmFtcy5yZXNvdXJjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQXNCLFVBQVUsRUFBcUIsTUFBTSxzQkFBc0IsQ0FBQztBQUV6RixNQUFNLE9BQU8sYUFBYTtJQUN0QixTQUFTLENBQUMsR0FBVztRQUNqQixPQUFPLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBYTtRQUNyQixPQUFPLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxTQUFTLENBQUMsR0FBVztRQUNqQixPQUFPLGtCQUFrQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRCxXQUFXLENBQUMsS0FBYTtRQUNyQixPQUFPLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxVQUFVO0lBRTVDLFlBQVksT0FBMkI7UUFFbkMsT0FBTyxHQUFHLEVBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUUsSUFBSSxhQUFhLEVBQUUsRUFBQyxDQUFDO1FBRTdELEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUNsQixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUGFyYW1ldGVyQ29kZWMsIEh0dHBQYXJhbXMsIEh0dHBQYXJhbXNPcHRpb25zIH0gZnJvbSBcIkBhbmd1bGFyL2NvbW1vbi9odHRwXCI7XG5cbmV4cG9ydCBjbGFzcyBDdXN0b21FbmNvZGVyIGltcGxlbWVudHMgSHR0cFBhcmFtZXRlckNvZGVjIHtcbiAgICBlbmNvZGVLZXkoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSk7XG4gICAgfVxuXG4gICAgZW5jb2RlVmFsdWUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgIH1cblxuICAgIGRlY29kZUtleShrZXk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoa2V5KTtcbiAgICB9XG5cbiAgICBkZWNvZGVWYWx1ZSh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3VzdG9tSHR0cFBhcmFtcyBleHRlbmRzIEh0dHBQYXJhbXMge1xuXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucz86IEh0dHBQYXJhbXNPcHRpb25zKSB7XG5cbiAgICAgICAgb3B0aW9ucyA9IHsuLi4ob3B0aW9ucyB8fCB7fSksIGVuY29kZXI6IG5ldyBDdXN0b21FbmNvZGVyKCl9O1xuXG4gICAgICAgIHN1cGVyKG9wdGlvbnMpXG4gICAgfVxufVxuIl19","originalSourcemap":{"version":3,"file":"customParams.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/customParams.resource.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,29],[19,0,0,39],[21,0,0,60],[27,0,0,66],[49,0,0,88],[50,0,0,89]],[[0,0,2,0],[6,0,2,6],[13,0,2,13],[26,0,2,26]],[[4,0,3,4],[13,0,3,13],[14,0,3,14],[17,0,3,25]],[[8,0,4,8],[15,0,4,15],[33,0,4,33],[34,0,4,34],[37,0,4,37],[38,0,4,38],[39,0,4,39]],[[4,0,5,4],[5,0,5,5]],[[4,0,7,4],[15,0,7,15],[16,0,7,16],[21,0,7,29]],[[8,0,8,8],[15,0,8,15],[33,0,8,33],[34,0,8,34],[39,0,8,39],[40,0,8,40],[41,0,8,41]],[[4,0,9,4],[5,0,9,5]],[[4,0,11,4],[13,0,11,13],[14,0,11,14],[17,0,11,25]],[[8,0,12,8],[15,0,12,15],[33,0,12,33],[34,0,12,34],[37,0,12,37],[38,0,12,38],[39,0,12,39]],[[4,0,13,4],[5,0,13,5]],[[4,0,15,4],[15,0,15,15],[16,0,15,16],[21,0,15,29]],[[8,0,16,8],[15,0,16,15],[33,0,16,33],[34,0,16,34],[39,0,16,39],[40,0,16,40],[41,0,16,41]],[[4,0,17,4],[5,0,17,5]],[[1,0,18,1]],[[0,0,20,0],[6,0,20,6],[13,0,20,13],[29,0,20,30],[38,0,20,38],[48,0,20,48]],[[4,0,22,4],[16,0,22,16],[23,0,22,43]],[[8,0,24,8],[15,0,24,15],[18,0,24,18],[20,0,24,19],[23,0,24,22],[24,0,24,23],[31,0,24,30],[35,0,24,34],[37,0,24,36],[38,0,24,37],[40,0,24,39],[47,0,24,46],[49,0,24,48],[53,0,24,52],[66,0,24,65],[68,0,24,67],[70,0,24,68],[71,0,24,69]],[[8,0,26,8],[13,0,26,13],[14,0,26,14],[21,0,26,21],[22,0,26,22],[23,0,26,22]],[[4,0,27,4],[5,0,27,5]],[[1,0,28,1]]],"sourcesContent":["import { HttpParameterCodec, HttpParams, HttpParamsOptions } from \"@angular/common/http\";\n\nexport class CustomEncoder implements HttpParameterCodec {\n    encodeKey(key: string): string {\n        return encodeURIComponent(key);\n    }\n\n    encodeValue(value: string): string {\n        return encodeURIComponent(value);\n    }\n\n    decodeKey(key: string): string {\n        return decodeURIComponent(key);\n    }\n\n    decodeValue(value: string): string {\n        return decodeURIComponent(value);\n    }\n}\n\nexport class CustomHttpParams extends HttpParams {\n\n    constructor(options?: HttpParamsOptions) {\n\n        options = {...(options || {}), encoder: new CustomEncoder()};\n\n        super(options)\n    }\n}\n"]},"resolvedIds":{"@angular/common/http":{"external":true,"id":"@angular/common/http","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":54184,"body":[{"type":"ExportNamedDeclaration","start":0,"end":300,"declaration":{"type":"FunctionDeclaration","start":7,"end":300,"id":{"type":"Identifier","start":16,"end":27,"name":"parseNumber"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":28,"end":38,"name":"fieldValue"},{"type":"Identifier","start":40,"end":50,"name":"inputValue"}],"body":{"type":"BlockStatement","start":52,"end":300,"body":[{"type":"VariableDeclaration","start":58,"end":120,"declarations":[{"type":"VariableDeclarator","start":64,"end":119,"id":{"type":"Identifier","start":64,"end":80,"name":"parsedFieldValue"},"init":{"type":"CallExpression","start":83,"end":119,"callee":{"type":"Identifier","start":83,"end":89,"name":"Number"},"arguments":[{"type":"LogicalExpression","start":90,"end":118,"left":{"type":"ChainExpression","start":90,"end":112,"expression":{"type":"CallExpression","start":90,"end":112,"callee":{"type":"MemberExpression","start":90,"end":110,"object":{"type":"Identifier","start":90,"end":100,"name":"fieldValue"},"property":{"type":"Identifier","start":102,"end":110,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"Literal","start":116,"end":118,"value":"","raw":"''"}}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":125,"end":187,"declarations":[{"type":"VariableDeclarator","start":131,"end":186,"id":{"type":"Identifier","start":131,"end":147,"name":"parsedInputValue"},"init":{"type":"CallExpression","start":150,"end":186,"callee":{"type":"Identifier","start":150,"end":156,"name":"Number"},"arguments":[{"type":"LogicalExpression","start":157,"end":185,"left":{"type":"ChainExpression","start":157,"end":179,"expression":{"type":"CallExpression","start":157,"end":179,"callee":{"type":"MemberExpression","start":157,"end":177,"object":{"type":"Identifier","start":157,"end":167,"name":"inputValue"},"property":{"type":"Identifier","start":169,"end":177,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"Literal","start":183,"end":185,"value":"","raw":"''"}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":192,"end":298,"argument":{"type":"ConditionalExpression","start":199,"end":297,"test":{"type":"LogicalExpression","start":199,"end":249,"left":{"type":"CallExpression","start":199,"end":222,"callee":{"type":"Identifier","start":199,"end":204,"name":"isNaN"},"arguments":[{"type":"Identifier","start":205,"end":221,"name":"parsedFieldValue"}],"optional":false},"operator":"&&","right":{"type":"CallExpression","start":226,"end":249,"callee":{"type":"Identifier","start":226,"end":231,"name":"isNaN"},"arguments":[{"type":"Identifier","start":232,"end":248,"name":"parsedInputValue"}],"optional":false}},"consequent":{"type":"Literal","start":252,"end":256,"value":null,"raw":"null"},"alternate":{"type":"ObjectExpression","start":259,"end":297,"properties":[{"type":"Property","start":261,"end":277,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":261,"end":277,"name":"parsedFieldValue"},"kind":"init","value":{"type":"Identifier","start":261,"end":277,"name":"parsedFieldValue"}},{"type":"Property","start":279,"end":295,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":279,"end":295,"name":"parsedInputValue"},"kind":"init","value":{"type":"Identifier","start":279,"end":295,"name":"parsedInputValue"}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":301,"end":607,"declaration":{"type":"FunctionDeclaration","start":308,"end":607,"id":{"type":"Identifier","start":317,"end":326,"name":"parseDate"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":327,"end":337,"name":"fieldValue"},{"type":"Identifier","start":339,"end":349,"name":"inputValue"}],"body":{"type":"BlockStatement","start":351,"end":607,"body":[{"type":"VariableDeclaration","start":357,"end":423,"declarations":[{"type":"VariableDeclarator","start":363,"end":422,"id":{"type":"Identifier","start":363,"end":379,"name":"parsedFieldValue"},"init":{"type":"CallExpression","start":382,"end":422,"callee":{"type":"MemberExpression","start":382,"end":392,"object":{"type":"Identifier","start":382,"end":386,"name":"Date"},"property":{"type":"Identifier","start":387,"end":392,"name":"parse"},"computed":false,"optional":false},"arguments":[{"type":"LogicalExpression","start":393,"end":421,"left":{"type":"ChainExpression","start":393,"end":415,"expression":{"type":"CallExpression","start":393,"end":415,"callee":{"type":"MemberExpression","start":393,"end":413,"object":{"type":"Identifier","start":393,"end":403,"name":"fieldValue"},"property":{"type":"Identifier","start":405,"end":413,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"Literal","start":419,"end":421,"value":"","raw":"''"}}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":428,"end":494,"declarations":[{"type":"VariableDeclarator","start":434,"end":493,"id":{"type":"Identifier","start":434,"end":450,"name":"parsedInputValue"},"init":{"type":"CallExpression","start":453,"end":493,"callee":{"type":"MemberExpression","start":453,"end":463,"object":{"type":"Identifier","start":453,"end":457,"name":"Date"},"property":{"type":"Identifier","start":458,"end":463,"name":"parse"},"computed":false,"optional":false},"arguments":[{"type":"LogicalExpression","start":464,"end":492,"left":{"type":"ChainExpression","start":464,"end":486,"expression":{"type":"CallExpression","start":464,"end":486,"callee":{"type":"MemberExpression","start":464,"end":484,"object":{"type":"Identifier","start":464,"end":474,"name":"inputValue"},"property":{"type":"Identifier","start":476,"end":484,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"Literal","start":490,"end":492,"value":"","raw":"''"}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":499,"end":605,"argument":{"type":"ConditionalExpression","start":506,"end":604,"test":{"type":"LogicalExpression","start":506,"end":556,"left":{"type":"CallExpression","start":506,"end":529,"callee":{"type":"Identifier","start":506,"end":511,"name":"isNaN"},"arguments":[{"type":"Identifier","start":512,"end":528,"name":"parsedFieldValue"}],"optional":false},"operator":"&&","right":{"type":"CallExpression","start":533,"end":556,"callee":{"type":"Identifier","start":533,"end":538,"name":"isNaN"},"arguments":[{"type":"Identifier","start":539,"end":555,"name":"parsedInputValue"}],"optional":false}},"consequent":{"type":"Literal","start":559,"end":563,"value":null,"raw":"null"},"alternate":{"type":"ObjectExpression","start":566,"end":604,"properties":[{"type":"Property","start":568,"end":584,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":568,"end":584,"name":"parsedFieldValue"},"kind":"init","value":{"type":"Identifier","start":568,"end":584,"name":"parsedFieldValue"}},{"type":"Property","start":586,"end":602,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":586,"end":602,"name":"parsedInputValue"},"kind":"init","value":{"type":"Identifier","start":586,"end":602,"name":"parsedInputValue"}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":608,"end":1081,"declaration":{"type":"FunctionDeclaration","start":615,"end":1081,"id":{"type":"Identifier","start":624,"end":636,"name":"parseBoolean"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":637,"end":647,"name":"fieldValue"},{"type":"Identifier","start":649,"end":659,"name":"inputValue"}],"body":{"type":"BlockStatement","start":661,"end":1081,"body":[{"type":"VariableDeclaration","start":667,"end":813,"declarations":[{"type":"VariableDeclarator","start":673,"end":812,"id":{"type":"Identifier","start":673,"end":689,"name":"parsedFieldValue"},"init":{"type":"ConditionalExpression","start":692,"end":812,"test":{"type":"BinaryExpression","start":692,"end":739,"left":{"type":"ChainExpression","start":692,"end":728,"expression":{"type":"CallExpression","start":692,"end":728,"callee":{"type":"MemberExpression","start":692,"end":726,"object":{"type":"CallExpression","start":692,"end":714,"callee":{"type":"MemberExpression","start":692,"end":712,"object":{"type":"Identifier","start":692,"end":702,"name":"fieldValue"},"property":{"type":"Identifier","start":704,"end":712,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":715,"end":726,"name":"toLowerCase"},"computed":false,"optional":false},"arguments":[],"optional":false}},"operator":"===","right":{"type":"Literal","start":733,"end":739,"value":"true","raw":"'true'"}},"consequent":{"type":"Literal","start":742,"end":746,"value":true,"raw":"true"},"alternate":{"type":"ConditionalExpression","start":749,"end":812,"test":{"type":"BinaryExpression","start":749,"end":797,"left":{"type":"ChainExpression","start":749,"end":785,"expression":{"type":"CallExpression","start":749,"end":785,"callee":{"type":"MemberExpression","start":749,"end":783,"object":{"type":"CallExpression","start":749,"end":771,"callee":{"type":"MemberExpression","start":749,"end":769,"object":{"type":"Identifier","start":749,"end":759,"name":"fieldValue"},"property":{"type":"Identifier","start":761,"end":769,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":772,"end":783,"name":"toLowerCase"},"computed":false,"optional":false},"arguments":[],"optional":false}},"operator":"===","right":{"type":"Literal","start":790,"end":797,"value":"false","raw":"'false'"}},"consequent":{"type":"Literal","start":800,"end":805,"value":false,"raw":"false"},"alternate":{"type":"Literal","start":808,"end":812,"value":null,"raw":"null"}}}}],"kind":"const"},{"type":"VariableDeclaration","start":818,"end":964,"declarations":[{"type":"VariableDeclarator","start":824,"end":963,"id":{"type":"Identifier","start":824,"end":840,"name":"parsedInputValue"},"init":{"type":"ConditionalExpression","start":843,"end":963,"test":{"type":"BinaryExpression","start":843,"end":890,"left":{"type":"ChainExpression","start":843,"end":879,"expression":{"type":"CallExpression","start":843,"end":879,"callee":{"type":"MemberExpression","start":843,"end":877,"object":{"type":"CallExpression","start":843,"end":865,"callee":{"type":"MemberExpression","start":843,"end":863,"object":{"type":"Identifier","start":843,"end":853,"name":"inputValue"},"property":{"type":"Identifier","start":855,"end":863,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":866,"end":877,"name":"toLowerCase"},"computed":false,"optional":false},"arguments":[],"optional":false}},"operator":"===","right":{"type":"Literal","start":884,"end":890,"value":"true","raw":"'true'"}},"consequent":{"type":"Literal","start":893,"end":897,"value":true,"raw":"true"},"alternate":{"type":"ConditionalExpression","start":900,"end":963,"test":{"type":"BinaryExpression","start":900,"end":948,"left":{"type":"ChainExpression","start":900,"end":936,"expression":{"type":"CallExpression","start":900,"end":936,"callee":{"type":"MemberExpression","start":900,"end":934,"object":{"type":"CallExpression","start":900,"end":922,"callee":{"type":"MemberExpression","start":900,"end":920,"object":{"type":"Identifier","start":900,"end":910,"name":"inputValue"},"property":{"type":"Identifier","start":912,"end":920,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":923,"end":934,"name":"toLowerCase"},"computed":false,"optional":false},"arguments":[],"optional":false}},"operator":"===","right":{"type":"Literal","start":941,"end":948,"value":"false","raw":"'false'"}},"consequent":{"type":"Literal","start":951,"end":956,"value":false,"raw":"false"},"alternate":{"type":"Literal","start":959,"end":963,"value":null,"raw":"null"}}}}],"kind":"const"},{"type":"ReturnStatement","start":969,"end":1079,"argument":{"type":"ConditionalExpression","start":976,"end":1078,"test":{"type":"LogicalExpression","start":976,"end":1030,"left":{"type":"BinaryExpression","start":976,"end":1001,"left":{"type":"Identifier","start":976,"end":992,"name":"parsedFieldValue"},"operator":"===","right":{"type":"Literal","start":997,"end":1001,"value":null,"raw":"null"}},"operator":"||","right":{"type":"BinaryExpression","start":1005,"end":1030,"left":{"type":"Identifier","start":1005,"end":1021,"name":"parsedInputValue"},"operator":"===","right":{"type":"Literal","start":1026,"end":1030,"value":null,"raw":"null"}}},"consequent":{"type":"Literal","start":1033,"end":1037,"value":null,"raw":"null"},"alternate":{"type":"ObjectExpression","start":1040,"end":1078,"properties":[{"type":"Property","start":1042,"end":1058,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1042,"end":1058,"name":"parsedFieldValue"},"kind":"init","value":{"type":"Identifier","start":1042,"end":1058,"name":"parsedFieldValue"}},{"type":"Property","start":1060,"end":1076,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":1060,"end":1076,"name":"parsedInputValue"},"kind":"init","value":{"type":"Identifier","start":1060,"end":1076,"name":"parsedInputValue"}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":1082,"end":1643,"declaration":{"type":"VariableDeclaration","start":1089,"end":1643,"declarations":[{"type":"VariableDeclarator","start":1095,"end":1642,"id":{"type":"Identifier","start":1095,"end":1097,"name":"eq"},"init":{"type":"ArrowFunctionExpression","start":1100,"end":1642,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1101,"end":1102,"name":"v"},{"type":"Identifier","start":1104,"end":1109,"name":"field"},{"type":"Identifier","start":1111,"end":1121,"name":"inputValue"}],"body":{"type":"BlockStatement","start":1126,"end":1642,"body":[{"type":"VariableDeclaration","start":1132,"end":1184,"declarations":[{"type":"VariableDeclarator","start":1138,"end":1183,"id":{"type":"Identifier","start":1138,"end":1144,"name":"isDate"},"init":{"type":"CallExpression","start":1147,"end":1183,"callee":{"type":"Identifier","start":1147,"end":1156,"name":"parseDate"},"arguments":[{"type":"MemberExpression","start":1157,"end":1170,"object":{"type":"MemberExpression","start":1157,"end":1163,"object":{"type":"Identifier","start":1157,"end":1158,"name":"v"},"property":{"type":"Identifier","start":1159,"end":1163,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1164,"end":1169,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":1172,"end":1182,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1189,"end":1276,"test":{"type":"Identifier","start":1193,"end":1199,"name":"isDate"},"consequent":{"type":"BlockStatement","start":1201,"end":1276,"body":[{"type":"ReturnStatement","start":1211,"end":1270,"argument":{"type":"BinaryExpression","start":1218,"end":1269,"left":{"type":"MemberExpression","start":1218,"end":1241,"object":{"type":"Identifier","start":1218,"end":1224,"name":"isDate"},"property":{"type":"Identifier","start":1225,"end":1241,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"===","right":{"type":"MemberExpression","start":1246,"end":1269,"object":{"type":"Identifier","start":1246,"end":1252,"name":"isDate"},"property":{"type":"Identifier","start":1253,"end":1269,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":1281,"end":1337,"declarations":[{"type":"VariableDeclarator","start":1287,"end":1336,"id":{"type":"Identifier","start":1287,"end":1295,"name":"isNumber"},"init":{"type":"CallExpression","start":1298,"end":1336,"callee":{"type":"Identifier","start":1298,"end":1309,"name":"parseNumber"},"arguments":[{"type":"MemberExpression","start":1310,"end":1323,"object":{"type":"MemberExpression","start":1310,"end":1316,"object":{"type":"Identifier","start":1310,"end":1311,"name":"v"},"property":{"type":"Identifier","start":1312,"end":1316,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1317,"end":1322,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":1325,"end":1335,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1342,"end":1435,"test":{"type":"Identifier","start":1346,"end":1354,"name":"isNumber"},"consequent":{"type":"BlockStatement","start":1356,"end":1435,"body":[{"type":"ReturnStatement","start":1366,"end":1429,"argument":{"type":"BinaryExpression","start":1373,"end":1428,"left":{"type":"MemberExpression","start":1373,"end":1398,"object":{"type":"Identifier","start":1373,"end":1381,"name":"isNumber"},"property":{"type":"Identifier","start":1382,"end":1398,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"===","right":{"type":"MemberExpression","start":1403,"end":1428,"object":{"type":"Identifier","start":1403,"end":1411,"name":"isNumber"},"property":{"type":"Identifier","start":1412,"end":1428,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":1440,"end":1498,"declarations":[{"type":"VariableDeclarator","start":1446,"end":1497,"id":{"type":"Identifier","start":1446,"end":1455,"name":"isBoolean"},"init":{"type":"CallExpression","start":1458,"end":1497,"callee":{"type":"Identifier","start":1458,"end":1470,"name":"parseBoolean"},"arguments":[{"type":"MemberExpression","start":1471,"end":1484,"object":{"type":"MemberExpression","start":1471,"end":1477,"object":{"type":"Identifier","start":1471,"end":1472,"name":"v"},"property":{"type":"Identifier","start":1473,"end":1477,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1478,"end":1483,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":1486,"end":1496,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1503,"end":1599,"test":{"type":"Identifier","start":1507,"end":1516,"name":"isBoolean"},"consequent":{"type":"BlockStatement","start":1518,"end":1599,"body":[{"type":"ReturnStatement","start":1528,"end":1593,"argument":{"type":"BinaryExpression","start":1535,"end":1592,"left":{"type":"MemberExpression","start":1535,"end":1561,"object":{"type":"Identifier","start":1535,"end":1544,"name":"isBoolean"},"property":{"type":"Identifier","start":1545,"end":1561,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"===","right":{"type":"MemberExpression","start":1566,"end":1592,"object":{"type":"Identifier","start":1566,"end":1575,"name":"isBoolean"},"property":{"type":"Identifier","start":1576,"end":1592,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"ReturnStatement","start":1604,"end":1640,"argument":{"type":"BinaryExpression","start":1611,"end":1639,"left":{"type":"MemberExpression","start":1611,"end":1624,"object":{"type":"MemberExpression","start":1611,"end":1617,"object":{"type":"Identifier","start":1611,"end":1612,"name":"v"},"property":{"type":"Identifier","start":1613,"end":1617,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1618,"end":1623,"name":"field"},"computed":true,"optional":false},"operator":"===","right":{"type":"Identifier","start":1629,"end":1639,"name":"inputValue"}}}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":1644,"end":2039,"declaration":{"type":"VariableDeclaration","start":1651,"end":2039,"declarations":[{"type":"VariableDeclarator","start":1657,"end":2038,"id":{"type":"Identifier","start":1657,"end":1660,"name":"gte"},"init":{"type":"ArrowFunctionExpression","start":1663,"end":2038,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1664,"end":1665,"name":"v"},{"type":"Identifier","start":1667,"end":1672,"name":"field"},{"type":"Identifier","start":1674,"end":1684,"name":"inputValue"}],"body":{"type":"BlockStatement","start":1689,"end":2038,"body":[{"type":"VariableDeclaration","start":1695,"end":1747,"declarations":[{"type":"VariableDeclarator","start":1701,"end":1746,"id":{"type":"Identifier","start":1701,"end":1707,"name":"isDate"},"init":{"type":"CallExpression","start":1710,"end":1746,"callee":{"type":"Identifier","start":1710,"end":1719,"name":"parseDate"},"arguments":[{"type":"MemberExpression","start":1720,"end":1733,"object":{"type":"MemberExpression","start":1720,"end":1726,"object":{"type":"Identifier","start":1720,"end":1721,"name":"v"},"property":{"type":"Identifier","start":1722,"end":1726,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1727,"end":1732,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":1735,"end":1745,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1752,"end":1838,"test":{"type":"Identifier","start":1756,"end":1762,"name":"isDate"},"consequent":{"type":"BlockStatement","start":1764,"end":1838,"body":[{"type":"ReturnStatement","start":1774,"end":1832,"argument":{"type":"BinaryExpression","start":1781,"end":1831,"left":{"type":"MemberExpression","start":1781,"end":1804,"object":{"type":"Identifier","start":1781,"end":1787,"name":"isDate"},"property":{"type":"Identifier","start":1788,"end":1804,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":">=","right":{"type":"MemberExpression","start":1808,"end":1831,"object":{"type":"Identifier","start":1808,"end":1814,"name":"isDate"},"property":{"type":"Identifier","start":1815,"end":1831,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":1843,"end":1899,"declarations":[{"type":"VariableDeclarator","start":1849,"end":1898,"id":{"type":"Identifier","start":1849,"end":1857,"name":"isNumber"},"init":{"type":"CallExpression","start":1860,"end":1898,"callee":{"type":"Identifier","start":1860,"end":1871,"name":"parseNumber"},"arguments":[{"type":"MemberExpression","start":1872,"end":1885,"object":{"type":"MemberExpression","start":1872,"end":1878,"object":{"type":"Identifier","start":1872,"end":1873,"name":"v"},"property":{"type":"Identifier","start":1874,"end":1878,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1879,"end":1884,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":1887,"end":1897,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1904,"end":1996,"test":{"type":"Identifier","start":1908,"end":1916,"name":"isNumber"},"consequent":{"type":"BlockStatement","start":1918,"end":1996,"body":[{"type":"ReturnStatement","start":1928,"end":1990,"argument":{"type":"BinaryExpression","start":1935,"end":1989,"left":{"type":"MemberExpression","start":1935,"end":1960,"object":{"type":"Identifier","start":1935,"end":1943,"name":"isNumber"},"property":{"type":"Identifier","start":1944,"end":1960,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":">=","right":{"type":"MemberExpression","start":1964,"end":1989,"object":{"type":"Identifier","start":1964,"end":1972,"name":"isNumber"},"property":{"type":"Identifier","start":1973,"end":1989,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"ReturnStatement","start":2001,"end":2036,"argument":{"type":"BinaryExpression","start":2008,"end":2035,"left":{"type":"MemberExpression","start":2008,"end":2021,"object":{"type":"MemberExpression","start":2008,"end":2014,"object":{"type":"Identifier","start":2008,"end":2009,"name":"v"},"property":{"type":"Identifier","start":2010,"end":2014,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2015,"end":2020,"name":"field"},"computed":true,"optional":false},"operator":">=","right":{"type":"Identifier","start":2025,"end":2035,"name":"inputValue"}}}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":2040,"end":2435,"declaration":{"type":"VariableDeclaration","start":2047,"end":2435,"declarations":[{"type":"VariableDeclarator","start":2053,"end":2434,"id":{"type":"Identifier","start":2053,"end":2056,"name":"lte"},"init":{"type":"ArrowFunctionExpression","start":2059,"end":2434,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2060,"end":2061,"name":"v"},{"type":"Identifier","start":2063,"end":2068,"name":"field"},{"type":"Identifier","start":2070,"end":2080,"name":"inputValue"}],"body":{"type":"BlockStatement","start":2085,"end":2434,"body":[{"type":"VariableDeclaration","start":2091,"end":2143,"declarations":[{"type":"VariableDeclarator","start":2097,"end":2142,"id":{"type":"Identifier","start":2097,"end":2103,"name":"isDate"},"init":{"type":"CallExpression","start":2106,"end":2142,"callee":{"type":"Identifier","start":2106,"end":2115,"name":"parseDate"},"arguments":[{"type":"MemberExpression","start":2116,"end":2129,"object":{"type":"MemberExpression","start":2116,"end":2122,"object":{"type":"Identifier","start":2116,"end":2117,"name":"v"},"property":{"type":"Identifier","start":2118,"end":2122,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2123,"end":2128,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":2131,"end":2141,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2148,"end":2234,"test":{"type":"Identifier","start":2152,"end":2158,"name":"isDate"},"consequent":{"type":"BlockStatement","start":2160,"end":2234,"body":[{"type":"ReturnStatement","start":2170,"end":2228,"argument":{"type":"BinaryExpression","start":2177,"end":2227,"left":{"type":"MemberExpression","start":2177,"end":2200,"object":{"type":"Identifier","start":2177,"end":2183,"name":"isDate"},"property":{"type":"Identifier","start":2184,"end":2200,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"<=","right":{"type":"MemberExpression","start":2204,"end":2227,"object":{"type":"Identifier","start":2204,"end":2210,"name":"isDate"},"property":{"type":"Identifier","start":2211,"end":2227,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":2239,"end":2295,"declarations":[{"type":"VariableDeclarator","start":2245,"end":2294,"id":{"type":"Identifier","start":2245,"end":2253,"name":"isNumber"},"init":{"type":"CallExpression","start":2256,"end":2294,"callee":{"type":"Identifier","start":2256,"end":2267,"name":"parseNumber"},"arguments":[{"type":"MemberExpression","start":2268,"end":2281,"object":{"type":"MemberExpression","start":2268,"end":2274,"object":{"type":"Identifier","start":2268,"end":2269,"name":"v"},"property":{"type":"Identifier","start":2270,"end":2274,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2275,"end":2280,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":2283,"end":2293,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2300,"end":2392,"test":{"type":"Identifier","start":2304,"end":2312,"name":"isNumber"},"consequent":{"type":"BlockStatement","start":2314,"end":2392,"body":[{"type":"ReturnStatement","start":2324,"end":2386,"argument":{"type":"BinaryExpression","start":2331,"end":2385,"left":{"type":"MemberExpression","start":2331,"end":2356,"object":{"type":"Identifier","start":2331,"end":2339,"name":"isNumber"},"property":{"type":"Identifier","start":2340,"end":2356,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"<=","right":{"type":"MemberExpression","start":2360,"end":2385,"object":{"type":"Identifier","start":2360,"end":2368,"name":"isNumber"},"property":{"type":"Identifier","start":2369,"end":2385,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"ReturnStatement","start":2397,"end":2432,"argument":{"type":"BinaryExpression","start":2404,"end":2431,"left":{"type":"MemberExpression","start":2404,"end":2417,"object":{"type":"MemberExpression","start":2404,"end":2410,"object":{"type":"Identifier","start":2404,"end":2405,"name":"v"},"property":{"type":"Identifier","start":2406,"end":2410,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2411,"end":2416,"name":"field"},"computed":true,"optional":false},"operator":"<=","right":{"type":"Identifier","start":2421,"end":2431,"name":"inputValue"}}}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":2436,"end":2827,"declaration":{"type":"VariableDeclaration","start":2443,"end":2827,"declarations":[{"type":"VariableDeclarator","start":2449,"end":2826,"id":{"type":"Identifier","start":2449,"end":2451,"name":"gt"},"init":{"type":"ArrowFunctionExpression","start":2454,"end":2826,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2455,"end":2456,"name":"v"},{"type":"Identifier","start":2458,"end":2463,"name":"field"},{"type":"Identifier","start":2465,"end":2475,"name":"inputValue"}],"body":{"type":"BlockStatement","start":2480,"end":2826,"body":[{"type":"VariableDeclaration","start":2486,"end":2538,"declarations":[{"type":"VariableDeclarator","start":2492,"end":2537,"id":{"type":"Identifier","start":2492,"end":2498,"name":"isDate"},"init":{"type":"CallExpression","start":2501,"end":2537,"callee":{"type":"Identifier","start":2501,"end":2510,"name":"parseDate"},"arguments":[{"type":"MemberExpression","start":2511,"end":2524,"object":{"type":"MemberExpression","start":2511,"end":2517,"object":{"type":"Identifier","start":2511,"end":2512,"name":"v"},"property":{"type":"Identifier","start":2513,"end":2517,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2518,"end":2523,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":2526,"end":2536,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2543,"end":2628,"test":{"type":"Identifier","start":2547,"end":2553,"name":"isDate"},"consequent":{"type":"BlockStatement","start":2555,"end":2628,"body":[{"type":"ReturnStatement","start":2565,"end":2622,"argument":{"type":"BinaryExpression","start":2572,"end":2621,"left":{"type":"MemberExpression","start":2572,"end":2595,"object":{"type":"Identifier","start":2572,"end":2578,"name":"isDate"},"property":{"type":"Identifier","start":2579,"end":2595,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":">","right":{"type":"MemberExpression","start":2598,"end":2621,"object":{"type":"Identifier","start":2598,"end":2604,"name":"isDate"},"property":{"type":"Identifier","start":2605,"end":2621,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":2633,"end":2689,"declarations":[{"type":"VariableDeclarator","start":2639,"end":2688,"id":{"type":"Identifier","start":2639,"end":2647,"name":"isNumber"},"init":{"type":"CallExpression","start":2650,"end":2688,"callee":{"type":"Identifier","start":2650,"end":2661,"name":"parseNumber"},"arguments":[{"type":"MemberExpression","start":2662,"end":2675,"object":{"type":"MemberExpression","start":2662,"end":2668,"object":{"type":"Identifier","start":2662,"end":2663,"name":"v"},"property":{"type":"Identifier","start":2664,"end":2668,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2669,"end":2674,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":2677,"end":2687,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2694,"end":2785,"test":{"type":"Identifier","start":2698,"end":2706,"name":"isNumber"},"consequent":{"type":"BlockStatement","start":2708,"end":2785,"body":[{"type":"ReturnStatement","start":2718,"end":2779,"argument":{"type":"BinaryExpression","start":2725,"end":2778,"left":{"type":"MemberExpression","start":2725,"end":2750,"object":{"type":"Identifier","start":2725,"end":2733,"name":"isNumber"},"property":{"type":"Identifier","start":2734,"end":2750,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":">","right":{"type":"MemberExpression","start":2753,"end":2778,"object":{"type":"Identifier","start":2753,"end":2761,"name":"isNumber"},"property":{"type":"Identifier","start":2762,"end":2778,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"ReturnStatement","start":2790,"end":2824,"argument":{"type":"BinaryExpression","start":2797,"end":2823,"left":{"type":"MemberExpression","start":2797,"end":2810,"object":{"type":"MemberExpression","start":2797,"end":2803,"object":{"type":"Identifier","start":2797,"end":2798,"name":"v"},"property":{"type":"Identifier","start":2799,"end":2803,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2804,"end":2809,"name":"field"},"computed":true,"optional":false},"operator":">","right":{"type":"Identifier","start":2813,"end":2823,"name":"inputValue"}}}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":2828,"end":3219,"declaration":{"type":"VariableDeclaration","start":2835,"end":3219,"declarations":[{"type":"VariableDeclarator","start":2841,"end":3218,"id":{"type":"Identifier","start":2841,"end":2843,"name":"lt"},"init":{"type":"ArrowFunctionExpression","start":2846,"end":3218,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2847,"end":2848,"name":"v"},{"type":"Identifier","start":2850,"end":2855,"name":"field"},{"type":"Identifier","start":2857,"end":2867,"name":"inputValue"}],"body":{"type":"BlockStatement","start":2872,"end":3218,"body":[{"type":"VariableDeclaration","start":2878,"end":2930,"declarations":[{"type":"VariableDeclarator","start":2884,"end":2929,"id":{"type":"Identifier","start":2884,"end":2890,"name":"isDate"},"init":{"type":"CallExpression","start":2893,"end":2929,"callee":{"type":"Identifier","start":2893,"end":2902,"name":"parseDate"},"arguments":[{"type":"MemberExpression","start":2903,"end":2916,"object":{"type":"MemberExpression","start":2903,"end":2909,"object":{"type":"Identifier","start":2903,"end":2904,"name":"v"},"property":{"type":"Identifier","start":2905,"end":2909,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2910,"end":2915,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":2918,"end":2928,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2935,"end":3020,"test":{"type":"Identifier","start":2939,"end":2945,"name":"isDate"},"consequent":{"type":"BlockStatement","start":2947,"end":3020,"body":[{"type":"ReturnStatement","start":2957,"end":3014,"argument":{"type":"BinaryExpression","start":2964,"end":3013,"left":{"type":"MemberExpression","start":2964,"end":2987,"object":{"type":"Identifier","start":2964,"end":2970,"name":"isDate"},"property":{"type":"Identifier","start":2971,"end":2987,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"<","right":{"type":"MemberExpression","start":2990,"end":3013,"object":{"type":"Identifier","start":2990,"end":2996,"name":"isDate"},"property":{"type":"Identifier","start":2997,"end":3013,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":3025,"end":3081,"declarations":[{"type":"VariableDeclarator","start":3031,"end":3080,"id":{"type":"Identifier","start":3031,"end":3039,"name":"isNumber"},"init":{"type":"CallExpression","start":3042,"end":3080,"callee":{"type":"Identifier","start":3042,"end":3053,"name":"parseNumber"},"arguments":[{"type":"MemberExpression","start":3054,"end":3067,"object":{"type":"MemberExpression","start":3054,"end":3060,"object":{"type":"Identifier","start":3054,"end":3055,"name":"v"},"property":{"type":"Identifier","start":3056,"end":3060,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3061,"end":3066,"name":"field"},"computed":true,"optional":false},{"type":"Identifier","start":3069,"end":3079,"name":"inputValue"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":3086,"end":3177,"test":{"type":"Identifier","start":3090,"end":3098,"name":"isNumber"},"consequent":{"type":"BlockStatement","start":3100,"end":3177,"body":[{"type":"ReturnStatement","start":3110,"end":3171,"argument":{"type":"BinaryExpression","start":3117,"end":3170,"left":{"type":"MemberExpression","start":3117,"end":3142,"object":{"type":"Identifier","start":3117,"end":3125,"name":"isNumber"},"property":{"type":"Identifier","start":3126,"end":3142,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"<","right":{"type":"MemberExpression","start":3145,"end":3170,"object":{"type":"Identifier","start":3145,"end":3153,"name":"isNumber"},"property":{"type":"Identifier","start":3154,"end":3170,"name":"parsedInputValue"},"computed":false,"optional":false}}}]},"alternate":null},{"type":"ReturnStatement","start":3182,"end":3216,"argument":{"type":"BinaryExpression","start":3189,"end":3215,"left":{"type":"MemberExpression","start":3189,"end":3202,"object":{"type":"MemberExpression","start":3189,"end":3195,"object":{"type":"Identifier","start":3189,"end":3190,"name":"v"},"property":{"type":"Identifier","start":3191,"end":3195,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3196,"end":3201,"name":"field"},"computed":true,"optional":false},"operator":"<","right":{"type":"Identifier","start":3205,"end":3215,"name":"inputValue"}}}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":3220,"end":3960,"declaration":{"type":"VariableDeclaration","start":3227,"end":3960,"declarations":[{"type":"VariableDeclarator","start":3233,"end":3959,"id":{"type":"Identifier","start":3233,"end":3238,"name":"range"},"init":{"type":"ArrowFunctionExpression","start":3241,"end":3959,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3242,"end":3243,"name":"v"},{"type":"Identifier","start":3245,"end":3250,"name":"field"},{"type":"Identifier","start":3252,"end":3262,"name":"inputValue"}],"body":{"type":"BlockStatement","start":3267,"end":3959,"body":[{"type":"VariableDeclaration","start":3273,"end":3321,"declarations":[{"type":"VariableDeclarator","start":3279,"end":3320,"id":{"type":"Identifier","start":3279,"end":3285,"name":"values"},"init":{"type":"CallExpression","start":3288,"end":3320,"callee":{"type":"MemberExpression","start":3288,"end":3315,"object":{"type":"CallExpression","start":3288,"end":3309,"callee":{"type":"MemberExpression","start":3288,"end":3307,"object":{"type":"Identifier","start":3288,"end":3298,"name":"inputValue"},"property":{"type":"Identifier","start":3299,"end":3307,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":3310,"end":3315,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":3316,"end":3319,"value":",","raw":"','"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3326,"end":3378,"declarations":[{"type":"VariableDeclarator","start":3332,"end":3377,"id":{"type":"Identifier","start":3332,"end":3339,"name":"isDate1"},"init":{"type":"CallExpression","start":3342,"end":3377,"callee":{"type":"Identifier","start":3342,"end":3351,"name":"parseDate"},"arguments":[{"type":"MemberExpression","start":3352,"end":3365,"object":{"type":"MemberExpression","start":3352,"end":3358,"object":{"type":"Identifier","start":3352,"end":3353,"name":"v"},"property":{"type":"Identifier","start":3354,"end":3358,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3359,"end":3364,"name":"field"},"computed":true,"optional":false},{"type":"MemberExpression","start":3367,"end":3376,"object":{"type":"Identifier","start":3367,"end":3373,"name":"values"},"property":{"type":"Literal","start":3374,"end":3375,"value":0,"raw":"0"},"computed":true,"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3383,"end":3435,"declarations":[{"type":"VariableDeclarator","start":3389,"end":3434,"id":{"type":"Identifier","start":3389,"end":3396,"name":"isDate2"},"init":{"type":"CallExpression","start":3399,"end":3434,"callee":{"type":"Identifier","start":3399,"end":3408,"name":"parseDate"},"arguments":[{"type":"MemberExpression","start":3409,"end":3422,"object":{"type":"MemberExpression","start":3409,"end":3415,"object":{"type":"Identifier","start":3409,"end":3410,"name":"v"},"property":{"type":"Identifier","start":3411,"end":3415,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3416,"end":3421,"name":"field"},"computed":true,"optional":false},{"type":"MemberExpression","start":3424,"end":3433,"object":{"type":"Identifier","start":3424,"end":3430,"name":"values"},"property":{"type":"Literal","start":3431,"end":3432,"value":1,"raw":"1"},"computed":true,"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":3440,"end":3595,"test":{"type":"LogicalExpression","start":3444,"end":3462,"left":{"type":"Identifier","start":3444,"end":3451,"name":"isDate1"},"operator":"&&","right":{"type":"Identifier","start":3455,"end":3462,"name":"isDate2"}},"consequent":{"type":"BlockStatement","start":3464,"end":3595,"body":[{"type":"ReturnStatement","start":3474,"end":3589,"argument":{"type":"LogicalExpression","start":3481,"end":3588,"left":{"type":"BinaryExpression","start":3481,"end":3533,"left":{"type":"MemberExpression","start":3481,"end":3505,"object":{"type":"Identifier","start":3481,"end":3488,"name":"isDate1"},"property":{"type":"Identifier","start":3489,"end":3505,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":">=","right":{"type":"MemberExpression","start":3509,"end":3533,"object":{"type":"Identifier","start":3509,"end":3516,"name":"isDate1"},"property":{"type":"Identifier","start":3517,"end":3533,"name":"parsedInputValue"},"computed":false,"optional":false}},"operator":"&&","right":{"type":"BinaryExpression","start":3537,"end":3588,"left":{"type":"MemberExpression","start":3537,"end":3561,"object":{"type":"Identifier","start":3537,"end":3544,"name":"isDate2"},"property":{"type":"Identifier","start":3545,"end":3561,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"<","right":{"type":"MemberExpression","start":3564,"end":3588,"object":{"type":"Identifier","start":3564,"end":3571,"name":"isDate2"},"property":{"type":"Identifier","start":3572,"end":3588,"name":"parsedInputValue"},"computed":false,"optional":false}}}}]},"alternate":null},{"type":"VariableDeclaration","start":3600,"end":3656,"declarations":[{"type":"VariableDeclarator","start":3606,"end":3655,"id":{"type":"Identifier","start":3606,"end":3615,"name":"isNumber1"},"init":{"type":"CallExpression","start":3618,"end":3655,"callee":{"type":"Identifier","start":3618,"end":3629,"name":"parseNumber"},"arguments":[{"type":"MemberExpression","start":3630,"end":3643,"object":{"type":"MemberExpression","start":3630,"end":3636,"object":{"type":"Identifier","start":3630,"end":3631,"name":"v"},"property":{"type":"Identifier","start":3632,"end":3636,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3637,"end":3642,"name":"field"},"computed":true,"optional":false},{"type":"MemberExpression","start":3645,"end":3654,"object":{"type":"Identifier","start":3645,"end":3651,"name":"values"},"property":{"type":"Literal","start":3652,"end":3653,"value":0,"raw":"0"},"computed":true,"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3661,"end":3717,"declarations":[{"type":"VariableDeclarator","start":3667,"end":3716,"id":{"type":"Identifier","start":3667,"end":3676,"name":"isNumber2"},"init":{"type":"CallExpression","start":3679,"end":3716,"callee":{"type":"Identifier","start":3679,"end":3690,"name":"parseNumber"},"arguments":[{"type":"MemberExpression","start":3691,"end":3704,"object":{"type":"MemberExpression","start":3691,"end":3697,"object":{"type":"Identifier","start":3691,"end":3692,"name":"v"},"property":{"type":"Identifier","start":3693,"end":3697,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3698,"end":3703,"name":"field"},"computed":true,"optional":false},{"type":"MemberExpression","start":3706,"end":3715,"object":{"type":"Identifier","start":3706,"end":3712,"name":"values"},"property":{"type":"Literal","start":3713,"end":3714,"value":1,"raw":"1"},"computed":true,"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":3722,"end":3889,"test":{"type":"LogicalExpression","start":3726,"end":3748,"left":{"type":"Identifier","start":3726,"end":3735,"name":"isNumber1"},"operator":"&&","right":{"type":"Identifier","start":3739,"end":3748,"name":"isNumber2"}},"consequent":{"type":"BlockStatement","start":3750,"end":3889,"body":[{"type":"ReturnStatement","start":3760,"end":3883,"argument":{"type":"LogicalExpression","start":3767,"end":3882,"left":{"type":"BinaryExpression","start":3767,"end":3823,"left":{"type":"MemberExpression","start":3767,"end":3793,"object":{"type":"Identifier","start":3767,"end":3776,"name":"isNumber1"},"property":{"type":"Identifier","start":3777,"end":3793,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":">=","right":{"type":"MemberExpression","start":3797,"end":3823,"object":{"type":"Identifier","start":3797,"end":3806,"name":"isNumber1"},"property":{"type":"Identifier","start":3807,"end":3823,"name":"parsedInputValue"},"computed":false,"optional":false}},"operator":"&&","right":{"type":"BinaryExpression","start":3827,"end":3882,"left":{"type":"MemberExpression","start":3827,"end":3853,"object":{"type":"Identifier","start":3827,"end":3836,"name":"isNumber2"},"property":{"type":"Identifier","start":3837,"end":3853,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"<","right":{"type":"MemberExpression","start":3856,"end":3882,"object":{"type":"Identifier","start":3856,"end":3865,"name":"isNumber2"},"property":{"type":"Identifier","start":3866,"end":3882,"name":"parsedInputValue"},"computed":false,"optional":false}}}}]},"alternate":null},{"type":"ReturnStatement","start":3894,"end":3957,"argument":{"type":"LogicalExpression","start":3901,"end":3956,"left":{"type":"BinaryExpression","start":3901,"end":3927,"left":{"type":"MemberExpression","start":3901,"end":3914,"object":{"type":"MemberExpression","start":3901,"end":3907,"object":{"type":"Identifier","start":3901,"end":3902,"name":"v"},"property":{"type":"Identifier","start":3903,"end":3907,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3908,"end":3913,"name":"field"},"computed":true,"optional":false},"operator":">=","right":{"type":"MemberExpression","start":3918,"end":3927,"object":{"type":"Identifier","start":3918,"end":3924,"name":"values"},"property":{"type":"Literal","start":3925,"end":3926,"value":0,"raw":"0"},"computed":true,"optional":false}},"operator":"&&","right":{"type":"BinaryExpression","start":3931,"end":3956,"left":{"type":"MemberExpression","start":3931,"end":3944,"object":{"type":"MemberExpression","start":3931,"end":3937,"object":{"type":"Identifier","start":3931,"end":3932,"name":"v"},"property":{"type":"Identifier","start":3933,"end":3937,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3938,"end":3943,"name":"field"},"computed":true,"optional":false},"operator":"<","right":{"type":"MemberExpression","start":3947,"end":3956,"object":{"type":"Identifier","start":3947,"end":3953,"name":"values"},"property":{"type":"Literal","start":3954,"end":3955,"value":1,"raw":"1"},"computed":true,"optional":false}}}}]}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":3961,"end":4062,"declaration":{"type":"VariableDeclaration","start":3968,"end":4062,"declarations":[{"type":"VariableDeclarator","start":3974,"end":4061,"id":{"type":"Identifier","start":3974,"end":3984,"name":"startswith"},"init":{"type":"ArrowFunctionExpression","start":3987,"end":4061,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3988,"end":3989,"name":"v"},{"type":"Identifier","start":3991,"end":3996,"name":"field"},{"type":"Identifier","start":3998,"end":4008,"name":"inputValue"}],"body":{"type":"ChainExpression","start":4013,"end":4061,"expression":{"type":"CallExpression","start":4013,"end":4061,"callee":{"type":"MemberExpression","start":4013,"end":4049,"object":{"type":"CallExpression","start":4013,"end":4038,"callee":{"type":"MemberExpression","start":4013,"end":4036,"object":{"type":"MemberExpression","start":4013,"end":4026,"object":{"type":"MemberExpression","start":4013,"end":4019,"object":{"type":"Identifier","start":4013,"end":4014,"name":"v"},"property":{"type":"Identifier","start":4015,"end":4019,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4020,"end":4025,"name":"field"},"computed":true,"optional":false},"property":{"type":"Identifier","start":4028,"end":4036,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":4039,"end":4049,"name":"startsWith"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4050,"end":4060,"name":"inputValue"}],"optional":false}}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":4063,"end":4160,"declaration":{"type":"VariableDeclaration","start":4070,"end":4160,"declarations":[{"type":"VariableDeclarator","start":4076,"end":4159,"id":{"type":"Identifier","start":4076,"end":4084,"name":"endswith"},"init":{"type":"ArrowFunctionExpression","start":4087,"end":4159,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4088,"end":4089,"name":"v"},{"type":"Identifier","start":4091,"end":4096,"name":"field"},{"type":"Identifier","start":4098,"end":4108,"name":"inputValue"}],"body":{"type":"ChainExpression","start":4113,"end":4159,"expression":{"type":"CallExpression","start":4113,"end":4159,"callee":{"type":"MemberExpression","start":4113,"end":4147,"object":{"type":"CallExpression","start":4113,"end":4138,"callee":{"type":"MemberExpression","start":4113,"end":4136,"object":{"type":"MemberExpression","start":4113,"end":4126,"object":{"type":"MemberExpression","start":4113,"end":4119,"object":{"type":"Identifier","start":4113,"end":4114,"name":"v"},"property":{"type":"Identifier","start":4115,"end":4119,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4120,"end":4125,"name":"field"},"computed":true,"optional":false},"property":{"type":"Identifier","start":4128,"end":4136,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":4139,"end":4147,"name":"endsWith"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4148,"end":4158,"name":"inputValue"}],"optional":false}}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":4161,"end":4279,"declaration":{"type":"VariableDeclaration","start":4168,"end":4279,"declarations":[{"type":"VariableDeclarator","start":4174,"end":4278,"id":{"type":"Identifier","start":4174,"end":4180,"name":"iexact"},"init":{"type":"ArrowFunctionExpression","start":4183,"end":4278,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4184,"end":4185,"name":"v"},{"type":"Identifier","start":4187,"end":4192,"name":"field"},{"type":"Identifier","start":4194,"end":4204,"name":"inputValue"}],"body":{"type":"UnaryExpression","start":4209,"end":4278,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":4210,"end":4278,"operator":"!","prefix":true,"argument":{"type":"ChainExpression","start":4211,"end":4278,"expression":{"type":"CallExpression","start":4211,"end":4278,"callee":{"type":"MemberExpression","start":4211,"end":4242,"object":{"type":"CallExpression","start":4211,"end":4236,"callee":{"type":"MemberExpression","start":4211,"end":4234,"object":{"type":"MemberExpression","start":4211,"end":4224,"object":{"type":"MemberExpression","start":4211,"end":4217,"object":{"type":"Identifier","start":4211,"end":4212,"name":"v"},"property":{"type":"Identifier","start":4213,"end":4217,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4218,"end":4223,"name":"field"},"computed":true,"optional":false},"property":{"type":"Identifier","start":4226,"end":4234,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":4237,"end":4242,"name":"match"},"computed":false,"optional":false},"arguments":[{"type":"NewExpression","start":4243,"end":4277,"callee":{"type":"Identifier","start":4247,"end":4253,"name":"RegExp"},"arguments":[{"type":"TemplateLiteral","start":4254,"end":4271,"expressions":[{"type":"Identifier","start":4258,"end":4268,"name":"inputValue"}],"quasis":[{"type":"TemplateElement","start":4255,"end":4256,"value":{"raw":"^","cooked":"^"},"tail":false},{"type":"TemplateElement","start":4269,"end":4270,"value":{"raw":"$","cooked":"$"},"tail":true}]},{"type":"Literal","start":4273,"end":4276,"value":"i","raw":"'i'"}]}],"optional":false}}}}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":4280,"end":4392,"declaration":{"type":"VariableDeclaration","start":4287,"end":4392,"declarations":[{"type":"VariableDeclarator","start":4293,"end":4391,"id":{"type":"Identifier","start":4293,"end":4298,"name":"exact"},"init":{"type":"ArrowFunctionExpression","start":4301,"end":4391,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4302,"end":4303,"name":"v"},{"type":"Identifier","start":4305,"end":4310,"name":"field"},{"type":"Identifier","start":4312,"end":4322,"name":"inputValue"}],"body":{"type":"UnaryExpression","start":4327,"end":4391,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":4328,"end":4391,"operator":"!","prefix":true,"argument":{"type":"ChainExpression","start":4329,"end":4391,"expression":{"type":"CallExpression","start":4329,"end":4391,"callee":{"type":"MemberExpression","start":4329,"end":4360,"object":{"type":"CallExpression","start":4329,"end":4354,"callee":{"type":"MemberExpression","start":4329,"end":4352,"object":{"type":"MemberExpression","start":4329,"end":4342,"object":{"type":"MemberExpression","start":4329,"end":4335,"object":{"type":"Identifier","start":4329,"end":4330,"name":"v"},"property":{"type":"Identifier","start":4331,"end":4335,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4336,"end":4341,"name":"field"},"computed":true,"optional":false},"property":{"type":"Identifier","start":4344,"end":4352,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":4355,"end":4360,"name":"match"},"computed":false,"optional":false},"arguments":[{"type":"NewExpression","start":4361,"end":4390,"callee":{"type":"Identifier","start":4365,"end":4371,"name":"RegExp"},"arguments":[{"type":"TemplateLiteral","start":4372,"end":4389,"expressions":[{"type":"Identifier","start":4376,"end":4386,"name":"inputValue"}],"quasis":[{"type":"TemplateElement","start":4373,"end":4374,"value":{"raw":"^","cooked":"^"},"tail":false},{"type":"TemplateElement","start":4387,"end":4388,"value":{"raw":"$","cooked":"$"},"tail":true}]}]}],"optional":false}}}}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":4393,"end":4526,"declaration":{"type":"VariableDeclaration","start":4400,"end":4526,"declarations":[{"type":"VariableDeclarator","start":4406,"end":4525,"id":{"type":"Identifier","start":4406,"end":4415,"name":"icontains"},"init":{"type":"ArrowFunctionExpression","start":4418,"end":4525,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4419,"end":4420,"name":"v"},{"type":"Identifier","start":4422,"end":4427,"name":"field"},{"type":"Identifier","start":4429,"end":4439,"name":"inputValue"}],"body":{"type":"ChainExpression","start":4444,"end":4525,"expression":{"type":"CallExpression","start":4444,"end":4525,"callee":{"type":"MemberExpression","start":4444,"end":4492,"object":{"type":"CallExpression","start":4444,"end":4483,"callee":{"type":"MemberExpression","start":4444,"end":4481,"object":{"type":"CallExpression","start":4444,"end":4469,"callee":{"type":"MemberExpression","start":4444,"end":4467,"object":{"type":"MemberExpression","start":4444,"end":4457,"object":{"type":"MemberExpression","start":4444,"end":4450,"object":{"type":"Identifier","start":4444,"end":4445,"name":"v"},"property":{"type":"Identifier","start":4446,"end":4450,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4451,"end":4456,"name":"field"},"computed":true,"optional":false},"property":{"type":"Identifier","start":4459,"end":4467,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":4470,"end":4481,"name":"toLowerCase"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":4484,"end":4492,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"LogicalExpression","start":4493,"end":4524,"left":{"type":"ChainExpression","start":4493,"end":4518,"expression":{"type":"CallExpression","start":4493,"end":4518,"callee":{"type":"MemberExpression","start":4493,"end":4516,"object":{"type":"Identifier","start":4493,"end":4503,"name":"inputValue"},"property":{"type":"Identifier","start":4505,"end":4516,"name":"toLowerCase"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"Literal","start":4522,"end":4524,"value":"","raw":"''"}}],"optional":false}}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":4527,"end":4624,"declaration":{"type":"VariableDeclaration","start":4534,"end":4624,"declarations":[{"type":"VariableDeclarator","start":4540,"end":4623,"id":{"type":"Identifier","start":4540,"end":4548,"name":"contains"},"init":{"type":"ArrowFunctionExpression","start":4551,"end":4623,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4552,"end":4553,"name":"v"},{"type":"Identifier","start":4555,"end":4560,"name":"field"},{"type":"Identifier","start":4562,"end":4572,"name":"inputValue"}],"body":{"type":"ChainExpression","start":4577,"end":4623,"expression":{"type":"CallExpression","start":4577,"end":4623,"callee":{"type":"MemberExpression","start":4577,"end":4611,"object":{"type":"CallExpression","start":4577,"end":4602,"callee":{"type":"MemberExpression","start":4577,"end":4600,"object":{"type":"MemberExpression","start":4577,"end":4590,"object":{"type":"MemberExpression","start":4577,"end":4583,"object":{"type":"Identifier","start":4577,"end":4578,"name":"v"},"property":{"type":"Identifier","start":4579,"end":4583,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4584,"end":4589,"name":"field"},"computed":true,"optional":false},"property":{"type":"Identifier","start":4592,"end":4600,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":4603,"end":4611,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4612,"end":4622,"name":"inputValue"}],"optional":false}}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":4625,"end":4760,"declaration":{"type":"VariableDeclaration","start":4632,"end":4760,"declarations":[{"type":"VariableDeclarator","start":4638,"end":4759,"id":{"type":"Identifier","start":4638,"end":4644,"name":"isnull"},"init":{"type":"ArrowFunctionExpression","start":4647,"end":4759,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4648,"end":4649,"name":"v"},{"type":"Identifier","start":4651,"end":4656,"name":"field"},{"type":"Identifier","start":4658,"end":4668,"name":"inputValue"}],"body":{"type":"ConditionalExpression","start":4673,"end":4759,"test":{"type":"BinaryExpression","start":4673,"end":4709,"left":{"type":"ChainExpression","start":4673,"end":4698,"expression":{"type":"CallExpression","start":4673,"end":4698,"callee":{"type":"MemberExpression","start":4673,"end":4696,"object":{"type":"Identifier","start":4673,"end":4683,"name":"inputValue"},"property":{"type":"Identifier","start":4685,"end":4696,"name":"toLowerCase"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"===","right":{"type":"Literal","start":4703,"end":4709,"value":"true","raw":"'true'"}},"consequent":{"type":"BinaryExpression","start":4712,"end":4734,"left":{"type":"MemberExpression","start":4712,"end":4725,"object":{"type":"MemberExpression","start":4712,"end":4718,"object":{"type":"Identifier","start":4712,"end":4713,"name":"v"},"property":{"type":"Identifier","start":4714,"end":4718,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4719,"end":4724,"name":"field"},"computed":true,"optional":false},"operator":"===","right":{"type":"Literal","start":4730,"end":4734,"value":null,"raw":"null"}},"alternate":{"type":"BinaryExpression","start":4737,"end":4759,"left":{"type":"MemberExpression","start":4737,"end":4750,"object":{"type":"MemberExpression","start":4737,"end":4743,"object":{"type":"Identifier","start":4737,"end":4738,"name":"v"},"property":{"type":"Identifier","start":4739,"end":4743,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4744,"end":4749,"name":"field"},"computed":true,"optional":false},"operator":"!==","right":{"type":"Literal","start":4755,"end":4759,"value":null,"raw":"null"}}}}}],"kind":"const"},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":4761,"end":5861,"declaration":{"type":"FunctionDeclaration","start":4768,"end":5861,"id":{"type":"Identifier","start":4777,"end":4785,"name":"getQuery"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4786,"end":4789,"name":"key"},{"type":"Identifier","start":4791,"end":4796,"name":"value"}],"body":{"type":"BlockStatement","start":4798,"end":5861,"body":[{"type":"IfStatement","start":4804,"end":5859,"test":{"type":"CallExpression","start":4808,"end":4832,"callee":{"type":"MemberExpression","start":4808,"end":4820,"object":{"type":"Identifier","start":4808,"end":4811,"name":"key"},"property":{"type":"Identifier","start":4812,"end":4820,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":4821,"end":4831,"value":"distinct","raw":"'distinct'"}],"optional":false},"consequent":{"type":"BlockStatement","start":4834,"end":4909,"body":[{"type":"ReturnStatement","start":4844,"end":4903,"argument":{"type":"ObjectExpression","start":4851,"end":4902,"properties":[{"type":"Property","start":4853,"end":4874,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4853,"end":4862,"name":"queryType"},"value":{"type":"Literal","start":4864,"end":4874,"value":"distinct","raw":"'distinct'"},"kind":"init"},{"type":"Property","start":4876,"end":4900,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4876,"end":4882,"name":"fields"},"value":{"type":"CallExpression","start":4884,"end":4900,"callee":{"type":"MemberExpression","start":4884,"end":4895,"object":{"type":"Identifier","start":4884,"end":4889,"name":"value"},"property":{"type":"Identifier","start":4890,"end":4895,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":4896,"end":4899,"value":",","raw":"','"}],"optional":false},"kind":"init"}]}}]},"alternate":{"type":"IfStatement","start":4919,"end":5859,"test":{"type":"CallExpression","start":4923,"end":4943,"callee":{"type":"MemberExpression","start":4923,"end":4935,"object":{"type":"Identifier","start":4923,"end":4926,"name":"key"},"property":{"type":"Identifier","start":4927,"end":4935,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":4936,"end":4942,"value":"only","raw":"'only'"}],"optional":false},"consequent":{"type":"BlockStatement","start":4945,"end":5016,"body":[{"type":"ReturnStatement","start":4955,"end":5010,"argument":{"type":"ObjectExpression","start":4962,"end":5009,"properties":[{"type":"Property","start":4964,"end":4981,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4964,"end":4973,"name":"queryType"},"value":{"type":"Literal","start":4975,"end":4981,"value":"only","raw":"'only'"},"kind":"init"},{"type":"Property","start":4983,"end":5007,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4983,"end":4989,"name":"fields"},"value":{"type":"CallExpression","start":4991,"end":5007,"callee":{"type":"MemberExpression","start":4991,"end":5002,"object":{"type":"Identifier","start":4991,"end":4996,"name":"value"},"property":{"type":"Identifier","start":4997,"end":5002,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5003,"end":5006,"value":",","raw":"','"}],"optional":false},"kind":"init"}]}}]},"alternate":{"type":"IfStatement","start":5026,"end":5859,"test":{"type":"CallExpression","start":5030,"end":5054,"callee":{"type":"MemberExpression","start":5030,"end":5042,"object":{"type":"Identifier","start":5030,"end":5033,"name":"key"},"property":{"type":"Identifier","start":5034,"end":5042,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5043,"end":5053,"value":"ordering","raw":"'ordering'"}],"optional":false},"consequent":{"type":"BlockStatement","start":5056,"end":5131,"body":[{"type":"ReturnStatement","start":5066,"end":5125,"argument":{"type":"ObjectExpression","start":5073,"end":5124,"properties":[{"type":"Property","start":5075,"end":5096,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5075,"end":5084,"name":"queryType"},"value":{"type":"Literal","start":5086,"end":5096,"value":"ordering","raw":"'ordering'"},"kind":"init"},{"type":"Property","start":5098,"end":5122,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5098,"end":5104,"name":"fields"},"value":{"type":"CallExpression","start":5106,"end":5122,"callee":{"type":"MemberExpression","start":5106,"end":5117,"object":{"type":"Identifier","start":5106,"end":5111,"name":"value"},"property":{"type":"Identifier","start":5112,"end":5117,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5118,"end":5121,"value":",","raw":"','"}],"optional":false},"kind":"init"}]}}]},"alternate":{"type":"IfStatement","start":5141,"end":5859,"test":{"type":"CallExpression","start":5145,"end":5168,"callee":{"type":"MemberExpression","start":5145,"end":5157,"object":{"type":"Identifier","start":5145,"end":5148,"name":"key"},"property":{"type":"Identifier","start":5149,"end":5157,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5158,"end":5167,"value":"exclude","raw":"'exclude'"}],"optional":false},"consequent":{"type":"BlockStatement","start":5170,"end":5389,"body":[{"type":"VariableDeclaration","start":5180,"end":5232,"declarations":[{"type":"VariableDeclarator","start":5186,"end":5231,"id":{"type":"Identifier","start":5186,"end":5200,"name":"fieldAndLookup"},"init":{"type":"CallExpression","start":5203,"end":5231,"callee":{"type":"MemberExpression","start":5203,"end":5226,"object":{"type":"MemberExpression","start":5203,"end":5220,"object":{"type":"CallExpression","start":5203,"end":5217,"callee":{"type":"MemberExpression","start":5203,"end":5212,"object":{"type":"Identifier","start":5203,"end":5206,"name":"key"},"property":{"type":"Identifier","start":5207,"end":5212,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5213,"end":5216,"value":":","raw":"':'"}],"optional":false},"property":{"type":"Literal","start":5218,"end":5219,"value":1,"raw":"1"},"computed":true,"optional":false},"property":{"type":"Identifier","start":5221,"end":5226,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5227,"end":5230,"value":".","raw":"'.'"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":5241,"end":5383,"argument":{"type":"ObjectExpression","start":5248,"end":5382,"properties":[{"type":"Property","start":5250,"end":5270,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5250,"end":5259,"name":"queryType"},"value":{"type":"Literal","start":5261,"end":5270,"value":"exclude","raw":"'exclude'"},"kind":"init"},{"type":"Property","start":5272,"end":5299,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5272,"end":5278,"name":"fields"},"value":{"type":"ArrayExpression","start":5280,"end":5299,"elements":[{"type":"MemberExpression","start":5281,"end":5298,"object":{"type":"Identifier","start":5281,"end":5295,"name":"fieldAndLookup"},"property":{"type":"Literal","start":5296,"end":5297,"value":0,"raw":"0"},"computed":true,"optional":false}]},"kind":"init"},{"type":"Property","start":5301,"end":5361,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5301,"end":5307,"name":"lookup"},"value":{"type":"ConditionalExpression","start":5309,"end":5361,"test":{"type":"BinaryExpression","start":5309,"end":5334,"left":{"type":"MemberExpression","start":5309,"end":5330,"object":{"type":"Identifier","start":5309,"end":5323,"name":"fieldAndLookup"},"property":{"type":"Identifier","start":5324,"end":5330,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":5333,"end":5334,"value":1,"raw":"1"}},"consequent":{"type":"MemberExpression","start":5337,"end":5354,"object":{"type":"Identifier","start":5337,"end":5351,"name":"fieldAndLookup"},"property":{"type":"Literal","start":5352,"end":5353,"value":1,"raw":"1"},"computed":true,"optional":false},"alternate":{"type":"Literal","start":5357,"end":5361,"value":"eq","raw":"'eq'"}},"kind":"init"},{"type":"Property","start":5363,"end":5380,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5363,"end":5373,"name":"inputValue"},"value":{"type":"Identifier","start":5375,"end":5380,"name":"value"},"kind":"init"}]}}]},"alternate":{"type":"IfStatement","start":5399,"end":5859,"test":{"type":"CallExpression","start":5403,"end":5425,"callee":{"type":"MemberExpression","start":5403,"end":5415,"object":{"type":"Identifier","start":5403,"end":5406,"name":"key"},"property":{"type":"Identifier","start":5407,"end":5415,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5416,"end":5424,"value":"filter","raw":"'filter'"}],"optional":false},"consequent":{"type":"BlockStatement","start":5427,"end":5645,"body":[{"type":"VariableDeclaration","start":5437,"end":5489,"declarations":[{"type":"VariableDeclarator","start":5443,"end":5488,"id":{"type":"Identifier","start":5443,"end":5457,"name":"fieldAndLookup"},"init":{"type":"CallExpression","start":5460,"end":5488,"callee":{"type":"MemberExpression","start":5460,"end":5483,"object":{"type":"MemberExpression","start":5460,"end":5477,"object":{"type":"CallExpression","start":5460,"end":5474,"callee":{"type":"MemberExpression","start":5460,"end":5469,"object":{"type":"Identifier","start":5460,"end":5463,"name":"key"},"property":{"type":"Identifier","start":5464,"end":5469,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5470,"end":5473,"value":":","raw":"':'"}],"optional":false},"property":{"type":"Literal","start":5475,"end":5476,"value":1,"raw":"1"},"computed":true,"optional":false},"property":{"type":"Identifier","start":5478,"end":5483,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5484,"end":5487,"value":".","raw":"'.'"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":5498,"end":5639,"argument":{"type":"ObjectExpression","start":5505,"end":5638,"properties":[{"type":"Property","start":5507,"end":5526,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5507,"end":5516,"name":"queryType"},"value":{"type":"Literal","start":5518,"end":5526,"value":"filter","raw":"'filter'"},"kind":"init"},{"type":"Property","start":5528,"end":5555,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5528,"end":5534,"name":"fields"},"value":{"type":"ArrayExpression","start":5536,"end":5555,"elements":[{"type":"MemberExpression","start":5537,"end":5554,"object":{"type":"Identifier","start":5537,"end":5551,"name":"fieldAndLookup"},"property":{"type":"Literal","start":5552,"end":5553,"value":0,"raw":"0"},"computed":true,"optional":false}]},"kind":"init"},{"type":"Property","start":5557,"end":5617,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5557,"end":5563,"name":"lookup"},"value":{"type":"ConditionalExpression","start":5565,"end":5617,"test":{"type":"BinaryExpression","start":5565,"end":5590,"left":{"type":"MemberExpression","start":5565,"end":5586,"object":{"type":"Identifier","start":5565,"end":5579,"name":"fieldAndLookup"},"property":{"type":"Identifier","start":5580,"end":5586,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":5589,"end":5590,"value":1,"raw":"1"}},"consequent":{"type":"MemberExpression","start":5593,"end":5610,"object":{"type":"Identifier","start":5593,"end":5607,"name":"fieldAndLookup"},"property":{"type":"Literal","start":5608,"end":5609,"value":1,"raw":"1"},"computed":true,"optional":false},"alternate":{"type":"Literal","start":5613,"end":5617,"value":"eq","raw":"'eq'"}},"kind":"init"},{"type":"Property","start":5619,"end":5636,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5619,"end":5629,"name":"inputValue"},"value":{"type":"Identifier","start":5631,"end":5636,"name":"value"},"kind":"init"}]}}]},"alternate":{"type":"BlockStatement","start":5655,"end":5859,"body":[{"type":"VariableDeclaration","start":5665,"end":5703,"declarations":[{"type":"VariableDeclarator","start":5671,"end":5702,"id":{"type":"Identifier","start":5671,"end":5685,"name":"fieldAndLookup"},"init":{"type":"CallExpression","start":5688,"end":5702,"callee":{"type":"MemberExpression","start":5688,"end":5697,"object":{"type":"Identifier","start":5688,"end":5691,"name":"key"},"property":{"type":"Identifier","start":5692,"end":5697,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5698,"end":5701,"value":".","raw":"'.'"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":5712,"end":5853,"argument":{"type":"ObjectExpression","start":5719,"end":5852,"properties":[{"type":"Property","start":5721,"end":5740,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5721,"end":5730,"name":"queryType"},"value":{"type":"Literal","start":5732,"end":5740,"value":"filter","raw":"'filter'"},"kind":"init"},{"type":"Property","start":5742,"end":5769,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5742,"end":5748,"name":"fields"},"value":{"type":"ArrayExpression","start":5750,"end":5769,"elements":[{"type":"MemberExpression","start":5751,"end":5768,"object":{"type":"Identifier","start":5751,"end":5765,"name":"fieldAndLookup"},"property":{"type":"Literal","start":5766,"end":5767,"value":0,"raw":"0"},"computed":true,"optional":false}]},"kind":"init"},{"type":"Property","start":5771,"end":5831,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5771,"end":5777,"name":"lookup"},"value":{"type":"ConditionalExpression","start":5779,"end":5831,"test":{"type":"BinaryExpression","start":5779,"end":5804,"left":{"type":"MemberExpression","start":5779,"end":5800,"object":{"type":"Identifier","start":5779,"end":5793,"name":"fieldAndLookup"},"property":{"type":"Identifier","start":5794,"end":5800,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":5803,"end":5804,"value":1,"raw":"1"}},"consequent":{"type":"MemberExpression","start":5807,"end":5824,"object":{"type":"Identifier","start":5807,"end":5821,"name":"fieldAndLookup"},"property":{"type":"Literal","start":5822,"end":5823,"value":1,"raw":"1"},"computed":true,"optional":false},"alternate":{"type":"Literal","start":5827,"end":5831,"value":"eq","raw":"'eq'"}},"kind":"init"},{"type":"Property","start":5833,"end":5850,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5833,"end":5843,"name":"inputValue"},"value":{"type":"Identifier","start":5845,"end":5850,"name":"value"},"kind":"init"}]}}]}}}}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":5862,"end":7279,"declaration":{"type":"FunctionDeclaration","start":5869,"end":7279,"id":{"type":"Identifier","start":5878,"end":5889,"name":"queryFilter"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5890,"end":5904,"name":"validQueryKeys"},{"type":"Identifier","start":5906,"end":5912,"name":"params"},{"type":"Identifier","start":5914,"end":5918,"name":"docs"}],"body":{"type":"BlockStatement","start":5920,"end":7279,"body":[{"type":"IfStatement","start":5926,"end":7260,"test":{"type":"Identifier","start":5930,"end":5936,"name":"params"},"consequent":{"type":"BlockStatement","start":5938,"end":7260,"body":[{"type":"VariableDeclaration","start":5948,"end":5975,"declarations":[{"type":"VariableDeclarator","start":5954,"end":5974,"id":{"type":"Identifier","start":5954,"end":5958,"name":"keys"},"init":{"type":"CallExpression","start":5961,"end":5974,"callee":{"type":"MemberExpression","start":5961,"end":5972,"object":{"type":"Identifier","start":5961,"end":5967,"name":"params"},"property":{"type":"Identifier","start":5968,"end":5972,"name":"keys"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":5984,"end":6310,"expression":{"type":"CallExpression","start":5984,"end":6309,"callee":{"type":"MemberExpression","start":5984,"end":5996,"object":{"type":"Identifier","start":5984,"end":5988,"name":"keys"},"property":{"type":"Identifier","start":5989,"end":5996,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5997,"end":6308,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5997,"end":5998,"name":"k"}],"body":{"type":"BlockStatement","start":6002,"end":6308,"body":[{"type":"IfStatement","start":6016,"end":6298,"test":{"type":"BinaryExpression","start":6020,"end":6050,"left":{"type":"CallExpression","start":6020,"end":6045,"callee":{"type":"MemberExpression","start":6020,"end":6042,"object":{"type":"Identifier","start":6020,"end":6034,"name":"validQueryKeys"},"property":{"type":"Identifier","start":6035,"end":6042,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6043,"end":6044,"name":"k"}],"optional":false},"operator":">","right":{"type":"UnaryExpression","start":6048,"end":6050,"operator":"-","prefix":true,"argument":{"type":"Literal","start":6049,"end":6050,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":6052,"end":6298,"body":[{"type":"VariableDeclaration","start":6070,"end":6124,"declarations":[{"type":"VariableDeclarator","start":6076,"end":6123,"id":{"type":"Identifier","start":6076,"end":6081,"name":"query"},"init":{"type":"CallExpression","start":6084,"end":6123,"callee":{"type":"Identifier","start":6084,"end":6092,"name":"getQuery"},"arguments":[{"type":"Identifier","start":6093,"end":6094,"name":"k"},{"type":"CallExpression","start":6096,"end":6122,"callee":{"type":"MemberExpression","start":6096,"end":6117,"object":{"type":"CallExpression","start":6096,"end":6112,"callee":{"type":"MemberExpression","start":6096,"end":6109,"object":{"type":"Identifier","start":6096,"end":6102,"name":"params"},"property":{"type":"Identifier","start":6103,"end":6109,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6110,"end":6111,"name":"k"}],"optional":false},"property":{"type":"Identifier","start":6113,"end":6117,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":6118,"end":6121,"value":",","raw":"','"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":6141,"end":6284,"test":{"type":"BinaryExpression","start":6145,"end":6173,"left":{"type":"MemberExpression","start":6145,"end":6160,"object":{"type":"Identifier","start":6145,"end":6150,"name":"query"},"property":{"type":"Identifier","start":6151,"end":6160,"name":"queryType"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":6165,"end":6173,"value":"filter","raw":"'filter'"}},"consequent":{"type":"BlockStatement","start":6175,"end":6284,"body":[{"type":"ExpressionStatement","start":6197,"end":6266,"expression":{"type":"AssignmentExpression","start":6197,"end":6265,"operator":"=","left":{"type":"Identifier","start":6197,"end":6201,"name":"docs"},"right":{"type":"CallExpression","start":6204,"end":6265,"callee":{"type":"Identifier","start":6204,"end":6210,"name":"filter"},"arguments":[{"type":"MemberExpression","start":6211,"end":6226,"object":{"type":"MemberExpression","start":6211,"end":6223,"object":{"type":"Identifier","start":6211,"end":6216,"name":"query"},"property":{"type":"Identifier","start":6217,"end":6223,"name":"fields"},"computed":false,"optional":false},"property":{"type":"Literal","start":6224,"end":6225,"value":0,"raw":"0"},"computed":true,"optional":false},{"type":"MemberExpression","start":6228,"end":6244,"object":{"type":"Identifier","start":6228,"end":6233,"name":"query"},"property":{"type":"Identifier","start":6234,"end":6244,"name":"inputValue"},"computed":false,"optional":false},{"type":"Identifier","start":6246,"end":6250,"name":"docs"},{"type":"MemberExpression","start":6252,"end":6264,"object":{"type":"Identifier","start":6252,"end":6257,"name":"query"},"property":{"type":"Identifier","start":6258,"end":6264,"name":"lookup"},"computed":false,"optional":false}],"optional":false}}}]},"alternate":null}]},"alternate":null}]}}],"optional":false}},{"type":"ExpressionStatement","start":6319,"end":6647,"expression":{"type":"CallExpression","start":6319,"end":6646,"callee":{"type":"MemberExpression","start":6319,"end":6331,"object":{"type":"Identifier","start":6319,"end":6323,"name":"keys"},"property":{"type":"Identifier","start":6324,"end":6331,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6332,"end":6645,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6332,"end":6333,"name":"k"}],"body":{"type":"BlockStatement","start":6337,"end":6645,"body":[{"type":"IfStatement","start":6351,"end":6635,"test":{"type":"BinaryExpression","start":6355,"end":6385,"left":{"type":"CallExpression","start":6355,"end":6380,"callee":{"type":"MemberExpression","start":6355,"end":6377,"object":{"type":"Identifier","start":6355,"end":6369,"name":"validQueryKeys"},"property":{"type":"Identifier","start":6370,"end":6377,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6378,"end":6379,"name":"k"}],"optional":false},"operator":">","right":{"type":"UnaryExpression","start":6383,"end":6385,"operator":"-","prefix":true,"argument":{"type":"Literal","start":6384,"end":6385,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":6387,"end":6635,"body":[{"type":"VariableDeclaration","start":6405,"end":6459,"declarations":[{"type":"VariableDeclarator","start":6411,"end":6458,"id":{"type":"Identifier","start":6411,"end":6416,"name":"query"},"init":{"type":"CallExpression","start":6419,"end":6458,"callee":{"type":"Identifier","start":6419,"end":6427,"name":"getQuery"},"arguments":[{"type":"Identifier","start":6428,"end":6429,"name":"k"},{"type":"CallExpression","start":6431,"end":6457,"callee":{"type":"MemberExpression","start":6431,"end":6452,"object":{"type":"CallExpression","start":6431,"end":6447,"callee":{"type":"MemberExpression","start":6431,"end":6444,"object":{"type":"Identifier","start":6431,"end":6437,"name":"params"},"property":{"type":"Identifier","start":6438,"end":6444,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6445,"end":6446,"name":"k"}],"optional":false},"property":{"type":"Identifier","start":6448,"end":6452,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":6453,"end":6456,"value":",","raw":"','"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":6476,"end":6621,"test":{"type":"BinaryExpression","start":6480,"end":6509,"left":{"type":"MemberExpression","start":6480,"end":6495,"object":{"type":"Identifier","start":6480,"end":6485,"name":"query"},"property":{"type":"Identifier","start":6486,"end":6495,"name":"queryType"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":6500,"end":6509,"value":"exclude","raw":"'exclude'"}},"consequent":{"type":"BlockStatement","start":6511,"end":6621,"body":[{"type":"ExpressionStatement","start":6533,"end":6603,"expression":{"type":"AssignmentExpression","start":6533,"end":6602,"operator":"=","left":{"type":"Identifier","start":6533,"end":6537,"name":"docs"},"right":{"type":"CallExpression","start":6540,"end":6602,"callee":{"type":"Identifier","start":6540,"end":6547,"name":"exclude"},"arguments":[{"type":"MemberExpression","start":6548,"end":6563,"object":{"type":"MemberExpression","start":6548,"end":6560,"object":{"type":"Identifier","start":6548,"end":6553,"name":"query"},"property":{"type":"Identifier","start":6554,"end":6560,"name":"fields"},"computed":false,"optional":false},"property":{"type":"Literal","start":6561,"end":6562,"value":0,"raw":"0"},"computed":true,"optional":false},{"type":"MemberExpression","start":6565,"end":6581,"object":{"type":"Identifier","start":6565,"end":6570,"name":"query"},"property":{"type":"Identifier","start":6571,"end":6581,"name":"inputValue"},"computed":false,"optional":false},{"type":"Identifier","start":6583,"end":6587,"name":"docs"},{"type":"MemberExpression","start":6589,"end":6601,"object":{"type":"Identifier","start":6589,"end":6594,"name":"query"},"property":{"type":"Identifier","start":6595,"end":6601,"name":"lookup"},"computed":false,"optional":false}],"optional":false}}}]},"alternate":null}]},"alternate":null}]}}],"optional":false}},{"type":"ExpressionStatement","start":6656,"end":6950,"expression":{"type":"CallExpression","start":6656,"end":6949,"callee":{"type":"MemberExpression","start":6656,"end":6668,"object":{"type":"Identifier","start":6656,"end":6660,"name":"keys"},"property":{"type":"Identifier","start":6661,"end":6668,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6669,"end":6948,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6669,"end":6670,"name":"k"}],"body":{"type":"BlockStatement","start":6674,"end":6948,"body":[{"type":"IfStatement","start":6688,"end":6938,"test":{"type":"BinaryExpression","start":6692,"end":6722,"left":{"type":"CallExpression","start":6692,"end":6717,"callee":{"type":"MemberExpression","start":6692,"end":6714,"object":{"type":"Identifier","start":6692,"end":6706,"name":"validQueryKeys"},"property":{"type":"Identifier","start":6707,"end":6714,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6715,"end":6716,"name":"k"}],"optional":false},"operator":">","right":{"type":"UnaryExpression","start":6720,"end":6722,"operator":"-","prefix":true,"argument":{"type":"Literal","start":6721,"end":6722,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":6724,"end":6938,"body":[{"type":"VariableDeclaration","start":6742,"end":6796,"declarations":[{"type":"VariableDeclarator","start":6748,"end":6795,"id":{"type":"Identifier","start":6748,"end":6753,"name":"query"},"init":{"type":"CallExpression","start":6756,"end":6795,"callee":{"type":"Identifier","start":6756,"end":6764,"name":"getQuery"},"arguments":[{"type":"Identifier","start":6765,"end":6766,"name":"k"},{"type":"CallExpression","start":6768,"end":6794,"callee":{"type":"MemberExpression","start":6768,"end":6789,"object":{"type":"CallExpression","start":6768,"end":6784,"callee":{"type":"MemberExpression","start":6768,"end":6781,"object":{"type":"Identifier","start":6768,"end":6774,"name":"params"},"property":{"type":"Identifier","start":6775,"end":6781,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6782,"end":6783,"name":"k"}],"optional":false},"property":{"type":"Identifier","start":6785,"end":6789,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":6790,"end":6793,"value":",","raw":"','"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":6813,"end":6924,"test":{"type":"BinaryExpression","start":6817,"end":6847,"left":{"type":"MemberExpression","start":6817,"end":6832,"object":{"type":"Identifier","start":6817,"end":6822,"name":"query"},"property":{"type":"Identifier","start":6823,"end":6832,"name":"queryType"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":6837,"end":6847,"value":"ordering","raw":"'ordering'"}},"consequent":{"type":"BlockStatement","start":6849,"end":6924,"body":[{"type":"ExpressionStatement","start":6871,"end":6906,"expression":{"type":"AssignmentExpression","start":6871,"end":6905,"operator":"=","left":{"type":"Identifier","start":6871,"end":6875,"name":"docs"},"right":{"type":"CallExpression","start":6878,"end":6905,"callee":{"type":"Identifier","start":6878,"end":6885,"name":"orderBy"},"arguments":[{"type":"MemberExpression","start":6886,"end":6898,"object":{"type":"Identifier","start":6886,"end":6891,"name":"query"},"property":{"type":"Identifier","start":6892,"end":6898,"name":"fields"},"computed":false,"optional":false},{"type":"Identifier","start":6900,"end":6904,"name":"docs"}],"optional":false}}}]},"alternate":null}]},"alternate":null}]}}],"optional":false}},{"type":"ExpressionStatement","start":6959,"end":7254,"expression":{"type":"CallExpression","start":6959,"end":7253,"callee":{"type":"MemberExpression","start":6959,"end":6971,"object":{"type":"Identifier","start":6959,"end":6963,"name":"keys"},"property":{"type":"Identifier","start":6964,"end":6971,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6972,"end":7252,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6972,"end":6973,"name":"k"}],"body":{"type":"BlockStatement","start":6977,"end":7252,"body":[{"type":"IfStatement","start":6991,"end":7242,"test":{"type":"BinaryExpression","start":6995,"end":7025,"left":{"type":"CallExpression","start":6995,"end":7020,"callee":{"type":"MemberExpression","start":6995,"end":7017,"object":{"type":"Identifier","start":6995,"end":7009,"name":"validQueryKeys"},"property":{"type":"Identifier","start":7010,"end":7017,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7018,"end":7019,"name":"k"}],"optional":false},"operator":">","right":{"type":"UnaryExpression","start":7023,"end":7025,"operator":"-","prefix":true,"argument":{"type":"Literal","start":7024,"end":7025,"value":1,"raw":"1"}}},"consequent":{"type":"BlockStatement","start":7027,"end":7242,"body":[{"type":"VariableDeclaration","start":7045,"end":7099,"declarations":[{"type":"VariableDeclarator","start":7051,"end":7098,"id":{"type":"Identifier","start":7051,"end":7056,"name":"query"},"init":{"type":"CallExpression","start":7059,"end":7098,"callee":{"type":"Identifier","start":7059,"end":7067,"name":"getQuery"},"arguments":[{"type":"Identifier","start":7068,"end":7069,"name":"k"},{"type":"CallExpression","start":7071,"end":7097,"callee":{"type":"MemberExpression","start":7071,"end":7092,"object":{"type":"CallExpression","start":7071,"end":7087,"callee":{"type":"MemberExpression","start":7071,"end":7084,"object":{"type":"Identifier","start":7071,"end":7077,"name":"params"},"property":{"type":"Identifier","start":7078,"end":7084,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7085,"end":7086,"name":"k"}],"optional":false},"property":{"type":"Identifier","start":7088,"end":7092,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7093,"end":7096,"value":",","raw":"','"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":7116,"end":7228,"test":{"type":"BinaryExpression","start":7120,"end":7150,"left":{"type":"MemberExpression","start":7120,"end":7135,"object":{"type":"Identifier","start":7120,"end":7125,"name":"query"},"property":{"type":"Identifier","start":7126,"end":7135,"name":"queryType"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":7140,"end":7150,"value":"distinct","raw":"'distinct'"}},"consequent":{"type":"BlockStatement","start":7152,"end":7228,"body":[{"type":"ExpressionStatement","start":7174,"end":7210,"expression":{"type":"AssignmentExpression","start":7174,"end":7209,"operator":"=","left":{"type":"Identifier","start":7174,"end":7178,"name":"docs"},"right":{"type":"CallExpression","start":7181,"end":7209,"callee":{"type":"Identifier","start":7181,"end":7189,"name":"distinct"},"arguments":[{"type":"MemberExpression","start":7190,"end":7202,"object":{"type":"Identifier","start":7190,"end":7195,"name":"query"},"property":{"type":"Identifier","start":7196,"end":7202,"name":"fields"},"computed":false,"optional":false},{"type":"Identifier","start":7204,"end":7208,"name":"docs"}],"optional":false}}}]},"alternate":null}]},"alternate":null}]}}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":7265,"end":7277,"argument":{"type":"Identifier","start":7272,"end":7276,"name":"docs"}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":7280,"end":9112,"declaration":{"type":"FunctionDeclaration","start":7287,"end":9112,"id":{"type":"Identifier","start":7296,"end":7302,"name":"filter"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7303,"end":7308,"name":"field"},{"type":"Identifier","start":7310,"end":7320,"name":"inputValue"},{"type":"Identifier","start":7322,"end":7326,"name":"docs"},{"type":"Identifier","start":7328,"end":7334,"name":"lookup"},{"type":"AssignmentPattern","start":7336,"end":7353,"left":{"type":"Identifier","start":7336,"end":7345,"name":"isExclude"},"right":{"type":"Literal","start":7348,"end":7353,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":7355,"end":9112,"body":[{"type":"VariableDeclaration","start":7361,"end":7452,"declarations":[{"type":"VariableDeclarator","start":7365,"end":7451,"id":{"type":"Identifier","start":7365,"end":7366,"name":"f"},"init":{"type":"ArrowFunctionExpression","start":7369,"end":7451,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7370,"end":7371,"name":"v"}],"body":{"type":"CallExpression","start":7376,"end":7451,"callee":{"type":"MemberExpression","start":7376,"end":7404,"object":{"type":"CallExpression","start":7376,"end":7397,"callee":{"type":"MemberExpression","start":7376,"end":7392,"object":{"type":"Identifier","start":7376,"end":7386,"name":"inputValue"},"property":{"type":"Identifier","start":7387,"end":7392,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7393,"end":7396,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":7398,"end":7404,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7405,"end":7443,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7406,"end":7409,"name":"acc"},{"type":"Identifier","start":7411,"end":7414,"name":"cur"}],"body":{"type":"LogicalExpression","start":7419,"end":7443,"left":{"type":"Identifier","start":7419,"end":7422,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":7426,"end":7443,"callee":{"type":"Identifier","start":7426,"end":7428,"name":"eq"},"arguments":[{"type":"Identifier","start":7429,"end":7430,"name":"v"},{"type":"Identifier","start":7432,"end":7437,"name":"field"},{"type":"Identifier","start":7439,"end":7442,"name":"cur"}],"optional":false}}},{"type":"Literal","start":7445,"end":7450,"value":false,"raw":"false"}],"optional":false}}}],"kind":"let"},{"type":"IfStatement","start":7457,"end":7581,"test":{"type":"BinaryExpression","start":7461,"end":7477,"left":{"type":"Identifier","start":7461,"end":7467,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":7472,"end":7477,"value":"gte","raw":"'gte'"}},"consequent":{"type":"BlockStatement","start":7479,"end":7581,"body":[{"type":"ExpressionStatement","start":7489,"end":7575,"expression":{"type":"AssignmentExpression","start":7489,"end":7574,"operator":"=","left":{"type":"Identifier","start":7489,"end":7490,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":7493,"end":7574,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7493,"end":7494,"name":"v"}],"body":{"type":"CallExpression","start":7498,"end":7574,"callee":{"type":"MemberExpression","start":7498,"end":7526,"object":{"type":"CallExpression","start":7498,"end":7519,"callee":{"type":"MemberExpression","start":7498,"end":7514,"object":{"type":"Identifier","start":7498,"end":7508,"name":"inputValue"},"property":{"type":"Identifier","start":7509,"end":7514,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7515,"end":7518,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":7520,"end":7526,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7527,"end":7566,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7528,"end":7531,"name":"acc"},{"type":"Identifier","start":7533,"end":7536,"name":"cur"}],"body":{"type":"LogicalExpression","start":7541,"end":7566,"left":{"type":"Identifier","start":7541,"end":7544,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":7548,"end":7566,"callee":{"type":"Identifier","start":7548,"end":7551,"name":"gte"},"arguments":[{"type":"Identifier","start":7552,"end":7553,"name":"v"},{"type":"Identifier","start":7555,"end":7560,"name":"field"},{"type":"Identifier","start":7562,"end":7565,"name":"cur"}],"optional":false}}},{"type":"Literal","start":7568,"end":7573,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":7586,"end":7710,"test":{"type":"BinaryExpression","start":7590,"end":7606,"left":{"type":"Identifier","start":7590,"end":7596,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":7601,"end":7606,"value":"lte","raw":"'lte'"}},"consequent":{"type":"BlockStatement","start":7608,"end":7710,"body":[{"type":"ExpressionStatement","start":7618,"end":7704,"expression":{"type":"AssignmentExpression","start":7618,"end":7703,"operator":"=","left":{"type":"Identifier","start":7618,"end":7619,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":7622,"end":7703,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7622,"end":7623,"name":"v"}],"body":{"type":"CallExpression","start":7627,"end":7703,"callee":{"type":"MemberExpression","start":7627,"end":7655,"object":{"type":"CallExpression","start":7627,"end":7648,"callee":{"type":"MemberExpression","start":7627,"end":7643,"object":{"type":"Identifier","start":7627,"end":7637,"name":"inputValue"},"property":{"type":"Identifier","start":7638,"end":7643,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7644,"end":7647,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":7649,"end":7655,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7656,"end":7695,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7657,"end":7660,"name":"acc"},{"type":"Identifier","start":7662,"end":7665,"name":"cur"}],"body":{"type":"LogicalExpression","start":7670,"end":7695,"left":{"type":"Identifier","start":7670,"end":7673,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":7677,"end":7695,"callee":{"type":"Identifier","start":7677,"end":7680,"name":"lte"},"arguments":[{"type":"Identifier","start":7681,"end":7682,"name":"v"},{"type":"Identifier","start":7684,"end":7689,"name":"field"},{"type":"Identifier","start":7691,"end":7694,"name":"cur"}],"optional":false}}},{"type":"Literal","start":7697,"end":7702,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":7715,"end":7837,"test":{"type":"BinaryExpression","start":7719,"end":7734,"left":{"type":"Identifier","start":7719,"end":7725,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":7730,"end":7734,"value":"gt","raw":"'gt'"}},"consequent":{"type":"BlockStatement","start":7736,"end":7837,"body":[{"type":"ExpressionStatement","start":7746,"end":7831,"expression":{"type":"AssignmentExpression","start":7746,"end":7830,"operator":"=","left":{"type":"Identifier","start":7746,"end":7747,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":7750,"end":7830,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7750,"end":7751,"name":"v"}],"body":{"type":"CallExpression","start":7755,"end":7830,"callee":{"type":"MemberExpression","start":7755,"end":7783,"object":{"type":"CallExpression","start":7755,"end":7776,"callee":{"type":"MemberExpression","start":7755,"end":7771,"object":{"type":"Identifier","start":7755,"end":7765,"name":"inputValue"},"property":{"type":"Identifier","start":7766,"end":7771,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7772,"end":7775,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":7777,"end":7783,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7784,"end":7822,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7785,"end":7788,"name":"acc"},{"type":"Identifier","start":7790,"end":7793,"name":"cur"}],"body":{"type":"LogicalExpression","start":7798,"end":7822,"left":{"type":"Identifier","start":7798,"end":7801,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":7805,"end":7822,"callee":{"type":"Identifier","start":7805,"end":7807,"name":"gt"},"arguments":[{"type":"Identifier","start":7808,"end":7809,"name":"v"},{"type":"Identifier","start":7811,"end":7816,"name":"field"},{"type":"Identifier","start":7818,"end":7821,"name":"cur"}],"optional":false}}},{"type":"Literal","start":7824,"end":7829,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":7842,"end":7964,"test":{"type":"BinaryExpression","start":7846,"end":7861,"left":{"type":"Identifier","start":7846,"end":7852,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":7857,"end":7861,"value":"lt","raw":"'lt'"}},"consequent":{"type":"BlockStatement","start":7863,"end":7964,"body":[{"type":"ExpressionStatement","start":7873,"end":7958,"expression":{"type":"AssignmentExpression","start":7873,"end":7957,"operator":"=","left":{"type":"Identifier","start":7873,"end":7874,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":7877,"end":7957,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7877,"end":7878,"name":"v"}],"body":{"type":"CallExpression","start":7882,"end":7957,"callee":{"type":"MemberExpression","start":7882,"end":7910,"object":{"type":"CallExpression","start":7882,"end":7903,"callee":{"type":"MemberExpression","start":7882,"end":7898,"object":{"type":"Identifier","start":7882,"end":7892,"name":"inputValue"},"property":{"type":"Identifier","start":7893,"end":7898,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7899,"end":7902,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":7904,"end":7910,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7911,"end":7949,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7912,"end":7915,"name":"acc"},{"type":"Identifier","start":7917,"end":7920,"name":"cur"}],"body":{"type":"LogicalExpression","start":7925,"end":7949,"left":{"type":"Identifier","start":7925,"end":7928,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":7932,"end":7949,"callee":{"type":"Identifier","start":7932,"end":7934,"name":"lt"},"arguments":[{"type":"Identifier","start":7935,"end":7936,"name":"v"},{"type":"Identifier","start":7938,"end":7943,"name":"field"},{"type":"Identifier","start":7945,"end":7948,"name":"cur"}],"optional":false}}},{"type":"Literal","start":7951,"end":7956,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":7969,"end":8046,"test":{"type":"BinaryExpression","start":7973,"end":7991,"left":{"type":"Identifier","start":7973,"end":7979,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":7984,"end":7991,"value":"range","raw":"'range'"}},"consequent":{"type":"BlockStatement","start":7993,"end":8046,"body":[{"type":"ExpressionStatement","start":8003,"end":8040,"expression":{"type":"AssignmentExpression","start":8003,"end":8039,"operator":"=","left":{"type":"Identifier","start":8003,"end":8004,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":8007,"end":8039,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8007,"end":8008,"name":"v"}],"body":{"type":"CallExpression","start":8012,"end":8039,"callee":{"type":"Identifier","start":8012,"end":8017,"name":"range"},"arguments":[{"type":"Identifier","start":8018,"end":8019,"name":"v"},{"type":"Identifier","start":8021,"end":8026,"name":"field"},{"type":"Identifier","start":8028,"end":8038,"name":"inputValue"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":8051,"end":8189,"test":{"type":"BinaryExpression","start":8055,"end":8078,"left":{"type":"Identifier","start":8055,"end":8061,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":8066,"end":8078,"value":"startswith","raw":"'startswith'"}},"consequent":{"type":"BlockStatement","start":8080,"end":8189,"body":[{"type":"ExpressionStatement","start":8090,"end":8183,"expression":{"type":"AssignmentExpression","start":8090,"end":8182,"operator":"=","left":{"type":"Identifier","start":8090,"end":8091,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":8094,"end":8182,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8094,"end":8095,"name":"v"}],"body":{"type":"CallExpression","start":8099,"end":8182,"callee":{"type":"MemberExpression","start":8099,"end":8127,"object":{"type":"CallExpression","start":8099,"end":8120,"callee":{"type":"MemberExpression","start":8099,"end":8115,"object":{"type":"Identifier","start":8099,"end":8109,"name":"inputValue"},"property":{"type":"Identifier","start":8110,"end":8115,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8116,"end":8119,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":8121,"end":8127,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8128,"end":8174,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8129,"end":8132,"name":"acc"},{"type":"Identifier","start":8134,"end":8137,"name":"cur"}],"body":{"type":"LogicalExpression","start":8142,"end":8174,"left":{"type":"Identifier","start":8142,"end":8145,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":8149,"end":8174,"callee":{"type":"Identifier","start":8149,"end":8159,"name":"startswith"},"arguments":[{"type":"Identifier","start":8160,"end":8161,"name":"v"},{"type":"Identifier","start":8163,"end":8168,"name":"field"},{"type":"Identifier","start":8170,"end":8173,"name":"cur"}],"optional":false}}},{"type":"Literal","start":8176,"end":8181,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":8194,"end":8328,"test":{"type":"BinaryExpression","start":8198,"end":8219,"left":{"type":"Identifier","start":8198,"end":8204,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":8209,"end":8219,"value":"endswith","raw":"'endswith'"}},"consequent":{"type":"BlockStatement","start":8221,"end":8328,"body":[{"type":"ExpressionStatement","start":8231,"end":8322,"expression":{"type":"AssignmentExpression","start":8231,"end":8321,"operator":"=","left":{"type":"Identifier","start":8231,"end":8232,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":8235,"end":8321,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8235,"end":8236,"name":"v"}],"body":{"type":"CallExpression","start":8240,"end":8321,"callee":{"type":"MemberExpression","start":8240,"end":8268,"object":{"type":"CallExpression","start":8240,"end":8261,"callee":{"type":"MemberExpression","start":8240,"end":8256,"object":{"type":"Identifier","start":8240,"end":8250,"name":"inputValue"},"property":{"type":"Identifier","start":8251,"end":8256,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8257,"end":8260,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":8262,"end":8268,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8269,"end":8313,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8270,"end":8273,"name":"acc"},{"type":"Identifier","start":8275,"end":8278,"name":"cur"}],"body":{"type":"LogicalExpression","start":8283,"end":8313,"left":{"type":"Identifier","start":8283,"end":8286,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":8290,"end":8313,"callee":{"type":"Identifier","start":8290,"end":8298,"name":"endswith"},"arguments":[{"type":"Identifier","start":8299,"end":8300,"name":"v"},{"type":"Identifier","start":8302,"end":8307,"name":"field"},{"type":"Identifier","start":8309,"end":8312,"name":"cur"}],"optional":false}}},{"type":"Literal","start":8315,"end":8320,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":8333,"end":8463,"test":{"type":"BinaryExpression","start":8337,"end":8356,"left":{"type":"Identifier","start":8337,"end":8343,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":8348,"end":8356,"value":"iexact","raw":"'iexact'"}},"consequent":{"type":"BlockStatement","start":8358,"end":8463,"body":[{"type":"ExpressionStatement","start":8368,"end":8457,"expression":{"type":"AssignmentExpression","start":8368,"end":8456,"operator":"=","left":{"type":"Identifier","start":8368,"end":8369,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":8372,"end":8456,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8372,"end":8373,"name":"v"}],"body":{"type":"CallExpression","start":8377,"end":8456,"callee":{"type":"MemberExpression","start":8377,"end":8405,"object":{"type":"CallExpression","start":8377,"end":8398,"callee":{"type":"MemberExpression","start":8377,"end":8393,"object":{"type":"Identifier","start":8377,"end":8387,"name":"inputValue"},"property":{"type":"Identifier","start":8388,"end":8393,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8394,"end":8397,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":8399,"end":8405,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8406,"end":8448,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8407,"end":8410,"name":"acc"},{"type":"Identifier","start":8412,"end":8415,"name":"cur"}],"body":{"type":"LogicalExpression","start":8420,"end":8448,"left":{"type":"Identifier","start":8420,"end":8423,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":8427,"end":8448,"callee":{"type":"Identifier","start":8427,"end":8433,"name":"iexact"},"arguments":[{"type":"Identifier","start":8434,"end":8435,"name":"v"},{"type":"Identifier","start":8437,"end":8442,"name":"field"},{"type":"Identifier","start":8444,"end":8447,"name":"cur"}],"optional":false}}},{"type":"Literal","start":8450,"end":8455,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":8468,"end":8596,"test":{"type":"BinaryExpression","start":8472,"end":8490,"left":{"type":"Identifier","start":8472,"end":8478,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":8483,"end":8490,"value":"exact","raw":"'exact'"}},"consequent":{"type":"BlockStatement","start":8492,"end":8596,"body":[{"type":"ExpressionStatement","start":8502,"end":8590,"expression":{"type":"AssignmentExpression","start":8502,"end":8589,"operator":"=","left":{"type":"Identifier","start":8502,"end":8503,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":8506,"end":8589,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8506,"end":8507,"name":"v"}],"body":{"type":"CallExpression","start":8511,"end":8589,"callee":{"type":"MemberExpression","start":8511,"end":8539,"object":{"type":"CallExpression","start":8511,"end":8532,"callee":{"type":"MemberExpression","start":8511,"end":8527,"object":{"type":"Identifier","start":8511,"end":8521,"name":"inputValue"},"property":{"type":"Identifier","start":8522,"end":8527,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8528,"end":8531,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":8533,"end":8539,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8540,"end":8581,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8541,"end":8544,"name":"acc"},{"type":"Identifier","start":8546,"end":8549,"name":"cur"}],"body":{"type":"LogicalExpression","start":8554,"end":8581,"left":{"type":"Identifier","start":8554,"end":8557,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":8561,"end":8581,"callee":{"type":"Identifier","start":8561,"end":8566,"name":"exact"},"arguments":[{"type":"Identifier","start":8567,"end":8568,"name":"v"},{"type":"Identifier","start":8570,"end":8575,"name":"field"},{"type":"Identifier","start":8577,"end":8580,"name":"cur"}],"optional":false}}},{"type":"Literal","start":8583,"end":8588,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":8601,"end":8737,"test":{"type":"BinaryExpression","start":8605,"end":8627,"left":{"type":"Identifier","start":8605,"end":8611,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":8616,"end":8627,"value":"icontains","raw":"'icontains'"}},"consequent":{"type":"BlockStatement","start":8629,"end":8737,"body":[{"type":"ExpressionStatement","start":8639,"end":8731,"expression":{"type":"AssignmentExpression","start":8639,"end":8730,"operator":"=","left":{"type":"Identifier","start":8639,"end":8640,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":8643,"end":8730,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8643,"end":8644,"name":"v"}],"body":{"type":"CallExpression","start":8648,"end":8730,"callee":{"type":"MemberExpression","start":8648,"end":8676,"object":{"type":"CallExpression","start":8648,"end":8669,"callee":{"type":"MemberExpression","start":8648,"end":8664,"object":{"type":"Identifier","start":8648,"end":8658,"name":"inputValue"},"property":{"type":"Identifier","start":8659,"end":8664,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8665,"end":8668,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":8670,"end":8676,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8677,"end":8722,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8678,"end":8681,"name":"acc"},{"type":"Identifier","start":8683,"end":8686,"name":"cur"}],"body":{"type":"LogicalExpression","start":8691,"end":8722,"left":{"type":"Identifier","start":8691,"end":8694,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":8698,"end":8722,"callee":{"type":"Identifier","start":8698,"end":8707,"name":"icontains"},"arguments":[{"type":"Identifier","start":8708,"end":8709,"name":"v"},{"type":"Identifier","start":8711,"end":8716,"name":"field"},{"type":"Identifier","start":8718,"end":8721,"name":"cur"}],"optional":false}}},{"type":"Literal","start":8724,"end":8729,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":8742,"end":8876,"test":{"type":"BinaryExpression","start":8746,"end":8767,"left":{"type":"Identifier","start":8746,"end":8752,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":8757,"end":8767,"value":"contains","raw":"'contains'"}},"consequent":{"type":"BlockStatement","start":8769,"end":8876,"body":[{"type":"ExpressionStatement","start":8779,"end":8870,"expression":{"type":"AssignmentExpression","start":8779,"end":8869,"operator":"=","left":{"type":"Identifier","start":8779,"end":8780,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":8783,"end":8869,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8783,"end":8784,"name":"v"}],"body":{"type":"CallExpression","start":8788,"end":8869,"callee":{"type":"MemberExpression","start":8788,"end":8816,"object":{"type":"CallExpression","start":8788,"end":8809,"callee":{"type":"MemberExpression","start":8788,"end":8804,"object":{"type":"Identifier","start":8788,"end":8798,"name":"inputValue"},"property":{"type":"Identifier","start":8799,"end":8804,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8805,"end":8808,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":8810,"end":8816,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8817,"end":8861,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8818,"end":8821,"name":"acc"},{"type":"Identifier","start":8823,"end":8826,"name":"cur"}],"body":{"type":"LogicalExpression","start":8831,"end":8861,"left":{"type":"Identifier","start":8831,"end":8834,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":8838,"end":8861,"callee":{"type":"Identifier","start":8838,"end":8846,"name":"contains"},"arguments":[{"type":"Identifier","start":8847,"end":8848,"name":"v"},{"type":"Identifier","start":8850,"end":8855,"name":"field"},{"type":"Identifier","start":8857,"end":8860,"name":"cur"}],"optional":false}}},{"type":"Literal","start":8863,"end":8868,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"IfStatement","start":8881,"end":9011,"test":{"type":"BinaryExpression","start":8885,"end":8904,"left":{"type":"Identifier","start":8885,"end":8891,"name":"lookup"},"operator":"===","right":{"type":"Literal","start":8896,"end":8904,"value":"isnull","raw":"'isnull'"}},"consequent":{"type":"BlockStatement","start":8906,"end":9011,"body":[{"type":"ExpressionStatement","start":8916,"end":9005,"expression":{"type":"AssignmentExpression","start":8916,"end":9004,"operator":"=","left":{"type":"Identifier","start":8916,"end":8917,"name":"f"},"right":{"type":"ArrowFunctionExpression","start":8920,"end":9004,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8920,"end":8921,"name":"v"}],"body":{"type":"CallExpression","start":8925,"end":9004,"callee":{"type":"MemberExpression","start":8925,"end":8953,"object":{"type":"CallExpression","start":8925,"end":8946,"callee":{"type":"MemberExpression","start":8925,"end":8941,"object":{"type":"Identifier","start":8925,"end":8935,"name":"inputValue"},"property":{"type":"Identifier","start":8936,"end":8941,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8942,"end":8945,"value":",","raw":"','"}],"optional":false},"property":{"type":"Identifier","start":8947,"end":8953,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8954,"end":8996,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8955,"end":8958,"name":"acc"},{"type":"Identifier","start":8960,"end":8963,"name":"cur"}],"body":{"type":"LogicalExpression","start":8968,"end":8996,"left":{"type":"Identifier","start":8968,"end":8971,"name":"acc"},"operator":"||","right":{"type":"CallExpression","start":8975,"end":8996,"callee":{"type":"Identifier","start":8975,"end":8981,"name":"isnull"},"arguments":[{"type":"Identifier","start":8982,"end":8983,"name":"v"},{"type":"Identifier","start":8985,"end":8990,"name":"field"},{"type":"Identifier","start":8992,"end":8995,"name":"cur"}],"optional":false}}},{"type":"Literal","start":8998,"end":9003,"value":false,"raw":"false"}],"optional":false}}}}]},"alternate":null},{"type":"ReturnStatement","start":9016,"end":9110,"argument":{"type":"CallExpression","start":9023,"end":9109,"callee":{"type":"MemberExpression","start":9023,"end":9034,"object":{"type":"Identifier","start":9023,"end":9027,"name":"docs"},"property":{"type":"Identifier","start":9028,"end":9034,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9035,"end":9108,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9036,"end":9037,"name":"v"}],"body":{"type":"BlockStatement","start":9042,"end":9108,"body":[{"type":"VariableDeclaration","start":9052,"end":9067,"declarations":[{"type":"VariableDeclarator","start":9058,"end":9066,"id":{"type":"Identifier","start":9058,"end":9059,"name":"o"},"init":{"type":"CallExpression","start":9062,"end":9066,"callee":{"type":"Identifier","start":9062,"end":9063,"name":"f"},"arguments":[{"type":"Identifier","start":9064,"end":9065,"name":"v"}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":9076,"end":9102,"argument":{"type":"ConditionalExpression","start":9083,"end":9101,"test":{"type":"Identifier","start":9083,"end":9092,"name":"isExclude"},"consequent":{"type":"UnaryExpression","start":9095,"end":9097,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":9096,"end":9097,"name":"o"}},"alternate":{"type":"Identifier","start":9100,"end":9101,"name":"o"}}}]}}],"optional":false}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":9113,"end":9231,"declaration":{"type":"FunctionDeclaration","start":9120,"end":9231,"id":{"type":"Identifier","start":9129,"end":9136,"name":"exclude"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9137,"end":9142,"name":"field"},{"type":"Identifier","start":9144,"end":9154,"name":"inputValue"},{"type":"Identifier","start":9156,"end":9160,"name":"docs"},{"type":"Identifier","start":9162,"end":9168,"name":"lookup"}],"body":{"type":"BlockStatement","start":9170,"end":9231,"body":[{"type":"ReturnStatement","start":9176,"end":9229,"argument":{"type":"CallExpression","start":9183,"end":9228,"callee":{"type":"Identifier","start":9183,"end":9189,"name":"filter"},"arguments":[{"type":"Identifier","start":9190,"end":9195,"name":"field"},{"type":"Identifier","start":9197,"end":9207,"name":"inputValue"},{"type":"Identifier","start":9209,"end":9213,"name":"docs"},{"type":"Identifier","start":9215,"end":9221,"name":"lookup"},{"type":"Literal","start":9223,"end":9227,"value":true,"raw":"true"}],"optional":false}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":9232,"end":9602,"declaration":{"type":"FunctionDeclaration","start":9239,"end":9602,"id":{"type":"Identifier","start":9248,"end":9256,"name":"distinct"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9257,"end":9263,"name":"fields"},{"type":"Identifier","start":9265,"end":9269,"name":"docs"}],"body":{"type":"BlockStatement","start":9271,"end":9602,"body":[{"type":"VariableDeclaration","start":9277,"end":9303,"declarations":[{"type":"VariableDeclarator","start":9283,"end":9302,"id":{"type":"Identifier","start":9283,"end":9290,"name":"uniques"},"init":{"type":"NewExpression","start":9293,"end":9302,"callee":{"type":"Identifier","start":9297,"end":9300,"name":"Set"},"arguments":[]}}],"kind":"const"},{"type":"VariableDeclaration","start":9308,"end":9333,"declarations":[{"type":"VariableDeclarator","start":9314,"end":9332,"id":{"type":"Identifier","start":9314,"end":9327,"name":"distinctArray"},"init":{"type":"ArrayExpression","start":9330,"end":9332,"elements":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":9338,"end":9574,"expression":{"type":"CallExpression","start":9338,"end":9573,"callee":{"type":"MemberExpression","start":9338,"end":9350,"object":{"type":"Identifier","start":9338,"end":9342,"name":"docs"},"property":{"type":"Identifier","start":9343,"end":9350,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9351,"end":9572,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9351,"end":9352,"name":"v"}],"body":{"type":"BlockStatement","start":9356,"end":9572,"body":[{"type":"VariableDeclaration","start":9366,"end":9458,"declarations":[{"type":"VariableDeclarator","start":9372,"end":9457,"id":{"type":"Identifier","start":9372,"end":9375,"name":"key"},"init":{"type":"CallExpression","start":9378,"end":9457,"callee":{"type":"MemberExpression","start":9378,"end":9391,"object":{"type":"Identifier","start":9378,"end":9384,"name":"fields"},"property":{"type":"Identifier","start":9385,"end":9391,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9392,"end":9452,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":9393,"end":9396,"name":"acc"},{"type":"Identifier","start":9398,"end":9401,"name":"cur"}],"body":{"type":"AssignmentExpression","start":9406,"end":9452,"operator":"+=","left":{"type":"Identifier","start":9406,"end":9409,"name":"acc"},"right":{"type":"TemplateLiteral","start":9413,"end":9452,"expressions":[{"type":"LogicalExpression","start":9417,"end":9450,"left":{"type":"ChainExpression","start":9417,"end":9440,"expression":{"type":"CallExpression","start":9417,"end":9440,"callee":{"type":"MemberExpression","start":9417,"end":9438,"object":{"type":"MemberExpression","start":9417,"end":9428,"object":{"type":"MemberExpression","start":9417,"end":9423,"object":{"type":"Identifier","start":9417,"end":9418,"name":"v"},"property":{"type":"Identifier","start":9419,"end":9423,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9424,"end":9427,"name":"cur"},"computed":true,"optional":false},"property":{"type":"Identifier","start":9430,"end":9438,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"Literal","start":9444,"end":9450,"value":"null","raw":"'null'"}}],"quasis":[{"type":"TemplateElement","start":9414,"end":9415,"value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","start":9451,"end":9451,"value":{"raw":"","cooked":""},"tail":true}]}}},{"type":"Literal","start":9454,"end":9456,"value":"","raw":"''"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":9467,"end":9566,"test":{"type":"UnaryExpression","start":9471,"end":9488,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":9472,"end":9488,"callee":{"type":"MemberExpression","start":9472,"end":9483,"object":{"type":"Identifier","start":9472,"end":9479,"name":"uniques"},"property":{"type":"Identifier","start":9480,"end":9483,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9484,"end":9487,"name":"key"}],"optional":false}},"consequent":{"type":"BlockStatement","start":9490,"end":9566,"body":[{"type":"ExpressionStatement","start":9504,"end":9521,"expression":{"type":"CallExpression","start":9504,"end":9520,"callee":{"type":"MemberExpression","start":9504,"end":9515,"object":{"type":"Identifier","start":9504,"end":9511,"name":"uniques"},"property":{"type":"Identifier","start":9512,"end":9515,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9516,"end":9519,"name":"key"}],"optional":false}},{"type":"ExpressionStatement","start":9534,"end":9556,"expression":{"type":"CallExpression","start":9534,"end":9555,"callee":{"type":"MemberExpression","start":9534,"end":9552,"object":{"type":"Identifier","start":9534,"end":9547,"name":"distinctArray"},"property":{"type":"Identifier","start":9548,"end":9552,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9553,"end":9554,"name":"v"}],"optional":false}}]},"alternate":null}]}}],"optional":false}},{"type":"ReturnStatement","start":9579,"end":9600,"argument":{"type":"Identifier","start":9586,"end":9599,"name":"distinctArray"}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":9603,"end":11769,"declaration":{"type":"FunctionDeclaration","start":9610,"end":11769,"id":{"type":"Identifier","start":9619,"end":9626,"name":"orderBy"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9627,"end":9633,"name":"fields"},{"type":"Identifier","start":9635,"end":9639,"name":"docs"}],"body":{"type":"BlockStatement","start":9641,"end":11769,"body":[{"type":"ReturnStatement","start":9647,"end":11767,"argument":{"type":"CallExpression","start":9654,"end":11766,"callee":{"type":"MemberExpression","start":9654,"end":9663,"object":{"type":"Identifier","start":9654,"end":9658,"name":"docs"},"property":{"type":"Identifier","start":9659,"end":9663,"name":"sort"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9664,"end":11765,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9665,"end":9666,"name":"a"},{"type":"Identifier","start":9668,"end":9669,"name":"b"}],"body":{"type":"BlockStatement","start":9674,"end":11765,"body":[{"type":"ForStatement","start":9684,"end":11741,"init":{"type":"VariableDeclaration","start":9689,"end":9698,"declarations":[{"type":"VariableDeclarator","start":9693,"end":9698,"id":{"type":"Identifier","start":9693,"end":9694,"name":"i"},"init":{"type":"Literal","start":9697,"end":9698,"value":0,"raw":"0"}}],"kind":"let"},"test":{"type":"BinaryExpression","start":9700,"end":9717,"left":{"type":"Identifier","start":9700,"end":9701,"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":9704,"end":9717,"object":{"type":"Identifier","start":9704,"end":9710,"name":"fields"},"property":{"type":"Identifier","start":9711,"end":9717,"name":"length"},"computed":false,"optional":false}},"update":{"type":"UpdateExpression","start":9719,"end":9722,"operator":"++","prefix":false,"argument":{"type":"Identifier","start":9719,"end":9720,"name":"i"}},"body":{"type":"BlockStatement","start":9724,"end":11741,"body":[{"type":"VariableDeclaration","start":9738,"end":9798,"declarations":[{"type":"VariableDeclarator","start":9744,"end":9797,"id":{"type":"Identifier","start":9744,"end":9749,"name":"order"},"init":{"type":"ConditionalExpression","start":9752,"end":9797,"test":{"type":"BinaryExpression","start":9752,"end":9780,"left":{"type":"CallExpression","start":9752,"end":9774,"callee":{"type":"MemberExpression","start":9752,"end":9769,"object":{"type":"MemberExpression","start":9752,"end":9761,"object":{"type":"Identifier","start":9752,"end":9758,"name":"fields"},"property":{"type":"Identifier","start":9759,"end":9760,"name":"i"},"computed":true,"optional":false},"property":{"type":"Identifier","start":9762,"end":9769,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":9770,"end":9773,"value":"-","raw":"'-'"}],"optional":false},"operator":"===","right":{"type":"Literal","start":9779,"end":9780,"value":0,"raw":"0"}},"consequent":{"type":"Literal","start":9783,"end":9789,"value":"desc","raw":"'desc'"},"alternate":{"type":"Literal","start":9792,"end":9797,"value":"asc","raw":"'asc'"}}}],"kind":"const"},{"type":"VariableDeclaration","start":9811,"end":9889,"declarations":[{"type":"VariableDeclarator","start":9817,"end":9888,"id":{"type":"Identifier","start":9817,"end":9831,"name":"parseFieldName"},"init":{"type":"ConditionalExpression","start":9834,"end":9888,"test":{"type":"BinaryExpression","start":9834,"end":9850,"left":{"type":"Identifier","start":9834,"end":9839,"name":"order"},"operator":"===","right":{"type":"Literal","start":9844,"end":9850,"value":"desc","raw":"'desc'"}},"consequent":{"type":"MemberExpression","start":9853,"end":9876,"object":{"type":"CallExpression","start":9853,"end":9873,"callee":{"type":"MemberExpression","start":9853,"end":9868,"object":{"type":"MemberExpression","start":9853,"end":9862,"object":{"type":"Identifier","start":9853,"end":9859,"name":"fields"},"property":{"type":"Identifier","start":9860,"end":9861,"name":"i"},"computed":true,"optional":false},"property":{"type":"Identifier","start":9863,"end":9868,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":9869,"end":9872,"value":"-","raw":"'-'"}],"optional":false},"property":{"type":"Literal","start":9874,"end":9875,"value":1,"raw":"1"},"computed":true,"optional":false},"alternate":{"type":"MemberExpression","start":9879,"end":9888,"object":{"type":"Identifier","start":9879,"end":9885,"name":"fields"},"property":{"type":"Identifier","start":9886,"end":9887,"name":"i"},"computed":true,"optional":false}}}],"kind":"const"},{"type":"IfStatement","start":9902,"end":10009,"test":{"type":"LogicalExpression","start":9906,"end":9966,"left":{"type":"UnaryExpression","start":9906,"end":9934,"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":9908,"end":9933,"left":{"type":"Identifier","start":9908,"end":9922,"name":"parseFieldName"},"operator":"in","right":{"type":"ChainExpression","start":9926,"end":9933,"expression":{"type":"MemberExpression","start":9926,"end":9933,"object":{"type":"Identifier","start":9926,"end":9927,"name":"a"},"property":{"type":"Identifier","start":9929,"end":9933,"name":"data"},"computed":false,"optional":true}}}},"operator":"||","right":{"type":"UnaryExpression","start":9938,"end":9966,"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":9940,"end":9965,"left":{"type":"Identifier","start":9940,"end":9954,"name":"parseFieldName"},"operator":"in","right":{"type":"ChainExpression","start":9958,"end":9965,"expression":{"type":"MemberExpression","start":9958,"end":9965,"object":{"type":"Identifier","start":9958,"end":9959,"name":"b"},"property":{"type":"Identifier","start":9961,"end":9965,"name":"data"},"computed":false,"optional":true}}}}},"consequent":{"type":"BlockStatement","start":9968,"end":10009,"body":[{"type":"ContinueStatement","start":9986,"end":9995,"label":null}]},"alternate":null},{"type":"VariableDeclaration","start":10022,"end":10037,"declarations":[{"type":"VariableDeclarator","start":10026,"end":10036,"id":{"type":"Identifier","start":10026,"end":10032,"name":"output"},"init":{"type":"Literal","start":10035,"end":10036,"value":0,"raw":"0"}}],"kind":"let"},{"type":"VariableDeclaration","start":10050,"end":10123,"declarations":[{"type":"VariableDeclarator","start":10056,"end":10122,"id":{"type":"Identifier","start":10056,"end":10062,"name":"isDate"},"init":{"type":"CallExpression","start":10065,"end":10122,"callee":{"type":"Identifier","start":10065,"end":10074,"name":"parseDate"},"arguments":[{"type":"MemberExpression","start":10075,"end":10097,"object":{"type":"MemberExpression","start":10075,"end":10081,"object":{"type":"Identifier","start":10075,"end":10076,"name":"a"},"property":{"type":"Identifier","start":10077,"end":10081,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10082,"end":10096,"name":"parseFieldName"},"computed":true,"optional":false},{"type":"MemberExpression","start":10099,"end":10121,"object":{"type":"MemberExpression","start":10099,"end":10105,"object":{"type":"Identifier","start":10099,"end":10100,"name":"b"},"property":{"type":"Identifier","start":10101,"end":10105,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10106,"end":10120,"name":"parseFieldName"},"computed":true,"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":10136,"end":10414,"test":{"type":"LogicalExpression","start":10140,"end":10220,"left":{"type":"LogicalExpression","start":10140,"end":10165,"left":{"type":"Identifier","start":10140,"end":10146,"name":"isDate"},"operator":"&&","right":{"type":"BinaryExpression","start":10150,"end":10165,"left":{"type":"Identifier","start":10150,"end":10155,"name":"order"},"operator":"===","right":{"type":"Literal","start":10160,"end":10165,"value":"asc","raw":"'asc'"}}},"operator":"&&","right":{"type":"BinaryExpression","start":10169,"end":10220,"left":{"type":"MemberExpression","start":10169,"end":10192,"object":{"type":"Identifier","start":10169,"end":10175,"name":"isDate"},"property":{"type":"Identifier","start":10176,"end":10192,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"!==","right":{"type":"MemberExpression","start":10197,"end":10220,"object":{"type":"Identifier","start":10197,"end":10203,"name":"isDate"},"property":{"type":"Identifier","start":10204,"end":10220,"name":"parsedInputValue"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":10222,"end":10414,"body":[{"type":"ExpressionStatement","start":10240,"end":10299,"expression":{"type":"AssignmentExpression","start":10240,"end":10298,"operator":"=","left":{"type":"Identifier","start":10240,"end":10246,"name":"output"},"right":{"type":"BinaryExpression","start":10249,"end":10298,"left":{"type":"MemberExpression","start":10249,"end":10272,"object":{"type":"Identifier","start":10249,"end":10255,"name":"isDate"},"property":{"type":"Identifier","start":10256,"end":10272,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"-","right":{"type":"MemberExpression","start":10275,"end":10298,"object":{"type":"Identifier","start":10275,"end":10281,"name":"isDate"},"property":{"type":"Identifier","start":10282,"end":10298,"name":"parsedInputValue"},"computed":false,"optional":false}}}},{"type":"IfStatement","start":10316,"end":10400,"test":{"type":"LogicalExpression","start":10320,"end":10344,"left":{"type":"BinaryExpression","start":10320,"end":10330,"left":{"type":"Identifier","start":10320,"end":10326,"name":"output"},"operator":">","right":{"type":"Literal","start":10329,"end":10330,"value":0,"raw":"0"}},"operator":"||","right":{"type":"BinaryExpression","start":10334,"end":10344,"left":{"type":"Identifier","start":10334,"end":10340,"name":"output"},"operator":"<","right":{"type":"Literal","start":10343,"end":10344,"value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","start":10346,"end":10400,"body":[{"type":"ReturnStatement","start":10368,"end":10382,"argument":{"type":"Identifier","start":10375,"end":10381,"name":"output"}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","start":10427,"end":10706,"test":{"type":"LogicalExpression","start":10431,"end":10512,"left":{"type":"LogicalExpression","start":10431,"end":10457,"left":{"type":"Identifier","start":10431,"end":10437,"name":"isDate"},"operator":"&&","right":{"type":"BinaryExpression","start":10441,"end":10457,"left":{"type":"Identifier","start":10441,"end":10446,"name":"order"},"operator":"===","right":{"type":"Literal","start":10451,"end":10457,"value":"desc","raw":"'desc'"}}},"operator":"&&","right":{"type":"BinaryExpression","start":10461,"end":10512,"left":{"type":"MemberExpression","start":10461,"end":10484,"object":{"type":"Identifier","start":10461,"end":10467,"name":"isDate"},"property":{"type":"Identifier","start":10468,"end":10484,"name":"parsedInputValue"},"computed":false,"optional":false},"operator":"!==","right":{"type":"MemberExpression","start":10489,"end":10512,"object":{"type":"Identifier","start":10489,"end":10495,"name":"isDate"},"property":{"type":"Identifier","start":10496,"end":10512,"name":"parsedFieldValue"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":10514,"end":10706,"body":[{"type":"ExpressionStatement","start":10532,"end":10591,"expression":{"type":"AssignmentExpression","start":10532,"end":10590,"operator":"=","left":{"type":"Identifier","start":10532,"end":10538,"name":"output"},"right":{"type":"BinaryExpression","start":10541,"end":10590,"left":{"type":"MemberExpression","start":10541,"end":10564,"object":{"type":"Identifier","start":10541,"end":10547,"name":"isDate"},"property":{"type":"Identifier","start":10548,"end":10564,"name":"parsedInputValue"},"computed":false,"optional":false},"operator":"-","right":{"type":"MemberExpression","start":10567,"end":10590,"object":{"type":"Identifier","start":10567,"end":10573,"name":"isDate"},"property":{"type":"Identifier","start":10574,"end":10590,"name":"parsedFieldValue"},"computed":false,"optional":false}}}},{"type":"IfStatement","start":10608,"end":10692,"test":{"type":"LogicalExpression","start":10612,"end":10636,"left":{"type":"BinaryExpression","start":10612,"end":10622,"left":{"type":"Identifier","start":10612,"end":10618,"name":"output"},"operator":">","right":{"type":"Literal","start":10621,"end":10622,"value":0,"raw":"0"}},"operator":"||","right":{"type":"BinaryExpression","start":10626,"end":10636,"left":{"type":"Identifier","start":10626,"end":10632,"name":"output"},"operator":"<","right":{"type":"Literal","start":10635,"end":10636,"value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","start":10638,"end":10692,"body":[{"type":"ReturnStatement","start":10660,"end":10674,"argument":{"type":"Identifier","start":10667,"end":10673,"name":"output"}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","start":10719,"end":10796,"declarations":[{"type":"VariableDeclarator","start":10725,"end":10795,"id":{"type":"Identifier","start":10725,"end":10733,"name":"isNumber"},"init":{"type":"CallExpression","start":10736,"end":10795,"callee":{"type":"Identifier","start":10736,"end":10747,"name":"parseNumber"},"arguments":[{"type":"MemberExpression","start":10748,"end":10770,"object":{"type":"MemberExpression","start":10748,"end":10754,"object":{"type":"Identifier","start":10748,"end":10749,"name":"a"},"property":{"type":"Identifier","start":10750,"end":10754,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10755,"end":10769,"name":"parseFieldName"},"computed":true,"optional":false},{"type":"MemberExpression","start":10772,"end":10794,"object":{"type":"MemberExpression","start":10772,"end":10778,"object":{"type":"Identifier","start":10772,"end":10773,"name":"b"},"property":{"type":"Identifier","start":10774,"end":10778,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10779,"end":10793,"name":"parseFieldName"},"computed":true,"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":10809,"end":11097,"test":{"type":"LogicalExpression","start":10813,"end":10899,"left":{"type":"LogicalExpression","start":10813,"end":10840,"left":{"type":"Identifier","start":10813,"end":10821,"name":"isNumber"},"operator":"&&","right":{"type":"BinaryExpression","start":10825,"end":10840,"left":{"type":"Identifier","start":10825,"end":10830,"name":"order"},"operator":"===","right":{"type":"Literal","start":10835,"end":10840,"value":"asc","raw":"'asc'"}}},"operator":"&&","right":{"type":"BinaryExpression","start":10844,"end":10899,"left":{"type":"MemberExpression","start":10844,"end":10869,"object":{"type":"Identifier","start":10844,"end":10852,"name":"isNumber"},"property":{"type":"Identifier","start":10853,"end":10869,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"!==","right":{"type":"MemberExpression","start":10874,"end":10899,"object":{"type":"Identifier","start":10874,"end":10882,"name":"isNumber"},"property":{"type":"Identifier","start":10883,"end":10899,"name":"parsedInputValue"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":10901,"end":11097,"body":[{"type":"ExpressionStatement","start":10919,"end":10982,"expression":{"type":"AssignmentExpression","start":10919,"end":10981,"operator":"=","left":{"type":"Identifier","start":10919,"end":10925,"name":"output"},"right":{"type":"BinaryExpression","start":10928,"end":10981,"left":{"type":"MemberExpression","start":10928,"end":10953,"object":{"type":"Identifier","start":10928,"end":10936,"name":"isNumber"},"property":{"type":"Identifier","start":10937,"end":10953,"name":"parsedFieldValue"},"computed":false,"optional":false},"operator":"-","right":{"type":"MemberExpression","start":10956,"end":10981,"object":{"type":"Identifier","start":10956,"end":10964,"name":"isNumber"},"property":{"type":"Identifier","start":10965,"end":10981,"name":"parsedInputValue"},"computed":false,"optional":false}}}},{"type":"IfStatement","start":10999,"end":11083,"test":{"type":"LogicalExpression","start":11003,"end":11027,"left":{"type":"BinaryExpression","start":11003,"end":11013,"left":{"type":"Identifier","start":11003,"end":11009,"name":"output"},"operator":">","right":{"type":"Literal","start":11012,"end":11013,"value":0,"raw":"0"}},"operator":"||","right":{"type":"BinaryExpression","start":11017,"end":11027,"left":{"type":"Identifier","start":11017,"end":11023,"name":"output"},"operator":"<","right":{"type":"Literal","start":11026,"end":11027,"value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","start":11029,"end":11083,"body":[{"type":"ReturnStatement","start":11051,"end":11065,"argument":{"type":"Identifier","start":11058,"end":11064,"name":"output"}}]},"alternate":null}]},"alternate":null},{"type":"IfStatement","start":11110,"end":11399,"test":{"type":"LogicalExpression","start":11114,"end":11201,"left":{"type":"LogicalExpression","start":11114,"end":11142,"left":{"type":"Identifier","start":11114,"end":11122,"name":"isNumber"},"operator":"&&","right":{"type":"BinaryExpression","start":11126,"end":11142,"left":{"type":"Identifier","start":11126,"end":11131,"name":"order"},"operator":"===","right":{"type":"Literal","start":11136,"end":11142,"value":"desc","raw":"'desc'"}}},"operator":"&&","right":{"type":"BinaryExpression","start":11146,"end":11201,"left":{"type":"MemberExpression","start":11146,"end":11171,"object":{"type":"Identifier","start":11146,"end":11154,"name":"isNumber"},"property":{"type":"Identifier","start":11155,"end":11171,"name":"parsedInputValue"},"computed":false,"optional":false},"operator":"!==","right":{"type":"MemberExpression","start":11176,"end":11201,"object":{"type":"Identifier","start":11176,"end":11184,"name":"isNumber"},"property":{"type":"Identifier","start":11185,"end":11201,"name":"parsedFieldValue"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":11203,"end":11399,"body":[{"type":"ExpressionStatement","start":11221,"end":11284,"expression":{"type":"AssignmentExpression","start":11221,"end":11283,"operator":"=","left":{"type":"Identifier","start":11221,"end":11227,"name":"output"},"right":{"type":"BinaryExpression","start":11230,"end":11283,"left":{"type":"MemberExpression","start":11230,"end":11255,"object":{"type":"Identifier","start":11230,"end":11238,"name":"isNumber"},"property":{"type":"Identifier","start":11239,"end":11255,"name":"parsedInputValue"},"computed":false,"optional":false},"operator":"-","right":{"type":"MemberExpression","start":11258,"end":11283,"object":{"type":"Identifier","start":11258,"end":11266,"name":"isNumber"},"property":{"type":"Identifier","start":11267,"end":11283,"name":"parsedFieldValue"},"computed":false,"optional":false}}}},{"type":"IfStatement","start":11301,"end":11385,"test":{"type":"LogicalExpression","start":11305,"end":11329,"left":{"type":"BinaryExpression","start":11305,"end":11315,"left":{"type":"Identifier","start":11305,"end":11311,"name":"output"},"operator":">","right":{"type":"Literal","start":11314,"end":11315,"value":0,"raw":"0"}},"operator":"||","right":{"type":"BinaryExpression","start":11319,"end":11329,"left":{"type":"Identifier","start":11319,"end":11325,"name":"output"},"operator":"<","right":{"type":"Literal","start":11328,"end":11329,"value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","start":11331,"end":11385,"body":[{"type":"ReturnStatement","start":11353,"end":11367,"argument":{"type":"Identifier","start":11360,"end":11366,"name":"output"}}]},"alternate":null}]},"alternate":null},{"type":"VariableDeclaration","start":11412,"end":11468,"declarations":[{"type":"VariableDeclarator","start":11418,"end":11467,"id":{"type":"Identifier","start":11418,"end":11424,"name":"valueA"},"init":{"type":"LogicalExpression","start":11427,"end":11467,"left":{"type":"ChainExpression","start":11427,"end":11461,"expression":{"type":"CallExpression","start":11427,"end":11461,"callee":{"type":"MemberExpression","start":11427,"end":11459,"object":{"type":"MemberExpression","start":11427,"end":11449,"object":{"type":"MemberExpression","start":11427,"end":11433,"object":{"type":"Identifier","start":11427,"end":11428,"name":"a"},"property":{"type":"Identifier","start":11429,"end":11433,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":11434,"end":11448,"name":"parseFieldName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":11451,"end":11459,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"Literal","start":11465,"end":11467,"value":"","raw":"''"}}}],"kind":"const"},{"type":"VariableDeclaration","start":11481,"end":11537,"declarations":[{"type":"VariableDeclarator","start":11487,"end":11536,"id":{"type":"Identifier","start":11487,"end":11493,"name":"valueB"},"init":{"type":"LogicalExpression","start":11496,"end":11536,"left":{"type":"ChainExpression","start":11496,"end":11530,"expression":{"type":"CallExpression","start":11496,"end":11530,"callee":{"type":"MemberExpression","start":11496,"end":11528,"object":{"type":"MemberExpression","start":11496,"end":11518,"object":{"type":"MemberExpression","start":11496,"end":11502,"object":{"type":"Identifier","start":11496,"end":11497,"name":"b"},"property":{"type":"Identifier","start":11498,"end":11502,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":11503,"end":11517,"name":"parseFieldName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":11520,"end":11528,"name":"toString"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"Literal","start":11534,"end":11536,"value":"","raw":"''"}}}],"kind":"const"},{"type":"ExpressionStatement","start":11550,"end":11642,"expression":{"type":"AssignmentExpression","start":11550,"end":11641,"operator":"=","left":{"type":"Identifier","start":11550,"end":11556,"name":"output"},"right":{"type":"ConditionalExpression","start":11559,"end":11641,"test":{"type":"BinaryExpression","start":11559,"end":11574,"left":{"type":"Identifier","start":11559,"end":11564,"name":"order"},"operator":"===","right":{"type":"Literal","start":11569,"end":11574,"value":"asc","raw":"'asc'"}},"consequent":{"type":"CallExpression","start":11577,"end":11605,"callee":{"type":"MemberExpression","start":11577,"end":11597,"object":{"type":"Identifier","start":11577,"end":11583,"name":"valueA"},"property":{"type":"Identifier","start":11584,"end":11597,"name":"localeCompare"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11598,"end":11604,"name":"valueB"}],"optional":false},"alternate":{"type":"BinaryExpression","start":11608,"end":11641,"left":{"type":"CallExpression","start":11608,"end":11636,"callee":{"type":"MemberExpression","start":11608,"end":11628,"object":{"type":"Identifier","start":11608,"end":11614,"name":"valueA"},"property":{"type":"Identifier","start":11615,"end":11628,"name":"localeCompare"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11629,"end":11635,"name":"valueB"}],"optional":false},"operator":"*","right":{"type":"UnaryExpression","start":11639,"end":11641,"operator":"-","prefix":true,"argument":{"type":"Literal","start":11640,"end":11641,"value":1,"raw":"1"}}}}}},{"type":"IfStatement","start":11655,"end":11731,"test":{"type":"LogicalExpression","start":11659,"end":11683,"left":{"type":"BinaryExpression","start":11659,"end":11669,"left":{"type":"Identifier","start":11659,"end":11665,"name":"output"},"operator":">","right":{"type":"Literal","start":11668,"end":11669,"value":0,"raw":"0"}},"operator":"||","right":{"type":"BinaryExpression","start":11673,"end":11683,"left":{"type":"Identifier","start":11673,"end":11679,"name":"output"},"operator":"<","right":{"type":"Literal","start":11682,"end":11683,"value":0,"raw":"0"}}},"consequent":{"type":"BlockStatement","start":11685,"end":11731,"body":[{"type":"ReturnStatement","start":11703,"end":11717,"argument":{"type":"Identifier","start":11710,"end":11716,"name":"output"}}]},"alternate":null}]}},{"type":"ReturnStatement","start":11750,"end":11759,"argument":{"type":"Literal","start":11757,"end":11758,"value":0,"raw":"0"}}]}}],"optional":false}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVycy5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9maWx0ZXJzLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdCQSxNQUFNLFVBQVUsV0FBVyxDQUFDLFVBQXlCLEVBQUUsVUFBa0I7SUFFckUsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRTlELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUU5RCxPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQztBQUM1RyxDQUFDO0FBRUQsTUFBTSxVQUFVLFNBQVMsQ0FBQyxVQUF5QixFQUFFLFVBQWtCO0lBRW5FLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFFbEUsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUVsRSxPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQztBQUM1RyxDQUFDO0FBRUQsTUFBTSxVQUFVLFlBQVksQ0FBQyxVQUF5QixFQUFFLFVBQWtCO0lBR3RFLE1BQU0sZ0JB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S0FBSyxDQUFDLENBQUM7S0FBRTtJQUVoSCxJQUFJLE1BQU0sS0FBSyxJQUFJLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRTlHLElBQUksTUFBTSxLQUFLLElBQUksRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFOUcsSUFBSSxNQUFNLEtBQUssT0FBTyxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsVUFBVSxDQUFDLENBQUM7S0FBRTtJQUVqRSxJQUFJLE1BQU0sS0FBSyxZQUFZLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRTlILElBQUksTUFBTSxLQUFLLFVBQVUsRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFMUgsSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FBRTtJQUV0SCxJQUFJLE1BQU0sS0FBSyxPQUFPLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRXBILElBQUksTUFBTSxLQUFLLFdBQVcsRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFNUgsSUFBSSxNQUFNLEtBQUssVUFBVSxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxH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LFFBQVEsSUFBSSxLQUFLLEtBQUssTUFBTSxJQUFJLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxRQUFRLENBQUMsZ0JBQWdCLEVBQUU7Z0JBRXpGLE1BQU0sR0FBRyxRQUFRLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDO2dCQUUvRCxJQUFJLE1BQU0sR0FBRyxDQUFDLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFBRSxPQUFPLE1BQU0sQ0FBQztpQkFBRTthQUNuRDtZQUVELE1BQU0sTUFBTSxHQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFtQixFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztZQUUzRSxNQUFNLE1BQU0sR0FBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBbUIsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7WUFFM0UsTUFBTSxHQUFHLEtBQUssS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFNUYsSUFBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQUUsT0FBTyxNQUFNLENBQUM7YUFBRTtTQUVuRDtRQUVELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG4vLy8vLy8vLy8vLy8vLy8vXG4vLyBUeXBlc1xuLy8vLy8vLy8vLy8vLy8vL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCB0eXBlIExvb2t1cCA9ICdndGUnIHwgJ2x0ZScgfCAnZ3QnIHwgJ2x0JyB8ICdlcScgfCAnc3RhcnRzd2l0aCcgfCAnZW5kc3dpdGgnIHwgJ3JhbmdlJyB8ICdpc251bGwnIHwgJ2lleGFjdCcgfCAnZXhhY3QnIHwgJ2ljb250YWlucycgfCAnY29udGFpbnMnIHwgJ2luJztcblxuZXhwb3J0IHR5cGUgUXVlcnkgPSAnZmlsdGVyJyB8ICdkaXN0aW5jdCcgfCAnZXhjbHVkZScgfCAnb3JkZXJpbmcnIHwgJ29ubHknO1xuXG5leHBvcnQgdHlwZSBGaWVsZERhdGFUeXBlID0gc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGw7XG5cbi8vLy8vLy8vLy8vLy8vLy9cbi8vIFBhcnNlcnNcbi8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bWJlcihmaWVsZFZhbHVlOiBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlOiBzdHJpbmcpOiBudWxsIHwge1trZXk6IHN0cmluZ106IG51bWJlcn0ge1xuXG4gICAgY29uc3QgcGFyc2VkRmllbGRWYWx1ZSA9IE51bWJlcihmaWVsZFZhbHVlPy50b1N0cmluZygpIHx8ICcnKTtcblxuICAgIGNvbnN0IHBhcnNlZElucHV0VmFsdWUgPSBOdW1iZXIoaW5wdXRWYWx1ZT8udG9TdHJpbmcoKSB8fCAnJyk7XG5cbiAgICByZXR1cm4gaXNOYU4ocGFyc2VkRmllbGRWYWx1ZSkgJiYgaXNOYU4ocGFyc2VkSW5wdXRWYWx1ZSkgPyBudWxsIDoge3BhcnNlZEZpZWxkVmFsdWUsIHBhcnNlZElucHV0VmFsdWV9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlKGZpZWxkVmFsdWU6IEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWU6IHN0cmluZyk6IG51bGwgfCB7W2tleTogc3RyaW5nXTogbnVtYmVyfSB7XG5cbiAgICBjb25zdCBwYXJzZWRGaWVsZFZhbHVlID0gRGF0ZS5wYXJzZShmaWVsZFZhbHVlPy50b1N0cmluZygpIHx8ICcnKTtcblxuICAgIGNvbnN0IHBhcnNlZElucHV0VmFsdWUgPSBEYXRlLnBhcnNlKGlucHV0VmFsdWU/LnRvU3RyaW5nKCkgfHwgJycpO1xuXG4gICAgcmV0dXJuIGlzTmFOKHBhcnNlZEZpZWxkVmFsdWUpICYmIGlzTmFOKHBhcnNlZElucHV0VmFsdWUpID8gbnVsbCA6IHtwYXJzZWRGaWVsZFZhbHVlLCBwYXJzZWRJbnB1dFZhbHVlfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9vbGVhbihmaWVsZFZhbHVlOiBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlOiBzdHJpbmcpOiBudWxsIHwge1trZXk6IHN0cmluZ106IGJvb2xlYW59IHtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgY29uc3QgcGFyc2VkRmllbGRWYWx1ZSA9IGZpZWxkVmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZpZWxkVmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogbnVsbDtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgY29uc3QgcGFyc2VkSW5wdXRWYWx1ZSA9IGlucHV0VmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGlucHV0VmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogbnVsbDtcblxuICAgIHJldHVybiBwYXJzZWRGaWVsZFZhbHVlID09PSBudWxsIHx8IHBhcnNlZElucHV0VmFsdWUgPT09IG51bGwgPyBudWxsIDoge3BhcnNlZEZpZWxkVmFsdWUsIHBhcnNlZElucHV0VmFsdWV9O1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTG9va3VwIEZpbHRlcnMgKG51bSwgZGF0ZSwgc3RyaW5nLCBib29sZWFuKVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBlcTogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IHtcblxuICAgIGNvbnN0IGlzRGF0ZSA9IHBhcnNlRGF0ZSh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzRGF0ZSkgeyByZXR1cm4gaXNEYXRlLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzTnVtYmVyLnBhcnNlZElucHV0VmFsdWU7IH1cblxuICAgIGNvbnN0IGlzQm9vbGVhbiA9IHBhcnNlQm9vbGVhbih2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzQm9vbGVhbikgeyByZXR1cm4gaXNCb29sZWFuLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzQm9vbGVhbi5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA9PT0gaW5wdXRWYWx1ZTtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBMb29rdXAgRmlsdGVycyAobnVtLCBkYXRlKVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBndGU6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiB7XG5cbiAgICBjb25zdCBpc0RhdGUgPSBwYXJzZURhdGUodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlKTtcblxuICAgIGlmIChpc0RhdGUpIHsgcmV0dXJuIGlzRGF0ZS5wYXJzZWRGaWVsZFZhbHVlID49IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgcmV0dXJuIHYuZGF0YVtmaWVsZF0gPj0gaW5wdXRWYWx1ZTtcbn07XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3QgbHRlOiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA8PSBpc0RhdGUucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgY29uc3QgaXNOdW1iZXIgPSBwYXJzZU51bWJlcih2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzTnVtYmVyKSB7IHJldHVybiBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlIDw9IGlzTnVtYmVyLnBhcnNlZElucHV0VmFsdWU7IH1cblxuICAgIHJldHVybiB2LmRhdGFbZmllbGRdIDw9IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGd0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA+IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPiBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA+IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGx0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA8IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPCBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA8IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IHJhbmdlOiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgdmFsdWVzID0gaW5wdXRWYWx1ZS50b1N0cmluZygpLnNwbGl0KCcsJyk7XG5cbiAgICBjb25zdCBpc0RhdGUxID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgdmFsdWVzWzBdKTtcblxuICAgIGNvbnN0IGlzRGF0ZTIgPSBwYXJzZURhdGUodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMV0pO1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICBpZiAoaXNEYXRlMSAmJiBpc0RhdGUyKSB7IHJldHVybiBpc0RhdGUxLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNEYXRlMS5wYXJzZWRJbnB1dFZhbHVlICYmIGlzRGF0ZTIucGFyc2VkRmllbGRWYWx1ZSA8IGlzRGF0ZTIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgY29uc3QgaXNOdW1iZXIxID0gcGFyc2VOdW1iZXIodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMF0pO1xuXG4gICAgY29uc3QgaXNOdW1iZXIyID0gcGFyc2VOdW1iZXIodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMV0pO1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICBpZiAoaXNOdW1iZXIxICYmIGlzTnVtYmVyMikgeyByZXR1cm4gaXNOdW1iZXIxLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNOdW1iZXIxLnBhcnNlZElucHV0VmFsdWUgJiYgaXNOdW1iZXIyLnBhcnNlZEZpZWxkVmFsdWUgPCBpc051bWJlcjIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgcmV0dXJuIHYuZGF0YVtmaWVsZF0gPj0gdmFsdWVzWzBdICYmIHYuZGF0YVtmaWVsZF0gPCB2YWx1ZXNbMV07XG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTG9va3VwIEZpbHRlcnMgKHN0cmluZylcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3Qgc3RhcnRzd2l0aDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+ICh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLnN0YXJ0c1dpdGgoaW5wdXRWYWx1ZSk7XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3QgZW5kc3dpdGg6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gICA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+ICh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLmVuZHNXaXRoKGlucHV0VmFsdWUpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGlleGFjdDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiAhISh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLm1hdGNoKG5ldyBSZWdFeHAoYF4ke2lucHV0VmFsdWV9JGAsICdpJykpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGV4YWN0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuICAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiAhISh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLm1hdGNoKG5ldyBSZWdFeHAoYF4ke2lucHV0VmFsdWV9JGApKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBpY29udGFpbnM6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhpbnB1dFZhbHVlPy50b0xvd2VyQ2FzZSgpIHx8ICcnKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBjb250YWluczogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkuaW5jbHVkZXMoaW5wdXRWYWx1ZSk7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBMb29rdXAgRmlsdGVycyAoYm9vbGVhbilcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGlzbnVsbDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBpbnB1dFZhbHVlPy50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB2LmRhdGFbZmllbGRdID09PSBudWxsIDogdi5kYXRhW2ZpZWxkXSAhPT0gbnVsbDtcblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVlcnkoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiB7cXVlcnlUeXBlOiBRdWVyeSwgZmllbGRzOiBzdHJpbmdbXSwgbG9va3VwPzogTG9va3VwLCBpbnB1dFZhbHVlPzogc3RyaW5nfSB7XG5cbiAgICBpZiAoa2V5LmluY2x1ZGVzKCdkaXN0aW5jdCcpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdkaXN0aW5jdCcsIGZpZWxkczogdmFsdWUuc3BsaXQoJywnKX07XG5cbiAgICB9IGVsc2UgaWYgKGtleS5pbmNsdWRlcygnb25seScpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdvbmx5JywgZmllbGRzOiB2YWx1ZS5zcGxpdCgnLCcpfTtcblxuICAgIH0gZWxzZSBpZiAoa2V5LmluY2x1ZGVzKCdvcmRlcmluZycpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdvcmRlcmluZycsIGZpZWxkczogdmFsdWUuc3BsaXQoJywnKX07XG5cbiAgICB9IGVsc2UgaWYgKGtleS5pbmNsdWRlcygnZXhjbHVkZScpKSB7XG5cbiAgICAgICAgY29uc3QgZmllbGRBbmRMb29rdXAgPSBrZXkuc3BsaXQoJzonKVsxXS5zcGxpdCgnLicpO1xuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIHJldHVybiB7cXVlcnlUeXBlOiAnZXhjbHVkZScsIGZpZWxkczogW2ZpZWxkQW5kTG9va3VwWzBdXSwgbG9va3VwOiBmaWVsZEFuZExvb2t1cC5sZW5ndGggPiAxID8gZmllbGRBbmRMb29rdXBbMV0gYXMgTG9va3VwIDogJ2VxJywgaW5wdXRWYWx1ZTogdmFsdWV9O1xuXG4gICAgfSBlbHNlIGlmIChrZXkuaW5jbHVkZXMoJ2ZpbHRlcicpKSB7XG5cbiAgICAgICAgY29uc3QgZmllbGRBbmRMb29rdXAgPSBrZXkuc3BsaXQoJzonKVsxXS5zcGxpdCgnLicpO1xuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIHJldHVybiB7cXVlcnlUeXBlOiAnZmlsdGVyJywgZmllbGRzOiBbZmllbGRBbmRMb29rdXBbMF1dLCBsb29rdXA6IGZpZWxkQW5kTG9va3VwLmxlbmd0aCA+IDEgPyBmaWVsZEFuZExvb2t1cFsxXSBhcyBMb29rdXAgOiAnZXEnLCBpbnB1dFZhbHVlOiB2YWx1ZX07XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGNvbnN0IGZpZWxkQW5kTG9va3VwID0ga2V5LnNwbGl0KCcuJyk7XG5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdmaWx0ZXInLCBmaWVsZHM6IFtmaWVsZEFuZExvb2t1cFswXV0sIGxvb2t1cDogZmllbGRBbmRMb29rdXAubGVuZ3RoID4gMSA/IGZpZWxkQW5kTG9va3VwWzFdIGFzIExvb2t1cCA6ICdlcScsIGlucHV0VmFsdWU6IHZhbHVlfTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlGaWx0ZXIodmFsaWRRdWVyeUtleXM6IHN0cmluZ1tdLCBwYXJhbXM6IEh0dHBQYXJhbXMsIGRvY3M6IFB3YURvY3VtZW50PGFueT5bXSk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICBpZiAocGFyYW1zKSB7XG5cbiAgICAgICAgY29uc3Qga2V5cyA9IHBhcmFtcy5rZXlzKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRmlsdGVycyAoMSlcbiAgICAgICAgLy8vLy8vLy8vLy8vLy9cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdmaWx0ZXInKSB7IGRvY3MgPSBmaWx0ZXIocXVlcnkuZmllbGRzWzBdLCBxdWVyeS5pbnB1dFZhbHVlLCBkb2NzLCBxdWVyeS5sb29rdXApOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBFeGNsdWRlICgyKVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBrZXlzLmZvckVhY2goayA9PiB7XG5cbiAgICAgICAgICAgIGlmICh2YWxpZFF1ZXJ5S2V5cy5pbmRleE9mKGspID4gLTEpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gZ2V0UXVlcnkoaywgcGFyYW1zLmdldEFsbChrKS5qb2luKCcsJykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ2V4Y2x1ZGUnKSB7IGRvY3MgPSBleGNsdWRlKHF1ZXJ5LmZpZWxkc1swXSwgcXVlcnkuaW5wdXRWYWx1ZSwgZG9jcywgcXVlcnkubG9va3VwKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIE9yZGVyIEJ5ICgzKVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdvcmRlcmluZycpIHsgZG9jcyA9IG9yZGVyQnkocXVlcnkuZmllbGRzLCBkb2NzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIERpc3RpbmN0ICg0KVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdkaXN0aW5jdCcpIHsgZG9jcyA9IGRpc3RpbmN0KHF1ZXJ5LmZpZWxkcywgZG9jcyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZG9jcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcsIGRvY3M6IFB3YURvY3VtZW50PGFueT5bXSwgbG9va3VwPzogTG9va3VwLCBpc0V4Y2x1ZGUgPSBmYWxzZSk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICAvLyBpbiBsb29rdXAgd291bGQgc2FtZSBhcyBlcSB3aXRoIE9SIHZhbHVlc1xuICAgIGxldCBmID0gKHY6IFB3YURvY3VtZW50PGFueT4pID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgZXEodiwgZmllbGQsIGN1ciksIGZhbHNlKTtcblxuICAgIGlmIChsb29rdXAgPT09ICdndGUnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgZ3RlKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdsdGUnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgbHRlKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdndCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBndCh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnbHQnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgbHQodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ3JhbmdlJykgeyBmID0gdiA9PiByYW5nZSh2LCBmaWVsZCwgaW5wdXRWYWx1ZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdzdGFydHN3aXRoJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IHN0YXJ0c3dpdGgodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ2VuZHN3aXRoJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IGVuZHN3aXRoKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdpZXhhY3QnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgaWV4YWN0KHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdleGFjdCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBleGFjdCh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnaWNvbnRhaW5zJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IGljb250YWlucyh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnY29udGFpbnMnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgY29udGFpbnModiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ2lzbnVsbCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBpc251bGwodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgcmV0dXJuIGRvY3MuZmlsdGVyKCh2KSA9PiB7XG5cbiAgICAgICAgY29uc3QgbyA9IGYodik7XG5cbiAgICAgICAgcmV0dXJuIGlzRXhjbHVkZSA/ICFvIDogbztcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGUoZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nLCBkb2NzOiBQd2FEb2N1bWVudDxhbnk+W10sIGxvb2t1cD86IExvb2t1cCk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICByZXR1cm4gZmlsdGVyKGZpZWxkLCBpbnB1dFZhbHVlLCBkb2NzLCBsb29rdXAsIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3QoZmllbGRzOiBzdHJpbmdbXSwgZG9jczogUHdhRG9jdW1lbnQ8YW55PltdKTogUHdhRG9jdW1lbnQ8YW55PltdIHtcblxuICAgIGNvbnN0IHVuaXF1ZXMgPSBuZXcgU2V0PEZpZWxkRGF0YVR5cGU+KCk7XG5cbiAgICBjb25zdCBkaXN0aW5jdEFycmF5OiBQd2FEb2N1bWVudDxhbnk+W10gPSBbXTtcblxuICAgIGRvY3MuZm9yRWFjaCh2ID0+IHtcblxuICAgICAgICBjb25zdCBrZXkgPSBmaWVsZHMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICs9IGAtJHsodi5kYXRhW2N1cl0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkgfHwgJ251bGwnfWAsICcnKTtcblxuICAgICAgICBpZiAoIXVuaXF1ZXMuaGFzKGtleSkpIHtcblxuICAgICAgICAgICAgdW5pcXVlcy5hZGQoa2V5KTtcblxuICAgICAgICAgICAgZGlzdGluY3RBcnJheS5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGlzdGluY3RBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9yZGVyQnkoZmllbGRzOiBzdHJpbmdbXSwgZG9jczogUHdhRG9jdW1lbnQ8YW55PltdKTogUHdhRG9jdW1lbnQ8YW55PltdIHtcblxuICAgIHJldHVybiBkb2NzLnNvcnQoKGEsIGIpID0+IHtcblxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1mb3Itb2ZcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBmaWVsZHNbaV0uaW5kZXhPZignLScpID09PSAwID8gJ2Rlc2MnIDogJ2FzYyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhcnNlRmllbGROYW1lID0gb3JkZXIgPT09ICdkZXNjJyA/IGZpZWxkc1tpXS5zcGxpdCgnLScpWzFdIDogZmllbGRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIShwYXJzZUZpZWxkTmFtZSBpbiBhPy5kYXRhKSB8fCAhKHBhcnNlRmllbGROYW1lIGluIGI/LmRhdGEpKSB7IGNvbnRpbnVlOyB9XG5cbiAgICAgICAgICAgIGxldCBvdXRwdXQgPSAwO1xuXG4gICAgICAgICAgICBjb25zdCBpc0RhdGUgPSBwYXJzZURhdGUoYS5kYXRhW3BhcnNlRmllbGROYW1lXSwgYi5kYXRhW3BhcnNlRmllbGROYW1lXSk7XG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBpZiAoaXNEYXRlICYmIG9yZGVyID09PSAnYXNjJyAmJiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSAhPT0gaXNEYXRlLnBhcnNlZElucHV0VmFsdWUpIHsgXG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSAtIGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCA+IDAgfHwgb3V0cHV0IDwgMCkgeyByZXR1cm4gb3V0cHV0OyB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBpZiAoaXNEYXRlICYmIG9yZGVyID09PSAnZGVzYycgJiYgaXNEYXRlLnBhcnNlZElucHV0VmFsdWUgIT09IGlzRGF0ZS5wYXJzZWRGaWVsZFZhbHVlKSB7IFxuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gaXNEYXRlLnBhcnNlZElucHV0VmFsdWUgLSBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPiAwIHx8IG91dHB1dCA8IDApIHsgcmV0dXJuIG91dHB1dDsgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKGEuZGF0YVtwYXJzZUZpZWxkTmFtZV0sIGIuZGF0YVtwYXJzZUZpZWxkTmFtZV0pO1xuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyICYmIG9yZGVyID09PSAnYXNjJyAmJiBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlICE9PSBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlKSB7XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlIC0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPiAwIHx8IG91dHB1dCA8IDApIHsgcmV0dXJuIG91dHB1dDsgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyICYmIG9yZGVyID09PSAnZGVzYycgJiYgaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZSAhPT0gaXNOdW1iZXIucGFyc2VkRmllbGRWYWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZSAtIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0ID4gMCB8fCBvdXRwdXQgPCAwKSB7IHJldHVybiBvdXRwdXQ7IH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdmFsdWVBID0gKGEuZGF0YVtwYXJzZUZpZWxkTmFtZV0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkgfHwgJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQiA9IChiLmRhdGFbcGFyc2VGaWVsZE5hbWVdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpIHx8ICcnO1xuXG4gICAgICAgICAgICBvdXRwdXQgPSBvcmRlciA9PT0gJ2FzYycgPyB2YWx1ZUEubG9jYWxlQ29tcGFyZSh2YWx1ZUIpIDogdmFsdWVBLmxvY2FsZUNvbXBhcmUodmFsdWVCKSAqIC0xO1xuXG4gICAgICAgICAgICBpZiAob3V0cHV0ID4gMCB8fCBvdXRwdXQgPCAwKSB7IHJldHVybiBvdXRwdXQ7IH1cblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG59XG4iXX0=","start":11770,"end":54184}]},"code":"export function parseNumber(fieldValue, inputValue) {\n    const parsedFieldValue = Number(fieldValue?.toString() || '');\n    const parsedInputValue = Number(inputValue?.toString() || '');\n    return isNaN(parsedFieldValue) && isNaN(parsedInputValue) ? null : { parsedFieldValue, parsedInputValue };\n}\nexport function parseDate(fieldValue, inputValue) {\n    const parsedFieldValue = Date.parse(fieldValue?.toString() || '');\n    const parsedInputValue = Date.parse(inputValue?.toString() || '');\n    return isNaN(parsedFieldValue) && isNaN(parsedInputValue) ? null : { parsedFieldValue, parsedInputValue };\n}\nexport function parseBoolean(fieldValue, inputValue) {\n    const parsedFieldValue = fieldValue?.toString().toLowerCase() === 'true' ? true : fieldValue?.toString().toLowerCase() === 'false' ? false : null;\n    const parsedInputValue = inputValue?.toString().toLowerCase() === 'true' ? true : inputValue?.toString().toLowerCase() === 'false' ? false : null;\n    return parsedFieldValue === null || parsedInputValue === null ? null : { parsedFieldValue, parsedInputValue };\n}\nexport const eq = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue === isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue === isNumber.parsedInputValue;\n    }\n    const isBoolean = parseBoolean(v.data[field], inputValue);\n    if (isBoolean) {\n        return isBoolean.parsedFieldValue === isBoolean.parsedInputValue;\n    }\n    return v.data[field] === inputValue;\n};\nexport const gte = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue >= isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue >= isNumber.parsedInputValue;\n    }\n    return v.data[field] >= inputValue;\n};\nexport const lte = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue <= isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue <= isNumber.parsedInputValue;\n    }\n    return v.data[field] <= inputValue;\n};\nexport const gt = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue > isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue > isNumber.parsedInputValue;\n    }\n    return v.data[field] > inputValue;\n};\nexport const lt = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue < isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue < isNumber.parsedInputValue;\n    }\n    return v.data[field] < inputValue;\n};\nexport const range = (v, field, inputValue) => {\n    const values = inputValue.toString().split(',');\n    const isDate1 = parseDate(v.data[field], values[0]);\n    const isDate2 = parseDate(v.data[field], values[1]);\n    if (isDate1 && isDate2) {\n        return isDate1.parsedFieldValue >= isDate1.parsedInputValue && isDate2.parsedFieldValue < isDate2.parsedInputValue;\n    }\n    const isNumber1 = parseNumber(v.data[field], values[0]);\n    const isNumber2 = parseNumber(v.data[field], values[1]);\n    if (isNumber1 && isNumber2) {\n        return isNumber1.parsedFieldValue >= isNumber1.parsedInputValue && isNumber2.parsedFieldValue < isNumber2.parsedInputValue;\n    }\n    return v.data[field] >= values[0] && v.data[field] < values[1];\n};\nexport const startswith = (v, field, inputValue) => v.data[field]?.toString().startsWith(inputValue);\nexport const endswith = (v, field, inputValue) => v.data[field]?.toString().endsWith(inputValue);\nexport const iexact = (v, field, inputValue) => !!v.data[field]?.toString().match(new RegExp(`^${inputValue}$`, 'i'));\nexport const exact = (v, field, inputValue) => !!v.data[field]?.toString().match(new RegExp(`^${inputValue}$`));\nexport const icontains = (v, field, inputValue) => v.data[field]?.toString().toLowerCase().includes(inputValue?.toLowerCase() || '');\nexport const contains = (v, field, inputValue) => v.data[field]?.toString().includes(inputValue);\nexport const isnull = (v, field, inputValue) => inputValue?.toLowerCase() === 'true' ? v.data[field] === null : v.data[field] !== null;\nexport function getQuery(key, value) {\n    if (key.includes('distinct')) {\n        return { queryType: 'distinct', fields: value.split(',') };\n    }\n    else if (key.includes('only')) {\n        return { queryType: 'only', fields: value.split(',') };\n    }\n    else if (key.includes('ordering')) {\n        return { queryType: 'ordering', fields: value.split(',') };\n    }\n    else if (key.includes('exclude')) {\n        const fieldAndLookup = key.split(':')[1].split('.');\n        return { queryType: 'exclude', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] : 'eq', inputValue: value };\n    }\n    else if (key.includes('filter')) {\n        const fieldAndLookup = key.split(':')[1].split('.');\n        return { queryType: 'filter', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] : 'eq', inputValue: value };\n    }\n    else {\n        const fieldAndLookup = key.split('.');\n        return { queryType: 'filter', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] : 'eq', inputValue: value };\n    }\n}\nexport function queryFilter(validQueryKeys, params, docs) {\n    if (params) {\n        const keys = params.keys();\n        keys.forEach(k => {\n            if (validQueryKeys.indexOf(k) > -1) {\n                const query = getQuery(k, params.getAll(k).join(','));\n                if (query.queryType === 'filter') {\n                    docs = filter(query.fields[0], query.inputValue, docs, query.lookup);\n                }\n            }\n        });\n        keys.forEach(k => {\n            if (validQueryKeys.indexOf(k) > -1) {\n                const query = getQuery(k, params.getAll(k).join(','));\n                if (query.queryType === 'exclude') {\n                    docs = exclude(query.fields[0], query.inputValue, docs, query.lookup);\n                }\n            }\n        });\n        keys.forEach(k => {\n            if (validQueryKeys.indexOf(k) > -1) {\n                const query = getQuery(k, params.getAll(k).join(','));\n                if (query.queryType === 'ordering') {\n                    docs = orderBy(query.fields, docs);\n                }\n            }\n        });\n        keys.forEach(k => {\n            if (validQueryKeys.indexOf(k) > -1) {\n                const query = getQuery(k, params.getAll(k).join(','));\n                if (query.queryType === 'distinct') {\n                    docs = distinct(query.fields, docs);\n                }\n            }\n        });\n    }\n    return docs;\n}\nexport function filter(field, inputValue, docs, lookup, isExclude = false) {\n    let f = (v) => inputValue.split(',').reduce((acc, cur) => acc || eq(v, field, cur), false);\n    if (lookup === 'gte') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || gte(v, field, cur), false);\n    }\n    if (lookup === 'lte') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || lte(v, field, cur), false);\n    }\n    if (lookup === 'gt') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || gt(v, field, cur), false);\n    }\n    if (lookup === 'lt') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || lt(v, field, cur), false);\n    }\n    if (lookup === 'range') {\n        f = v => range(v, field, inputValue);\n    }\n    if (lookup === 'startswith') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || startswith(v, field, cur), false);\n    }\n    if (lookup === 'endswith') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || endswith(v, field, cur), false);\n    }\n    if (lookup === 'iexact') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || iexact(v, field, cur), false);\n    }\n    if (lookup === 'exact') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || exact(v, field, cur), false);\n    }\n    if (lookup === 'icontains') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || icontains(v, field, cur), false);\n    }\n    if (lookup === 'contains') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || contains(v, field, cur), false);\n    }\n    if (lookup === 'isnull') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || isnull(v, field, cur), false);\n    }\n    return docs.filter((v) => {\n        const o = f(v);\n        return isExclude ? !o : o;\n    });\n}\nexport function exclude(field, inputValue, docs, lookup) {\n    return filter(field, inputValue, docs, lookup, true);\n}\nexport function distinct(fields, docs) {\n    const uniques = new Set();\n    const distinctArray = [];\n    docs.forEach(v => {\n        const key = fields.reduce((acc, cur) => acc += `-${v.data[cur]?.toString() || 'null'}`, '');\n        if (!uniques.has(key)) {\n            uniques.add(key);\n            distinctArray.push(v);\n        }\n    });\n    return distinctArray;\n}\nexport function orderBy(fields, docs) {\n    return docs.sort((a, b) => {\n        for (let i = 0; i < fields.length; i++) {\n            const order = fields[i].indexOf('-') === 0 ? 'desc' : 'asc';\n            const parseFieldName = order === 'desc' ? fields[i].split('-')[1] : fields[i];\n            if (!(parseFieldName in a?.data) || !(parseFieldName in b?.data)) {\n                continue;\n            }\n            let output = 0;\n            const isDate = parseDate(a.data[parseFieldName], b.data[parseFieldName]);\n            if (isDate && order === 'asc' && isDate.parsedFieldValue !== isDate.parsedInputValue) {\n                output = isDate.parsedFieldValue - isDate.parsedInputValue;\n                if (output > 0 || output < 0) {\n                    return output;\n                }\n            }\n            if (isDate && order === 'desc' && isDate.parsedInputValue !== isDate.parsedFieldValue) {\n                output = isDate.parsedInputValue - isDate.parsedFieldValue;\n                if (output > 0 || output < 0) {\n                    return output;\n                }\n            }\n            const isNumber = parseNumber(a.data[parseFieldName], b.data[parseFieldName]);\n            if (isNumber && order === 'asc' && isNumber.parsedFieldValue !== isNumber.parsedInputValue) {\n                output = isNumber.parsedFieldValue - isNumber.parsedInputValue;\n                if (output > 0 || output < 0) {\n                    return output;\n                }\n            }\n            if (isNumber && order === 'desc' && isNumber.parsedInputValue !== isNumber.parsedFieldValue) {\n                output = isNumber.parsedInputValue - isNumber.parsedFieldValue;\n                if (output > 0 || output < 0) {\n                    return output;\n                }\n            }\n            const valueA = a.data[parseFieldName]?.toString() || '';\n            const valueB = b.data[parseFieldName]?.toString() || '';\n            output = order === 'asc' ? valueA.localeCompare(valueB) : valueA.localeCompare(valueB) * -1;\n            if (output > 0 || output < 0) {\n                return output;\n            }\n        }\n        return 0;\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVycy5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9maWx0ZXJzLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdCQSxNQUFNLFVBQVUsV0FBVyxDQUFDLFVBQXlCLEVBQUUsVUFBa0I7SUFFckUsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRTlELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUU5RCxPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQztBQUM1RyxDQUFDO0FBRUQsTUFBTSxVQUFVLFNBQVMsQ0FBQyxVQUF5QixFQUFFLFVBQWtCO0lBRW5FLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFFbEUsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUVsRSxPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQztBQUM1RyxDQUFDO0FBRUQsTUFBTSxVQUFVLFlBQVksQ0FBQyxVQUF5QixFQUFFLFVBQWtCO0lBR3RFLE1BQU0sZ0JBQWdCLEdBQUcsVUFBVSxFQUFFLFFBQVEsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLENBQUMsV0FBVyxFQUFFLEtBQUssT0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUdsSixNQUFNLGdCQUFnQixHQUFHLFVBQVUsRUFBRSxRQUFRLEVBQUUsQ0FBQyxXQUFXLEVBQUUsS0FBSyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLE9BQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFFbEosT0FBTyxnQkFBZ0IsS0FBSyxJQUFJLElBQUksZ0JBQWdCLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQztBQUNoSCxDQUFDO0FBT0QsTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUF3RSxDQUFDLENBQW1CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsRUFBRTtJQUU5SSxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQWtCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFckUsSUFBSSxNQUFNLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQyxnQkFBZ0IsS0FBSyxNQUFNLENBQUMsZ0JBQWdCLENBQUM7S0FBRTtJQUUzRSxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQWtCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFekUsSUFBSSxRQUFRLEVBQUU7UUFBRSxPQUFPLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7S0FBRTtJQUVqRixNQUFNLFNBQVMsR0FBRyxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQWtCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFM0UsSUFBSSxTQUFTLEVBQUU7UUFBRSxPQUFPLFNBQVMsQ0FBQyxnQkFBZ0IsS0FBSyxTQUFTLENBQUMsZ0JBQWdCLENBQUM7S0FBRTtJQUVwRixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssVUFBVSxDQUFDO0FBQ3hDLENBQUMsQ0FBQztBQU9GLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBd0UsQ0FBQyxDQUFtQixFQUFFLEtBQWEsRUFBRSxVQUFrQixFQUFFLEVBQUU7SUFFL0ksTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFrQixFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRXJFLElBQUksTUFBTSxFQUFFO1FBQUUsT0FBTyxNQUFNLENBQUMsZ0JBQWdCLElBQUksTUFBTSxDQUFDLGdCQUFnQixDQUFDO0tBQUU7SUFFMUUsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFrQixFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRXpFLElBQUksUUFBUSxFQUFFO1FBQUUsT0FBTyxRQUFRLENBQUMsZ0JBQWdCLElBQUksUUFBUSxDQUFDLGdCQUFnQixDQUFDO0tBQUU7SUFFaEYsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLFVBQVUsQ0FBQztBQUN2QyxDQUFDLENBQUM7QUFHRixNQUFNLENBQUMsTUFBTSxHQUFHLEdBQXdFLENBQUMsQ0FBbUIsRUFBRSxLQUFhLEVBQUUsVUFBa0IsRUFBRSxFQUFFO0lBRS9JLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBa0IsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUVyRSxJQUFJLE1BQU0sRUFBRTtRQUFFLE9BQU8sTUFBTSxDQUFDLGdCQUFnQixJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztLQUFFO0lBRTFFLE1BQU0sUUFBUSxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBa0IsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUV6RSxJQUFJLFFBQVEsRUFBRTtRQUFFLE9BQU8sUUFBUSxDQUFDLGdCQUFnQixJQUFJLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQztLQUFFO0lBRWhGLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxVQUFVLENBQUM7QUFDdkMsQ0FBQyxDQUFDO0FBR0YsTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUF3RSxDQUFDLENBQW1CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsRUFBRTtJQUU5SSxNQUFNLE1BQU0sR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQWtCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFckUsSUFBSSxNQUFNLEVBQUU7UUFBRSxPQUFPLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUM7S0FBRTtJQUV6RSxNQUFNLFFBQVEsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQWtCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFFekUsSUFBSSxRQUFRLEVBQUU7UUFBRSxPQUFPLFFBQVEsQ0FBQyxnQkFBZ0IsR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUM7S0FBRTtJQUUvRSxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsVUFBVSxDQUFDO0FBQ3RDLENBQUMsQ0FBQztBQUdGLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBd0UsQ0FBQyxDQUFtQixFQUFFLEtBQWEsRUFBRSxVQUFrQixFQUFFLEVBQUU7SUFFOUksTUFBTSxNQUFNLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFrQixFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRXJFLElBQUksTUFBTSxFQUFFO1FBQUUsT0FBTyxNQUFNLENBQUMsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLGdCQUFnQixDQUFDO0tBQUU7SUFFekUsTUFBTSxRQUFRLEdBQUcsV0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFrQixFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBRXpFLElBQUksUUFBUSxFQUFFO1FBQUUsT0FBTyxRQUFRLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDO0tBQUU7SUFFL0UsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUN0QyxDQUFDLENBQUM7QUFHRixNQUFNLENBQUMsTUFBTSxLQUFLLEdBQXdFLENBQUMsQ0FBbUIsRUFBRSxLQUFhLEVBQUUsVUFBa0IsRUFBRSxFQUFFO0lBRWpKLE1BQU0sTUFBTSxHQUFHLFVBQVUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFFaEQsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFrQixFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRXJFLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBa0IsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUdyRSxJQUFJLE9BQU8sSUFBSSxPQUFPLEVBQUU7UUFBRSxPQUFPLE9BQU8sQ0FBQyxnQkFBZ0IsSUFBSSxPQUFPLENBQUMsZ0JBQWdCLElBQUksT0FBTyxDQUFDLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxnQkFBZ0IsQ0FBQztLQUFFO0lBRS9JLE1BQU0sU0FBUyxHQUFHLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBa0IsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUV6RSxNQUFNLFNBQVMsR0FBRyxXQUFXLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQWtCLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFHekUsSUFBSSxTQUFTLElBQUksU0FBUyxFQUFFO1FBQUUsT0FBTyxTQUFTLENBQUMsZ0JBQWdCLElBQUksU0FBUyxDQUFDLGdCQUFnQixJQUFJLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxTQUFTLENBQUMsZ0JBQWdCLENBQUM7S0FBRTtJQUUzSixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25FLENBQUMsQ0FBQztBQU9GLE1BQU0sQ0FBQyxNQUFNLFVBQVUsR0FBd0UsQ0FBQyxDQUFtQixFQUFFLEtBQWEsRUFBRSxVQUFrQixFQUFFLEVBQUUsQ0FBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBbUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxVQUFVLENBQUMsVUFBVSxDQUFDLENBQUM7QUFHL04sTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUEwRSxDQUFDLENBQW1CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsRUFBRSxDQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFtQixFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUc3TixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQTRFLENBQUMsQ0FBbUIsRUFBRSxLQUFhLEVBQUUsVUFBa0IsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFtQixFQUFFLFFBQVEsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLFVBQVUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFHcFAsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUE2RSxDQUFDLENBQW1CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBbUIsRUFBRSxRQUFRLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFHL08sTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUF5RSxDQUFDLENBQW1CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsRUFBRSxDQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFtQixFQUFFLFFBQVEsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7QUFHaFEsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUEwRSxDQUFDLENBQW1CLEVBQUUsS0FBYSxFQUFFLFVBQWtCLEVBQUUsRUFBRSxDQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFtQixFQUFFLFFBQVEsRUFBRSxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQU03TixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQTRFLENBQUMsQ0FBbUIsRUFBRSxLQUFhLEVBQUUsVUFBa0IsRUFBRSxFQUFFLENBQUMsVUFBVSxFQUFFLFdBQVcsRUFBRSxLQUFLLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxDQUFDO0FBR2xQLE1BQU0sVUFBVSxRQUFRLENBQUMsR0FBVyxFQUFFLEtBQWE7SUFFL0MsSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxFQUFFO1FBRTFCLE9BQU8sRUFBQyxTQUFTLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFDLENBQUM7S0FFNUQ7U0FBTSxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUU7UUFFN0IsT0FBTyxFQUFDLFNBQVMsRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUMsQ0FBQztLQUV4RDtTQUFNLElBQUksR0FBRyxDQUFDLFFBQVEsQ0FBQyxVQUFVLENBQUMsRUFBRTtRQUVqQyxPQUFPLEVBQUMsU0FBUyxFQUFFLFVBQVUsRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDO0tBRTVEO1NBQU0sSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1FBRWhDLE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBR3BELE9BQU8sRUFBQyxTQUFTLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxjQUFjLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBQyxDQUFDO0tBRXpKO1NBQU0sSUFBSSxHQUFHLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFO1FBRS9CLE1BQU0sY0FBYyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBR3BELE9BQU8sRUFBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxjQUFjLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBQyxDQUFDO0tBRXhKO1NBQU07UUFFSCxNQUFNLGNBQWMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBR3RDLE9BQU8sRUFBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxjQUFjLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBVyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBQyxDQUFDO0tBQ3hKO0FBRUwsQ0FBQztBQUdELE1BQU0sVUFBVSxXQUFXLENBQUMsY0FBd0IsRUFBRSxNQUFrQixFQUFFLElBQXdCO0lBRTlGLElBQUksTUFBTSxFQUFFO1FBRVIsTUFBTSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1FBSzNCLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFFYixJQUFJLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7Z0JBRWhDLE1BQU0sS0FBSyxHQUFHLFFBQVEsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFFdEQsSUFBSSxLQUFLLENBQUMsU0FBUyxLQUFLLFFBQVEsRUFBRTtvQkFBRSxJQUFJLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLFVBQVUsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2lCQUFFO2FBQzlHO1FBQ0wsQ0FBQyxDQUFDLENBQUM7UUFNSCxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFO1lBRWIsSUFBSSxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO2dCQUVoQyxNQUFNLEtBQUssR0FBRyxRQUFRLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0JBRXRELElBQUksS0FBSyxDQUFDLFNBQVMsS0FBSyxTQUFTLEVBQUU7b0JBQUUsSUFBSSxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxVQUFVLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQztpQkFBRTthQUNoSDtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBTUgsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUViLElBQUksY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtnQkFFaEMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUV0RCxJQUFJLEtBQUssQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFO29CQUFFLElBQUksR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztpQkFBRTthQUM5RTtRQUNMLENBQUMsQ0FBQyxDQUFDO1FBTUgsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtZQUViLElBQUksY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtnQkFFaEMsTUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO2dCQUV0RCxJQUFJLEtBQUssQ0FBQyxTQUFTLEtBQUssVUFBVSxFQUFFO29CQUFFLElBQUksR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztpQkFBRTthQUMvRTtRQUNMLENBQUMsQ0FBQyxDQUFDO0tBRU47SUFFRCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDO0FBRUQsTUFBTSxVQUFVLE1BQU0sQ0FBQyxLQUFhLEVBQUUsVUFBa0IsRUFBRSxJQUF3QixFQUFFLE1BQWUsRUFBRSxTQUFTLEdBQUcsS0FBSztJQUdsSCxJQUFJLENBQUMsR0FBRyxDQUFDLENBQW1CLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBRTdHLElBQUksTUFBTSxLQUFLLEtBQUssRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFaEgsSUFBSSxNQUFNLEtBQUssS0FBSyxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksR0FBRyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FBRTtJQUVoSCxJQUFJLE1BQU0sS0FBSyxJQUFJLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRTlHLElBQUksTUFBTSxLQUFLLElBQUksRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFOUcsSUFBSSxNQUFNLEtBQUssT0FBTyxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsVUFBVSxDQUFDLENBQUM7S0FBRTtJQUVqRSxJQUFJLE1BQU0sS0FBSyxZQUFZLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRTlILElBQUksTUFBTSxLQUFLLFVBQVUsRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFMUgsSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FBRTtJQUV0SCxJQUFJLE1BQU0sS0FBSyxPQUFPLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRXBILElBQUksTUFBTSxLQUFLLFdBQVcsRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFNUgsSUFBSSxNQUFNLEtBQUssVUFBVSxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxH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LFFBQVEsSUFBSSxLQUFLLEtBQUssTUFBTSxJQUFJLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxRQUFRLENBQUMsZ0JBQWdCLEVBQUU7Z0JBRXpGLE1BQU0sR0FBRyxRQUFRLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDO2dCQUUvRCxJQUFJLE1BQU0sR0FBRyxDQUFDLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFBRSxPQUFPLE1BQU0sQ0FBQztpQkFBRTthQUNuRDtZQUVELE1BQU0sTUFBTSxHQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFtQixFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztZQUUzRSxNQUFNLE1BQU0sR0FBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBbUIsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7WUFFM0UsTUFBTSxHQUFHLEtBQUssS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFNUYsSUFBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQUUsT0FBTyxNQUFNLENBQUM7YUFBRTtTQUVuRDtRQUVELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG4vLy8vLy8vLy8vLy8vLy8vXG4vLyBUeXBlc1xuLy8vLy8vLy8vLy8vLy8vL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCB0eXBlIExvb2t1cCA9ICdndGUnIHwgJ2x0ZScgfCAnZ3QnIHwgJ2x0JyB8ICdlcScgfCAnc3RhcnRzd2l0aCcgfCAnZW5kc3dpdGgnIHwgJ3JhbmdlJyB8ICdpc251bGwnIHwgJ2lleGFjdCcgfCAnZXhhY3QnIHwgJ2ljb250YWlucycgfCAnY29udGFpbnMnIHwgJ2luJztcblxuZXhwb3J0IHR5cGUgUXVlcnkgPSAnZmlsdGVyJyB8ICdkaXN0aW5jdCcgfCAnZXhjbHVkZScgfCAnb3JkZXJpbmcnIHwgJ29ubHknO1xuXG5leHBvcnQgdHlwZSBGaWVsZERhdGFUeXBlID0gc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGw7XG5cbi8vLy8vLy8vLy8vLy8vLy9cbi8vIFBhcnNlcnNcbi8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bWJlcihmaWVsZFZhbHVlOiBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlOiBzdHJpbmcpOiBudWxsIHwge1trZXk6IHN0cmluZ106IG51bWJlcn0ge1xuXG4gICAgY29uc3QgcGFyc2VkRmllbGRWYWx1ZSA9IE51bWJlcihmaWVsZFZhbHVlPy50b1N0cmluZygpIHx8ICcnKTtcblxuICAgIGNvbnN0IHBhcnNlZElucHV0VmFsdWUgPSBOdW1iZXIoaW5wdXRWYWx1ZT8udG9TdHJpbmcoKSB8fCAnJyk7XG5cbiAgICByZXR1cm4gaXNOYU4ocGFyc2VkRmllbGRWYWx1ZSkgJiYgaXNOYU4ocGFyc2VkSW5wdXRWYWx1ZSkgPyBudWxsIDoge3BhcnNlZEZpZWxkVmFsdWUsIHBhcnNlZElucHV0VmFsdWV9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlKGZpZWxkVmFsdWU6IEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWU6IHN0cmluZyk6IG51bGwgfCB7W2tleTogc3RyaW5nXTogbnVtYmVyfSB7XG5cbiAgICBjb25zdCBwYXJzZWRGaWVsZFZhbHVlID0gRGF0ZS5wYXJzZShmaWVsZFZhbHVlPy50b1N0cmluZygpIHx8ICcnKTtcblxuICAgIGNvbnN0IHBhcnNlZElucHV0VmFsdWUgPSBEYXRlLnBhcnNlKGlucHV0VmFsdWU/LnRvU3RyaW5nKCkgfHwgJycpO1xuXG4gICAgcmV0dXJuIGlzTmFOKHBhcnNlZEZpZWxkVmFsdWUpICYmIGlzTmFOKHBhcnNlZElucHV0VmFsdWUpID8gbnVsbCA6IHtwYXJzZWRGaWVsZFZhbHVlLCBwYXJzZWRJbnB1dFZhbHVlfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9vbGVhbihmaWVsZFZhbHVlOiBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlOiBzdHJpbmcpOiBudWxsIHwge1trZXk6IHN0cmluZ106IGJvb2xlYW59IHtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgY29uc3QgcGFyc2VkRmllbGRWYWx1ZSA9IGZpZWxkVmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZpZWxkVmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogbnVsbDtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgY29uc3QgcGFyc2VkSW5wdXRWYWx1ZSA9IGlucHV0VmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGlucHV0VmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogbnVsbDtcblxuICAgIHJldHVybiBwYXJzZWRGaWVsZFZhbHVlID09PSBudWxsIHx8IHBhcnNlZElucHV0VmFsdWUgPT09IG51bGwgPyBudWxsIDoge3BhcnNlZEZpZWxkVmFsdWUsIHBhcnNlZElucHV0VmFsdWV9O1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTG9va3VwIEZpbHRlcnMgKG51bSwgZGF0ZSwgc3RyaW5nLCBib29sZWFuKVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBlcTogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IHtcblxuICAgIGNvbnN0IGlzRGF0ZSA9IHBhcnNlRGF0ZSh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzRGF0ZSkgeyByZXR1cm4gaXNEYXRlLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzTnVtYmVyLnBhcnNlZElucHV0VmFsdWU7IH1cblxuICAgIGNvbnN0IGlzQm9vbGVhbiA9IHBhcnNlQm9vbGVhbih2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzQm9vbGVhbikgeyByZXR1cm4gaXNCb29sZWFuLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzQm9vbGVhbi5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA9PT0gaW5wdXRWYWx1ZTtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBMb29rdXAgRmlsdGVycyAobnVtLCBkYXRlKVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBndGU6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiB7XG5cbiAgICBjb25zdCBpc0RhdGUgPSBwYXJzZURhdGUodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlKTtcblxuICAgIGlmIChpc0RhdGUpIHsgcmV0dXJuIGlzRGF0ZS5wYXJzZWRGaWVsZFZhbHVlID49IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgcmV0dXJuIHYuZGF0YVtmaWVsZF0gPj0gaW5wdXRWYWx1ZTtcbn07XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3QgbHRlOiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA8PSBpc0RhdGUucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgY29uc3QgaXNOdW1iZXIgPSBwYXJzZU51bWJlcih2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzTnVtYmVyKSB7IHJldHVybiBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlIDw9IGlzTnVtYmVyLnBhcnNlZElucHV0VmFsdWU7IH1cblxuICAgIHJldHVybiB2LmRhdGFbZmllbGRdIDw9IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGd0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA+IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPiBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA+IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGx0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA8IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPCBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA8IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IHJhbmdlOiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgdmFsdWVzID0gaW5wdXRWYWx1ZS50b1N0cmluZygpLnNwbGl0KCcsJyk7XG5cbiAgICBjb25zdCBpc0RhdGUxID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgdmFsdWVzWzBdKTtcblxuICAgIGNvbnN0IGlzRGF0ZTIgPSBwYXJzZURhdGUodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMV0pO1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICBpZiAoaXNEYXRlMSAmJiBpc0RhdGUyKSB7IHJldHVybiBpc0RhdGUxLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNEYXRlMS5wYXJzZWRJbnB1dFZhbHVlICYmIGlzRGF0ZTIucGFyc2VkRmllbGRWYWx1ZSA8IGlzRGF0ZTIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgY29uc3QgaXNOdW1iZXIxID0gcGFyc2VOdW1iZXIodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMF0pO1xuXG4gICAgY29uc3QgaXNOdW1iZXIyID0gcGFyc2VOdW1iZXIodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMV0pO1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICBpZiAoaXNOdW1iZXIxICYmIGlzTnVtYmVyMikgeyByZXR1cm4gaXNOdW1iZXIxLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNOdW1iZXIxLnBhcnNlZElucHV0VmFsdWUgJiYgaXNOdW1iZXIyLnBhcnNlZEZpZWxkVmFsdWUgPCBpc051bWJlcjIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgcmV0dXJuIHYuZGF0YVtmaWVsZF0gPj0gdmFsdWVzWzBdICYmIHYuZGF0YVtmaWVsZF0gPCB2YWx1ZXNbMV07XG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTG9va3VwIEZpbHRlcnMgKHN0cmluZylcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3Qgc3RhcnRzd2l0aDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+ICh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLnN0YXJ0c1dpdGgoaW5wdXRWYWx1ZSk7XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3QgZW5kc3dpdGg6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gICA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+ICh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLmVuZHNXaXRoKGlucHV0VmFsdWUpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGlleGFjdDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiAhISh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLm1hdGNoKG5ldyBSZWdFeHAoYF4ke2lucHV0VmFsdWV9JGAsICdpJykpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGV4YWN0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuICAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiAhISh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLm1hdGNoKG5ldyBSZWdFeHAoYF4ke2lucHV0VmFsdWV9JGApKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBpY29udGFpbnM6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhpbnB1dFZhbHVlPy50b0xvd2VyQ2FzZSgpIHx8ICcnKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBjb250YWluczogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkuaW5jbHVkZXMoaW5wdXRWYWx1ZSk7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBMb29rdXAgRmlsdGVycyAoYm9vbGVhbilcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGlzbnVsbDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBpbnB1dFZhbHVlPy50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB2LmRhdGFbZmllbGRdID09PSBudWxsIDogdi5kYXRhW2ZpZWxkXSAhPT0gbnVsbDtcblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVlcnkoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiB7cXVlcnlUeXBlOiBRdWVyeSwgZmllbGRzOiBzdHJpbmdbXSwgbG9va3VwPzogTG9va3VwLCBpbnB1dFZhbHVlPzogc3RyaW5nfSB7XG5cbiAgICBpZiAoa2V5LmluY2x1ZGVzKCdkaXN0aW5jdCcpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdkaXN0aW5jdCcsIGZpZWxkczogdmFsdWUuc3BsaXQoJywnKX07XG5cbiAgICB9IGVsc2UgaWYgKGtleS5pbmNsdWRlcygnb25seScpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdvbmx5JywgZmllbGRzOiB2YWx1ZS5zcGxpdCgnLCcpfTtcblxuICAgIH0gZWxzZSBpZiAoa2V5LmluY2x1ZGVzKCdvcmRlcmluZycpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdvcmRlcmluZycsIGZpZWxkczogdmFsdWUuc3BsaXQoJywnKX07XG5cbiAgICB9IGVsc2UgaWYgKGtleS5pbmNsdWRlcygnZXhjbHVkZScpKSB7XG5cbiAgICAgICAgY29uc3QgZmllbGRBbmRMb29rdXAgPSBrZXkuc3BsaXQoJzonKVsxXS5zcGxpdCgnLicpO1xuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIHJldHVybiB7cXVlcnlUeXBlOiAnZXhjbHVkZScsIGZpZWxkczogW2ZpZWxkQW5kTG9va3VwWzBdXSwgbG9va3VwOiBmaWVsZEFuZExvb2t1cC5sZW5ndGggPiAxID8gZmllbGRBbmRMb29rdXBbMV0gYXMgTG9va3VwIDogJ2VxJywgaW5wdXRWYWx1ZTogdmFsdWV9O1xuXG4gICAgfSBlbHNlIGlmIChrZXkuaW5jbHVkZXMoJ2ZpbHRlcicpKSB7XG5cbiAgICAgICAgY29uc3QgZmllbGRBbmRMb29rdXAgPSBrZXkuc3BsaXQoJzonKVsxXS5zcGxpdCgnLicpO1xuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIHJldHVybiB7cXVlcnlUeXBlOiAnZmlsdGVyJywgZmllbGRzOiBbZmllbGRBbmRMb29rdXBbMF1dLCBsb29rdXA6IGZpZWxkQW5kTG9va3VwLmxlbmd0aCA+IDEgPyBmaWVsZEFuZExvb2t1cFsxXSBhcyBMb29rdXAgOiAnZXEnLCBpbnB1dFZhbHVlOiB2YWx1ZX07XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGNvbnN0IGZpZWxkQW5kTG9va3VwID0ga2V5LnNwbGl0KCcuJyk7XG5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdmaWx0ZXInLCBmaWVsZHM6IFtmaWVsZEFuZExvb2t1cFswXV0sIGxvb2t1cDogZmllbGRBbmRMb29rdXAubGVuZ3RoID4gMSA/IGZpZWxkQW5kTG9va3VwWzFdIGFzIExvb2t1cCA6ICdlcScsIGlucHV0VmFsdWU6IHZhbHVlfTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlGaWx0ZXIodmFsaWRRdWVyeUtleXM6IHN0cmluZ1tdLCBwYXJhbXM6IEh0dHBQYXJhbXMsIGRvY3M6IFB3YURvY3VtZW50PGFueT5bXSk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICBpZiAocGFyYW1zKSB7XG5cbiAgICAgICAgY29uc3Qga2V5cyA9IHBhcmFtcy5rZXlzKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRmlsdGVycyAoMSlcbiAgICAgICAgLy8vLy8vLy8vLy8vLy9cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdmaWx0ZXInKSB7IGRvY3MgPSBmaWx0ZXIocXVlcnkuZmllbGRzWzBdLCBxdWVyeS5pbnB1dFZhbHVlLCBkb2NzLCBxdWVyeS5sb29rdXApOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBFeGNsdWRlICgyKVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBrZXlzLmZvckVhY2goayA9PiB7XG5cbiAgICAgICAgICAgIGlmICh2YWxpZFF1ZXJ5S2V5cy5pbmRleE9mKGspID4gLTEpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gZ2V0UXVlcnkoaywgcGFyYW1zLmdldEFsbChrKS5qb2luKCcsJykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ2V4Y2x1ZGUnKSB7IGRvY3MgPSBleGNsdWRlKHF1ZXJ5LmZpZWxkc1swXSwgcXVlcnkuaW5wdXRWYWx1ZSwgZG9jcywgcXVlcnkubG9va3VwKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIE9yZGVyIEJ5ICgzKVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdvcmRlcmluZycpIHsgZG9jcyA9IG9yZGVyQnkocXVlcnkuZmllbGRzLCBkb2NzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIERpc3RpbmN0ICg0KVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdkaXN0aW5jdCcpIHsgZG9jcyA9IGRpc3RpbmN0KHF1ZXJ5LmZpZWxkcywgZG9jcyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZG9jcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcsIGRvY3M6IFB3YURvY3VtZW50PGFueT5bXSwgbG9va3VwPzogTG9va3VwLCBpc0V4Y2x1ZGUgPSBmYWxzZSk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICAvLyBpbiBsb29rdXAgd291bGQgc2FtZSBhcyBlcSB3aXRoIE9SIHZhbHVlc1xuICAgIGxldCBmID0gKHY6IFB3YURvY3VtZW50PGFueT4pID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgZXEodiwgZmllbGQsIGN1ciksIGZhbHNlKTtcblxuICAgIGlmIChsb29rdXAgPT09ICdndGUnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgZ3RlKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdsdGUnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgbHRlKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdndCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBndCh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnbHQnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgbHQodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ3JhbmdlJykgeyBmID0gdiA9PiByYW5nZSh2LCBmaWVsZCwgaW5wdXRWYWx1ZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdzdGFydHN3aXRoJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IHN0YXJ0c3dpdGgodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ2VuZHN3aXRoJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IGVuZHN3aXRoKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdpZXhhY3QnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgaWV4YWN0KHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdleGFjdCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBleGFjdCh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnaWNvbnRhaW5zJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IGljb250YWlucyh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnY29udGFpbnMnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgY29udGFpbnModiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ2lzbnVsbCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBpc251bGwodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgcmV0dXJuIGRvY3MuZmlsdGVyKCh2KSA9PiB7XG5cbiAgICAgICAgY29uc3QgbyA9IGYodik7XG5cbiAgICAgICAgcmV0dXJuIGlzRXhjbHVkZSA/ICFvIDogbztcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGUoZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nLCBkb2NzOiBQd2FEb2N1bWVudDxhbnk+W10sIGxvb2t1cD86IExvb2t1cCk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICByZXR1cm4gZmlsdGVyKGZpZWxkLCBpbnB1dFZhbHVlLCBkb2NzLCBsb29rdXAsIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3QoZmllbGRzOiBzdHJpbmdbXSwgZG9jczogUHdhRG9jdW1lbnQ8YW55PltdKTogUHdhRG9jdW1lbnQ8YW55PltdIHtcblxuICAgIGNvbnN0IHVuaXF1ZXMgPSBuZXcgU2V0PEZpZWxkRGF0YVR5cGU+KCk7XG5cbiAgICBjb25zdCBkaXN0aW5jdEFycmF5OiBQd2FEb2N1bWVudDxhbnk+W10gPSBbXTtcblxuICAgIGRvY3MuZm9yRWFjaCh2ID0+IHtcblxuICAgICAgICBjb25zdCBrZXkgPSBmaWVsZHMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICs9IGAtJHsodi5kYXRhW2N1cl0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkgfHwgJ251bGwnfWAsICcnKTtcblxuICAgICAgICBpZiAoIXVuaXF1ZXMuaGFzKGtleSkpIHtcblxuICAgICAgICAgICAgdW5pcXVlcy5hZGQoa2V5KTtcblxuICAgICAgICAgICAgZGlzdGluY3RBcnJheS5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGlzdGluY3RBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9yZGVyQnkoZmllbGRzOiBzdHJpbmdbXSwgZG9jczogUHdhRG9jdW1lbnQ8YW55PltdKTogUHdhRG9jdW1lbnQ8YW55PltdIHtcblxuICAgIHJldHVybiBkb2NzLnNvcnQoKGEsIGIpID0+IHtcblxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1mb3Itb2ZcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBmaWVsZHNbaV0uaW5kZXhPZignLScpID09PSAwID8gJ2Rlc2MnIDogJ2FzYyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhcnNlRmllbGROYW1lID0gb3JkZXIgPT09ICdkZXNjJyA/IGZpZWxkc1tpXS5zcGxpdCgnLScpWzFdIDogZmllbGRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIShwYXJzZUZpZWxkTmFtZSBpbiBhPy5kYXRhKSB8fCAhKHBhcnNlRmllbGROYW1lIGluIGI/LmRhdGEpKSB7IGNvbnRpbnVlOyB9XG5cbiAgICAgICAgICAgIGxldCBvdXRwdXQgPSAwO1xuXG4gICAgICAgICAgICBjb25zdCBpc0RhdGUgPSBwYXJzZURhdGUoYS5kYXRhW3BhcnNlRmllbGROYW1lXSwgYi5kYXRhW3BhcnNlRmllbGROYW1lXSk7XG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBpZiAoaXNEYXRlICYmIG9yZGVyID09PSAnYXNjJyAmJiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSAhPT0gaXNEYXRlLnBhcnNlZElucHV0VmFsdWUpIHsgXG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSAtIGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCA+IDAgfHwgb3V0cHV0IDwgMCkgeyByZXR1cm4gb3V0cHV0OyB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBpZiAoaXNEYXRlICYmIG9yZGVyID09PSAnZGVzYycgJiYgaXNEYXRlLnBhcnNlZElucHV0VmFsdWUgIT09IGlzRGF0ZS5wYXJzZWRGaWVsZFZhbHVlKSB7IFxuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gaXNEYXRlLnBhcnNlZElucHV0VmFsdWUgLSBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPiAwIHx8IG91dHB1dCA8IDApIHsgcmV0dXJuIG91dHB1dDsgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKGEuZGF0YVtwYXJzZUZpZWxkTmFtZV0sIGIuZGF0YVtwYXJzZUZpZWxkTmFtZV0pO1xuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyICYmIG9yZGVyID09PSAnYXNjJyAmJiBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlICE9PSBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlKSB7XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlIC0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPiAwIHx8IG91dHB1dCA8IDApIHsgcmV0dXJuIG91dHB1dDsgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyICYmIG9yZGVyID09PSAnZGVzYycgJiYgaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZSAhPT0gaXNOdW1iZXIucGFyc2VkRmllbGRWYWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZSAtIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0ID4gMCB8fCBvdXRwdXQgPCAwKSB7IHJldHVybiBvdXRwdXQ7IH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdmFsdWVBID0gKGEuZGF0YVtwYXJzZUZpZWxkTmFtZV0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkgfHwgJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQiA9IChiLmRhdGFbcGFyc2VGaWVsZE5hbWVdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpIHx8ICcnO1xuXG4gICAgICAgICAgICBvdXRwdXQgPSBvcmRlciA9PT0gJ2FzYycgPyB2YWx1ZUEubG9jYWxlQ29tcGFyZSh2YWx1ZUIpIDogdmFsdWVBLmxvY2FsZUNvbXBhcmUodmFsdWVCKSAqIC0xO1xuXG4gICAgICAgICAgICBpZiAob3V0cHV0ID4gMCB8fCBvdXRwdXQgPCAwKSB7IHJldHVybiBvdXRwdXQ7IH1cblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG59XG4iXX0=","customTransformCache":false,"dependencies":[],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/filters.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export function parseNumber(fieldValue, inputValue) {\n    const parsedFieldValue = Number(fieldValue?.toString() || '');\n    const parsedInputValue = Number(inputValue?.toString() || '');\n    return isNaN(parsedFieldValue) && isNaN(parsedInputValue) ? null : { parsedFieldValue, parsedInputValue };\n}\nexport function parseDate(fieldValue, inputValue) {\n    const parsedFieldValue = Date.parse(fieldValue?.toString() || '');\n    const parsedInputValue = Date.parse(inputValue?.toString() || '');\n    return isNaN(parsedFieldValue) && isNaN(parsedInputValue) ? null : { parsedFieldValue, parsedInputValue };\n}\nexport function parseBoolean(fieldValue, inputValue) {\n    const parsedFieldValue = fieldValue?.toString().toLowerCase() === 'true' ? true : fieldValue?.toString().toLowerCase() === 'false' ? false : null;\n    const parsedInputValue = inputValue?.toString().toLowerCase() === 'true' ? true : inputValue?.toString().toLowerCase() === 'false' ? false : null;\n    return parsedFieldValue === null || parsedInputValue === null ? null : { parsedFieldValue, parsedInputValue };\n}\nexport const eq = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue === isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue === isNumber.parsedInputValue;\n    }\n    const isBoolean = parseBoolean(v.data[field], inputValue);\n    if (isBoolean) {\n        return isBoolean.parsedFieldValue === isBoolean.parsedInputValue;\n    }\n    return v.data[field] === inputValue;\n};\nexport const gte = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue >= isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue >= isNumber.parsedInputValue;\n    }\n    return v.data[field] >= inputValue;\n};\nexport const lte = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue <= isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue <= isNumber.parsedInputValue;\n    }\n    return v.data[field] <= inputValue;\n};\nexport const gt = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue > isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue > isNumber.parsedInputValue;\n    }\n    return v.data[field] > inputValue;\n};\nexport const lt = (v, field, inputValue) => {\n    const isDate = parseDate(v.data[field], inputValue);\n    if (isDate) {\n        return isDate.parsedFieldValue < isDate.parsedInputValue;\n    }\n    const isNumber = parseNumber(v.data[field], inputValue);\n    if (isNumber) {\n        return isNumber.parsedFieldValue < isNumber.parsedInputValue;\n    }\n    return v.data[field] < inputValue;\n};\nexport const range = (v, field, inputValue) => {\n    const values = inputValue.toString().split(',');\n    const isDate1 = parseDate(v.data[field], values[0]);\n    const isDate2 = parseDate(v.data[field], values[1]);\n    if (isDate1 && isDate2) {\n        return isDate1.parsedFieldValue >= isDate1.parsedInputValue && isDate2.parsedFieldValue < isDate2.parsedInputValue;\n    }\n    const isNumber1 = parseNumber(v.data[field], values[0]);\n    const isNumber2 = parseNumber(v.data[field], values[1]);\n    if (isNumber1 && isNumber2) {\n        return isNumber1.parsedFieldValue >= isNumber1.parsedInputValue && isNumber2.parsedFieldValue < isNumber2.parsedInputValue;\n    }\n    return v.data[field] >= values[0] && v.data[field] < values[1];\n};\nexport const startswith = (v, field, inputValue) => v.data[field]?.toString().startsWith(inputValue);\nexport const endswith = (v, field, inputValue) => v.data[field]?.toString().endsWith(inputValue);\nexport const iexact = (v, field, inputValue) => !!v.data[field]?.toString().match(new RegExp(`^${inputValue}$`, 'i'));\nexport const exact = (v, field, inputValue) => !!v.data[field]?.toString().match(new RegExp(`^${inputValue}$`));\nexport const icontains = (v, field, inputValue) => v.data[field]?.toString().toLowerCase().includes(inputValue?.toLowerCase() || '');\nexport const contains = (v, field, inputValue) => v.data[field]?.toString().includes(inputValue);\nexport const isnull = (v, field, inputValue) => inputValue?.toLowerCase() === 'true' ? v.data[field] === null : v.data[field] !== null;\nexport function getQuery(key, value) {\n    if (key.includes('distinct')) {\n        return { queryType: 'distinct', fields: value.split(',') };\n    }\n    else if (key.includes('only')) {\n        return { queryType: 'only', fields: value.split(',') };\n    }\n    else if (key.includes('ordering')) {\n        return { queryType: 'ordering', fields: value.split(',') };\n    }\n    else if (key.includes('exclude')) {\n        const fieldAndLookup = key.split(':')[1].split('.');\n        return { queryType: 'exclude', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] : 'eq', inputValue: value };\n    }\n    else if (key.includes('filter')) {\n        const fieldAndLookup = key.split(':')[1].split('.');\n        return { queryType: 'filter', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] : 'eq', inputValue: value };\n    }\n    else {\n        const fieldAndLookup = key.split('.');\n        return { queryType: 'filter', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] : 'eq', inputValue: value };\n    }\n}\nexport function queryFilter(validQueryKeys, params, docs) {\n    if (params) {\n        const keys = params.keys();\n        keys.forEach(k => {\n            if (validQueryKeys.indexOf(k) > -1) {\n                const query = getQuery(k, params.getAll(k).join(','));\n                if (query.queryType === 'filter') {\n                    docs = filter(query.fields[0], query.inputValue, docs, query.lookup);\n                }\n            }\n        });\n        keys.forEach(k => {\n            if (validQueryKeys.indexOf(k) > -1) {\n                const query = getQuery(k, params.getAll(k).join(','));\n                if (query.queryType === 'exclude') {\n                    docs = exclude(query.fields[0], query.inputValue, docs, query.lookup);\n                }\n            }\n        });\n        keys.forEach(k => {\n            if (validQueryKeys.indexOf(k) > -1) {\n                const query = getQuery(k, params.getAll(k).join(','));\n                if (query.queryType === 'ordering') {\n                    docs = orderBy(query.fields, docs);\n                }\n            }\n        });\n        keys.forEach(k => {\n            if (validQueryKeys.indexOf(k) > -1) {\n                const query = getQuery(k, params.getAll(k).join(','));\n                if (query.queryType === 'distinct') {\n                    docs = distinct(query.fields, docs);\n                }\n            }\n        });\n    }\n    return docs;\n}\nexport function filter(field, inputValue, docs, lookup, isExclude = false) {\n    let f = (v) => inputValue.split(',').reduce((acc, cur) => acc || eq(v, field, cur), false);\n    if (lookup === 'gte') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || gte(v, field, cur), false);\n    }\n    if (lookup === 'lte') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || lte(v, field, cur), false);\n    }\n    if (lookup === 'gt') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || gt(v, field, cur), false);\n    }\n    if (lookup === 'lt') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || lt(v, field, cur), false);\n    }\n    if (lookup === 'range') {\n        f = v => range(v, field, inputValue);\n    }\n    if (lookup === 'startswith') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || startswith(v, field, cur), false);\n    }\n    if (lookup === 'endswith') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || endswith(v, field, cur), false);\n    }\n    if (lookup === 'iexact') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || iexact(v, field, cur), false);\n    }\n    if (lookup === 'exact') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || exact(v, field, cur), false);\n    }\n    if (lookup === 'icontains') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || icontains(v, field, cur), false);\n    }\n    if (lookup === 'contains') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || contains(v, field, cur), false);\n    }\n    if (lookup === 'isnull') {\n        f = v => inputValue.split(',').reduce((acc, cur) => acc || isnull(v, field, cur), false);\n    }\n    return docs.filter((v) => {\n        const o = f(v);\n        return isExclude ? !o : o;\n    });\n}\nexport function exclude(field, inputValue, docs, lookup) {\n    return filter(field, inputValue, docs, lookup, true);\n}\nexport function distinct(fields, docs) {\n    const uniques = new Set();\n    const distinctArray = [];\n    docs.forEach(v => {\n        const key = fields.reduce((acc, cur) => acc += `-${v.data[cur]?.toString() || 'null'}`, '');\n        if (!uniques.has(key)) {\n            uniques.add(key);\n            distinctArray.push(v);\n        }\n    });\n    return distinctArray;\n}\nexport function orderBy(fields, docs) {\n    return docs.sort((a, b) => {\n        for (let i = 0; i < fields.length; i++) {\n            const order = fields[i].indexOf('-') === 0 ? 'desc' : 'asc';\n            const parseFieldName = order === 'desc' ? fields[i].split('-')[1] : fields[i];\n            if (!(parseFieldName in a?.data) || !(parseFieldName in b?.data)) {\n                continue;\n            }\n            let output = 0;\n            const isDate = parseDate(a.data[parseFieldName], b.data[parseFieldName]);\n            if (isDate && order === 'asc' && isDate.parsedFieldValue !== isDate.parsedInputValue) {\n                output = isDate.parsedFieldValue - isDate.parsedInputValue;\n                if (output > 0 || output < 0) {\n                    return output;\n                }\n            }\n            if (isDate && order === 'desc' && isDate.parsedInputValue !== isDate.parsedFieldValue) {\n                output = isDate.parsedInputValue - isDate.parsedFieldValue;\n                if (output > 0 || output < 0) {\n                    return output;\n                }\n            }\n            const isNumber = parseNumber(a.data[parseFieldName], b.data[parseFieldName]);\n            if (isNumber && order === 'asc' && isNumber.parsedFieldValue !== isNumber.parsedInputValue) {\n                output = isNumber.parsedFieldValue - isNumber.parsedInputValue;\n                if (output > 0 || output < 0) {\n                    return output;\n                }\n            }\n            if (isNumber && order === 'desc' && isNumber.parsedInputValue !== isNumber.parsedFieldValue) {\n                output = isNumber.parsedInputValue - isNumber.parsedFieldValue;\n                if (output > 0 || output < 0) {\n                    return output;\n                }\n            }\n            const valueA = a.data[parseFieldName]?.toString() || '';\n            const valueB = b.data[parseFieldName]?.toString() || '';\n            output = order === 'asc' ? valueA.localeCompare(valueB) : valueA.localeCompare(valueB) * -1;\n            if (output > 0 || output < 0) {\n                return output;\n            }\n        }\n        return 0;\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmlsdGVycy5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9maWx0ZXJzLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWdCQSxNQUFNLFVBQVUsV0FBVyxDQUFDLFVBQXlCLEVBQUUsVUFBa0I7SUFFckUsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsVUFBVSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBRTlELE1BQU0sZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUU5RCxPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQztBQUM1RyxDQUFDO0FBRUQsTUFBTSxVQUFVLFNBQVMsQ0FBQyxVQUF5QixFQUFFLFVBQWtCO0lBRW5FLE1BQU0sZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFFbEUsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUVsRSxPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUMsZ0JBQWdCLEVBQUUsZ0JBQWdCLEVBQUMsQ0FBQztBQUM1RyxDQUFDO0FBRUQsTUFBTSxVQUFVLFlBQVksQ0FBQyxVQUF5QixFQUFFLFVBQWtCO0lBR3RFLE1BQU0sZ0JB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S0FBSyxDQUFDLENBQUM7S0FBRTtJQUVoSCxJQUFJLE1BQU0sS0FBSyxJQUFJLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRTlHLElBQUksTUFBTSxLQUFLLElBQUksRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFOUcsSUFBSSxNQUFNLEtBQUssT0FBTyxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsVUFBVSxDQUFDLENBQUM7S0FBRTtJQUVqRSxJQUFJLE1BQU0sS0FBSyxZQUFZLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxVQUFVLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRTlILElBQUksTUFBTSxLQUFLLFVBQVUsRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLFFBQVEsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFMUgsSUFBSSxNQUFNLEtBQUssUUFBUSxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLENBQUM7S0FBRTtJQUV0SCxJQUFJLE1BQU0sS0FBSyxPQUFPLEVBQUU7UUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsQ0FBQyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsQ0FBQztLQUFFO0lBRXBILElBQUksTUFBTSxLQUFLLFdBQVcsRUFBRTtRQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQUU7SUFFNUgsSUFBSSxNQUFNLEtBQUssVUFBVSxFQUFFO1FBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxH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LFFBQVEsSUFBSSxLQUFLLEtBQUssTUFBTSxJQUFJLFFBQVEsQ0FBQyxnQkFBZ0IsS0FBSyxRQUFRLENBQUMsZ0JBQWdCLEVBQUU7Z0JBRXpGLE1BQU0sR0FBRyxRQUFRLENBQUMsZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGdCQUFnQixDQUFDO2dCQUUvRCxJQUFJLE1BQU0sR0FBRyxDQUFDLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRTtvQkFBRSxPQUFPLE1BQU0sQ0FBQztpQkFBRTthQUNuRDtZQUVELE1BQU0sTUFBTSxHQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFtQixFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsQ0FBQztZQUUzRSxNQUFNLE1BQU0sR0FBSSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBbUIsRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLENBQUM7WUFFM0UsTUFBTSxHQUFHLEtBQUssS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFFNUYsSUFBSSxNQUFNLEdBQUcsQ0FBQyxJQUFJLE1BQU0sR0FBRyxDQUFDLEVBQUU7Z0JBQUUsT0FBTyxNQUFNLENBQUM7YUFBRTtTQUVuRDtRQUVELE9BQU8sQ0FBQyxDQUFDO0lBQ2IsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG4vLy8vLy8vLy8vLy8vLy8vXG4vLyBUeXBlc1xuLy8vLy8vLy8vLy8vLy8vL1xuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCB0eXBlIExvb2t1cCA9ICdndGUnIHwgJ2x0ZScgfCAnZ3QnIHwgJ2x0JyB8ICdlcScgfCAnc3RhcnRzd2l0aCcgfCAnZW5kc3dpdGgnIHwgJ3JhbmdlJyB8ICdpc251bGwnIHwgJ2lleGFjdCcgfCAnZXhhY3QnIHwgJ2ljb250YWlucycgfCAnY29udGFpbnMnIHwgJ2luJztcblxuZXhwb3J0IHR5cGUgUXVlcnkgPSAnZmlsdGVyJyB8ICdkaXN0aW5jdCcgfCAnZXhjbHVkZScgfCAnb3JkZXJpbmcnIHwgJ29ubHknO1xuXG5leHBvcnQgdHlwZSBGaWVsZERhdGFUeXBlID0gc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IG51bGw7XG5cbi8vLy8vLy8vLy8vLy8vLy9cbi8vIFBhcnNlcnNcbi8vLy8vLy8vLy8vLy8vLy9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bWJlcihmaWVsZFZhbHVlOiBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlOiBzdHJpbmcpOiBudWxsIHwge1trZXk6IHN0cmluZ106IG51bWJlcn0ge1xuXG4gICAgY29uc3QgcGFyc2VkRmllbGRWYWx1ZSA9IE51bWJlcihmaWVsZFZhbHVlPy50b1N0cmluZygpIHx8ICcnKTtcblxuICAgIGNvbnN0IHBhcnNlZElucHV0VmFsdWUgPSBOdW1iZXIoaW5wdXRWYWx1ZT8udG9TdHJpbmcoKSB8fCAnJyk7XG5cbiAgICByZXR1cm4gaXNOYU4ocGFyc2VkRmllbGRWYWx1ZSkgJiYgaXNOYU4ocGFyc2VkSW5wdXRWYWx1ZSkgPyBudWxsIDoge3BhcnNlZEZpZWxkVmFsdWUsIHBhcnNlZElucHV0VmFsdWV9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEYXRlKGZpZWxkVmFsdWU6IEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWU6IHN0cmluZyk6IG51bGwgfCB7W2tleTogc3RyaW5nXTogbnVtYmVyfSB7XG5cbiAgICBjb25zdCBwYXJzZWRGaWVsZFZhbHVlID0gRGF0ZS5wYXJzZShmaWVsZFZhbHVlPy50b1N0cmluZygpIHx8ICcnKTtcblxuICAgIGNvbnN0IHBhcnNlZElucHV0VmFsdWUgPSBEYXRlLnBhcnNlKGlucHV0VmFsdWU/LnRvU3RyaW5nKCkgfHwgJycpO1xuXG4gICAgcmV0dXJuIGlzTmFOKHBhcnNlZEZpZWxkVmFsdWUpICYmIGlzTmFOKHBhcnNlZElucHV0VmFsdWUpID8gbnVsbCA6IHtwYXJzZWRGaWVsZFZhbHVlLCBwYXJzZWRJbnB1dFZhbHVlfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQm9vbGVhbihmaWVsZFZhbHVlOiBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlOiBzdHJpbmcpOiBudWxsIHwge1trZXk6IHN0cmluZ106IGJvb2xlYW59IHtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgY29uc3QgcGFyc2VkRmllbGRWYWx1ZSA9IGZpZWxkVmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZpZWxkVmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogbnVsbDtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgY29uc3QgcGFyc2VkSW5wdXRWYWx1ZSA9IGlucHV0VmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnID8gdHJ1ZSA6IGlucHV0VmFsdWU/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJyA/IGZhbHNlIDogbnVsbDtcblxuICAgIHJldHVybiBwYXJzZWRGaWVsZFZhbHVlID09PSBudWxsIHx8IHBhcnNlZElucHV0VmFsdWUgPT09IG51bGwgPyBudWxsIDoge3BhcnNlZEZpZWxkVmFsdWUsIHBhcnNlZElucHV0VmFsdWV9O1xufVxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTG9va3VwIEZpbHRlcnMgKG51bSwgZGF0ZSwgc3RyaW5nLCBib29sZWFuKVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBlcTogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IHtcblxuICAgIGNvbnN0IGlzRGF0ZSA9IHBhcnNlRGF0ZSh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzRGF0ZSkgeyByZXR1cm4gaXNEYXRlLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzTnVtYmVyLnBhcnNlZElucHV0VmFsdWU7IH1cblxuICAgIGNvbnN0IGlzQm9vbGVhbiA9IHBhcnNlQm9vbGVhbih2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzQm9vbGVhbikgeyByZXR1cm4gaXNCb29sZWFuLnBhcnNlZEZpZWxkVmFsdWUgPT09IGlzQm9vbGVhbi5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA9PT0gaW5wdXRWYWx1ZTtcbn07XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBMb29rdXAgRmlsdGVycyAobnVtLCBkYXRlKVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBndGU6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiB7XG5cbiAgICBjb25zdCBpc0RhdGUgPSBwYXJzZURhdGUodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCBpbnB1dFZhbHVlKTtcblxuICAgIGlmIChpc0RhdGUpIHsgcmV0dXJuIGlzRGF0ZS5wYXJzZWRGaWVsZFZhbHVlID49IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgcmV0dXJuIHYuZGF0YVtmaWVsZF0gPj0gaW5wdXRWYWx1ZTtcbn07XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3QgbHRlOiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA8PSBpc0RhdGUucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgY29uc3QgaXNOdW1iZXIgPSBwYXJzZU51bWJlcih2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUsIGlucHV0VmFsdWUpO1xuXG4gICAgaWYgKGlzTnVtYmVyKSB7IHJldHVybiBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlIDw9IGlzTnVtYmVyLnBhcnNlZElucHV0VmFsdWU7IH1cblxuICAgIHJldHVybiB2LmRhdGFbZmllbGRdIDw9IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGd0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA+IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPiBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA+IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGx0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgaXNEYXRlID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNEYXRlKSB7IHJldHVybiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSA8IGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgaW5wdXRWYWx1ZSk7XG5cbiAgICBpZiAoaXNOdW1iZXIpIHsgcmV0dXJuIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWUgPCBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlOyB9XG5cbiAgICByZXR1cm4gdi5kYXRhW2ZpZWxkXSA8IGlucHV0VmFsdWU7XG59O1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IHJhbmdlOiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4ge1xuXG4gICAgY29uc3QgdmFsdWVzID0gaW5wdXRWYWx1ZS50b1N0cmluZygpLnNwbGl0KCcsJyk7XG5cbiAgICBjb25zdCBpc0RhdGUxID0gcGFyc2VEYXRlKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSwgdmFsdWVzWzBdKTtcblxuICAgIGNvbnN0IGlzRGF0ZTIgPSBwYXJzZURhdGUodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMV0pO1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICBpZiAoaXNEYXRlMSAmJiBpc0RhdGUyKSB7IHJldHVybiBpc0RhdGUxLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNEYXRlMS5wYXJzZWRJbnB1dFZhbHVlICYmIGlzRGF0ZTIucGFyc2VkRmllbGRWYWx1ZSA8IGlzRGF0ZTIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgY29uc3QgaXNOdW1iZXIxID0gcGFyc2VOdW1iZXIodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMF0pO1xuXG4gICAgY29uc3QgaXNOdW1iZXIyID0gcGFyc2VOdW1iZXIodi5kYXRhW2ZpZWxkXSBhcyBGaWVsZERhdGFUeXBlLCB2YWx1ZXNbMV0pO1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICBpZiAoaXNOdW1iZXIxICYmIGlzTnVtYmVyMikgeyByZXR1cm4gaXNOdW1iZXIxLnBhcnNlZEZpZWxkVmFsdWUgPj0gaXNOdW1iZXIxLnBhcnNlZElucHV0VmFsdWUgJiYgaXNOdW1iZXIyLnBhcnNlZEZpZWxkVmFsdWUgPCBpc051bWJlcjIucGFyc2VkSW5wdXRWYWx1ZTsgfVxuXG4gICAgcmV0dXJuIHYuZGF0YVtmaWVsZF0gPj0gdmFsdWVzWzBdICYmIHYuZGF0YVtmaWVsZF0gPCB2YWx1ZXNbMV07XG59O1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gTG9va3VwIEZpbHRlcnMgKHN0cmluZylcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3Qgc3RhcnRzd2l0aDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+ICh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLnN0YXJ0c1dpdGgoaW5wdXRWYWx1ZSk7XG5cbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG5leHBvcnQgY29uc3QgZW5kc3dpdGg6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gICA9ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+ICh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLmVuZHNXaXRoKGlucHV0VmFsdWUpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGlleGFjdDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiAhISh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLm1hdGNoKG5ldyBSZWdFeHAoYF4ke2lucHV0VmFsdWV9JGAsICdpJykpO1xuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGV4YWN0OiAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBib29sZWFuICAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiAhISh2LmRhdGFbZmllbGRdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpLm1hdGNoKG5ldyBSZWdFeHAoYF4ke2lucHV0VmFsdWV9JGApKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBpY29udGFpbnM6ICh2OiBQd2FEb2N1bWVudDxhbnk+LCBmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcpID0+IGJvb2xlYW4gID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhpbnB1dFZhbHVlPy50b0xvd2VyQ2FzZSgpIHx8ICcnKTtcblxuLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbmV4cG9ydCBjb25zdCBjb250YWluczogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgID0gKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gKHYuZGF0YVtmaWVsZF0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkuaW5jbHVkZXMoaW5wdXRWYWx1ZSk7XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBMb29rdXAgRmlsdGVycyAoYm9vbGVhbilcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuZXhwb3J0IGNvbnN0IGlzbnVsbDogKHY6IFB3YURvY3VtZW50PGFueT4sIGZpZWxkOiBzdHJpbmcsIGlucHV0VmFsdWU6IHN0cmluZykgPT4gYm9vbGVhbiAgICAgPSAodjogUHdhRG9jdW1lbnQ8YW55PiwgZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nKSA9PiBpbnB1dFZhbHVlPy50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgPyB2LmRhdGFbZmllbGRdID09PSBudWxsIDogdi5kYXRhW2ZpZWxkXSAhPT0gbnVsbDtcblxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVlcnkoa2V5OiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpOiB7cXVlcnlUeXBlOiBRdWVyeSwgZmllbGRzOiBzdHJpbmdbXSwgbG9va3VwPzogTG9va3VwLCBpbnB1dFZhbHVlPzogc3RyaW5nfSB7XG5cbiAgICBpZiAoa2V5LmluY2x1ZGVzKCdkaXN0aW5jdCcpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdkaXN0aW5jdCcsIGZpZWxkczogdmFsdWUuc3BsaXQoJywnKX07XG5cbiAgICB9IGVsc2UgaWYgKGtleS5pbmNsdWRlcygnb25seScpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdvbmx5JywgZmllbGRzOiB2YWx1ZS5zcGxpdCgnLCcpfTtcblxuICAgIH0gZWxzZSBpZiAoa2V5LmluY2x1ZGVzKCdvcmRlcmluZycpKSB7XG5cbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdvcmRlcmluZycsIGZpZWxkczogdmFsdWUuc3BsaXQoJywnKX07XG5cbiAgICB9IGVsc2UgaWYgKGtleS5pbmNsdWRlcygnZXhjbHVkZScpKSB7XG5cbiAgICAgICAgY29uc3QgZmllbGRBbmRMb29rdXAgPSBrZXkuc3BsaXQoJzonKVsxXS5zcGxpdCgnLicpO1xuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIHJldHVybiB7cXVlcnlUeXBlOiAnZXhjbHVkZScsIGZpZWxkczogW2ZpZWxkQW5kTG9va3VwWzBdXSwgbG9va3VwOiBmaWVsZEFuZExvb2t1cC5sZW5ndGggPiAxID8gZmllbGRBbmRMb29rdXBbMV0gYXMgTG9va3VwIDogJ2VxJywgaW5wdXRWYWx1ZTogdmFsdWV9O1xuXG4gICAgfSBlbHNlIGlmIChrZXkuaW5jbHVkZXMoJ2ZpbHRlcicpKSB7XG5cbiAgICAgICAgY29uc3QgZmllbGRBbmRMb29rdXAgPSBrZXkuc3BsaXQoJzonKVsxXS5zcGxpdCgnLicpO1xuXG4gICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgIHJldHVybiB7cXVlcnlUeXBlOiAnZmlsdGVyJywgZmllbGRzOiBbZmllbGRBbmRMb29rdXBbMF1dLCBsb29rdXA6IGZpZWxkQW5kTG9va3VwLmxlbmd0aCA+IDEgPyBmaWVsZEFuZExvb2t1cFsxXSBhcyBMb29rdXAgOiAnZXEnLCBpbnB1dFZhbHVlOiB2YWx1ZX07XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIGNvbnN0IGZpZWxkQW5kTG9va3VwID0ga2V5LnNwbGl0KCcuJyk7XG5cbiAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBtYXgtbGluZS1sZW5ndGhcbiAgICAgICAgcmV0dXJuIHtxdWVyeVR5cGU6ICdmaWx0ZXInLCBmaWVsZHM6IFtmaWVsZEFuZExvb2t1cFswXV0sIGxvb2t1cDogZmllbGRBbmRMb29rdXAubGVuZ3RoID4gMSA/IGZpZWxkQW5kTG9va3VwWzFdIGFzIExvb2t1cCA6ICdlcScsIGlucHV0VmFsdWU6IHZhbHVlfTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gcXVlcnlGaWx0ZXIodmFsaWRRdWVyeUtleXM6IHN0cmluZ1tdLCBwYXJhbXM6IEh0dHBQYXJhbXMsIGRvY3M6IFB3YURvY3VtZW50PGFueT5bXSk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICBpZiAocGFyYW1zKSB7XG5cbiAgICAgICAgY29uc3Qga2V5cyA9IHBhcmFtcy5rZXlzKCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRmlsdGVycyAoMSlcbiAgICAgICAgLy8vLy8vLy8vLy8vLy9cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdmaWx0ZXInKSB7IGRvY3MgPSBmaWx0ZXIocXVlcnkuZmllbGRzWzBdLCBxdWVyeS5pbnB1dFZhbHVlLCBkb2NzLCBxdWVyeS5sb29rdXApOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAvLyBFeGNsdWRlICgyKVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICBrZXlzLmZvckVhY2goayA9PiB7XG5cbiAgICAgICAgICAgIGlmICh2YWxpZFF1ZXJ5S2V5cy5pbmRleE9mKGspID4gLTEpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gZ2V0UXVlcnkoaywgcGFyYW1zLmdldEFsbChrKS5qb2luKCcsJykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LnF1ZXJ5VHlwZSA9PT0gJ2V4Y2x1ZGUnKSB7IGRvY3MgPSBleGNsdWRlKHF1ZXJ5LmZpZWxkc1swXSwgcXVlcnkuaW5wdXRWYWx1ZSwgZG9jcywgcXVlcnkubG9va3VwKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIE9yZGVyIEJ5ICgzKVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdvcmRlcmluZycpIHsgZG9jcyA9IG9yZGVyQnkocXVlcnkuZmllbGRzLCBkb2NzKTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgIC8vIERpc3RpbmN0ICg0KVxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAga2V5cy5mb3JFYWNoKGsgPT4ge1xuXG4gICAgICAgICAgICBpZiAodmFsaWRRdWVyeUtleXMuaW5kZXhPZihrKSA+IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IGdldFF1ZXJ5KGssIHBhcmFtcy5nZXRBbGwoaykuam9pbignLCcpKTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWVyeS5xdWVyeVR5cGUgPT09ICdkaXN0aW5jdCcpIHsgZG9jcyA9IGRpc3RpbmN0KHF1ZXJ5LmZpZWxkcywgZG9jcyk7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9XG5cbiAgICByZXR1cm4gZG9jcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihmaWVsZDogc3RyaW5nLCBpbnB1dFZhbHVlOiBzdHJpbmcsIGRvY3M6IFB3YURvY3VtZW50PGFueT5bXSwgbG9va3VwPzogTG9va3VwLCBpc0V4Y2x1ZGUgPSBmYWxzZSk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICAvLyBpbiBsb29rdXAgd291bGQgc2FtZSBhcyBlcSB3aXRoIE9SIHZhbHVlc1xuICAgIGxldCBmID0gKHY6IFB3YURvY3VtZW50PGFueT4pID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgZXEodiwgZmllbGQsIGN1ciksIGZhbHNlKTtcblxuICAgIGlmIChsb29rdXAgPT09ICdndGUnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgZ3RlKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdsdGUnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgbHRlKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdndCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBndCh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnbHQnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgbHQodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ3JhbmdlJykgeyBmID0gdiA9PiByYW5nZSh2LCBmaWVsZCwgaW5wdXRWYWx1ZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdzdGFydHN3aXRoJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IHN0YXJ0c3dpdGgodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ2VuZHN3aXRoJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IGVuZHN3aXRoKHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdpZXhhY3QnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgaWV4YWN0KHYsIGZpZWxkLCBjdXIpLCBmYWxzZSk7IH1cblxuICAgIGlmIChsb29rdXAgPT09ICdleGFjdCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBleGFjdCh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnaWNvbnRhaW5zJykgeyBmID0gdiA9PiBpbnB1dFZhbHVlLnNwbGl0KCcsJykucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjIHx8IGljb250YWlucyh2LCBmaWVsZCwgY3VyKSwgZmFsc2UpOyB9XG5cbiAgICBpZiAobG9va3VwID09PSAnY29udGFpbnMnKSB7IGYgPSB2ID0+IGlucHV0VmFsdWUuc3BsaXQoJywnKS5yZWR1Y2UoKGFjYywgY3VyKSA9PiBhY2MgfHwgY29udGFpbnModiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgaWYgKGxvb2t1cCA9PT0gJ2lzbnVsbCcpIHsgZiA9IHYgPT4gaW5wdXRWYWx1ZS5zcGxpdCgnLCcpLnJlZHVjZSgoYWNjLCBjdXIpID0+IGFjYyB8fCBpc251bGwodiwgZmllbGQsIGN1ciksIGZhbHNlKTsgfVxuXG4gICAgcmV0dXJuIGRvY3MuZmlsdGVyKCh2KSA9PiB7XG5cbiAgICAgICAgY29uc3QgbyA9IGYodik7XG5cbiAgICAgICAgcmV0dXJuIGlzRXhjbHVkZSA/ICFvIDogbztcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4Y2x1ZGUoZmllbGQ6IHN0cmluZywgaW5wdXRWYWx1ZTogc3RyaW5nLCBkb2NzOiBQd2FEb2N1bWVudDxhbnk+W10sIGxvb2t1cD86IExvb2t1cCk6IFB3YURvY3VtZW50PGFueT5bXSB7XG5cbiAgICByZXR1cm4gZmlsdGVyKGZpZWxkLCBpbnB1dFZhbHVlLCBkb2NzLCBsb29rdXAsIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGlzdGluY3QoZmllbGRzOiBzdHJpbmdbXSwgZG9jczogUHdhRG9jdW1lbnQ8YW55PltdKTogUHdhRG9jdW1lbnQ8YW55PltdIHtcblxuICAgIGNvbnN0IHVuaXF1ZXMgPSBuZXcgU2V0PEZpZWxkRGF0YVR5cGU+KCk7XG5cbiAgICBjb25zdCBkaXN0aW5jdEFycmF5OiBQd2FEb2N1bWVudDxhbnk+W10gPSBbXTtcblxuICAgIGRvY3MuZm9yRWFjaCh2ID0+IHtcblxuICAgICAgICBjb25zdCBrZXkgPSBmaWVsZHMucmVkdWNlKChhY2MsIGN1cikgPT4gYWNjICs9IGAtJHsodi5kYXRhW2N1cl0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkgfHwgJ251bGwnfWAsICcnKTtcblxuICAgICAgICBpZiAoIXVuaXF1ZXMuaGFzKGtleSkpIHtcblxuICAgICAgICAgICAgdW5pcXVlcy5hZGQoa2V5KTtcblxuICAgICAgICAgICAgZGlzdGluY3RBcnJheS5wdXNoKHYpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGlzdGluY3RBcnJheTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9yZGVyQnkoZmllbGRzOiBzdHJpbmdbXSwgZG9jczogUHdhRG9jdW1lbnQ8YW55PltdKTogUHdhRG9jdW1lbnQ8YW55PltdIHtcblxuICAgIHJldHVybiBkb2NzLnNvcnQoKGEsIGIpID0+IHtcblxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHByZWZlci1mb3Itb2ZcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcblxuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBmaWVsZHNbaV0uaW5kZXhPZignLScpID09PSAwID8gJ2Rlc2MnIDogJ2FzYyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHBhcnNlRmllbGROYW1lID0gb3JkZXIgPT09ICdkZXNjJyA/IGZpZWxkc1tpXS5zcGxpdCgnLScpWzFdIDogZmllbGRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIShwYXJzZUZpZWxkTmFtZSBpbiBhPy5kYXRhKSB8fCAhKHBhcnNlRmllbGROYW1lIGluIGI/LmRhdGEpKSB7IGNvbnRpbnVlOyB9XG5cbiAgICAgICAgICAgIGxldCBvdXRwdXQgPSAwO1xuXG4gICAgICAgICAgICBjb25zdCBpc0RhdGUgPSBwYXJzZURhdGUoYS5kYXRhW3BhcnNlRmllbGROYW1lXSwgYi5kYXRhW3BhcnNlRmllbGROYW1lXSk7XG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBpZiAoaXNEYXRlICYmIG9yZGVyID09PSAnYXNjJyAmJiBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSAhPT0gaXNEYXRlLnBhcnNlZElucHV0VmFsdWUpIHsgXG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZSAtIGlzRGF0ZS5wYXJzZWRJbnB1dFZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dCA+IDAgfHwgb3V0cHV0IDwgMCkgeyByZXR1cm4gb3V0cHV0OyB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBpZiAoaXNEYXRlICYmIG9yZGVyID09PSAnZGVzYycgJiYgaXNEYXRlLnBhcnNlZElucHV0VmFsdWUgIT09IGlzRGF0ZS5wYXJzZWRGaWVsZFZhbHVlKSB7IFxuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gaXNEYXRlLnBhcnNlZElucHV0VmFsdWUgLSBpc0RhdGUucGFyc2VkRmllbGRWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPiAwIHx8IG91dHB1dCA8IDApIHsgcmV0dXJuIG91dHB1dDsgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBpc051bWJlciA9IHBhcnNlTnVtYmVyKGEuZGF0YVtwYXJzZUZpZWxkTmFtZV0sIGIuZGF0YVtwYXJzZUZpZWxkTmFtZV0pO1xuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyICYmIG9yZGVyID09PSAnYXNjJyAmJiBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlICE9PSBpc051bWJlci5wYXJzZWRJbnB1dFZhbHVlKSB7XG5cbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBpc051bWJlci5wYXJzZWRGaWVsZFZhbHVlIC0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZTtcblxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQgPiAwIHx8IG91dHB1dCA8IDApIHsgcmV0dXJuIG91dHB1dDsgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgaWYgKGlzTnVtYmVyICYmIG9yZGVyID09PSAnZGVzYycgJiYgaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZSAhPT0gaXNOdW1iZXIucGFyc2VkRmllbGRWYWx1ZSkge1xuXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gaXNOdW1iZXIucGFyc2VkSW5wdXRWYWx1ZSAtIGlzTnVtYmVyLnBhcnNlZEZpZWxkVmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0ID4gMCB8fCBvdXRwdXQgPCAwKSB7IHJldHVybiBvdXRwdXQ7IH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgdmFsdWVBID0gKGEuZGF0YVtwYXJzZUZpZWxkTmFtZV0gYXMgRmllbGREYXRhVHlwZSk/LnRvU3RyaW5nKCkgfHwgJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHZhbHVlQiA9IChiLmRhdGFbcGFyc2VGaWVsZE5hbWVdIGFzIEZpZWxkRGF0YVR5cGUpPy50b1N0cmluZygpIHx8ICcnO1xuXG4gICAgICAgICAgICBvdXRwdXQgPSBvcmRlciA9PT0gJ2FzYycgPyB2YWx1ZUEubG9jYWxlQ29tcGFyZSh2YWx1ZUIpIDogdmFsdWVBLmxvY2FsZUNvbXBhcmUodmFsdWVCKSAqIC0xO1xuXG4gICAgICAgICAgICBpZiAob3V0cHV0ID4gMCB8fCBvdXRwdXQgPCAwKSB7IHJldHVybiBvdXRwdXQ7IH1cblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfSk7XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"filters.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/filters.resource.ts"],"names":[],"mappings":[[[0,0,16,0],[6,0,16,6],[16,0,16,16],[27,0,16,27],[28,0,16,28],[38,0,16,53],[40,0,16,55],[50,0,16,73]],[[4,0,18,4],[10,0,18,10],[26,0,18,26],[29,0,18,29],[35,0,18,35],[36,0,18,36],[46,0,18,46],[48,0,18,48],[56,0,18,56],[58,0,18,58],[62,0,18,62],[64,0,18,64],[65,0,18,65],[66,0,18,66]],[[4,0,20,4],[10,0,20,10],[26,0,20,26],[29,0,20,29],[35,0,20,35],[36,0,20,36],[46,0,20,46],[48,0,20,48],[56,0,20,56],[58,0,20,58],[62,0,20,62],[64,0,20,64],[65,0,20,65],[66,0,20,66]],[[4,0,22,4],[11,0,22,11],[16,0,22,16],[17,0,22,17],[33,0,22,33],[34,0,22,34],[38,0,22,38],[43,0,22,43],[44,0,22,44],[60,0,22,60],[61,0,22,61],[62,0,22,62],[63,0,22,63],[64,0,22,64],[68,0,22,68],[69,0,22,69],[70,0,22,70],[71,0,22,71],[73,0,22,72],[89,0,22,88],[91,0,22,90],[107,0,22,106],[109,0,22,107],[110,0,22,108]],[[0,0,23,0],[1,0,23,1]],[[0,0,25,0],[6,0,25,6],[16,0,25,16],[25,0,25,25],[26,0,25,26],[36,0,25,51],[38,0,25,53],[48,0,25,71]],[[4,0,27,4],[10,0,27,10],[26,0,27,26],[29,0,27,29],[33,0,27,33],[34,0,27,34],[39,0,27,39],[40,0,27,40],[50,0,27,50],[52,0,27,52],[60,0,27,60],[62,0,27,62],[66,0,27,66],[68,0,27,68],[69,0,27,69],[70,0,27,70]],[[4,0,29,4],[10,0,29,10],[26,0,29,26],[29,0,29,29],[33,0,29,33],[34,0,29,34],[39,0,29,39],[40,0,29,40],[50,0,29,50],[52,0,29,52],[60,0,29,60],[62,0,29,62],[66,0,29,66],[68,0,29,68],[69,0,29,69],[70,0,29,70]],[[4,0,31,4],[11,0,31,11],[16,0,31,16],[17,0,31,17],[33,0,31,33],[34,0,31,34],[38,0,31,38],[43,0,31,43],[44,0,31,44],[60,0,31,60],[61,0,31,61],[62,0,31,62],[63,0,31,63],[64,0,31,64],[68,0,31,68],[69,0,31,69],[70,0,31,70],[71,0,31,71],[73,0,31,72],[89,0,31,88],[91,0,31,90],[107,0,31,106],[109,0,31,107],[110,0,31,108]],[[0,0,32,0],[1,0,32,1]],[[0,0,34,0],[6,0,34,6],[16,0,34,16],[28,0,34,28],[29,0,34,29],[39,0,34,54],[41,0,34,56],[51,0,34,74]],[[4,0,37,4],[10,0,37,10],[26,0,37,26],[29,0,37,29],[39,0,37,39],[41,0,37,41],[49,0,37,49],[51,0,37,51],[52,0,37,52],[63,0,37,63],[65,0,37,65],[70,0,37,70],[76,0,37,76],[77,0,37,77],[78,0,37,78],[79,0,37,79],[83,0,37,83],[84,0,37,84],[85,0,37,85],[86,0,37,86],[96,0,37,96],[98,0,37,98],[106,0,37,106],[108,0,37,108],[109,0,37,109],[120,0,37,120],[122,0,37,122],[127,0,37,127],[134,0,37,134],[135,0,37,135],[136,0,37,136],[137,0,37,137],[142,0,37,142],[143,0,37,143],[144,0,37,144],[145,0,37,145],[149,0,37,149],[150,0,37,150]],[[4,0,40,4],[10,0,40,10],[26,0,40,26],[29,0,40,29],[39,0,40,39],[41,0,40,41],[49,0,40,49],[51,0,40,51],[52,0,40,52],[63,0,40,63],[65,0,40,65],[70,0,40,70],[76,0,40,76],[77,0,40,77],[78,0,40,78],[79,0,40,79],[83,0,40,83],[84,0,40,84],[85,0,40,85],[86,0,40,86],[96,0,40,96],[98,0,40,98],[106,0,40,106],[108,0,40,108],[109,0,40,109],[120,0,40,120],[122,0,40,122],[127,0,40,127],[134,0,40,134],[135,0,40,135],[136,0,40,136],[137,0,40,137],[142,0,40,142],[143,0,40,143],[144,0,40,144],[145,0,40,145],[149,0,40,149],[150,0,40,150]],[[4,0,42,4],[11,0,42,11],[27,0,42,27],[32,0,42,32],[36,0,42,36],[40,0,42,40],[56,0,42,56],[61,0,42,61],[65,0,42,65],[66,0,42,66],[67,0,42,67],[68,0,42,68],[72,0,42,72],[73,0,42,73],[74,0,42,74],[75,0,42,75],[77,0,42,76],[93,0,42,92],[95,0,42,94],[111,0,42,110],[113,0,42,111],[114,0,42,112]],[[0,0,43,0],[1,0,43,1]],[[0,0,50,0],[6,0,50,6],[7,0,50,7],[13,0,50,13],[15,0,50,15],[18,0,50,87],[19,0,50,88],[20,0,50,107],[22,0,50,109],[27,0,50,122],[29,0,50,124],[39,0,50,142],[41,0,50,144],[43,0,50,146]],[[4,0,52,4],[10,0,52,10],[16,0,52,16],[19,0,52,19],[28,0,52,28],[29,0,52,29],[30,0,52,30],[31,0,52,31],[35,0,52,35],[36,0,52,36],[41,0,52,41],[42,0,52,59],[44,0,52,61],[54,0,52,71],[55,0,52,72],[56,0,52,73]],[[4,0,54,4],[8,0,54,8],[14,0,54,14],[16,0,54,16]],[[8,0,54,18],[15,0,54,25],[21,0,54,31],[22,0,54,32],[38,0,54,48],[43,0,54,53],[49,0,54,59],[50,0,54,60],[66,0,54,76],[67,0,54,77]],[[5,0,54,79]],[[4,0,56,4],[10,0,56,10],[18,0,56,18],[21,0,56,21],[32,0,56,32],[33,0,56,33],[34,0,56,34],[35,0,56,35],[39,0,56,39],[40,0,56,40],[45,0,56,45],[46,0,56,63],[48,0,56,65],[58,0,56,75],[59,0,56,76],[60,0,56,77]],[[4,0,58,4],[8,0,58,8],[16,0,58,16],[18,0,58,18]],[[8,0,58,20],[15,0,58,27],[23,0,58,35],[24,0,58,36],[40,0,58,52],[45,0,58,57],[53,0,58,65],[54,0,58,66],[70,0,58,82],[71,0,58,83]],[[5,0,58,85]],[[4,0,60,4],[10,0,60,10],[19,0,60,19],[22,0,60,22],[34,0,60,34],[35,0,60,35],[36,0,60,36],[37,0,60,37],[41,0,60,41],[42,0,60,42],[47,0,60,47],[48,0,60,65],[50,0,60,67],[60,0,60,77],[61,0,60,78],[62,0,60,79]],[[4,0,62,4],[8,0,62,8],[17,0,62,17],[19,0,62,19]],[[8,0,62,21],[15,0,62,28],[24,0,62,37],[25,0,62,38],[41,0,62,54],[46,0,62,59],[55,0,62,68],[56,0,62,69],[72,0,62,85],[73,0,62,86]],[[5,0,62,88]],[[4,0,64,4],[11,0,64,11],[12,0,64,12],[13,0,64,13],[17,0,64,17],[18,0,64,18],[23,0,64,23],[24,0,64,24],[29,0,64,29],[39,0,64,39],[40,0,64,40]],[[0,0,65,0],[1,0,65,1],[2,0,65,2]],[[0,0,72,0],[6,0,72,6],[7,0,72,7],[13,0,72,13],[16,0,72,16],[19,0,72,88],[20,0,72,89],[21,0,72,108],[23,0,72,110],[28,0,72,123],[30,0,72,125],[40,0,72,143],[42,0,72,145],[44,0,72,147]],[[4,0,74,4],[10,0,74,10],[16,0,74,16],[19,0,74,19],[28,0,74,28],[29,0,74,29],[30,0,74,30],[31,0,74,31],[35,0,74,35],[36,0,74,36],[41,0,74,41],[42,0,74,59],[44,0,74,61],[54,0,74,71],[55,0,74,72],[56,0,74,73]],[[4,0,76,4],[8,0,76,8],[14,0,76,14],[16,0,76,16]],[[8,0,76,18],[15,0,76,25],[21,0,76,31],[22,0,76,32],[38,0,76,48],[42,0,76,52],[48,0,76,58],[49,0,76,59],[65,0,76,75],[66,0,76,76]],[[5,0,76,78]],[[4,0,78,4],[10,0,78,10],[18,0,78,18],[21,0,78,21],[32,0,78,32],[33,0,78,33],[34,0,78,34],[35,0,78,35],[39,0,78,39],[40,0,78,40],[45,0,78,45],[46,0,78,63],[48,0,78,65],[58,0,78,75],[59,0,78,76],[60,0,78,77]],[[4,0,80,4],[8,0,80,8],[16,0,80,16],[18,0,80,18]],[[8,0,80,20],[15,0,80,27],[23,0,80,35],[24,0,80,36],[40,0,80,52],[44,0,80,56],[52,0,80,64],[53,0,80,65],[69,0,80,81],[70,0,80,82]],[[5,0,80,84]],[[4,0,82,4],[11,0,82,11],[12,0,82,12],[13,0,82,13],[17,0,82,17],[18,0,82,18],[23,0,82,23],[24,0,82,24],[28,0,82,28],[38,0,82,38],[39,0,82,39]],[[0,0,83,0],[1,0,83,1],[2,0,83,2]],[[0,0,86,0],[6,0,86,6],[7,0,86,7],[13,0,86,13],[16,0,86,16],[19,0,86,88],[20,0,86,89],[21,0,86,108],[23,0,86,110],[28,0,86,123],[30,0,86,125],[40,0,86,143],[42,0,86,145],[44,0,86,147]],[[4,0,88,4],[10,0,88,10],[16,0,88,16],[19,0,88,19],[28,0,88,28],[29,0,88,29],[30,0,88,30],[31,0,88,31],[35,0,88,35],[36,0,88,36],[41,0,88,41],[42,0,88,59],[44,0,88,61],[54,0,88,71],[55,0,88,72],[56,0,88,73]],[[4,0,90,4],[8,0,90,8],[14,0,90,14],[16,0,90,16]],[[8,0,90,18],[15,0,90,25],[21,0,90,31],[22,0,90,32],[38,0,90,48],[42,0,90,52],[48,0,90,58],[49,0,90,59],[65,0,90,75],[66,0,90,76]],[[5,0,90,78]],[[4,0,92,4],[10,0,92,10],[18,0,92,18],[21,0,92,21],[32,0,92,32],[33,0,92,33],[34,0,92,34],[35,0,92,35],[39,0,92,39],[40,0,92,40],[45,0,92,45],[46,0,92,63],[48,0,92,65],[58,0,92,75],[59,0,92,76],[60,0,92,77]],[[4,0,94,4],[8,0,94,8],[16,0,94,16],[18,0,94,18]],[[8,0,94,20],[15,0,94,27],[23,0,94,35],[24,0,94,36],[40,0,94,52],[44,0,94,56],[52,0,94,64],[53,0,94,65],[69,0,94,81],[70,0,94,82]],[[5,0,94,84]],[[4,0,96,4],[11,0,96,11],[12,0,96,12],[13,0,96,13],[17,0,96,17],[18,0,96,18],[23,0,96,23],[24,0,96,24],[28,0,96,28],[38,0,96,38],[39,0,96,39]],[[0,0,97,0],[1,0,97,1],[2,0,97,2]],[[0,0,100,0],[6,0,100,6],[7,0,100,7],[13,0,100,13],[15,0,100,15],[18,0,100,87],[19,0,100,88],[20,0,100,107],[22,0,100,109],[27,0,100,122],[29,0,100,124],[39,0,100,142],[41,0,100,144],[43,0,100,146]],[[4,0,102,4],[10,0,102,10],[16,0,102,16],[19,0,102,19],[28,0,102,28],[29,0,102,29],[30,0,102,30],[31,0,102,31],[35,0,102,35],[36,0,102,36],[41,0,102,41],[42,0,102,59],[44,0,102,61],[54,0,102,71],[55,0,102,72],[56,0,102,73]],[[4,0,104,4],[8,0,104,8],[14,0,104,14],[16,0,104,16]],[[8,0,104,18],[15,0,104,25],[21,0,104,31],[22,0,104,32],[38,0,104,48],[41,0,104,51],[47,0,104,57],[48,0,104,58],[64,0,104,74],[65,0,104,75]],[[5,0,104,77]],[[4,0,106,4],[10,0,106,10],[18,0,106,18],[21,0,106,21],[32,0,106,32],[33,0,106,33],[34,0,106,34],[35,0,106,35],[39,0,106,39],[40,0,106,40],[45,0,106,45],[46,0,106,63],[48,0,106,65],[58,0,106,75],[59,0,106,76],[60,0,106,77]],[[4,0,108,4],[8,0,108,8],[16,0,108,16],[18,0,108,18]],[[8,0,108,20],[15,0,108,27],[23,0,108,35],[24,0,108,36],[40,0,108,52],[43,0,108,55],[51,0,108,63],[52,0,108,64],[68,0,108,80],[69,0,108,81]],[[5,0,108,83]],[[4,0,110,4],[11,0,110,11],[12,0,110,12],[13,0,110,13],[17,0,110,17],[18,0,110,18],[23,0,110,23],[24,0,110,24],[27,0,110,27],[37,0,110,37],[38,0,110,38]],[[0,0,111,0],[1,0,111,1],[2,0,111,2]],[[0,0,114,0],[6,0,114,6],[7,0,114,7],[13,0,114,13],[15,0,114,15],[18,0,114,87],[19,0,114,88],[20,0,114,107],[22,0,114,109],[27,0,114,122],[29,0,114,124],[39,0,114,142],[41,0,114,144],[43,0,114,146]],[[4,0,116,4],[10,0,116,10],[16,0,116,16],[19,0,116,19],[28,0,116,28],[29,0,116,29],[30,0,116,30],[31,0,116,31],[35,0,116,35],[36,0,116,36],[41,0,116,41],[42,0,116,59],[44,0,116,61],[54,0,116,71],[55,0,116,72],[56,0,116,73]],[[4,0,118,4],[8,0,118,8],[14,0,118,14],[16,0,118,16]],[[8,0,118,18],[15,0,118,25],[21,0,118,31],[22,0,118,32],[38,0,118,48],[41,0,118,51],[47,0,118,57],[48,0,118,58],[64,0,118,74],[65,0,118,75]],[[5,0,118,77]],[[4,0,120,4],[10,0,120,10],[18,0,120,18],[21,0,120,21],[32,0,120,32],[33,0,120,33],[34,0,120,34],[35,0,120,35],[39,0,120,39],[40,0,120,40],[45,0,120,45],[46,0,120,63],[48,0,120,65],[58,0,120,75],[59,0,120,76],[60,0,120,77]],[[4,0,122,4],[8,0,122,8],[16,0,122,16],[18,0,122,18]],[[8,0,122,20],[15,0,122,27],[23,0,122,35],[24,0,122,36],[40,0,122,52],[43,0,122,55],[51,0,122,63],[52,0,122,64],[68,0,122,80],[69,0,122,81]],[[5,0,122,83]],[[4,0,124,4],[11,0,124,11],[12,0,124,12],[13,0,124,13],[17,0,124,17],[18,0,124,18],[23,0,124,23],[24,0,124,24],[27,0,124,27],[37,0,124,37],[38,0,124,38]],[[0,0,125,0],[1,0,125,1],[2,0,125,2]],[[0,0,128,0],[6,0,128,6],[7,0,128,7],[13,0,128,13],[18,0,128,18],[21,0,128,90],[22,0,128,91],[23,0,128,110],[25,0,128,112],[30,0,128,125],[32,0,128,127],[42,0,128,145],[44,0,128,147],[46,0,128,149]],[[4,0,130,4],[10,0,130,10],[16,0,130,16],[19,0,130,19],[29,0,130,29],[30,0,130,30],[38,0,130,38],[40,0,130,40],[41,0,130,41],[46,0,130,46],[47,0,130,47],[50,0,130,50],[51,0,130,51],[52,0,130,52]],[[4,0,132,4],[10,0,132,10],[17,0,132,17],[20,0,132,20],[29,0,132,29],[30,0,132,30],[31,0,132,31],[32,0,132,32],[36,0,132,36],[37,0,132,37],[42,0,132,42],[43,0,132,60],[45,0,132,62],[51,0,132,68],[52,0,132,69],[53,0,132,70],[54,0,132,71],[55,0,132,72],[56,0,132,73]],[[4,0,134,4],[10,0,134,10],[17,0,134,17],[20,0,134,20],[29,0,134,29],[30,0,134,30],[31,0,134,31],[32,0,134,32],[36,0,134,36],[37,0,134,37],[42,0,134,42],[43,0,134,60],[45,0,134,62],[51,0,134,68],[52,0,134,69],[53,0,134,70],[54,0,134,71],[55,0,134,72],[56,0,134,73]],[[4,0,137,4],[8,0,137,8],[15,0,137,15],[19,0,137,19],[26,0,137,26],[28,0,137,28]],[[8,0,137,30],[15,0,137,37],[22,0,137,44],[23,0,137,45],[39,0,137,61],[43,0,137,65],[50,0,137,72],[51,0,137,73],[67,0,137,89],[71,0,137,93],[78,0,137,100],[79,0,137,101],[95,0,137,117],[98,0,137,120],[105,0,137,127],[106,0,137,128],[122,0,137,144],[123,0,137,145]],[[5,0,137,147]],[[4,0,139,4],[10,0,139,10],[19,0,139,19],[22,0,139,22],[33,0,139,33],[34,0,139,34],[35,0,139,35],[36,0,139,36],[40,0,139,40],[41,0,139,41],[46,0,139,46],[47,0,139,64],[49,0,139,66],[55,0,139,72],[56,0,139,73],[57,0,139,74],[58,0,139,75],[59,0,139,76],[60,0,139,77]],[[4,0,141,4],[10,0,141,10],[19,0,141,19],[22,0,141,22],[33,0,141,33],[34,0,141,34],[35,0,141,35],[36,0,141,36],[40,0,141,40],[41,0,141,41],[46,0,141,46],[47,0,141,64],[49,0,141,66],[55,0,141,72],[56,0,141,73],[57,0,141,74],[58,0,141,75],[59,0,141,76],[60,0,141,77]],[[4,0,144,4],[8,0,144,8],[17,0,144,17],[21,0,144,21],[30,0,144,30],[32,0,144,32]],[[8,0,144,34],[15,0,144,41],[24,0,144,50],[25,0,144,51],[41,0,144,67],[45,0,144,71],[54,0,144,80],[55,0,144,81],[71,0,144,97],[75,0,144,101],[84,0,144,110],[85,0,144,111],[101,0,144,127],[104,0,144,130],[113,0,144,139],[114,0,144,140],[130,0,144,156],[131,0,144,157]],[[5,0,144,159]],[[4,0,146,4],[11,0,146,11],[12,0,146,12],[13,0,146,13],[17,0,146,17],[18,0,146,18],[23,0,146,23],[24,0,146,24],[28,0,146,28],[34,0,146,34],[35,0,146,35],[36,0,146,36],[37,0,146,37],[41,0,146,41],[42,0,146,42],[43,0,146,43],[47,0,146,47],[48,0,146,48],[53,0,146,53],[54,0,146,54],[57,0,146,57],[63,0,146,63],[64,0,146,64],[65,0,146,65],[66,0,146,66],[67,0,146,67]],[[0,0,147,0],[1,0,147,1],[2,0,147,2]],[[0,0,154,0],[6,0,154,6],[7,0,154,7],[13,0,154,13],[23,0,154,23],[26,0,154,95],[27,0,154,96],[28,0,154,115],[30,0,154,117],[35,0,154,130],[37,0,154,132],[47,0,154,150],[49,0,154,152],[51,0,154,154],[52,0,154,156],[53,0,154,157],[54,0,154,158],[58,0,154,162],[59,0,154,163],[64,0,154,168],[65,0,154,187],[67,0,154,189],[75,0,154,197],[77,0,154,199],[78,0,154,200],[88,0,154,210],[89,0,154,211],[99,0,154,221],[100,0,154,222],[101,0,154,223]],[[0,0,157,0],[6,0,157,6],[7,0,157,7],[13,0,157,13],[21,0,157,21],[24,0,157,95],[25,0,157,96],[26,0,157,115],[28,0,157,117],[33,0,157,130],[35,0,157,132],[45,0,157,150],[47,0,157,152],[49,0,157,154],[50,0,157,156],[51,0,157,157],[52,0,157,158],[56,0,157,162],[57,0,157,163],[62,0,157,168],[63,0,157,187],[65,0,157,189],[73,0,157,197],[75,0,157,199],[76,0,157,200],[84,0,157,208],[85,0,157,209],[95,0,157,219],[96,0,157,220],[97,0,157,221]],[[0,0,160,0],[6,0,160,6],[7,0,160,7],[13,0,160,13],[19,0,160,19],[22,0,160,95],[23,0,160,96],[24,0,160,115],[26,0,160,117],[31,0,160,130],[33,0,160,132],[43,0,160,150],[45,0,160,152],[47,0,160,154],[48,0,160,155],[49,0,160,156],[50,0,160,158],[51,0,160,159],[52,0,160,160],[56,0,160,164],[57,0,160,165],[62,0,160,170],[63,0,160,189],[65,0,160,191],[73,0,160,199],[75,0,160,201],[76,0,160,202],[81,0,160,207],[82,0,160,208],[86,0,160,212],[92,0,160,218],[93,0,160,219],[97,0,160,223],[107,0,160,233],[110,0,160,236],[112,0,160,238],[115,0,160,241],[116,0,160,242],[117,0,160,243],[118,0,160,244]],[[0,0,163,0],[6,0,163,6],[7,0,163,7],[13,0,163,13],[18,0,163,18],[21,0,163,95],[22,0,163,96],[23,0,163,115],[25,0,163,117],[30,0,163,130],[32,0,163,132],[42,0,163,150],[44,0,163,152],[46,0,163,154],[47,0,163,155],[48,0,163,156],[49,0,163,158],[50,0,163,159],[51,0,163,160],[55,0,163,164],[56,0,163,165],[61,0,163,170],[62,0,163,189],[64,0,163,191],[72,0,163,199],[74,0,163,201],[75,0,163,202],[80,0,163,207],[81,0,163,208],[85,0,163,212],[91,0,163,218],[92,0,163,219],[96,0,163,223],[106,0,163,233],[109,0,163,236],[110,0,163,237],[111,0,163,238],[112,0,163,239]],[[0,0,166,0],[6,0,166,6],[7,0,166,7],[13,0,166,13],[22,0,166,22],[25,0,166,95],[26,0,166,96],[27,0,166,115],[29,0,166,117],[34,0,166,130],[36,0,166,132],[46,0,166,150],[48,0,166,152],[50,0,166,154],[51,0,166,156],[52,0,166,157],[53,0,166,158],[57,0,166,162],[58,0,166,163],[63,0,166,168],[64,0,166,187],[66,0,166,189],[74,0,166,197],[76,0,166,199],[77,0,166,200],[88,0,166,211],[90,0,166,213],[91,0,166,214],[99,0,166,222],[100,0,166,223],[110,0,166,233],[112,0,166,235],[123,0,166,246],[125,0,166,248],[129,0,166,252],[131,0,166,254],[132,0,166,255],[133,0,166,256]],[[0,0,169,0],[6,0,169,6],[7,0,169,7],[13,0,169,13],[21,0,169,21],[24,0,169,95],[25,0,169,96],[26,0,169,115],[28,0,169,117],[33,0,169,130],[35,0,169,132],[45,0,169,150],[47,0,169,152],[49,0,169,154],[50,0,169,156],[51,0,169,157],[52,0,169,158],[56,0,169,162],[57,0,169,163],[62,0,169,168],[63,0,169,187],[65,0,169,189],[73,0,169,197],[75,0,169,199],[76,0,169,200],[84,0,169,208],[85,0,169,209],[95,0,169,219],[96,0,169,220],[97,0,169,221]],[[0,0,175,0],[6,0,175,6],[7,0,175,7],[13,0,175,13],[19,0,175,19],[22,0,175,95],[23,0,175,96],[24,0,175,115],[26,0,175,117],[31,0,175,130],[33,0,175,132],[43,0,175,150],[45,0,175,152],[47,0,175,154],[48,0,175,155],[58,0,175,165],[60,0,175,167],[71,0,175,178],[73,0,175,180],[78,0,175,185],[84,0,175,191],[85,0,175,192],[86,0,175,193],[87,0,175,194],[88,0,175,195],[89,0,175,196],[93,0,175,200],[94,0,175,201],[99,0,175,206],[100,0,175,207],[105,0,175,212],[109,0,175,216],[110,0,175,217],[111,0,175,218],[112,0,175,219],[113,0,175,220],[114,0,175,221],[118,0,175,225],[119,0,175,226],[124,0,175,231],[125,0,175,232],[130,0,175,237],[134,0,175,241],[135,0,175,242]],[[0,0,178,0],[6,0,178,6],[16,0,178,16],[24,0,178,24],[25,0,178,25],[28,0,178,36],[30,0,178,38],[35,0,178,51]],[[4,0,180,4],[8,0,180,8],[11,0,180,11],[12,0,180,12],[20,0,180,20],[21,0,180,21],[31,0,180,31],[32,0,180,32],[34,0,180,34]],[[8,0,182,8],[15,0,182,15],[17,0,182,16],[26,0,182,25],[28,0,182,27],[38,0,182,37],[40,0,182,39],[46,0,182,45],[48,0,182,47],[53,0,182,52],[54,0,182,53],[59,0,182,58],[60,0,182,59],[63,0,182,62],[64,0,182,63],[66,0,182,64],[67,0,182,65]],[[5,0,184,5]],[[9,0,184,11],[13,0,184,15],[16,0,184,18],[17,0,184,19],[25,0,184,27],[26,0,184,28],[32,0,184,34],[33,0,184,35],[35,0,184,37]],[[8,0,186,8],[15,0,186,15],[17,0,186,16],[26,0,186,25],[28,0,186,27],[34,0,186,33],[36,0,186,35],[42,0,186,41],[44,0,186,43],[49,0,186,48],[50,0,186,49],[55,0,186,54],[56,0,186,55],[59,0,186,58],[60,0,186,59],[62,0,186,60],[63,0,186,61]],[[5,0,188,5]],[[9,0,188,11],[13,0,188,15],[16,0,188,18],[17,0,188,19],[25,0,188,27],[26,0,188,28],[36,0,188,38],[37,0,188,39],[39,0,188,41]],[[8,0,190,8],[15,0,190,15],[17,0,190,16],[26,0,190,25],[28,0,190,27],[38,0,190,37],[40,0,190,39],[46,0,190,45],[48,0,190,47],[53,0,190,52],[54,0,190,53],[59,0,190,58],[60,0,190,59],[63,0,190,62],[64,0,190,63],[66,0,190,64],[67,0,190,65]],[[5,0,192,5]],[[9,0,192,11],[13,0,192,15],[16,0,192,18],[17,0,192,19],[25,0,192,27],[26,0,192,28],[35,0,192,37],[36,0,192,38],[38,0,192,40]],[[8,0,194,8],[14,0,194,14],[28,0,194,28],[31,0,194,31],[34,0,194,34],[35,0,194,35],[40,0,194,40],[41,0,194,41],[44,0,194,44],[45,0,194,45],[46,0,194,46],[47,0,194,47],[48,0,194,48],[49,0,194,49],[54,0,194,54],[55,0,194,55],[58,0,194,58],[59,0,194,59],[60,0,194,60]],[[8,0,197,8],[15,0,197,15],[17,0,197,16],[26,0,197,25],[28,0,197,27],[37,0,197,36],[39,0,197,38],[45,0,197,44],[47,0,197,46],[48,0,197,47],[62,0,197,61],[63,0,197,62],[64,0,197,63],[65,0,197,64],[66,0,197,65],[68,0,197,67],[74,0,197,73],[76,0,197,75],[90,0,197,89],[91,0,197,90],[97,0,197,96],[100,0,197,99],[101,0,197,100],[102,0,197,101],[103,0,197,102],[104,0,197,103],[118,0,197,117],[119,0,197,118],[120,0,197,119],[121,0,197,130],[122,0,197,131],[123,0,197,132],[124,0,197,133],[128,0,197,137],[130,0,197,139],[140,0,197,149],[142,0,197,151],[147,0,197,156],[149,0,197,157],[150,0,197,158]],[[5,0,199,5]],[[9,0,199,11],[13,0,199,15],[16,0,199,18],[17,0,199,19],[25,0,199,27],[26,0,199,28],[34,0,199,36],[35,0,199,37],[37,0,199,39]],[[8,0,201,8],[14,0,201,14],[28,0,201,28],[31,0,201,31],[34,0,201,34],[35,0,201,35],[40,0,201,40],[41,0,201,41],[44,0,201,44],[45,0,201,45],[46,0,201,46],[47,0,201,47],[48,0,201,48],[49,0,201,49],[54,0,201,54],[55,0,201,55],[58,0,201,58],[59,0,201,59],[60,0,201,60]],[[8,0,204,8],[15,0,204,15],[17,0,204,16],[26,0,204,25],[28,0,204,27],[36,0,204,35],[38,0,204,37],[44,0,204,43],[46,0,204,45],[47,0,204,46],[61,0,204,60],[62,0,204,61],[63,0,204,62],[64,0,204,63],[65,0,204,64],[67,0,204,66],[73,0,204,72],[75,0,204,74],[89,0,204,88],[90,0,204,89],[96,0,204,95],[99,0,204,98],[100,0,204,99],[101,0,204,100],[102,0,204,101],[103,0,204,102],[117,0,204,116],[118,0,204,117],[119,0,204,118],[120,0,204,129],[121,0,204,130],[122,0,204,131],[123,0,204,132],[127,0,204,136],[129,0,204,138],[139,0,204,148],[141,0,204,150],[146,0,204,155],[148,0,204,156],[149,0,204,157]],[[5,0,206,5]],[[9,0,206,11]],[[8,0,208,8],[14,0,208,14],[28,0,208,28],[31,0,208,31],[34,0,208,34],[35,0,208,35],[40,0,208,40],[41,0,208,41],[44,0,208,44],[45,0,208,45],[46,0,208,46]],[[8,0,211,8],[15,0,211,15],[17,0,211,16],[26,0,211,25],[28,0,211,27],[36,0,211,35],[38,0,211,37],[44,0,211,43],[46,0,211,45],[47,0,211,46],[61,0,211,60],[62,0,211,61],[63,0,211,62],[64,0,211,63],[65,0,211,64],[67,0,211,66],[73,0,211,72],[75,0,211,74],[89,0,211,88],[90,0,211,89],[96,0,211,95],[99,0,211,98],[100,0,211,99],[101,0,211,100],[102,0,211,101],[103,0,211,102],[117,0,211,116],[118,0,211,117],[119,0,211,118],[120,0,211,129],[121,0,211,130],[122,0,211,131],[123,0,211,132],[127,0,211,136],[129,0,211,138],[139,0,211,148],[141,0,211,150],[146,0,211,155],[148,0,211,156],[149,0,211,157]],[[5,0,212,5]],[[0,0,214,0],[1,0,214,1]],[[0,0,217,0],[6,0,217,6],[16,0,217,16],[27,0,217,27],[28,0,217,28],[42,0,217,52],[44,0,217,54],[50,0,217,72],[52,0,217,74],[56,0,217,98]],[[4,0,219,4],[8,0,219,8],[14,0,219,14],[16,0,219,16]],[[8,0,221,8],[14,0,221,14],[18,0,221,18],[21,0,221,21],[27,0,221,27],[28,0,221,28],[32,0,221,32],[34,0,221,34],[35,0,221,35]],[[8,0,226,8],[12,0,226,12],[13,0,226,13],[20,0,226,20],[21,0,226,21],[22,0,226,22],[23,0,226,23],[25,0,226,25]],[[12,0,228,12],[16,0,228,16],[30,0,228,30],[31,0,228,31],[38,0,228,38],[39,0,228,39],[40,0,228,40],[41,0,228,41],[44,0,228,44],[45,0,228,45],[46,0,228,46],[48,0,228,48]],[[16,0,230,16],[22,0,230,22],[27,0,230,27],[30,0,230,30],[38,0,230,38],[39,0,230,39],[40,0,230,40],[42,0,230,42],[48,0,230,48],[49,0,230,49],[55,0,230,55],[56,0,230,56],[57,0,230,57],[58,0,230,58],[59,0,230,59],[63,0,230,63],[64,0,230,64],[67,0,230,67],[68,0,230,68],[69,0,230,69],[70,0,230,70]],[[16,0,232,16],[20,0,232,20],[25,0,232,25],[26,0,232,26],[35,0,232,35],[40,0,232,40],[48,0,232,48],[50,0,232,50]],[[20,0,232,52],[24,0,232,56],[27,0,232,59],[33,0,232,65],[34,0,232,66],[39,0,232,71],[40,0,232,72],[46,0,232,78],[47,0,232,79],[48,0,232,80],[49,0,232,81],[51,0,232,83],[56,0,232,88],[57,0,232,89],[67,0,232,99],[69,0,232,101],[73,0,232,105],[75,0,232,107],[80,0,232,112],[81,0,232,113],[87,0,232,119],[88,0,232,120],[89,0,232,121]],[[17,0,232,123]],[[13,0,233,13]],[[8,0,234,8],[9,0,234,9],[10,0,234,10],[11,0,234,11]],[[8,0,240,8],[12,0,240,12],[13,0,240,13],[20,0,240,20],[21,0,240,21],[22,0,240,22],[23,0,240,23],[25,0,240,25]],[[12,0,242,12],[16,0,242,16],[30,0,242,30],[31,0,242,31],[38,0,242,38],[39,0,242,39],[40,0,242,40],[41,0,242,41],[44,0,242,44],[45,0,242,45],[46,0,242,46],[48,0,242,48]],[[16,0,244,16],[22,0,244,22],[27,0,244,27],[30,0,244,30],[38,0,244,38],[39,0,244,39],[40,0,244,40],[42,0,244,42],[48,0,244,48],[49,0,244,49],[55,0,244,55],[56,0,244,56],[57,0,244,57],[58,0,244,58],[59,0,244,59],[63,0,244,63],[64,0,244,64],[67,0,244,67],[68,0,244,68],[69,0,244,69],[70,0,244,70]],[[16,0,246,16],[20,0,246,20],[25,0,246,25],[26,0,246,26],[35,0,246,35],[40,0,246,40],[49,0,246,49],[51,0,246,51]],[[20,0,246,53],[24,0,246,57],[27,0,246,60],[34,0,246,67],[35,0,246,68],[40,0,246,73],[41,0,246,74],[47,0,246,80],[48,0,246,81],[49,0,246,82],[50,0,246,83],[52,0,246,85],[57,0,246,90],[58,0,246,91],[68,0,246,101],[70,0,246,103],[74,0,246,107],[76,0,246,109],[81,0,246,114],[82,0,246,115],[88,0,246,121],[89,0,246,122],[90,0,246,123]],[[17,0,246,125]],[[13,0,247,13]],[[8,0,248,8],[9,0,248,9],[10,0,248,10],[11,0,248,11]],[[8,0,254,8],[12,0,254,12],[13,0,254,13],[20,0,254,20],[21,0,254,21],[22,0,254,22],[23,0,254,23],[25,0,254,25]],[[12,0,256,12],[16,0,256,16],[30,0,256,30],[31,0,256,31],[38,0,256,38],[39,0,256,39],[40,0,256,40],[41,0,256,41],[44,0,256,44],[45,0,256,45],[46,0,256,46],[48,0,256,48]],[[16,0,258,16],[22,0,258,22],[27,0,258,27],[30,0,258,30],[38,0,258,38],[39,0,258,39],[40,0,258,40],[42,0,258,42],[48,0,258,48],[49,0,258,49],[55,0,258,55],[56,0,258,56],[57,0,258,57],[58,0,258,58],[59,0,258,59],[63,0,258,63],[64,0,258,64],[67,0,258,67],[68,0,258,68],[69,0,258,69],[70,0,258,70]],[[16,0,260,16],[20,0,260,20],[25,0,260,25],[26,0,260,26],[35,0,260,35],[40,0,260,40],[50,0,260,50],[52,0,260,52]],[[20,0,260,54],[24,0,260,58],[27,0,260,61],[34,0,260,68],[35,0,260,69],[40,0,260,74],[41,0,260,75],[47,0,260,81],[49,0,260,83],[53,0,260,87],[54,0,260,88],[55,0,260,89]],[[17,0,260,91]],[[13,0,261,13]],[[8,0,262,8],[9,0,262,9],[10,0,262,10],[11,0,262,11]],[[8,0,268,8],[12,0,268,12],[13,0,268,13],[20,0,268,20],[21,0,268,21],[22,0,268,22],[23,0,268,23],[25,0,268,25]],[[12,0,270,12],[16,0,270,16],[30,0,270,30],[31,0,270,31],[38,0,270,38],[39,0,270,39],[40,0,270,40],[41,0,270,41],[44,0,270,44],[45,0,270,45],[46,0,270,46],[48,0,270,48]],[[16,0,272,16],[22,0,272,22],[27,0,272,27],[30,0,272,30],[38,0,272,38],[39,0,272,39],[40,0,272,40],[42,0,272,42],[48,0,272,48],[49,0,272,49],[55,0,272,55],[56,0,272,56],[57,0,272,57],[58,0,272,58],[59,0,272,59],[63,0,272,63],[64,0,272,64],[67,0,272,67],[68,0,272,68],[69,0,272,69],[70,0,272,70]],[[16,0,274,16],[20,0,274,20],[25,0,274,25],[26,0,274,26],[35,0,274,35],[40,0,274,40],[50,0,274,50],[52,0,274,52]],[[20,0,274,54],[24,0,274,58],[27,0,274,61],[35,0,274,69],[36,0,274,70],[41,0,274,75],[42,0,274,76],[48,0,274,82],[50,0,274,84],[54,0,274,88],[55,0,274,89],[56,0,274,90]],[[17,0,274,92]],[[13,0,275,13]],[[8,0,276,8],[9,0,276,9],[10,0,276,10],[11,0,276,11]],[[5,0,278,5]],[[4,0,280,4],[11,0,280,11],[15,0,280,15],[16,0,280,16]],[[0,0,281,0],[1,0,281,1]],[[0,0,283,0],[6,0,283,6],[16,0,283,16],[22,0,283,22],[23,0,283,23],[28,0,283,36],[30,0,283,38],[40,0,283,56],[42,0,283,58],[46,0,283,82],[48,0,283,84],[54,0,283,99],[56,0,283,101],[65,0,283,110],[68,0,283,113],[73,0,283,118]],[[4,0,286,4],[8,0,286,8],[9,0,286,9],[12,0,286,12],[13,0,286,13],[14,0,286,32],[16,0,286,34],[18,0,286,36],[19,0,286,37],[29,0,286,47],[30,0,286,48],[35,0,286,53],[36,0,286,54],[39,0,286,57],[40,0,286,58],[41,0,286,59],[47,0,286,65],[48,0,286,66],[49,0,286,67],[52,0,286,70],[54,0,286,72],[57,0,286,75],[59,0,286,77],[61,0,286,79],[62,0,286,80],[65,0,286,83],[69,0,286,87],[71,0,286,89],[72,0,286,90],[73,0,286,91],[75,0,286,93],[80,0,286,98],[82,0,286,100],[85,0,286,103],[86,0,286,104],[88,0,286,106],[93,0,286,111],[94,0,286,112],[95,0,286,113]],[[4,0,288,4],[8,0,288,8],[14,0,288,14],[19,0,288,19],[24,0,288,24],[26,0,288,26]],[[8,0,288,28],[9,0,288,29],[12,0,288,32],[13,0,288,33],[14,0,288,34],[16,0,288,36],[17,0,288,37],[27,0,288,47],[28,0,288,48],[33,0,288,53],[34,0,288,54],[37,0,288,57],[38,0,288,58],[39,0,288,59],[45,0,288,65],[46,0,288,66],[47,0,288,67],[50,0,288,70],[52,0,288,72],[55,0,288,75],[57,0,288,77],[59,0,288,79],[60,0,288,80],[63,0,288,83],[67,0,288,87],[70,0,288,90],[71,0,288,91],[72,0,288,92],[74,0,288,94],[79,0,288,99],[81,0,288,101],[84,0,288,104],[85,0,288,105],[87,0,288,107],[92,0,288,112],[93,0,288,113],[94,0,288,114]],[[5,0,288,116]],[[4,0,290,4],[8,0,290,8],[14,0,290,14],[19,0,290,19],[24,0,290,24],[26,0,290,26]],[[8,0,290,28],[9,0,290,29],[12,0,290,32],[13,0,290,33],[14,0,290,34],[16,0,290,36],[17,0,290,37],[27,0,290,47],[28,0,290,48],[33,0,290,53],[34,0,290,54],[37,0,290,57],[38,0,290,58],[39,0,290,59],[45,0,290,65],[46,0,290,66],[47,0,290,67],[50,0,290,70],[52,0,290,72],[55,0,290,75],[57,0,290,77],[59,0,290,79],[60,0,290,80],[63,0,290,83],[67,0,290,87],[70,0,290,90],[71,0,290,91],[72,0,290,92],[74,0,290,94],[79,0,290,99],[81,0,290,101],[84,0,290,104],[85,0,290,105],[87,0,290,107],[92,0,290,112],[93,0,290,113],[94,0,290,114]],[[5,0,290,116]],[[4,0,292,4],[8,0,292,8],[14,0,292,14],[19,0,292,19],[23,0,292,23],[25,0,292,25]],[[8,0,292,27],[9,0,292,28],[12,0,292,31],[13,0,292,32],[14,0,292,33],[16,0,292,35],[17,0,292,36],[27,0,292,46],[28,0,292,47],[33,0,292,52],[34,0,292,53],[37,0,292,56],[38,0,292,57],[39,0,292,58],[45,0,292,64],[46,0,292,65],[47,0,292,66],[50,0,292,69],[52,0,292,71],[55,0,292,74],[57,0,292,76],[59,0,292,78],[60,0,292,79],[63,0,292,82],[67,0,292,86],[69,0,292,88],[70,0,292,89],[71,0,292,90],[73,0,292,92],[78,0,292,97],[80,0,292,99],[83,0,292,102],[84,0,292,103],[86,0,292,105],[91,0,292,110],[92,0,292,111],[93,0,292,112]],[[5,0,292,114]],[[4,0,294,4],[8,0,294,8],[14,0,294,14],[19,0,294,19],[23,0,294,23],[25,0,294,25]],[[8,0,294,27],[9,0,294,28],[12,0,294,31],[13,0,294,32],[14,0,294,33],[16,0,294,35],[17,0,294,36],[27,0,294,46],[28,0,294,47],[33,0,294,52],[34,0,294,53],[37,0,294,56],[38,0,294,57],[39,0,294,58],[45,0,294,64],[46,0,294,65],[47,0,294,66],[50,0,294,69],[52,0,294,71],[55,0,294,74],[57,0,294,76],[59,0,294,78],[60,0,294,79],[63,0,294,82],[67,0,294,86],[69,0,294,88],[70,0,294,89],[71,0,294,90],[73,0,294,92],[78,0,294,97],[80,0,294,99],[83,0,294,102],[84,0,294,103],[86,0,294,105],[91,0,294,110],[92,0,294,111],[93,0,294,112]],[[5,0,294,114]],[[4,0,296,4],[8,0,296,8],[14,0,296,14],[19,0,296,19],[26,0,296,26],[28,0,296,28]],[[8,0,296,30],[9,0,296,31],[12,0,296,34],[13,0,296,35],[14,0,296,36],[16,0,296,38],[17,0,296,39],[22,0,296,44],[23,0,296,45],[24,0,296,46],[26,0,296,48],[31,0,296,53],[33,0,296,55],[43,0,296,65],[44,0,296,66],[45,0,296,67]],[[5,0,296,69]],[[4,0,298,4],[8,0,298,8],[14,0,298,14],[19,0,298,19],[31,0,298,31],[33,0,298,33]],[[8,0,298,35],[9,0,298,36],[12,0,298,39],[13,0,298,40],[14,0,298,41],[16,0,298,43],[17,0,298,44],[27,0,298,54],[28,0,298,55],[33,0,298,60],[34,0,298,61],[37,0,298,64],[38,0,298,65],[39,0,298,66],[45,0,298,72],[46,0,298,73],[47,0,298,74],[50,0,298,77],[52,0,298,79],[55,0,298,82],[57,0,298,84],[59,0,298,86],[60,0,298,87],[63,0,298,90],[67,0,298,94],[77,0,298,104],[78,0,298,105],[79,0,298,106],[81,0,298,108],[86,0,298,113],[88,0,298,115],[91,0,298,118],[92,0,298,119],[94,0,298,121],[99,0,298,126],[100,0,298,127],[101,0,298,128]],[[5,0,298,130]],[[4,0,300,4],[8,0,300,8],[14,0,300,14],[19,0,300,19],[29,0,300,29],[31,0,300,31]],[[8,0,300,33],[9,0,300,34],[12,0,300,37],[13,0,300,38],[14,0,300,39],[16,0,300,41],[17,0,300,42],[27,0,300,52],[28,0,300,53],[33,0,300,58],[34,0,300,59],[37,0,300,62],[38,0,300,63],[39,0,300,64],[45,0,300,70],[46,0,300,71],[47,0,300,72],[50,0,300,75],[52,0,300,77],[55,0,300,80],[57,0,300,82],[59,0,300,84],[60,0,300,85],[63,0,300,88],[67,0,300,92],[75,0,300,100],[76,0,300,101],[77,0,300,102],[79,0,300,104],[84,0,300,109],[86,0,300,111],[89,0,300,114],[90,0,300,115],[92,0,300,117],[97,0,300,122],[98,0,300,123],[99,0,300,124]],[[5,0,300,126]],[[4,0,302,4],[8,0,302,8],[14,0,302,14],[19,0,302,19],[27,0,302,27],[29,0,302,29]],[[8,0,302,31],[9,0,302,32],[12,0,302,35],[13,0,302,36],[14,0,302,37],[16,0,302,39],[17,0,302,40],[27,0,302,50],[28,0,302,51],[33,0,302,56],[34,0,302,57],[37,0,302,60],[38,0,302,61],[39,0,302,62],[45,0,302,68],[46,0,302,69],[47,0,302,70],[50,0,302,73],[52,0,302,75],[55,0,302,78],[57,0,302,80],[59,0,302,82],[60,0,302,83],[63,0,302,86],[67,0,302,90],[73,0,302,96],[74,0,302,97],[75,0,302,98],[77,0,302,100],[82,0,302,105],[84,0,302,107],[87,0,302,110],[88,0,302,111],[90,0,302,113],[95,0,302,118],[96,0,302,119],[97,0,302,120]],[[5,0,302,122]],[[4,0,304,4],[8,0,304,8],[14,0,304,14],[19,0,304,19],[26,0,304,26],[28,0,304,28]],[[8,0,304,30],[9,0,304,31],[12,0,304,34],[13,0,304,35],[14,0,304,36],[16,0,304,38],[17,0,304,39],[27,0,304,49],[28,0,304,50],[33,0,304,55],[34,0,304,56],[37,0,304,59],[38,0,304,60],[39,0,304,61],[45,0,304,67],[46,0,304,68],[47,0,304,69],[50,0,304,72],[52,0,304,74],[55,0,304,77],[57,0,304,79],[59,0,304,81],[60,0,304,82],[63,0,304,85],[67,0,304,89],[72,0,304,94],[73,0,304,95],[74,0,304,96],[76,0,304,98],[81,0,304,103],[83,0,304,105],[86,0,304,108],[87,0,304,109],[89,0,304,111],[94,0,304,116],[95,0,304,117],[96,0,304,118]],[[5,0,304,120]],[[4,0,306,4],[8,0,306,8],[14,0,306,14],[19,0,306,19],[30,0,306,30],[32,0,306,32]],[[8,0,306,34],[9,0,306,35],[12,0,306,38],[13,0,306,39],[14,0,306,40],[16,0,306,42],[17,0,306,43],[27,0,306,53],[28,0,306,54],[33,0,306,59],[34,0,306,60],[37,0,306,63],[38,0,306,64],[39,0,306,65],[45,0,306,71],[46,0,306,72],[47,0,306,73],[50,0,306,76],[52,0,306,78],[55,0,306,81],[57,0,306,83],[59,0,306,85],[60,0,306,86],[63,0,306,89],[67,0,306,93],[76,0,306,102],[77,0,306,103],[78,0,306,104],[80,0,306,106],[85,0,306,111],[87,0,306,113],[90,0,306,116],[91,0,306,117],[93,0,306,119],[98,0,306,124],[99,0,306,125],[100,0,306,126]],[[5,0,306,128]],[[4,0,308,4],[8,0,308,8],[14,0,308,14],[19,0,308,19],[29,0,308,29],[31,0,308,31]],[[8,0,308,33],[9,0,308,34],[12,0,308,37],[13,0,308,38],[14,0,308,39],[16,0,308,41],[17,0,308,42],[27,0,308,52],[28,0,308,53],[33,0,308,58],[34,0,308,59],[37,0,308,62],[38,0,308,63],[39,0,308,64],[45,0,308,70],[46,0,308,71],[47,0,308,72],[50,0,308,75],[52,0,308,77],[55,0,308,80],[57,0,308,82],[59,0,308,84],[60,0,308,85],[63,0,308,88],[67,0,308,92],[75,0,308,100],[76,0,308,101],[77,0,308,102],[79,0,308,104],[84,0,308,109],[86,0,308,111],[89,0,308,114],[90,0,308,115],[92,0,308,117],[97,0,308,122],[98,0,308,123],[99,0,308,124]],[[5,0,308,126]],[[4,0,310,4],[8,0,310,8],[14,0,310,14],[19,0,310,19],[27,0,310,27],[29,0,310,29]],[[8,0,310,31],[9,0,310,32],[12,0,310,35],[13,0,310,36],[14,0,310,37],[16,0,310,39],[17,0,310,40],[27,0,310,50],[28,0,310,51],[33,0,310,56],[34,0,310,57],[37,0,310,60],[38,0,310,61],[39,0,310,62],[45,0,310,68],[46,0,310,69],[47,0,310,70],[50,0,310,73],[52,0,310,75],[55,0,310,78],[57,0,310,80],[59,0,310,82],[60,0,310,83],[63,0,310,86],[67,0,310,90],[73,0,310,96],[74,0,310,97],[75,0,310,98],[77,0,310,100],[82,0,310,105],[84,0,310,107],[87,0,310,110],[88,0,310,111],[90,0,310,113],[95,0,310,118],[96,0,310,119],[97,0,310,120]],[[5,0,310,122]],[[4,0,312,4],[11,0,312,11],[15,0,312,15],[16,0,312,16],[22,0,312,22],[23,0,312,23],[24,0,312,24],[25,0,312,25],[27,0,312,27],[29,0,312,29]],[[8,0,314,8],[14,0,314,14],[15,0,314,15],[18,0,314,18],[19,0,314,19],[20,0,314,20],[21,0,314,21],[22,0,314,22],[23,0,314,23]],[[8,0,316,8],[15,0,316,15],[24,0,316,24],[25,0,316,25],[26,0,316,26],[27,0,316,27],[28,0,316,28],[29,0,316,29],[30,0,316,30],[31,0,316,31],[32,0,316,32],[33,0,316,33],[34,0,316,34]],[[4,0,317,4],[5,0,317,5],[6,0,317,6],[7,0,317,7]],[[0,0,318,0],[1,0,318,1]],[[0,0,320,0],[6,0,320,6],[16,0,320,16],[23,0,320,23],[24,0,320,24],[29,0,320,37],[31,0,320,39],[41,0,320,57],[43,0,320,59],[47,0,320,83],[49,0,320,85],[55,0,320,100]],[[4,0,322,4],[11,0,322,11],[17,0,322,17],[18,0,322,18],[23,0,322,23],[25,0,322,25],[35,0,322,35],[37,0,322,37],[41,0,322,41],[43,0,322,43],[49,0,322,49],[51,0,322,51],[55,0,322,55],[56,0,322,56],[57,0,322,57]],[[0,0,323,0],[1,0,323,1]],[[0,0,325,0],[6,0,325,6],[16,0,325,16],[24,0,325,24],[25,0,325,25],[31,0,325,41],[33,0,325,43],[37,0,325,67]],[[4,0,327,4],[10,0,327,10],[17,0,327,17],[20,0,327,20],[24,0,327,24],[27,0,327,27],[29,0,327,44],[30,0,327,45]],[[4,0,329,4],[10,0,329,10],[23,0,329,23],[26,0,329,46],[28,0,329,48],[29,0,329,49]],[[4,0,331,4],[8,0,331,8],[9,0,331,9],[16,0,331,16],[17,0,331,17],[18,0,331,18],[19,0,331,19],[21,0,331,21]],[[8,0,333,8],[14,0,333,14],[17,0,333,17],[20,0,333,20],[26,0,333,26],[27,0,333,27],[33,0,333,33],[34,0,333,34],[35,0,333,35],[38,0,333,38],[40,0,333,40],[43,0,333,43],[45,0,333,45],[47,0,333,47],[48,0,333,48],[51,0,333,51],[55,0,333,55],[59,0,333,60],[60,0,333,61],[61,0,333,62],[65,0,333,66],[66,0,333,67],[69,0,333,70],[70,0,333,89],[72,0,333,91],[80,0,333,99],[82,0,333,101],[86,0,333,105],[92,0,333,111],[94,0,333,113],[96,0,333,115],[98,0,333,117],[99,0,333,118],[100,0,333,119]],[[8,0,335,8],[12,0,335,12],[13,0,335,13],[20,0,335,20],[21,0,335,21],[24,0,335,24],[25,0,335,25],[28,0,335,28],[29,0,335,29],[31,0,335,31]],[[12,0,337,12],[19,0,337,19],[20,0,337,20],[23,0,337,23],[24,0,337,24],[27,0,337,27],[28,0,337,28],[29,0,337,29]],[[12,0,339,12],[25,0,339,25],[26,0,339,26],[30,0,339,30],[31,0,339,31],[32,0,339,32],[33,0,339,33],[34,0,339,34]],[[9,0,340,9]],[[4,0,341,4],[5,0,341,5],[6,0,341,6],[7,0,341,7]],[[4,0,343,4],[11,0,343,11],[24,0,343,24],[25,0,343,25]],[[0,0,344,0],[1,0,344,1]],[[0,0,346,0],[6,0,346,6],[16,0,346,16],[23,0,346,23],[24,0,346,24],[30,0,346,40],[32,0,346,42],[36,0,346,66]],[[4,0,348,4],[11,0,348,11],[15,0,348,15],[16,0,348,16],[20,0,348,20],[21,0,348,21],[22,0,348,22],[23,0,348,23],[25,0,348,25],[26,0,348,26],[28,0,348,28],[30,0,348,30]],[[8,0,351,8],[13,0,351,13],[17,0,351,17],[18,0,351,18],[21,0,351,21],[22,0,351,22],[24,0,351,24],[25,0,351,25],[28,0,351,28],[34,0,351,34],[35,0,351,35],[41,0,351,41],[43,0,351,43],[44,0,351,44],[46,0,351,46],[48,0,351,48]],[[12,0,353,12],[18,0,353,18],[23,0,353,23],[26,0,353,26],[32,0,353,32],[33,0,353,33],[34,0,353,34],[35,0,353,35],[36,0,353,36],[43,0,353,43],[44,0,353,44],[47,0,353,47],[48,0,353,48],[53,0,353,53],[54,0,353,54],[55,0,353,55],[56,0,353,56],[57,0,353,57],[63,0,353,63],[64,0,353,64],[65,0,353,65],[66,0,353,66],[71,0,353,71],[72,0,353,72]],[[12,0,355,12],[18,0,355,18],[32,0,355,32],[35,0,355,35],[40,0,355,40],[45,0,355,45],[51,0,355,51],[52,0,355,52],[53,0,355,53],[54,0,355,54],[60,0,355,60],[61,0,355,61],[62,0,355,62],[63,0,355,63],[64,0,355,64],[69,0,355,69],[70,0,355,70],[73,0,355,73],[74,0,355,74],[75,0,355,75],[76,0,355,76],[77,0,355,77],[78,0,355,78],[79,0,355,79],[80,0,355,80],[86,0,355,86],[87,0,355,87],[88,0,355,88],[89,0,355,89],[90,0,355,90]],[[12,0,357,12],[16,0,357,16],[17,0,357,17],[18,0,357,18],[32,0,357,32],[36,0,357,36],[37,0,357,37],[39,0,357,39],[43,0,357,43],[44,0,357,44],[48,0,357,48],[49,0,357,49],[50,0,357,50],[64,0,357,64],[68,0,357,68],[69,0,357,69],[71,0,357,71],[75,0,357,75],[76,0,357,76],[78,0,357,78]],[[16,0,357,80],[25,0,357,89]],[[13,0,357,91]],[[12,0,359,12],[16,0,359,16],[22,0,359,22],[25,0,359,25],[26,0,359,26],[27,0,359,27]],[[12,0,361,12],[18,0,361,18],[24,0,361,24],[27,0,361,27],[36,0,361,36],[37,0,361,37],[38,0,361,38],[39,0,361,39],[43,0,361,43],[44,0,361,44],[58,0,361,58],[59,0,361,59],[61,0,361,61],[62,0,361,62],[63,0,361,63],[67,0,361,67],[68,0,361,68],[82,0,361,82],[83,0,361,83],[84,0,361,84],[85,0,361,85]],[[12,0,364,12],[16,0,364,16],[22,0,364,22],[26,0,364,26],[31,0,364,31],[36,0,364,36],[41,0,364,41],[45,0,364,45],[51,0,364,51],[52,0,364,52],[68,0,364,68],[73,0,364,73],[79,0,364,79],[80,0,364,80],[96,0,364,96],[98,0,364,98]],[[16,0,366,16],[22,0,366,22],[25,0,366,25],[31,0,366,31],[32,0,366,32],[48,0,366,48],[51,0,366,51],[57,0,366,57],[58,0,366,58],[74,0,366,74],[75,0,366,75]],[[16,0,368,16],[20,0,368,20],[26,0,368,26],[29,0,368,29],[30,0,368,30],[34,0,368,34],[40,0,368,40],[43,0,368,43],[44,0,368,44],[46,0,368,46]],[[20,0,368,48],[27,0,368,55],[33,0,368,61],[34,0,368,62]],[[17,0,368,64]],[[13,0,369,13]],[[12,0,372,12],[16,0,372,16],[22,0,372,22],[26,0,372,26],[31,0,372,31],[36,0,372,36],[42,0,372,42],[46,0,372,46],[52,0,372,52],[53,0,372,53],[69,0,372,69],[74,0,372,74],[80,0,372,80],[81,0,372,81],[97,0,372,97],[99,0,372,99]],[[16,0,374,16],[22,0,374,22],[25,0,374,25],[31,0,374,31],[32,0,374,32],[48,0,374,48],[51,0,374,51],[57,0,374,57],[58,0,374,58],[74,0,374,74],[75,0,374,75]],[[16,0,376,16],[20,0,376,20],[26,0,376,26],[29,0,376,29],[30,0,376,30],[34,0,376,34],[40,0,376,40],[43,0,376,43],[44,0,376,44],[46,0,376,46]],[[20,0,376,48],[27,0,376,55],[33,0,376,61],[34,0,376,62]],[[17,0,376,64]],[[13,0,377,13]],[[12,0,379,12],[18,0,379,18],[26,0,379,26],[29,0,379,29],[40,0,379,40],[41,0,379,41],[42,0,379,42],[43,0,379,43],[47,0,379,47],[48,0,379,48],[62,0,379,62],[63,0,379,63],[65,0,379,65],[66,0,379,66],[67,0,379,67],[71,0,379,71],[72,0,379,72],[86,0,379,86],[87,0,379,87],[88,0,379,88],[89,0,379,89]],[[12,0,382,12],[16,0,382,16],[24,0,382,24],[28,0,382,28],[33,0,382,33],[38,0,382,38],[43,0,382,43],[47,0,382,47],[55,0,382,55],[56,0,382,56],[72,0,382,72],[77,0,382,77],[85,0,382,85],[86,0,382,86],[102,0,382,102],[104,0,382,104]],[[16,0,384,16],[22,0,384,22],[25,0,384,25],[33,0,384,33],[34,0,384,34],[50,0,384,50],[53,0,384,53],[61,0,384,61],[62,0,384,62],[78,0,384,78],[79,0,384,79]],[[16,0,386,16],[20,0,386,20],[26,0,386,26],[29,0,386,29],[30,0,386,30],[34,0,386,34],[40,0,386,40],[43,0,386,43],[44,0,386,44],[46,0,386,46]],[[20,0,386,48],[27,0,386,55],[33,0,386,61],[34,0,386,62]],[[17,0,386,64]],[[13,0,387,13]],[[12,0,390,12],[16,0,390,16],[24,0,390,24],[28,0,390,28],[33,0,390,33],[38,0,390,38],[44,0,390,44],[48,0,390,48],[56,0,390,56],[57,0,390,57],[73,0,390,73],[78,0,390,78],[86,0,390,86],[87,0,390,87],[103,0,390,103],[105,0,390,105]],[[16,0,392,16],[22,0,392,22],[25,0,392,25],[33,0,392,33],[34,0,392,34],[50,0,392,50],[53,0,392,53],[61,0,392,61],[62,0,392,62],[78,0,392,78],[79,0,392,79]],[[16,0,394,16],[20,0,394,20],[26,0,394,26],[29,0,394,29],[30,0,394,30],[34,0,394,34],[40,0,394,40],[43,0,394,43],[44,0,394,44],[46,0,394,46]],[[20,0,394,48],[27,0,394,55],[33,0,394,61],[34,0,394,62]],[[17,0,394,64]],[[13,0,395,13]],[[12,0,397,12],[18,0,397,18],[24,0,397,24],[27,0,397,28],[28,0,397,29],[29,0,397,30],[33,0,397,34],[34,0,397,35],[48,0,397,49],[49,0,397,68],[51,0,397,70],[59,0,397,78],[61,0,397,80],[65,0,397,84],[67,0,397,86],[68,0,397,87]],[[12,0,399,12],[18,0,399,18],[24,0,399,24],[27,0,399,28],[28,0,399,29],[29,0,399,30],[33,0,399,34],[34,0,399,35],[48,0,399,49],[49,0,399,68],[51,0,399,70],[59,0,399,78],[61,0,399,80],[65,0,399,84],[67,0,399,86],[68,0,399,87]],[[12,0,401,12],[18,0,401,18],[21,0,401,21],[26,0,401,26],[31,0,401,31],[36,0,401,36],[37,0,401,37],[38,0,401,38],[39,0,401,39],[45,0,401,45],[46,0,401,46],[59,0,401,59],[60,0,401,60],[66,0,401,66],[67,0,401,67],[68,0,401,68],[69,0,401,69],[70,0,401,70],[76,0,401,76],[77,0,401,77],[90,0,401,90],[91,0,401,91],[97,0,401,97],[98,0,401,98],[101,0,401,101],[102,0,401,102],[103,0,401,103],[104,0,401,104]],[[12,0,403,12],[16,0,403,16],[22,0,403,22],[25,0,403,25],[26,0,403,26],[30,0,403,30],[36,0,403,36],[39,0,403,39],[40,0,403,40],[42,0,403,42]],[[16,0,403,44],[23,0,403,51],[29,0,403,57],[30,0,403,58]],[[13,0,403,60]],[[9,0,405,9]],[[8,0,407,8],[15,0,407,15],[16,0,407,16],[17,0,407,17]],[[4,0,408,4],[5,0,408,5],[6,0,408,6],[7,0,408,7]],[[0,0,409,0],[1,0,409,1]]],"sourcesContent":["import { PwaDocument } from '../definitions/document';\nimport { HttpParams } from '@angular/common/http';\n\n////////////////\n// Types\n////////////////\n// tslint:disable-next-line: max-line-length\nexport type Lookup = 'gte' | 'lte' | 'gt' | 'lt' | 'eq' | 'startswith' | 'endswith' | 'range' | 'isnull' | 'iexact' | 'exact' | 'icontains' | 'contains' | 'in';\n\nexport type Query = 'filter' | 'distinct' | 'exclude' | 'ordering' | 'only';\n\nexport type FieldDataType = string | number | boolean | null;\n\n////////////////\n// Parsers\n////////////////\nexport function parseNumber(fieldValue: FieldDataType, inputValue: string): null | {[key: string]: number} {\n\n    const parsedFieldValue = Number(fieldValue?.toString() || '');\n\n    const parsedInputValue = Number(inputValue?.toString() || '');\n\n    return isNaN(parsedFieldValue) && isNaN(parsedInputValue) ? null : {parsedFieldValue, parsedInputValue};\n}\n\nexport function parseDate(fieldValue: FieldDataType, inputValue: string): null | {[key: string]: number} {\n\n    const parsedFieldValue = Date.parse(fieldValue?.toString() || '');\n\n    const parsedInputValue = Date.parse(inputValue?.toString() || '');\n\n    return isNaN(parsedFieldValue) && isNaN(parsedInputValue) ? null : {parsedFieldValue, parsedInputValue};\n}\n\nexport function parseBoolean(fieldValue: FieldDataType, inputValue: string): null | {[key: string]: boolean} {\n\n    // tslint:disable-next-line: max-line-length\n    const parsedFieldValue = fieldValue?.toString().toLowerCase() === 'true' ? true : fieldValue?.toString().toLowerCase() === 'false' ? false : null;\n\n    // tslint:disable-next-line: max-line-length\n    const parsedInputValue = inputValue?.toString().toLowerCase() === 'true' ? true : inputValue?.toString().toLowerCase() === 'false' ? false : null;\n\n    return parsedFieldValue === null || parsedInputValue === null ? null : {parsedFieldValue, parsedInputValue};\n}\n\n///////////////////////////////////////////////\n// Lookup Filters (num, date, string, boolean)\n///////////////////////////////////////////////\n\n// tslint:disable-next-line: max-line-length\nexport const eq: (v: PwaDocument<any>, field: string, inputValue: string) => boolean = (v: PwaDocument<any>, field: string, inputValue: string) => {\n\n    const isDate = parseDate(v.data[field] as FieldDataType, inputValue);\n\n    if (isDate) { return isDate.parsedFieldValue === isDate.parsedInputValue; }\n\n    const isNumber = parseNumber(v.data[field] as FieldDataType, inputValue);\n\n    if (isNumber) { return isNumber.parsedFieldValue === isNumber.parsedInputValue; }\n\n    const isBoolean = parseBoolean(v.data[field] as FieldDataType, inputValue);\n\n    if (isBoolean) { return isBoolean.parsedFieldValue === isBoolean.parsedInputValue; }\n\n    return v.data[field] === inputValue;\n};\n\n///////////////////////////////////////////////\n// Lookup Filters (num, date)\n///////////////////////////////////////////////\n\n// tslint:disable-next-line: max-line-length\nexport const gte: (v: PwaDocument<any>, field: string, inputValue: string) => boolean = (v: PwaDocument<any>, field: string, inputValue: string) => {\n\n    const isDate = parseDate(v.data[field] as FieldDataType, inputValue);\n\n    if (isDate) { return isDate.parsedFieldValue >= isDate.parsedInputValue; }\n\n    const isNumber = parseNumber(v.data[field] as FieldDataType, inputValue);\n\n    if (isNumber) { return isNumber.parsedFieldValue >= isNumber.parsedInputValue; }\n\n    return v.data[field] >= inputValue;\n};\n\n// tslint:disable-next-line: max-line-length\nexport const lte: (v: PwaDocument<any>, field: string, inputValue: string) => boolean = (v: PwaDocument<any>, field: string, inputValue: string) => {\n\n    const isDate = parseDate(v.data[field] as FieldDataType, inputValue);\n\n    if (isDate) { return isDate.parsedFieldValue <= isDate.parsedInputValue; }\n\n    const isNumber = parseNumber(v.data[field] as FieldDataType, inputValue);\n\n    if (isNumber) { return isNumber.parsedFieldValue <= isNumber.parsedInputValue; }\n\n    return v.data[field] <= inputValue;\n};\n\n// tslint:disable-next-line: max-line-length\nexport const gt: (v: PwaDocument<any>, field: string, inputValue: string) => boolean = (v: PwaDocument<any>, field: string, inputValue: string) => {\n\n    const isDate = parseDate(v.data[field] as FieldDataType, inputValue);\n\n    if (isDate) { return isDate.parsedFieldValue > isDate.parsedInputValue; }\n\n    const isNumber = parseNumber(v.data[field] as FieldDataType, inputValue);\n\n    if (isNumber) { return isNumber.parsedFieldValue > isNumber.parsedInputValue; }\n\n    return v.data[field] > inputValue;\n};\n\n// tslint:disable-next-line: max-line-length\nexport const lt: (v: PwaDocument<any>, field: string, inputValue: string) => boolean = (v: PwaDocument<any>, field: string, inputValue: string) => {\n\n    const isDate = parseDate(v.data[field] as FieldDataType, inputValue);\n\n    if (isDate) { return isDate.parsedFieldValue < isDate.parsedInputValue; }\n\n    const isNumber = parseNumber(v.data[field] as FieldDataType, inputValue);\n\n    if (isNumber) { return isNumber.parsedFieldValue < isNumber.parsedInputValue; }\n\n    return v.data[field] < inputValue;\n};\n\n// tslint:disable-next-line: max-line-length\nexport const range: (v: PwaDocument<any>, field: string, inputValue: string) => boolean = (v: PwaDocument<any>, field: string, inputValue: string) => {\n\n    const values = inputValue.toString().split(',');\n\n    const isDate1 = parseDate(v.data[field] as FieldDataType, values[0]);\n\n    const isDate2 = parseDate(v.data[field] as FieldDataType, values[1]);\n\n    // tslint:disable-next-line: max-line-length\n    if (isDate1 && isDate2) { return isDate1.parsedFieldValue >= isDate1.parsedInputValue && isDate2.parsedFieldValue < isDate2.parsedInputValue; }\n\n    const isNumber1 = parseNumber(v.data[field] as FieldDataType, values[0]);\n\n    const isNumber2 = parseNumber(v.data[field] as FieldDataType, values[1]);\n\n    // tslint:disable-next-line: max-line-length\n    if (isNumber1 && isNumber2) { return isNumber1.parsedFieldValue >= isNumber1.parsedInputValue && isNumber2.parsedFieldValue < isNumber2.parsedInputValue; }\n\n    return v.data[field] >= values[0] && v.data[field] < values[1];\n};\n\n///////////////////////////////////////////////\n// Lookup Filters (string)\n///////////////////////////////////////////////\n\n// tslint:disable-next-line: max-line-length\nexport const startswith: (v: PwaDocument<any>, field: string, inputValue: string) => boolean = (v: PwaDocument<any>, field: string, inputValue: string) => (v.data[field] as FieldDataType)?.toString().startsWith(inputValue);\n\n// tslint:disable-next-line: max-line-length\nexport const endswith: (v: PwaDocument<any>, field: string, inputValue: string) => boolean   = (v: PwaDocument<any>, field: string, inputValue: string) => (v.data[field] as FieldDataType)?.toString().endsWith(inputValue);\n\n// tslint:disable-next-line: max-line-length\nexport const iexact: (v: PwaDocument<any>, field: string, inputValue: string) => boolean     = (v: PwaDocument<any>, field: string, inputValue: string) => !!(v.data[field] as FieldDataType)?.toString().match(new RegExp(`^${inputValue}$`, 'i'));\n\n// tslint:disable-next-line: max-line-length\nexport const exact: (v: PwaDocument<any>, field: string, inputValue: string) => boolean      = (v: PwaDocument<any>, field: string, inputValue: string) => !!(v.data[field] as FieldDataType)?.toString().match(new RegExp(`^${inputValue}$`));\n\n// tslint:disable-next-line: max-line-length\nexport const icontains: (v: PwaDocument<any>, field: string, inputValue: string) => boolean  = (v: PwaDocument<any>, field: string, inputValue: string) => (v.data[field] as FieldDataType)?.toString().toLowerCase().includes(inputValue?.toLowerCase() || '');\n\n// tslint:disable-next-line: max-line-length\nexport const contains: (v: PwaDocument<any>, field: string, inputValue: string) => boolean   = (v: PwaDocument<any>, field: string, inputValue: string) => (v.data[field] as FieldDataType)?.toString().includes(inputValue);\n\n///////////////////////////////////////////////\n// Lookup Filters (boolean)\n///////////////////////////////////////////////\n// tslint:disable-next-line: max-line-length\nexport const isnull: (v: PwaDocument<any>, field: string, inputValue: string) => boolean     = (v: PwaDocument<any>, field: string, inputValue: string) => inputValue?.toLowerCase() === 'true' ? v.data[field] === null : v.data[field] !== null;\n\n\nexport function getQuery(key: string, value: string): {queryType: Query, fields: string[], lookup?: Lookup, inputValue?: string} {\n\n    if (key.includes('distinct')) {\n\n        return {queryType: 'distinct', fields: value.split(',')};\n\n    } else if (key.includes('only')) {\n\n        return {queryType: 'only', fields: value.split(',')};\n\n    } else if (key.includes('ordering')) {\n\n        return {queryType: 'ordering', fields: value.split(',')};\n\n    } else if (key.includes('exclude')) {\n\n        const fieldAndLookup = key.split(':')[1].split('.');\n\n        // tslint:disable-next-line: max-line-length\n        return {queryType: 'exclude', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] as Lookup : 'eq', inputValue: value};\n\n    } else if (key.includes('filter')) {\n\n        const fieldAndLookup = key.split(':')[1].split('.');\n\n        // tslint:disable-next-line: max-line-length\n        return {queryType: 'filter', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] as Lookup : 'eq', inputValue: value};\n\n    } else {\n\n        const fieldAndLookup = key.split('.');\n\n        // tslint:disable-next-line: max-line-length\n        return {queryType: 'filter', fields: [fieldAndLookup[0]], lookup: fieldAndLookup.length > 1 ? fieldAndLookup[1] as Lookup : 'eq', inputValue: value};\n    }\n\n}\n\n\nexport function queryFilter(validQueryKeys: string[], params: HttpParams, docs: PwaDocument<any>[]): PwaDocument<any>[] {\n\n    if (params) {\n\n        const keys = params.keys();\n\n        //////////////\n        // Filters (1)\n        //////////////\n        keys.forEach(k => {\n\n            if (validQueryKeys.indexOf(k) > -1) {\n\n                const query = getQuery(k, params.getAll(k).join(','));\n\n                if (query.queryType === 'filter') { docs = filter(query.fields[0], query.inputValue, docs, query.lookup); }\n            }\n        });\n\n        ///////////////\n        // Exclude (2)\n        ///////////////\n\n        keys.forEach(k => {\n\n            if (validQueryKeys.indexOf(k) > -1) {\n\n                const query = getQuery(k, params.getAll(k).join(','));\n\n                if (query.queryType === 'exclude') { docs = exclude(query.fields[0], query.inputValue, docs, query.lookup); }\n            }\n        });\n\n        ////////////////\n        // Order By (3)\n        ////////////////\n\n        keys.forEach(k => {\n\n            if (validQueryKeys.indexOf(k) > -1) {\n\n                const query = getQuery(k, params.getAll(k).join(','));\n\n                if (query.queryType === 'ordering') { docs = orderBy(query.fields, docs); }\n            }\n        });\n\n        ////////////////\n        // Distinct (4)\n        ////////////////\n\n        keys.forEach(k => {\n\n            if (validQueryKeys.indexOf(k) > -1) {\n\n                const query = getQuery(k, params.getAll(k).join(','));\n\n                if (query.queryType === 'distinct') { docs = distinct(query.fields, docs); }\n            }\n        });\n\n    }\n\n    return docs;\n}\n\nexport function filter(field: string, inputValue: string, docs: PwaDocument<any>[], lookup?: Lookup, isExclude = false): PwaDocument<any>[] {\n\n    // in lookup would same as eq with OR values\n    let f = (v: PwaDocument<any>) => inputValue.split(',').reduce((acc, cur) => acc || eq(v, field, cur), false);\n\n    if (lookup === 'gte') { f = v => inputValue.split(',').reduce((acc, cur) => acc || gte(v, field, cur), false); }\n\n    if (lookup === 'lte') { f = v => inputValue.split(',').reduce((acc, cur) => acc || lte(v, field, cur), false); }\n\n    if (lookup === 'gt') { f = v => inputValue.split(',').reduce((acc, cur) => acc || gt(v, field, cur), false); }\n\n    if (lookup === 'lt') { f = v => inputValue.split(',').reduce((acc, cur) => acc || lt(v, field, cur), false); }\n\n    if (lookup === 'range') { f = v => range(v, field, inputValue); }\n\n    if (lookup === 'startswith') { f = v => inputValue.split(',').reduce((acc, cur) => acc || startswith(v, field, cur), false); }\n\n    if (lookup === 'endswith') { f = v => inputValue.split(',').reduce((acc, cur) => acc || endswith(v, field, cur), false); }\n\n    if (lookup === 'iexact') { f = v => inputValue.split(',').reduce((acc, cur) => acc || iexact(v, field, cur), false); }\n\n    if (lookup === 'exact') { f = v => inputValue.split(',').reduce((acc, cur) => acc || exact(v, field, cur), false); }\n\n    if (lookup === 'icontains') { f = v => inputValue.split(',').reduce((acc, cur) => acc || icontains(v, field, cur), false); }\n\n    if (lookup === 'contains') { f = v => inputValue.split(',').reduce((acc, cur) => acc || contains(v, field, cur), false); }\n\n    if (lookup === 'isnull') { f = v => inputValue.split(',').reduce((acc, cur) => acc || isnull(v, field, cur), false); }\n\n    return docs.filter((v) => {\n\n        const o = f(v);\n\n        return isExclude ? !o : o;\n    });\n}\n\nexport function exclude(field: string, inputValue: string, docs: PwaDocument<any>[], lookup?: Lookup): PwaDocument<any>[] {\n\n    return filter(field, inputValue, docs, lookup, true);\n}\n\nexport function distinct(fields: string[], docs: PwaDocument<any>[]): PwaDocument<any>[] {\n\n    const uniques = new Set<FieldDataType>();\n\n    const distinctArray: PwaDocument<any>[] = [];\n\n    docs.forEach(v => {\n\n        const key = fields.reduce((acc, cur) => acc += `-${(v.data[cur] as FieldDataType)?.toString() || 'null'}`, '');\n\n        if (!uniques.has(key)) {\n\n            uniques.add(key);\n\n            distinctArray.push(v);\n        }\n    });\n\n    return distinctArray;\n}\n\nexport function orderBy(fields: string[], docs: PwaDocument<any>[]): PwaDocument<any>[] {\n\n    return docs.sort((a, b) => {\n\n        // tslint:disable-next-line: prefer-for-of\n        for (let i = 0; i < fields.length; i++) {\n\n            const order = fields[i].indexOf('-') === 0 ? 'desc' : 'asc';\n\n            const parseFieldName = order === 'desc' ? fields[i].split('-')[1] : fields[i];\n\n            if (!(parseFieldName in a?.data) || !(parseFieldName in b?.data)) { continue; }\n\n            let output = 0;\n\n            const isDate = parseDate(a.data[parseFieldName], b.data[parseFieldName]);\n\n            // tslint:disable-next-line: max-line-length\n            if (isDate && order === 'asc' && isDate.parsedFieldValue !== isDate.parsedInputValue) { \n\n                output = isDate.parsedFieldValue - isDate.parsedInputValue;\n\n                if (output > 0 || output < 0) { return output; }\n            }\n\n            // tslint:disable-next-line: max-line-length\n            if (isDate && order === 'desc' && isDate.parsedInputValue !== isDate.parsedFieldValue) { \n\n                output = isDate.parsedInputValue - isDate.parsedFieldValue;\n\n                if (output > 0 || output < 0) { return output; }\n            }\n\n            const isNumber = parseNumber(a.data[parseFieldName], b.data[parseFieldName]);\n\n            // tslint:disable-next-line: max-line-length\n            if (isNumber && order === 'asc' && isNumber.parsedFieldValue !== isNumber.parsedInputValue) {\n\n                output = isNumber.parsedFieldValue - isNumber.parsedInputValue;\n\n                if (output > 0 || output < 0) { return output; }\n            }\n\n            // tslint:disable-next-line: max-line-length\n            if (isNumber && order === 'desc' && isNumber.parsedInputValue !== isNumber.parsedFieldValue) {\n\n                output = isNumber.parsedInputValue - isNumber.parsedFieldValue;\n\n                if (output > 0 || output < 0) { return output; }\n            }\n\n            const valueA = (a.data[parseFieldName] as FieldDataType)?.toString() || '';\n\n            const valueB = (b.data[parseFieldName] as FieldDataType)?.toString() || '';\n\n            output = order === 'asc' ? valueA.localeCompare(valueB) : valueA.localeCompare(valueB) * -1;\n\n            if (output > 0 || output < 0) { return output; }\n\n        }\n\n        return 0;\n    });\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1767,"body":[{"type":"ImportDeclaration","start":0,"end":34,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Observable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Observable"}}],"source":{"type":"Literal","start":27,"end":33,"value":"rxjs","raw":"'rxjs'"}},{"type":"ExportNamedDeclaration","start":35,"end":292,"declaration":{"type":"FunctionDeclaration","start":42,"end":292,"id":{"type":"Identifier","start":51,"end":60,"name":"enterZone"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":61,"end":65,"name":"zone"}],"body":{"type":"BlockStatement","start":67,"end":292,"body":[{"type":"ReturnStatement","start":73,"end":290,"argument":{"type":"ArrowFunctionExpression","start":80,"end":289,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":81,"end":87,"name":"source"}],"body":{"type":"NewExpression","start":92,"end":289,"callee":{"type":"Identifier","start":96,"end":106,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":107,"end":288,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":107,"end":115,"name":"observer"}],"body":{"type":"CallExpression","start":119,"end":288,"callee":{"type":"MemberExpression","start":119,"end":135,"object":{"type":"Identifier","start":119,"end":125,"name":"source"},"property":{"type":"Identifier","start":126,"end":135,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":136,"end":287,"properties":[{"type":"Property","start":146,"end":191,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":146,"end":150,"name":"next"},"value":{"type":"ArrowFunctionExpression","start":152,"end":191,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":153,"end":154,"name":"x"}],"body":{"type":"CallExpression","start":159,"end":191,"callee":{"type":"MemberExpression","start":159,"end":167,"object":{"type":"Identifier","start":159,"end":163,"name":"zone"},"property":{"type":"Identifier","start":164,"end":167,"name":"run"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":168,"end":190,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":174,"end":190,"callee":{"type":"MemberExpression","start":174,"end":187,"object":{"type":"Identifier","start":174,"end":182,"name":"observer"},"property":{"type":"Identifier","start":183,"end":187,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":188,"end":189,"name":"x"}],"optional":false}}],"optional":false}},"kind":"init"},{"type":"Property","start":201,"end":236,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":201,"end":206,"name":"error"},"value":{"type":"ArrowFunctionExpression","start":208,"end":236,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":209,"end":212,"name":"err"}],"body":{"type":"CallExpression","start":217,"end":236,"callee":{"type":"MemberExpression","start":217,"end":231,"object":{"type":"Identifier","start":217,"end":225,"name":"observer"},"property":{"type":"Identifier","start":226,"end":231,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":232,"end":235,"name":"err"}],"optional":false}},"kind":"init"},{"type":"Property","start":246,"end":281,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":246,"end":254,"name":"complete"},"value":{"type":"ArrowFunctionExpression","start":256,"end":281,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":262,"end":281,"callee":{"type":"MemberExpression","start":262,"end":279,"object":{"type":"Identifier","start":262,"end":270,"name":"observer"},"property":{"type":"Identifier","start":271,"end":279,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}},"kind":"init"}]}],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0b3JzLnJlc291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcHdhZGItbGliL3NyYy9saWIvcmVzb3VyY2VzL29wZXJhdG9ycy5yZXNvdXJjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBR2xDLE1BQU0sVUFBVSxTQUFTLENBQUksSUFBWTtJQUVyQyxPQUFPLENBQUMsTUFBcUIsRUFBRSxFQUFFLENBRTdCLElBQUksVUFBVSxDQUFJLFFBQVEsQ0FBQyxFQUFFLENBRXpCLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDYixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQ25DLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFO0tBQ3RDLENBQUMsQ0FDTCxDQUFDO0FBQ1YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRlclpvbmU8VD4oem9uZTogTmdab25lKSB7XG5cbiAgICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT5cblxuICAgICAgICBuZXcgT2JzZXJ2YWJsZTxUPihvYnNlcnZlciA9PlxuXG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoeCkgPT4gem9uZS5ydW4oKCkgPT4gb2JzZXJ2ZXIubmV4dCh4KSksXG4gICAgICAgICAgICAgICAgZXJyb3I6IChlcnIpID0+IG9ic2VydmVyLmVycm9yKGVyciksXG4gICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IG9ic2VydmVyLmNvbXBsZXRlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG59XG4iXX0=","start":293,"end":1767}]},"code":"import { Observable } from 'rxjs';\nexport function enterZone(zone) {\n    return (source) => new Observable(observer => source.subscribe({\n        next: (x) => zone.run(() => observer.next(x)),\n        error: (err) => observer.error(err),\n        complete: () => observer.complete()\n    }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0b3JzLnJlc291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcHdhZGItbGliL3NyYy9saWIvcmVzb3VyY2VzL29wZXJhdG9ycy5yZXNvdXJjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBR2xDLE1BQU0sVUFBVSxTQUFTLENBQUksSUFBWTtJQUVyQyxPQUFPLENBQUMsTUFBcUIsRUFBRSxFQUFFLENBRTdCLElBQUksVUFBVSxDQUFJLFFBQVEsQ0FBQyxFQUFFLENBRXpCLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDYixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQ25DLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFO0tBQ3RDLENBQUMsQ0FDTCxDQUFDO0FBQ1YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRlclpvbmU8VD4oem9uZTogTmdab25lKSB7XG5cbiAgICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT5cblxuICAgICAgICBuZXcgT2JzZXJ2YWJsZTxUPihvYnNlcnZlciA9PlxuXG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoeCkgPT4gem9uZS5ydW4oKCkgPT4gb2JzZXJ2ZXIubmV4dCh4KSksXG4gICAgICAgICAgICAgICAgZXJyb3I6IChlcnIpID0+IG9ic2VydmVyLmVycm9yKGVyciksXG4gICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IG9ic2VydmVyLmNvbXBsZXRlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG59XG4iXX0=","customTransformCache":false,"dependencies":["rxjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Observable } from 'rxjs';\nexport function enterZone(zone) {\n    return (source) => new Observable(observer => source.subscribe({\n        next: (x) => zone.run(() => observer.next(x)),\n        error: (err) => observer.error(err),\n        complete: () => observer.complete()\n    }));\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3BlcmF0b3JzLnJlc291cmNlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcHdhZGItbGliL3NyYy9saWIvcmVzb3VyY2VzL29wZXJhdG9ycy5yZXNvdXJjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBR2xDLE1BQU0sVUFBVSxTQUFTLENBQUksSUFBWTtJQUVyQyxPQUFPLENBQUMsTUFBcUIsRUFBRSxFQUFFLENBRTdCLElBQUksVUFBVSxDQUFJLFFBQVEsQ0FBQyxFQUFFLENBRXpCLE1BQU0sQ0FBQyxTQUFTLENBQUM7UUFDYixJQUFJLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM3QyxLQUFLLEVBQUUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDO1FBQ25DLFFBQVEsRUFBRSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFO0tBQ3RDLENBQUMsQ0FDTCxDQUFDO0FBQ1YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5cbmV4cG9ydCBmdW5jdGlvbiBlbnRlclpvbmU8VD4oem9uZTogTmdab25lKSB7XG5cbiAgICByZXR1cm4gKHNvdXJjZTogT2JzZXJ2YWJsZTxUPikgPT5cblxuICAgICAgICBuZXcgT2JzZXJ2YWJsZTxUPihvYnNlcnZlciA9PlxuXG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoeCkgPT4gem9uZS5ydW4oKCkgPT4gb2JzZXJ2ZXIubmV4dCh4KSksXG4gICAgICAgICAgICAgICAgZXJyb3I6IChlcnIpID0+IG9ic2VydmVyLmVycm9yKGVyciksXG4gICAgICAgICAgICAgICAgY29tcGxldGU6ICgpID0+IG9ic2VydmVyLmNvbXBsZXRlKClcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"operators.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/operators.resource.ts"],"names":[],"mappings":[[[0,0,1,0],[7,0,1,7],[9,0,1,9],[19,0,1,19],[21,0,1,21],[27,0,1,27],[33,0,1,33],[34,0,1,34]],[[0,0,4,0],[6,0,4,6],[16,0,4,16],[25,0,4,25],[26,0,4,29],[30,0,4,41]],[[4,0,6,4],[11,0,6,11],[12,0,6,12],[18,0,6,33],[20,0,6,35],[22,0,6,37],[23,0,8,8],[27,0,8,12],[37,0,8,22],[38,0,8,26],[46,0,8,34],[47,0,8,35],[49,0,8,37],[50,0,10,12],[56,0,10,18],[57,0,10,19],[66,0,10,28],[67,0,10,29]],[[8,0,11,16],[12,0,11,20],[14,0,11,22],[15,0,11,23],[16,0,11,24],[18,0,11,26],[20,0,11,28],[21,0,11,29],[25,0,11,33],[26,0,11,34],[29,0,11,37],[30,0,11,38],[33,0,11,41],[35,0,11,43],[36,0,11,44],[44,0,11,52],[45,0,11,53],[49,0,11,57],[50,0,11,58],[51,0,11,59],[52,0,11,60],[53,0,11,61]],[[8,0,12,16],[13,0,12,21],[15,0,12,23],[16,0,12,24],[19,0,12,27],[21,0,12,29],[23,0,12,31],[24,0,12,32],[32,0,12,40],[33,0,12,41],[38,0,12,46],[39,0,12,47],[42,0,12,50],[43,0,12,51]],[[8,0,13,16],[16,0,13,24],[18,0,13,26],[21,0,13,29],[23,0,13,31],[24,0,13,32],[32,0,13,40],[33,0,13,41],[41,0,13,49],[43,0,13,51]],[[5,0,14,13],[6,0,14,14],[7,0,15,9],[8,0,15,10]],[[0,0,16,0],[1,0,16,1]]],"sourcesContent":["import { NgZone } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n\nexport function enterZone<T>(zone: NgZone) {\n\n    return (source: Observable<T>) =>\n\n        new Observable<T>(observer =>\n\n            source.subscribe({\n                next: (x) => zone.run(() => observer.next(x)),\n                error: (err) => observer.error(err),\n                complete: () => observer.complete()\n            })\n        );\n}\n"]},"resolvedIds":{"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":77685,"body":[{"type":"ImportDeclaration","start":0,"end":67,"specifiers":[{"type":"ImportSpecifier","start":9,"end":18,"imported":{"type":"Identifier","start":9,"end":18,"name":"getSchema"},"local":{"type":"Identifier","start":9,"end":18,"name":"getSchema"}},{"type":"ImportSpecifier","start":20,"end":33,"imported":{"type":"Identifier","start":20,"end":33,"name":"pwaDocMethods"},"local":{"type":"Identifier","start":20,"end":33,"name":"pwaDocMethods"}}],"source":{"type":"Literal","start":41,"end":66,"value":"../definitions/document","raw":"'../definitions/document'"}},{"type":"ImportDeclaration","start":68,"end":155,"specifiers":[{"type":"ImportSpecifier","start":77,"end":97,"imported":{"type":"Identifier","start":77,"end":97,"name":"getCollectionCreator"},"local":{"type":"Identifier","start":77,"end":97,"name":"getCollectionCreator"}},{"type":"ImportSpecifier","start":99,"end":119,"imported":{"type":"Identifier","start":99,"end":119,"name":"pwaCollectionMethods"},"local":{"type":"Identifier","start":99,"end":119,"name":"pwaCollectionMethods"}}],"source":{"type":"Literal","start":127,"end":154,"value":"../definitions/collection","raw":"'../definitions/collection'"}},{"type":"ImportDeclaration","start":156,"end":281,"specifiers":[{"type":"ImportSpecifier","start":165,"end":174,"imported":{"type":"Identifier","start":165,"end":174,"name":"switchMap"},"local":{"type":"Identifier","start":165,"end":174,"name":"switchMap"}},{"type":"ImportSpecifier","start":176,"end":179,"imported":{"type":"Identifier","start":176,"end":179,"name":"map"},"local":{"type":"Identifier","start":176,"end":179,"name":"map"}},{"type":"ImportSpecifier","start":181,"end":191,"imported":{"type":"Identifier","start":181,"end":191,"name":"catchError"},"local":{"type":"Identifier","start":181,"end":191,"name":"catchError"}},{"type":"ImportSpecifier","start":193,"end":204,"imported":{"type":"Identifier","start":193,"end":204,"name":"shareReplay"},"local":{"type":"Identifier","start":193,"end":204,"name":"shareReplay"}},{"type":"ImportSpecifier","start":206,"end":209,"imported":{"type":"Identifier","start":206,"end":209,"name":"tap"},"local":{"type":"Identifier","start":206,"end":209,"name":"tap"}},{"type":"ImportSpecifier","start":211,"end":219,"imported":{"type":"Identifier","start":211,"end":219,"name":"finalize"},"local":{"type":"Identifier","start":211,"end":219,"name":"finalize"}},{"type":"ImportSpecifier","start":221,"end":230,"imported":{"type":"Identifier","start":221,"end":230,"name":"startWith"},"local":{"type":"Identifier","start":221,"end":230,"name":"startWith"}},{"type":"ImportSpecifier","start":232,"end":236,"imported":{"type":"Identifier","start":232,"end":236,"name":"take"},"local":{"type":"Identifier","start":232,"end":236,"name":"take"}},{"type":"ImportSpecifier","start":238,"end":247,"imported":{"type":"Identifier","start":238,"end":247,"name":"auditTime"},"local":{"type":"Identifier","start":238,"end":247,"name":"auditTime"}},{"type":"ImportSpecifier","start":249,"end":256,"imported":{"type":"Identifier","start":249,"end":256,"name":"timeout"},"local":{"type":"Identifier","start":249,"end":256,"name":"timeout"}}],"source":{"type":"Literal","start":264,"end":280,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":282,"end":341,"specifiers":[{"type":"ImportSpecifier","start":291,"end":293,"imported":{"type":"Identifier","start":291,"end":293,"name":"of"},"local":{"type":"Identifier","start":291,"end":293,"name":"of"}},{"type":"ImportSpecifier","start":295,"end":299,"imported":{"type":"Identifier","start":295,"end":299,"name":"from"},"local":{"type":"Identifier","start":295,"end":299,"name":"from"}},{"type":"ImportSpecifier","start":301,"end":311,"imported":{"type":"Identifier","start":301,"end":311,"name":"throwError"},"local":{"type":"Identifier","start":301,"end":311,"name":"throwError"}},{"type":"ImportSpecifier","start":313,"end":326,"imported":{"type":"Identifier","start":313,"end":326,"name":"combineLatest"},"local":{"type":"Identifier","start":313,"end":326,"name":"combineLatest"}}],"source":{"type":"Literal","start":334,"end":340,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":342,"end":391,"specifiers":[{"type":"ImportSpecifier","start":351,"end":362,"imported":{"type":"Identifier","start":351,"end":362,"name":"queryFilter"},"local":{"type":"Identifier","start":351,"end":362,"name":"queryFilter"}}],"source":{"type":"Literal","start":370,"end":390,"value":"./filters.resource","raw":"'./filters.resource'"}},{"type":"ImportDeclaration","start":392,"end":441,"specifiers":[{"type":"ImportSpecifier","start":401,"end":410,"imported":{"type":"Identifier","start":401,"end":410,"name":"enterZone"},"local":{"type":"Identifier","start":401,"end":410,"name":"enterZone"}}],"source":{"type":"Literal","start":418,"end":440,"value":"./operators.resource","raw":"'./operators.resource'"}},{"type":"ImportDeclaration","start":442,"end":501,"specifiers":[{"type":"ImportSpecifier","start":451,"end":467,"imported":{"type":"Identifier","start":451,"end":467,"name":"CustomHttpParams"},"local":{"type":"Identifier","start":451,"end":467,"name":"CustomHttpParams"}}],"source":{"type":"Literal","start":475,"end":500,"value":"./customParams.resource","raw":"'./customParams.resource'"}},{"type":"ExportNamedDeclaration","start":502,"end":4137,"declaration":{"type":"ClassDeclaration","start":509,"end":4137,"id":{"type":"Identifier","start":515,"end":522,"name":"RestAPI"},"superClass":null,"body":{"type":"ClassBody","start":523,"end":4137,"body":[{"type":"MethodDefinition","start":529,"end":618,"static":false,"computed":false,"key":{"type":"Identifier","start":529,"end":540,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":540,"end":618,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":541,"end":547,"name":"config"}],"body":{"type":"BlockStatement","start":549,"end":618,"body":[{"type":"ExpressionStatement","start":559,"end":580,"expression":{"type":"AssignmentExpression","start":559,"end":579,"operator":"=","left":{"type":"MemberExpression","start":559,"end":570,"object":{"type":"ThisExpression","start":559,"end":563},"property":{"type":"Identifier","start":564,"end":570,"name":"config"},"computed":false,"optional":false},"right":{"type":"Identifier","start":573,"end":579,"name":"config"}}},{"type":"ExpressionStatement","start":589,"end":612,"expression":{"type":"AssignmentExpression","start":589,"end":611,"operator":"=","left":{"type":"MemberExpression","start":589,"end":599,"object":{"type":"ThisExpression","start":589,"end":593},"property":{"type":"Identifier","start":594,"end":599,"name":"cache"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":602,"end":611,"callee":{"type":"Identifier","start":606,"end":609,"name":"Map"},"arguments":[]}}}]}}},{"type":"MethodDefinition","start":623,"end":1415,"static":false,"computed":false,"key":{"type":"Identifier","start":623,"end":626,"name":"get"},"kind":"method","value":{"type":"FunctionExpression","start":626,"end":1415,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":627,"end":630,"name":"url"},{"type":"Identifier","start":632,"end":638,"name":"params"}],"body":{"type":"BlockStatement","start":640,"end":1415,"body":[{"type":"VariableDeclaration","start":650,"end":740,"declarations":[{"type":"VariableDeclarator","start":656,"end":739,"id":{"type":"Identifier","start":656,"end":665,"name":"paramsUrl"},"init":{"type":"ChainExpression","start":668,"end":739,"expression":{"type":"CallExpression","start":668,"end":739,"callee":{"type":"MemberExpression","start":668,"end":734,"object":{"type":"CallExpression","start":668,"end":729,"callee":{"type":"MemberExpression","start":668,"end":686,"object":{"type":"CallExpression","start":668,"end":682,"callee":{"type":"MemberExpression","start":668,"end":680,"object":{"type":"Identifier","start":668,"end":674,"name":"params"},"property":{"type":"Identifier","start":676,"end":680,"name":"keys"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":683,"end":686,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":687,"end":728,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":687,"end":688,"name":"k"}],"body":{"type":"TemplateLiteral","start":692,"end":728,"expressions":[{"type":"Identifier","start":695,"end":696,"name":"k"},{"type":"CallExpression","start":700,"end":726,"callee":{"type":"MemberExpression","start":700,"end":721,"object":{"type":"CallExpression","start":700,"end":716,"callee":{"type":"MemberExpression","start":700,"end":713,"object":{"type":"Identifier","start":700,"end":706,"name":"params"},"property":{"type":"Identifier","start":707,"end":713,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":714,"end":715,"name":"k"}],"optional":false},"property":{"type":"Identifier","start":717,"end":721,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":722,"end":725,"value":",","raw":"','"}],"optional":false}],"quasis":[{"type":"TemplateElement","start":693,"end":693,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":697,"end":698,"value":{"raw":"=","cooked":"="},"tail":false},{"type":"TemplateElement","start":727,"end":727,"value":{"raw":"","cooked":""},"tail":true}]}}],"optional":false},"property":{"type":"Identifier","start":730,"end":734,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":735,"end":738,"value":"&","raw":"'&'"}],"optional":false}}}],"kind":"const"},{"type":"VariableDeclaration","start":749,"end":810,"declarations":[{"type":"VariableDeclarator","start":755,"end":809,"id":{"type":"Identifier","start":755,"end":763,"name":"cacheKey"},"init":{"type":"TemplateLiteral","start":766,"end":809,"expressions":[{"type":"Identifier","start":769,"end":772,"name":"url"},{"type":"ConditionalExpression","start":775,"end":807,"test":{"type":"Identifier","start":775,"end":784,"name":"paramsUrl"},"consequent":{"type":"BinaryExpression","start":787,"end":802,"left":{"type":"Literal","start":787,"end":790,"value":"?","raw":"'?'"},"operator":"+","right":{"type":"Identifier","start":793,"end":802,"name":"paramsUrl"}},"alternate":{"type":"Literal","start":805,"end":807,"value":"","raw":"''"}}],"quasis":[{"type":"TemplateElement","start":767,"end":767,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":773,"end":773,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":808,"end":808,"value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"VariableDeclaration","start":819,"end":1274,"declarations":[{"type":"VariableDeclarator","start":825,"end":1273,"id":{"type":"Identifier","start":825,"end":828,"name":"req"},"init":{"type":"CallExpression","start":831,"end":1273,"callee":{"type":"MemberExpression","start":831,"end":844,"object":{"type":"CallExpression","start":831,"end":839,"callee":{"type":"Identifier","start":831,"end":833,"name":"of"},"arguments":[{"type":"Literal","start":834,"end":838,"value":true,"raw":"true"}],"optional":false},"property":{"type":"Identifier","start":840,"end":844,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":845,"end":945,"callee":{"type":"Identifier","start":845,"end":848,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":849,"end":944,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":855,"end":944,"body":[{"type":"IfStatement","start":857,"end":942,"test":{"type":"UnaryExpression","start":861,"end":886,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":862,"end":886,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":863,"end":886,"object":{"type":"MemberExpression","start":863,"end":874,"object":{"type":"ThisExpression","start":863,"end":867},"property":{"type":"Identifier","start":868,"end":874,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":875,"end":886,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":888,"end":942,"body":[{"type":"ExpressionStatement","start":902,"end":932,"expression":{"type":"CallExpression","start":902,"end":931,"callee":{"type":"MemberExpression","start":902,"end":929,"object":{"type":"MemberExpression","start":902,"end":925,"object":{"type":"MemberExpression","start":902,"end":913,"object":{"type":"ThisExpression","start":902,"end":906},"property":{"type":"Identifier","start":907,"end":913,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":914,"end":925,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":926,"end":929,"name":"add"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":947,"end":1000,"callee":{"type":"Identifier","start":947,"end":956,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":957,"end":999,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":963,"end":999,"callee":{"type":"MemberExpression","start":963,"end":989,"object":{"type":"MemberExpression","start":963,"end":985,"object":{"type":"MemberExpression","start":963,"end":974,"object":{"type":"ThisExpression","start":963,"end":967},"property":{"type":"Identifier","start":968,"end":974,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":975,"end":985,"name":"httpClient"},"computed":false,"optional":false},"property":{"type":"Identifier","start":986,"end":989,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":990,"end":998,"name":"cacheKey"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":1002,"end":1015,"callee":{"type":"Identifier","start":1002,"end":1009,"name":"timeout"},"arguments":[{"type":"Literal","start":1010,"end":1014,"value":7500,"raw":"7500"}],"optional":false},{"type":"CallExpression","start":1017,"end":1256,"callee":{"type":"Identifier","start":1017,"end":1025,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":1026,"end":1255,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1032,"end":1255,"body":[{"type":"IfStatement","start":1046,"end":1142,"test":{"type":"UnaryExpression","start":1050,"end":1075,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":1051,"end":1075,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1052,"end":1075,"object":{"type":"MemberExpression","start":1052,"end":1063,"object":{"type":"ThisExpression","start":1052,"end":1056},"property":{"type":"Identifier","start":1057,"end":1063,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1064,"end":1075,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":1077,"end":1142,"body":[{"type":"ExpressionStatement","start":1095,"end":1128,"expression":{"type":"CallExpression","start":1095,"end":1127,"callee":{"type":"MemberExpression","start":1095,"end":1125,"object":{"type":"MemberExpression","start":1095,"end":1118,"object":{"type":"MemberExpression","start":1095,"end":1106,"object":{"type":"ThisExpression","start":1095,"end":1099},"property":{"type":"Identifier","start":1100,"end":1106,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1107,"end":1118,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1119,"end":1125,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":1155,"end":1245,"test":{"type":"CallExpression","start":1159,"end":1183,"callee":{"type":"MemberExpression","start":1159,"end":1173,"object":{"type":"MemberExpression","start":1159,"end":1169,"object":{"type":"ThisExpression","start":1159,"end":1163},"property":{"type":"Identifier","start":1164,"end":1169,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1170,"end":1173,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1174,"end":1182,"name":"cacheKey"}],"optional":false},"consequent":{"type":"BlockStatement","start":1185,"end":1245,"body":[{"type":"ExpressionStatement","start":1203,"end":1231,"expression":{"type":"CallExpression","start":1203,"end":1230,"callee":{"type":"MemberExpression","start":1203,"end":1220,"object":{"type":"MemberExpression","start":1203,"end":1213,"object":{"type":"ThisExpression","start":1203,"end":1207},"property":{"type":"Identifier","start":1208,"end":1213,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1214,"end":1220,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1221,"end":1229,"name":"cacheKey"}],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":1258,"end":1272,"callee":{"type":"Identifier","start":1258,"end":1269,"name":"shareReplay"},"arguments":[{"type":"Literal","start":1270,"end":1271,"value":1,"raw":"1"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1283,"end":1368,"test":{"type":"UnaryExpression","start":1287,"end":1312,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1288,"end":1312,"callee":{"type":"MemberExpression","start":1288,"end":1302,"object":{"type":"MemberExpression","start":1288,"end":1298,"object":{"type":"ThisExpression","start":1288,"end":1292},"property":{"type":"Identifier","start":1293,"end":1298,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1299,"end":1302,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1303,"end":1311,"name":"cacheKey"}],"optional":false}},"consequent":{"type":"BlockStatement","start":1314,"end":1368,"body":[{"type":"ExpressionStatement","start":1328,"end":1358,"expression":{"type":"CallExpression","start":1328,"end":1357,"callee":{"type":"MemberExpression","start":1328,"end":1342,"object":{"type":"MemberExpression","start":1328,"end":1338,"object":{"type":"ThisExpression","start":1328,"end":1332},"property":{"type":"Identifier","start":1333,"end":1338,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1339,"end":1342,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1343,"end":1351,"name":"cacheKey"},{"type":"Identifier","start":1353,"end":1356,"name":"req"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":1377,"end":1409,"argument":{"type":"CallExpression","start":1384,"end":1408,"callee":{"type":"MemberExpression","start":1384,"end":1398,"object":{"type":"MemberExpression","start":1384,"end":1394,"object":{"type":"ThisExpression","start":1384,"end":1388},"property":{"type":"Identifier","start":1389,"end":1394,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1395,"end":1398,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1399,"end":1407,"name":"cacheKey"}],"optional":false}}]}}},{"type":"MethodDefinition","start":1420,"end":2059,"static":false,"computed":false,"key":{"type":"Identifier","start":1420,"end":1424,"name":"post"},"kind":"method","value":{"type":"FunctionExpression","start":1424,"end":2059,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1425,"end":1428,"name":"url"},{"type":"Identifier","start":1430,"end":1434,"name":"data"}],"body":{"type":"BlockStatement","start":1436,"end":2059,"body":[{"type":"VariableDeclaration","start":1446,"end":1467,"declarations":[{"type":"VariableDeclarator","start":1452,"end":1466,"id":{"type":"Identifier","start":1452,"end":1460,"name":"cacheKey"},"init":{"type":"Identifier","start":1463,"end":1466,"name":"url"}}],"kind":"const"},{"type":"VariableDeclaration","start":1476,"end":1918,"declarations":[{"type":"VariableDeclarator","start":1482,"end":1917,"id":{"type":"Identifier","start":1482,"end":1485,"name":"req"},"init":{"type":"CallExpression","start":1488,"end":1917,"callee":{"type":"MemberExpression","start":1488,"end":1501,"object":{"type":"CallExpression","start":1488,"end":1496,"callee":{"type":"Identifier","start":1488,"end":1490,"name":"of"},"arguments":[{"type":"Literal","start":1491,"end":1495,"value":true,"raw":"true"}],"optional":false},"property":{"type":"Identifier","start":1497,"end":1501,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1502,"end":1602,"callee":{"type":"Identifier","start":1502,"end":1505,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":1506,"end":1601,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1512,"end":1601,"body":[{"type":"IfStatement","start":1514,"end":1599,"test":{"type":"UnaryExpression","start":1518,"end":1543,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":1519,"end":1543,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1520,"end":1543,"object":{"type":"MemberExpression","start":1520,"end":1531,"object":{"type":"ThisExpression","start":1520,"end":1524},"property":{"type":"Identifier","start":1525,"end":1531,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1532,"end":1543,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":1545,"end":1599,"body":[{"type":"ExpressionStatement","start":1559,"end":1589,"expression":{"type":"CallExpression","start":1559,"end":1588,"callee":{"type":"MemberExpression","start":1559,"end":1586,"object":{"type":"MemberExpression","start":1559,"end":1582,"object":{"type":"MemberExpression","start":1559,"end":1570,"object":{"type":"ThisExpression","start":1559,"end":1563},"property":{"type":"Identifier","start":1564,"end":1570,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1571,"end":1582,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1583,"end":1586,"name":"add"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":1604,"end":1659,"callee":{"type":"Identifier","start":1604,"end":1613,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":1614,"end":1658,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":1620,"end":1658,"callee":{"type":"MemberExpression","start":1620,"end":1647,"object":{"type":"MemberExpression","start":1620,"end":1642,"object":{"type":"MemberExpression","start":1620,"end":1631,"object":{"type":"ThisExpression","start":1620,"end":1624},"property":{"type":"Identifier","start":1625,"end":1631,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1632,"end":1642,"name":"httpClient"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1643,"end":1647,"name":"post"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1648,"end":1651,"name":"url"},{"type":"Identifier","start":1653,"end":1657,"name":"data"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":1661,"end":1900,"callee":{"type":"Identifier","start":1661,"end":1669,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":1670,"end":1899,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1676,"end":1899,"body":[{"type":"IfStatement","start":1690,"end":1786,"test":{"type":"UnaryExpression","start":1694,"end":1719,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":1695,"end":1719,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":1696,"end":1719,"object":{"type":"MemberExpression","start":1696,"end":1707,"object":{"type":"ThisExpression","start":1696,"end":1700},"property":{"type":"Identifier","start":1701,"end":1707,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1708,"end":1719,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":1721,"end":1786,"body":[{"type":"ExpressionStatement","start":1739,"end":1772,"expression":{"type":"CallExpression","start":1739,"end":1771,"callee":{"type":"MemberExpression","start":1739,"end":1769,"object":{"type":"MemberExpression","start":1739,"end":1762,"object":{"type":"MemberExpression","start":1739,"end":1750,"object":{"type":"ThisExpression","start":1739,"end":1743},"property":{"type":"Identifier","start":1744,"end":1750,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1751,"end":1762,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1763,"end":1769,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":1799,"end":1889,"test":{"type":"CallExpression","start":1803,"end":1827,"callee":{"type":"MemberExpression","start":1803,"end":1817,"object":{"type":"MemberExpression","start":1803,"end":1813,"object":{"type":"ThisExpression","start":1803,"end":1807},"property":{"type":"Identifier","start":1808,"end":1813,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1814,"end":1817,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1818,"end":1826,"name":"cacheKey"}],"optional":false},"consequent":{"type":"BlockStatement","start":1829,"end":1889,"body":[{"type":"ExpressionStatement","start":1847,"end":1875,"expression":{"type":"CallExpression","start":1847,"end":1874,"callee":{"type":"MemberExpression","start":1847,"end":1864,"object":{"type":"MemberExpression","start":1847,"end":1857,"object":{"type":"ThisExpression","start":1847,"end":1851},"property":{"type":"Identifier","start":1852,"end":1857,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1858,"end":1864,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1865,"end":1873,"name":"cacheKey"}],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":1902,"end":1916,"callee":{"type":"Identifier","start":1902,"end":1913,"name":"shareReplay"},"arguments":[{"type":"Literal","start":1914,"end":1915,"value":1,"raw":"1"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1927,"end":2012,"test":{"type":"UnaryExpression","start":1931,"end":1956,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1932,"end":1956,"callee":{"type":"MemberExpression","start":1932,"end":1946,"object":{"type":"MemberExpression","start":1932,"end":1942,"object":{"type":"ThisExpression","start":1932,"end":1936},"property":{"type":"Identifier","start":1937,"end":1942,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1943,"end":1946,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1947,"end":1955,"name":"cacheKey"}],"optional":false}},"consequent":{"type":"BlockStatement","start":1958,"end":2012,"body":[{"type":"ExpressionStatement","start":1972,"end":2002,"expression":{"type":"CallExpression","start":1972,"end":2001,"callee":{"type":"MemberExpression","start":1972,"end":1986,"object":{"type":"MemberExpression","start":1972,"end":1982,"object":{"type":"ThisExpression","start":1972,"end":1976},"property":{"type":"Identifier","start":1977,"end":1982,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1983,"end":1986,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1987,"end":1995,"name":"cacheKey"},{"type":"Identifier","start":1997,"end":2000,"name":"req"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":2021,"end":2053,"argument":{"type":"CallExpression","start":2028,"end":2052,"callee":{"type":"MemberExpression","start":2028,"end":2042,"object":{"type":"MemberExpression","start":2028,"end":2038,"object":{"type":"ThisExpression","start":2028,"end":2032},"property":{"type":"Identifier","start":2033,"end":2038,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2039,"end":2042,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2043,"end":2051,"name":"cacheKey"}],"optional":false}}]}}},{"type":"MethodDefinition","start":2064,"end":2701,"static":false,"computed":false,"key":{"type":"Identifier","start":2064,"end":2067,"name":"put"},"kind":"method","value":{"type":"FunctionExpression","start":2067,"end":2701,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2068,"end":2071,"name":"url"},{"type":"Identifier","start":2073,"end":2077,"name":"data"}],"body":{"type":"BlockStatement","start":2079,"end":2701,"body":[{"type":"VariableDeclaration","start":2089,"end":2110,"declarations":[{"type":"VariableDeclarator","start":2095,"end":2109,"id":{"type":"Identifier","start":2095,"end":2103,"name":"cacheKey"},"init":{"type":"Identifier","start":2106,"end":2109,"name":"url"}}],"kind":"const"},{"type":"VariableDeclaration","start":2119,"end":2560,"declarations":[{"type":"VariableDeclarator","start":2125,"end":2559,"id":{"type":"Identifier","start":2125,"end":2128,"name":"req"},"init":{"type":"CallExpression","start":2131,"end":2559,"callee":{"type":"MemberExpression","start":2131,"end":2144,"object":{"type":"CallExpression","start":2131,"end":2139,"callee":{"type":"Identifier","start":2131,"end":2133,"name":"of"},"arguments":[{"type":"Literal","start":2134,"end":2138,"value":true,"raw":"true"}],"optional":false},"property":{"type":"Identifier","start":2140,"end":2144,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2145,"end":2245,"callee":{"type":"Identifier","start":2145,"end":2148,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":2149,"end":2244,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2155,"end":2244,"body":[{"type":"IfStatement","start":2157,"end":2242,"test":{"type":"UnaryExpression","start":2161,"end":2186,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":2162,"end":2186,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2163,"end":2186,"object":{"type":"MemberExpression","start":2163,"end":2174,"object":{"type":"ThisExpression","start":2163,"end":2167},"property":{"type":"Identifier","start":2168,"end":2174,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2175,"end":2186,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":2188,"end":2242,"body":[{"type":"ExpressionStatement","start":2202,"end":2232,"expression":{"type":"CallExpression","start":2202,"end":2231,"callee":{"type":"MemberExpression","start":2202,"end":2229,"object":{"type":"MemberExpression","start":2202,"end":2225,"object":{"type":"MemberExpression","start":2202,"end":2213,"object":{"type":"ThisExpression","start":2202,"end":2206},"property":{"type":"Identifier","start":2207,"end":2213,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2214,"end":2225,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2226,"end":2229,"name":"add"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":2247,"end":2301,"callee":{"type":"Identifier","start":2247,"end":2256,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":2257,"end":2300,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":2263,"end":2300,"callee":{"type":"MemberExpression","start":2263,"end":2289,"object":{"type":"MemberExpression","start":2263,"end":2285,"object":{"type":"MemberExpression","start":2263,"end":2274,"object":{"type":"ThisExpression","start":2263,"end":2267},"property":{"type":"Identifier","start":2268,"end":2274,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2275,"end":2285,"name":"httpClient"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2286,"end":2289,"name":"put"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2290,"end":2293,"name":"url"},{"type":"Identifier","start":2295,"end":2299,"name":"data"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":2303,"end":2542,"callee":{"type":"Identifier","start":2303,"end":2311,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":2312,"end":2541,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2318,"end":2541,"body":[{"type":"IfStatement","start":2332,"end":2428,"test":{"type":"UnaryExpression","start":2336,"end":2361,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":2337,"end":2361,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2338,"end":2361,"object":{"type":"MemberExpression","start":2338,"end":2349,"object":{"type":"ThisExpression","start":2338,"end":2342},"property":{"type":"Identifier","start":2343,"end":2349,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2350,"end":2361,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":2363,"end":2428,"body":[{"type":"ExpressionStatement","start":2381,"end":2414,"expression":{"type":"CallExpression","start":2381,"end":2413,"callee":{"type":"MemberExpression","start":2381,"end":2411,"object":{"type":"MemberExpression","start":2381,"end":2404,"object":{"type":"MemberExpression","start":2381,"end":2392,"object":{"type":"ThisExpression","start":2381,"end":2385},"property":{"type":"Identifier","start":2386,"end":2392,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2393,"end":2404,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2405,"end":2411,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":2441,"end":2531,"test":{"type":"CallExpression","start":2445,"end":2469,"callee":{"type":"MemberExpression","start":2445,"end":2459,"object":{"type":"MemberExpression","start":2445,"end":2455,"object":{"type":"ThisExpression","start":2445,"end":2449},"property":{"type":"Identifier","start":2450,"end":2455,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2456,"end":2459,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2460,"end":2468,"name":"cacheKey"}],"optional":false},"consequent":{"type":"BlockStatement","start":2471,"end":2531,"body":[{"type":"ExpressionStatement","start":2489,"end":2517,"expression":{"type":"CallExpression","start":2489,"end":2516,"callee":{"type":"MemberExpression","start":2489,"end":2506,"object":{"type":"MemberExpression","start":2489,"end":2499,"object":{"type":"ThisExpression","start":2489,"end":2493},"property":{"type":"Identifier","start":2494,"end":2499,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2500,"end":2506,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2507,"end":2515,"name":"cacheKey"}],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":2544,"end":2558,"callee":{"type":"Identifier","start":2544,"end":2555,"name":"shareReplay"},"arguments":[{"type":"Literal","start":2556,"end":2557,"value":1,"raw":"1"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":2569,"end":2654,"test":{"type":"UnaryExpression","start":2573,"end":2598,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":2574,"end":2598,"callee":{"type":"MemberExpression","start":2574,"end":2588,"object":{"type":"MemberExpression","start":2574,"end":2584,"object":{"type":"ThisExpression","start":2574,"end":2578},"property":{"type":"Identifier","start":2579,"end":2584,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2585,"end":2588,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2589,"end":2597,"name":"cacheKey"}],"optional":false}},"consequent":{"type":"BlockStatement","start":2600,"end":2654,"body":[{"type":"ExpressionStatement","start":2614,"end":2644,"expression":{"type":"CallExpression","start":2614,"end":2643,"callee":{"type":"MemberExpression","start":2614,"end":2628,"object":{"type":"MemberExpression","start":2614,"end":2624,"object":{"type":"ThisExpression","start":2614,"end":2618},"property":{"type":"Identifier","start":2619,"end":2624,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2625,"end":2628,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2629,"end":2637,"name":"cacheKey"},{"type":"Identifier","start":2639,"end":2642,"name":"req"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":2663,"end":2695,"argument":{"type":"CallExpression","start":2670,"end":2694,"callee":{"type":"MemberExpression","start":2670,"end":2684,"object":{"type":"MemberExpression","start":2670,"end":2680,"object":{"type":"ThisExpression","start":2670,"end":2674},"property":{"type":"Identifier","start":2675,"end":2680,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2681,"end":2684,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2685,"end":2693,"name":"cacheKey"}],"optional":false}}]}}},{"type":"MethodDefinition","start":2706,"end":3499,"static":false,"computed":false,"key":{"type":"Identifier","start":2706,"end":2710,"name":"list"},"kind":"method","value":{"type":"FunctionExpression","start":2710,"end":3499,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2711,"end":2714,"name":"url"},{"type":"Identifier","start":2716,"end":2722,"name":"params"}],"body":{"type":"BlockStatement","start":2724,"end":3499,"body":[{"type":"VariableDeclaration","start":2734,"end":2824,"declarations":[{"type":"VariableDeclarator","start":2740,"end":2823,"id":{"type":"Identifier","start":2740,"end":2749,"name":"paramsUrl"},"init":{"type":"ChainExpression","start":2752,"end":2823,"expression":{"type":"CallExpression","start":2752,"end":2823,"callee":{"type":"MemberExpression","start":2752,"end":2818,"object":{"type":"CallExpression","start":2752,"end":2813,"callee":{"type":"MemberExpression","start":2752,"end":2770,"object":{"type":"CallExpression","start":2752,"end":2766,"callee":{"type":"MemberExpression","start":2752,"end":2764,"object":{"type":"Identifier","start":2752,"end":2758,"name":"params"},"property":{"type":"Identifier","start":2760,"end":2764,"name":"keys"},"computed":false,"optional":true},"arguments":[],"optional":false},"property":{"type":"Identifier","start":2767,"end":2770,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2771,"end":2812,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2771,"end":2772,"name":"k"}],"body":{"type":"TemplateLiteral","start":2776,"end":2812,"expressions":[{"type":"Identifier","start":2779,"end":2780,"name":"k"},{"type":"CallExpression","start":2784,"end":2810,"callee":{"type":"MemberExpression","start":2784,"end":2805,"object":{"type":"CallExpression","start":2784,"end":2800,"callee":{"type":"MemberExpression","start":2784,"end":2797,"object":{"type":"Identifier","start":2784,"end":2790,"name":"params"},"property":{"type":"Identifier","start":2791,"end":2797,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2798,"end":2799,"name":"k"}],"optional":false},"property":{"type":"Identifier","start":2801,"end":2805,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2806,"end":2809,"value":",","raw":"','"}],"optional":false}],"quasis":[{"type":"TemplateElement","start":2777,"end":2777,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2781,"end":2782,"value":{"raw":"=","cooked":"="},"tail":false},{"type":"TemplateElement","start":2811,"end":2811,"value":{"raw":"","cooked":""},"tail":true}]}}],"optional":false},"property":{"type":"Identifier","start":2814,"end":2818,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2819,"end":2822,"value":"&","raw":"'&'"}],"optional":false}}}],"kind":"const"},{"type":"VariableDeclaration","start":2833,"end":2894,"declarations":[{"type":"VariableDeclarator","start":2839,"end":2893,"id":{"type":"Identifier","start":2839,"end":2847,"name":"cacheKey"},"init":{"type":"TemplateLiteral","start":2850,"end":2893,"expressions":[{"type":"Identifier","start":2853,"end":2856,"name":"url"},{"type":"ConditionalExpression","start":2859,"end":2891,"test":{"type":"Identifier","start":2859,"end":2868,"name":"paramsUrl"},"consequent":{"type":"BinaryExpression","start":2871,"end":2886,"left":{"type":"Literal","start":2871,"end":2874,"value":"?","raw":"'?'"},"operator":"+","right":{"type":"Identifier","start":2877,"end":2886,"name":"paramsUrl"}},"alternate":{"type":"Literal","start":2889,"end":2891,"value":"","raw":"''"}}],"quasis":[{"type":"TemplateElement","start":2851,"end":2851,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2857,"end":2857,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":2892,"end":2892,"value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"VariableDeclaration","start":2903,"end":3358,"declarations":[{"type":"VariableDeclarator","start":2909,"end":3357,"id":{"type":"Identifier","start":2909,"end":2912,"name":"req"},"init":{"type":"CallExpression","start":2915,"end":3357,"callee":{"type":"MemberExpression","start":2915,"end":2928,"object":{"type":"CallExpression","start":2915,"end":2923,"callee":{"type":"Identifier","start":2915,"end":2917,"name":"of"},"arguments":[{"type":"Literal","start":2918,"end":2922,"value":true,"raw":"true"}],"optional":false},"property":{"type":"Identifier","start":2924,"end":2928,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2929,"end":3029,"callee":{"type":"Identifier","start":2929,"end":2932,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":2933,"end":3028,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2939,"end":3028,"body":[{"type":"IfStatement","start":2941,"end":3026,"test":{"type":"UnaryExpression","start":2945,"end":2970,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":2946,"end":2970,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2947,"end":2970,"object":{"type":"MemberExpression","start":2947,"end":2958,"object":{"type":"ThisExpression","start":2947,"end":2951},"property":{"type":"Identifier","start":2952,"end":2958,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2959,"end":2970,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":2972,"end":3026,"body":[{"type":"ExpressionStatement","start":2986,"end":3016,"expression":{"type":"CallExpression","start":2986,"end":3015,"callee":{"type":"MemberExpression","start":2986,"end":3013,"object":{"type":"MemberExpression","start":2986,"end":3009,"object":{"type":"MemberExpression","start":2986,"end":2997,"object":{"type":"ThisExpression","start":2986,"end":2990},"property":{"type":"Identifier","start":2991,"end":2997,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2998,"end":3009,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3010,"end":3013,"name":"add"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":3031,"end":3084,"callee":{"type":"Identifier","start":3031,"end":3040,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":3041,"end":3083,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":3047,"end":3083,"callee":{"type":"MemberExpression","start":3047,"end":3073,"object":{"type":"MemberExpression","start":3047,"end":3069,"object":{"type":"MemberExpression","start":3047,"end":3058,"object":{"type":"ThisExpression","start":3047,"end":3051},"property":{"type":"Identifier","start":3052,"end":3058,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3059,"end":3069,"name":"httpClient"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3070,"end":3073,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3074,"end":3082,"name":"cacheKey"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3086,"end":3099,"callee":{"type":"Identifier","start":3086,"end":3093,"name":"timeout"},"arguments":[{"type":"Literal","start":3094,"end":3098,"value":7500,"raw":"7500"}],"optional":false},{"type":"CallExpression","start":3101,"end":3340,"callee":{"type":"Identifier","start":3101,"end":3109,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":3110,"end":3339,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3116,"end":3339,"body":[{"type":"IfStatement","start":3130,"end":3226,"test":{"type":"UnaryExpression","start":3134,"end":3159,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":3135,"end":3159,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":3136,"end":3159,"object":{"type":"MemberExpression","start":3136,"end":3147,"object":{"type":"ThisExpression","start":3136,"end":3140},"property":{"type":"Identifier","start":3141,"end":3147,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3148,"end":3159,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":3161,"end":3226,"body":[{"type":"ExpressionStatement","start":3179,"end":3212,"expression":{"type":"CallExpression","start":3179,"end":3211,"callee":{"type":"MemberExpression","start":3179,"end":3209,"object":{"type":"MemberExpression","start":3179,"end":3202,"object":{"type":"MemberExpression","start":3179,"end":3190,"object":{"type":"ThisExpression","start":3179,"end":3183},"property":{"type":"Identifier","start":3184,"end":3190,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3191,"end":3202,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3203,"end":3209,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":3239,"end":3329,"test":{"type":"CallExpression","start":3243,"end":3267,"callee":{"type":"MemberExpression","start":3243,"end":3257,"object":{"type":"MemberExpression","start":3243,"end":3253,"object":{"type":"ThisExpression","start":3243,"end":3247},"property":{"type":"Identifier","start":3248,"end":3253,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3254,"end":3257,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3258,"end":3266,"name":"cacheKey"}],"optional":false},"consequent":{"type":"BlockStatement","start":3269,"end":3329,"body":[{"type":"ExpressionStatement","start":3287,"end":3315,"expression":{"type":"CallExpression","start":3287,"end":3314,"callee":{"type":"MemberExpression","start":3287,"end":3304,"object":{"type":"MemberExpression","start":3287,"end":3297,"object":{"type":"ThisExpression","start":3287,"end":3291},"property":{"type":"Identifier","start":3292,"end":3297,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3298,"end":3304,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3305,"end":3313,"name":"cacheKey"}],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":3342,"end":3356,"callee":{"type":"Identifier","start":3342,"end":3353,"name":"shareReplay"},"arguments":[{"type":"Literal","start":3354,"end":3355,"value":1,"raw":"1"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":3367,"end":3452,"test":{"type":"UnaryExpression","start":3371,"end":3396,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":3372,"end":3396,"callee":{"type":"MemberExpression","start":3372,"end":3386,"object":{"type":"MemberExpression","start":3372,"end":3382,"object":{"type":"ThisExpression","start":3372,"end":3376},"property":{"type":"Identifier","start":3377,"end":3382,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3383,"end":3386,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3387,"end":3395,"name":"cacheKey"}],"optional":false}},"consequent":{"type":"BlockStatement","start":3398,"end":3452,"body":[{"type":"ExpressionStatement","start":3412,"end":3442,"expression":{"type":"CallExpression","start":3412,"end":3441,"callee":{"type":"MemberExpression","start":3412,"end":3426,"object":{"type":"MemberExpression","start":3412,"end":3422,"object":{"type":"ThisExpression","start":3412,"end":3416},"property":{"type":"Identifier","start":3417,"end":3422,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3423,"end":3426,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3427,"end":3435,"name":"cacheKey"},{"type":"Identifier","start":3437,"end":3440,"name":"req"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":3461,"end":3493,"argument":{"type":"CallExpression","start":3468,"end":3492,"callee":{"type":"MemberExpression","start":3468,"end":3482,"object":{"type":"MemberExpression","start":3468,"end":3478,"object":{"type":"ThisExpression","start":3468,"end":3472},"property":{"type":"Identifier","start":3473,"end":3478,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3479,"end":3482,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3483,"end":3491,"name":"cacheKey"}],"optional":false}}]}}},{"type":"MethodDefinition","start":3504,"end":4135,"static":false,"computed":false,"key":{"type":"Identifier","start":3504,"end":3510,"name":"delete"},"kind":"method","value":{"type":"FunctionExpression","start":3510,"end":4135,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3511,"end":3514,"name":"url"}],"body":{"type":"BlockStatement","start":3516,"end":4135,"body":[{"type":"VariableDeclaration","start":3526,"end":3547,"declarations":[{"type":"VariableDeclarator","start":3532,"end":3546,"id":{"type":"Identifier","start":3532,"end":3540,"name":"cacheKey"},"init":{"type":"Identifier","start":3543,"end":3546,"name":"url"}}],"kind":"const"},{"type":"VariableDeclaration","start":3556,"end":3994,"declarations":[{"type":"VariableDeclarator","start":3562,"end":3993,"id":{"type":"Identifier","start":3562,"end":3565,"name":"req"},"init":{"type":"CallExpression","start":3568,"end":3993,"callee":{"type":"MemberExpression","start":3568,"end":3581,"object":{"type":"CallExpression","start":3568,"end":3576,"callee":{"type":"Identifier","start":3568,"end":3570,"name":"of"},"arguments":[{"type":"Literal","start":3571,"end":3575,"value":true,"raw":"true"}],"optional":false},"property":{"type":"Identifier","start":3577,"end":3581,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":3582,"end":3682,"callee":{"type":"Identifier","start":3582,"end":3585,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":3586,"end":3681,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3592,"end":3681,"body":[{"type":"IfStatement","start":3594,"end":3679,"test":{"type":"UnaryExpression","start":3598,"end":3623,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":3599,"end":3623,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":3600,"end":3623,"object":{"type":"MemberExpression","start":3600,"end":3611,"object":{"type":"ThisExpression","start":3600,"end":3604},"property":{"type":"Identifier","start":3605,"end":3611,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3612,"end":3623,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":3625,"end":3679,"body":[{"type":"ExpressionStatement","start":3639,"end":3669,"expression":{"type":"CallExpression","start":3639,"end":3668,"callee":{"type":"MemberExpression","start":3639,"end":3666,"object":{"type":"MemberExpression","start":3639,"end":3662,"object":{"type":"MemberExpression","start":3639,"end":3650,"object":{"type":"ThisExpression","start":3639,"end":3643},"property":{"type":"Identifier","start":3644,"end":3650,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3651,"end":3662,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3663,"end":3666,"name":"add"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":3684,"end":3735,"callee":{"type":"Identifier","start":3684,"end":3693,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":3694,"end":3734,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":3700,"end":3734,"callee":{"type":"MemberExpression","start":3700,"end":3729,"object":{"type":"MemberExpression","start":3700,"end":3722,"object":{"type":"MemberExpression","start":3700,"end":3711,"object":{"type":"ThisExpression","start":3700,"end":3704},"property":{"type":"Identifier","start":3705,"end":3711,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3712,"end":3722,"name":"httpClient"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3723,"end":3729,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3730,"end":3733,"name":"url"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3737,"end":3976,"callee":{"type":"Identifier","start":3737,"end":3745,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":3746,"end":3975,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3752,"end":3975,"body":[{"type":"IfStatement","start":3766,"end":3862,"test":{"type":"UnaryExpression","start":3770,"end":3795,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":3771,"end":3795,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":3772,"end":3795,"object":{"type":"MemberExpression","start":3772,"end":3783,"object":{"type":"ThisExpression","start":3772,"end":3776},"property":{"type":"Identifier","start":3777,"end":3783,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3784,"end":3795,"name":"apiProgress"},"computed":false,"optional":false}}},"consequent":{"type":"BlockStatement","start":3797,"end":3862,"body":[{"type":"ExpressionStatement","start":3815,"end":3848,"expression":{"type":"CallExpression","start":3815,"end":3847,"callee":{"type":"MemberExpression","start":3815,"end":3845,"object":{"type":"MemberExpression","start":3815,"end":3838,"object":{"type":"MemberExpression","start":3815,"end":3826,"object":{"type":"ThisExpression","start":3815,"end":3819},"property":{"type":"Identifier","start":3820,"end":3826,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3827,"end":3838,"name":"apiProgress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3839,"end":3845,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":3875,"end":3965,"test":{"type":"CallExpression","start":3879,"end":3903,"callee":{"type":"MemberExpression","start":3879,"end":3893,"object":{"type":"MemberExpression","start":3879,"end":3889,"object":{"type":"ThisExpression","start":3879,"end":3883},"property":{"type":"Identifier","start":3884,"end":3889,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3890,"end":3893,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3894,"end":3902,"name":"cacheKey"}],"optional":false},"consequent":{"type":"BlockStatement","start":3905,"end":3965,"body":[{"type":"ExpressionStatement","start":3923,"end":3951,"expression":{"type":"CallExpression","start":3923,"end":3950,"callee":{"type":"MemberExpression","start":3923,"end":3940,"object":{"type":"MemberExpression","start":3923,"end":3933,"object":{"type":"ThisExpression","start":3923,"end":3927},"property":{"type":"Identifier","start":3928,"end":3933,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3934,"end":3940,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3941,"end":3949,"name":"cacheKey"}],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":3978,"end":3992,"callee":{"type":"Identifier","start":3978,"end":3989,"name":"shareReplay"},"arguments":[{"type":"Literal","start":3990,"end":3991,"value":1,"raw":"1"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":4003,"end":4088,"test":{"type":"UnaryExpression","start":4007,"end":4032,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":4008,"end":4032,"callee":{"type":"MemberExpression","start":4008,"end":4022,"object":{"type":"MemberExpression","start":4008,"end":4018,"object":{"type":"ThisExpression","start":4008,"end":4012},"property":{"type":"Identifier","start":4013,"end":4018,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4019,"end":4022,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4023,"end":4031,"name":"cacheKey"}],"optional":false}},"consequent":{"type":"BlockStatement","start":4034,"end":4088,"body":[{"type":"ExpressionStatement","start":4048,"end":4078,"expression":{"type":"CallExpression","start":4048,"end":4077,"callee":{"type":"MemberExpression","start":4048,"end":4062,"object":{"type":"MemberExpression","start":4048,"end":4058,"object":{"type":"ThisExpression","start":4048,"end":4052},"property":{"type":"Identifier","start":4053,"end":4058,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4059,"end":4062,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4063,"end":4071,"name":"cacheKey"},{"type":"Identifier","start":4073,"end":4076,"name":"req"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":4097,"end":4129,"argument":{"type":"CallExpression","start":4104,"end":4128,"callee":{"type":"MemberExpression","start":4104,"end":4118,"object":{"type":"MemberExpression","start":4104,"end":4114,"object":{"type":"ThisExpression","start":4104,"end":4108},"property":{"type":"Identifier","start":4109,"end":4114,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4115,"end":4118,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4119,"end":4127,"name":"cacheKey"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":4138,"end":12690,"declaration":{"type":"ClassDeclaration","start":4145,"end":12690,"id":{"type":"Identifier","start":4151,"end":4164,"name":"CollectionAPI"},"superClass":null,"body":{"type":"ClassBody","start":4165,"end":12690,"body":[{"type":"MethodDefinition","start":4171,"end":4695,"static":false,"computed":false,"key":{"type":"Identifier","start":4171,"end":4182,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":4182,"end":4695,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4183,"end":4190,"name":"_config"}],"body":{"type":"BlockStatement","start":4192,"end":4695,"body":[{"type":"ExpressionStatement","start":4202,"end":4225,"expression":{"type":"AssignmentExpression","start":4202,"end":4224,"operator":"=","left":{"type":"MemberExpression","start":4202,"end":4214,"object":{"type":"ThisExpression","start":4202,"end":4206},"property":{"type":"Identifier","start":4207,"end":4214,"name":"_config"},"computed":false,"optional":false},"right":{"type":"Identifier","start":4217,"end":4224,"name":"_config"}}},{"type":"ExpressionStatement","start":4234,"end":4566,"expression":{"type":"AssignmentExpression","start":4234,"end":4565,"operator":"=","left":{"type":"MemberExpression","start":4234,"end":4245,"object":{"type":"ThisExpression","start":4234,"end":4238},"property":{"type":"Identifier","start":4239,"end":4245,"name":"config"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":4248,"end":4565,"properties":[{"type":"Property","start":4262,"end":4292,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4262,"end":4266,"name":"name"},"value":{"type":"Literal","start":4268,"end":4292,"value":"no_name_collection_api","raw":"'no_name_collection_api'"},"kind":"init"},{"type":"Property","start":4306,"end":4315,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4306,"end":4309,"name":"db$"},"value":{"type":"CallExpression","start":4311,"end":4315,"callee":{"type":"Identifier","start":4311,"end":4313,"name":"of"},"arguments":[],"optional":false},"kind":"init"},{"type":"Property","start":4329,"end":4360,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4329,"end":4349,"name":"collectionEvictTime$"},"value":{"type":"CallExpression","start":4351,"end":4360,"callee":{"type":"Identifier","start":4351,"end":4353,"name":"of"},"arguments":[{"type":"Literal","start":4354,"end":4359,"value":86400,"raw":"86400"}],"optional":false},"kind":"init"},{"type":"Property","start":4374,"end":4407,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4374,"end":4398,"name":"collectionSkipDocuments$"},"value":{"type":"CallExpression","start":4400,"end":4407,"callee":{"type":"Identifier","start":4400,"end":4402,"name":"of"},"arguments":[{"type":"Literal","start":4403,"end":4406,"value":500,"raw":"500"}],"optional":false},"kind":"init"},{"type":"Property","start":4421,"end":4436,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4421,"end":4432,"name":"attachments"},"value":{"type":"ObjectExpression","start":4434,"end":4436,"properties":[]},"kind":"init"},{"type":"Property","start":4450,"end":4461,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4450,"end":4457,"name":"options"},"value":{"type":"ObjectExpression","start":4459,"end":4461,"properties":[]},"kind":"init"},{"type":"Property","start":4475,"end":4498,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4475,"end":4494,"name":"migrationStrategies"},"value":{"type":"ObjectExpression","start":4496,"end":4498,"properties":[]},"kind":"init"},{"type":"Property","start":4512,"end":4529,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4512,"end":4523,"name":"autoMigrate"},"value":{"type":"Literal","start":4525,"end":4529,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":4543,"end":4555,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4543,"end":4549,"name":"ngZone"},"value":{"type":"Literal","start":4551,"end":4555,"value":null,"raw":"null"},"kind":"init"}]}}},{"type":"ExpressionStatement","start":4575,"end":4598,"expression":{"type":"AssignmentExpression","start":4575,"end":4597,"operator":"=","left":{"type":"MemberExpression","start":4575,"end":4585,"object":{"type":"ThisExpression","start":4575,"end":4579},"property":{"type":"Identifier","start":4580,"end":4585,"name":"cache"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":4588,"end":4597,"callee":{"type":"Identifier","start":4592,"end":4595,"name":"Map"},"arguments":[]}}},{"type":"ExpressionStatement","start":4607,"end":4689,"expression":{"type":"AssignmentExpression","start":4607,"end":4688,"operator":"=","left":{"type":"MemberExpression","start":4607,"end":4618,"object":{"type":"ThisExpression","start":4607,"end":4611},"property":{"type":"Identifier","start":4612,"end":4618,"name":"config"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":4621,"end":4688,"properties":[{"type":"SpreadElement","start":4635,"end":4649,"argument":{"type":"MemberExpression","start":4638,"end":4649,"object":{"type":"ThisExpression","start":4638,"end":4642},"property":{"type":"Identifier","start":4643,"end":4649,"name":"config"},"computed":false,"optional":false}},{"type":"SpreadElement","start":4663,"end":4678,"argument":{"type":"MemberExpression","start":4666,"end":4678,"object":{"type":"ThisExpression","start":4666,"end":4670},"property":{"type":"Identifier","start":4671,"end":4678,"name":"_config"},"computed":false,"optional":false}}]}}}]}}},{"type":"MethodDefinition","start":4700,"end":7567,"static":false,"computed":false,"key":{"type":"Identifier","start":4704,"end":4715,"name":"collection$"},"kind":"get","value":{"type":"FunctionExpression","start":4715,"end":7567,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4718,"end":7567,"body":[{"type":"IfStatement","start":4728,"end":4800,"test":{"type":"MemberExpression","start":4732,"end":4749,"object":{"type":"ThisExpression","start":4732,"end":4736},"property":{"type":"Identifier","start":4737,"end":4749,"name":"_collection$"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":4751,"end":4800,"body":[{"type":"ReturnStatement","start":4765,"end":4790,"argument":{"type":"MemberExpression","start":4772,"end":4789,"object":{"type":"ThisExpression","start":4772,"end":4776},"property":{"type":"Identifier","start":4777,"end":4789,"name":"_collection$"},"computed":false,"optional":false}}]},"alternate":null},{"type":"VariableDeclaration","start":4809,"end":4837,"declarations":[{"type":"VariableDeclarator","start":4815,"end":4836,"id":{"type":"Identifier","start":4815,"end":4831,"name":"collectionSchema"},"init":{"type":"ObjectExpression","start":4834,"end":4836,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":4846,"end":5063,"expression":{"type":"AssignmentExpression","start":4846,"end":5062,"operator":"=","left":{"type":"MemberExpression","start":4846,"end":4880,"object":{"type":"Identifier","start":4846,"end":4862,"name":"collectionSchema"},"property":{"type":"MemberExpression","start":4863,"end":4879,"object":{"type":"MemberExpression","start":4863,"end":4874,"object":{"type":"ThisExpression","start":4863,"end":4867},"property":{"type":"Identifier","start":4868,"end":4874,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4875,"end":4879,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"CallExpression","start":4883,"end":5062,"callee":{"type":"Identifier","start":4883,"end":4903,"name":"getCollectionCreator"},"arguments":[{"type":"MemberExpression","start":4904,"end":4920,"object":{"type":"MemberExpression","start":4904,"end":4915,"object":{"type":"ThisExpression","start":4904,"end":4908},"property":{"type":"Identifier","start":4909,"end":4915,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4916,"end":4920,"name":"name"},"computed":false,"optional":false},{"type":"Identifier","start":4922,"end":4942,"name":"pwaCollectionMethods"},{"type":"Identifier","start":4944,"end":4957,"name":"pwaDocMethods"},{"type":"MemberExpression","start":4959,"end":4982,"object":{"type":"MemberExpression","start":4959,"end":4970,"object":{"type":"ThisExpression","start":4959,"end":4963},"property":{"type":"Identifier","start":4964,"end":4970,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4971,"end":4982,"name":"attachments"},"computed":false,"optional":false},{"type":"MemberExpression","start":4984,"end":5003,"object":{"type":"MemberExpression","start":4984,"end":4995,"object":{"type":"ThisExpression","start":4984,"end":4988},"property":{"type":"Identifier","start":4989,"end":4995,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4996,"end":5003,"name":"options"},"computed":false,"optional":false},{"type":"MemberExpression","start":5005,"end":5036,"object":{"type":"MemberExpression","start":5005,"end":5016,"object":{"type":"ThisExpression","start":5005,"end":5009},"property":{"type":"Identifier","start":5010,"end":5016,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5017,"end":5036,"name":"migrationStrategies"},"computed":false,"optional":false},{"type":"MemberExpression","start":5038,"end":5061,"object":{"type":"MemberExpression","start":5038,"end":5049,"object":{"type":"ThisExpression","start":5038,"end":5042},"property":{"type":"Identifier","start":5043,"end":5049,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5050,"end":5061,"name":"autoMigrate"},"computed":false,"optional":false}],"optional":false}}},{"type":"ExpressionStatement","start":5072,"end":7527,"expression":{"type":"AssignmentExpression","start":5072,"end":7526,"operator":"=","left":{"type":"MemberExpression","start":5072,"end":5089,"object":{"type":"ThisExpression","start":5072,"end":5076},"property":{"type":"Identifier","start":5077,"end":5089,"name":"_collection$"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":5092,"end":7526,"callee":{"type":"MemberExpression","start":5092,"end":5112,"object":{"type":"MemberExpression","start":5092,"end":5107,"object":{"type":"MemberExpression","start":5092,"end":5103,"object":{"type":"ThisExpression","start":5092,"end":5096},"property":{"type":"Identifier","start":5097,"end":5103,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5104,"end":5107,"name":"db$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5108,"end":5112,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":5113,"end":7293,"callee":{"type":"Identifier","start":5113,"end":5122,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":5123,"end":7292,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5123,"end":5125,"name":"db"}],"body":{"type":"BlockStatement","start":5129,"end":7292,"body":[{"type":"IfStatement","start":5143,"end":5235,"test":{"type":"BinaryExpression","start":5147,"end":5169,"left":{"type":"MemberExpression","start":5147,"end":5163,"object":{"type":"MemberExpression","start":5147,"end":5158,"object":{"type":"ThisExpression","start":5147,"end":5151},"property":{"type":"Identifier","start":5152,"end":5158,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5159,"end":5163,"name":"name"},"computed":false,"optional":false},"operator":"in","right":{"type":"Identifier","start":5167,"end":5169,"name":"db"}},"consequent":{"type":"BlockStatement","start":5171,"end":5235,"body":[{"type":"ReturnStatement","start":5189,"end":5221,"argument":{"type":"CallExpression","start":5196,"end":5220,"callee":{"type":"Identifier","start":5196,"end":5198,"name":"of"},"arguments":[{"type":"MemberExpression","start":5199,"end":5219,"object":{"type":"Identifier","start":5199,"end":5201,"name":"db"},"property":{"type":"MemberExpression","start":5202,"end":5218,"object":{"type":"MemberExpression","start":5202,"end":5213,"object":{"type":"ThisExpression","start":5202,"end":5206},"property":{"type":"Identifier","start":5207,"end":5213,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5214,"end":5218,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":5248,"end":7282,"argument":{"type":"CallExpression","start":5255,"end":7281,"callee":{"type":"MemberExpression","start":5255,"end":5452,"object":{"type":"CallExpression","start":5255,"end":5447,"callee":{"type":"Identifier","start":5255,"end":5268,"name":"combineLatest"},"arguments":[{"type":"ArrayExpression","start":5269,"end":5446,"elements":[{"type":"CallExpression","start":5287,"end":5328,"callee":{"type":"Identifier","start":5287,"end":5291,"name":"from"},"arguments":[{"type":"CallExpression","start":5292,"end":5327,"callee":{"type":"MemberExpression","start":5292,"end":5309,"object":{"type":"Identifier","start":5292,"end":5294,"name":"db"},"property":{"type":"Identifier","start":5295,"end":5309,"name":"addCollections"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5310,"end":5326,"name":"collectionSchema"}],"optional":false}],"optional":false},{"type":"MemberExpression","start":5346,"end":5378,"object":{"type":"MemberExpression","start":5346,"end":5357,"object":{"type":"ThisExpression","start":5346,"end":5350},"property":{"type":"Identifier","start":5351,"end":5357,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5358,"end":5378,"name":"collectionEvictTime$"},"computed":false,"optional":false},{"type":"MemberExpression","start":5396,"end":5432,"object":{"type":"MemberExpression","start":5396,"end":5407,"object":{"type":"ThisExpression","start":5396,"end":5400},"property":{"type":"Identifier","start":5401,"end":5407,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5408,"end":5432,"name":"collectionSkipDocuments$"},"computed":false,"optional":false}]}],"optional":false},"property":{"type":"Identifier","start":5448,"end":5452,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":5453,"end":5460,"callee":{"type":"Identifier","start":5453,"end":5457,"name":"take"},"arguments":[{"type":"Literal","start":5458,"end":5459,"value":1,"raw":"1"}],"optional":false},{"type":"CallExpression","start":5462,"end":7280,"callee":{"type":"Identifier","start":5462,"end":5471,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":5472,"end":7279,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ArrayPattern","start":5473,"end":5532,"elements":[{"type":"Identifier","start":5474,"end":5485,"name":"collections"},{"type":"Identifier","start":5487,"end":5506,"name":"collectionEvictTime"},{"type":"Identifier","start":5508,"end":5531,"name":"collectionSkipDocuments"}]}],"body":{"type":"BlockStatement","start":5537,"end":7279,"body":[{"type":"IfStatement","start":5555,"end":7265,"test":{"type":"MemberExpression","start":5559,"end":5589,"object":{"type":"MemberExpression","start":5559,"end":5570,"object":{"type":"ThisExpression","start":5559,"end":5563},"property":{"type":"Identifier","start":5564,"end":5570,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5571,"end":5589,"name":"synchroniseService"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":5591,"end":7133,"body":[{"type":"VariableDeclaration","start":5613,"end":6980,"declarations":[{"type":"VariableDeclarator","start":5619,"end":6979,"id":{"type":"Identifier","start":5619,"end":5623,"name":"data"},"init":{"type":"ObjectExpression","start":5626,"end":6979,"properties":[{"type":"Property","start":5652,"end":5688,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5652,"end":5654,"name":"id"},"value":{"type":"BinaryExpression","start":5656,"end":5688,"left":{"type":"BinaryExpression","start":5656,"end":5669,"left":{"type":"MemberExpression","start":5656,"end":5663,"object":{"type":"Identifier","start":5656,"end":5658,"name":"db"},"property":{"type":"Identifier","start":5659,"end":5663,"name":"name"},"computed":false,"optional":false},"operator":"+","right":{"type":"Literal","start":5666,"end":5669,"value":"-","raw":"'-'"}},"operator":"+","right":{"type":"MemberExpression","start":5672,"end":5688,"object":{"type":"MemberExpression","start":5672,"end":5683,"object":{"type":"ThisExpression","start":5672,"end":5676},"property":{"type":"Identifier","start":5677,"end":5683,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5684,"end":5688,"name":"name"},"computed":false,"optional":false}},"kind":"init"},{"type":"Property","start":5714,"end":6035,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5714,"end":5729,"name":"databaseOptions"},"value":{"type":"CallExpression","start":5731,"end":6035,"callee":{"type":"MemberExpression","start":5731,"end":5745,"object":{"type":"Identifier","start":5731,"end":5735,"name":"JSON"},"property":{"type":"Identifier","start":5736,"end":5745,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":5746,"end":6034,"properties":[{"type":"Property","start":5776,"end":5789,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5776,"end":5780,"name":"name"},"value":{"type":"MemberExpression","start":5782,"end":5789,"object":{"type":"Identifier","start":5782,"end":5784,"name":"db"},"property":{"type":"Identifier","start":5785,"end":5789,"name":"name"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":5819,"end":5846,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5819,"end":5830,"name":"eventReduce"},"value":{"type":"MemberExpression","start":5832,"end":5846,"object":{"type":"Identifier","start":5832,"end":5834,"name":"db"},"property":{"type":"Identifier","start":5835,"end":5846,"name":"eventReduce"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":5876,"end":5907,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5876,"end":5889,"name":"multiInstance"},"value":{"type":"MemberExpression","start":5891,"end":5907,"object":{"type":"Identifier","start":5891,"end":5893,"name":"db"},"property":{"type":"Identifier","start":5894,"end":5907,"name":"multiInstance"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":5937,"end":5956,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5937,"end":5944,"name":"options"},"value":{"type":"MemberExpression","start":5946,"end":5956,"object":{"type":"Identifier","start":5946,"end":5948,"name":"db"},"property":{"type":"Identifier","start":5949,"end":5956,"name":"options"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":5986,"end":6007,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5986,"end":5994,"name":"password"},"value":{"type":"MemberExpression","start":5996,"end":6007,"object":{"type":"Identifier","start":5996,"end":5998,"name":"db"},"property":{"type":"Identifier","start":5999,"end":6007,"name":"password"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false},"kind":"init"},{"type":"Property","start":6061,"end":6080,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6061,"end":6080,"name":"collectionEvictTime"},"kind":"init","value":{"type":"Identifier","start":6061,"end":6080,"name":"collectionEvictTime"}},{"type":"Property","start":6106,"end":6129,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":6106,"end":6129,"name":"collectionSkipDocuments"},"kind":"init","value":{"type":"Identifier","start":6106,"end":6129,"name":"collectionSkipDocuments"}},{"type":"Property","start":6155,"end":6187,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6155,"end":6169,"name":"collectionName"},"value":{"type":"MemberExpression","start":6171,"end":6187,"object":{"type":"MemberExpression","start":6171,"end":6182,"object":{"type":"ThisExpression","start":6171,"end":6175},"property":{"type":"Identifier","start":6176,"end":6182,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6183,"end":6187,"name":"name"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":6213,"end":6957,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6213,"end":6230,"name":"collectionOptions"},"value":{"type":"CallExpression","start":6232,"end":6957,"callee":{"type":"MemberExpression","start":6232,"end":6246,"object":{"type":"Identifier","start":6232,"end":6236,"name":"JSON"},"property":{"type":"Identifier","start":6237,"end":6246,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":6247,"end":6956,"properties":[{"type":"Property","start":6277,"end":6299,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6277,"end":6281,"name":"name"},"value":{"type":"MemberExpression","start":6283,"end":6299,"object":{"type":"MemberExpression","start":6283,"end":6294,"object":{"type":"ThisExpression","start":6283,"end":6287},"property":{"type":"Identifier","start":6288,"end":6294,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6295,"end":6299,"name":"name"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":6329,"end":6364,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6329,"end":6335,"name":"schema"},"value":{"type":"CallExpression","start":6337,"end":6364,"callee":{"type":"Identifier","start":6337,"end":6346,"name":"getSchema"},"arguments":[{"type":"MemberExpression","start":6347,"end":6363,"object":{"type":"MemberExpression","start":6347,"end":6358,"object":{"type":"ThisExpression","start":6347,"end":6351},"property":{"type":"Identifier","start":6352,"end":6358,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6359,"end":6363,"name":"name"},"computed":false,"optional":false}],"optional":false},"kind":"init"},{"type":"Property","start":6394,"end":6448,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6394,"end":6405,"name":"attachments"},"value":{"type":"MemberExpression","start":6407,"end":6448,"object":{"type":"MemberExpression","start":6407,"end":6436,"object":{"type":"Identifier","start":6407,"end":6418,"name":"collections"},"property":{"type":"MemberExpression","start":6419,"end":6435,"object":{"type":"MemberExpression","start":6419,"end":6430,"object":{"type":"ThisExpression","start":6419,"end":6423},"property":{"type":"Identifier","start":6424,"end":6430,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6431,"end":6435,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":6437,"end":6448,"name":"attachments"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":6478,"end":6495,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6478,"end":6489,"name":"autoMigrate"},"value":{"type":"Literal","start":6491,"end":6495,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":6525,"end":6601,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6525,"end":6547,"name":"cacheReplacementPolicy"},"value":{"type":"MemberExpression","start":6549,"end":6601,"object":{"type":"MemberExpression","start":6549,"end":6578,"object":{"type":"Identifier","start":6549,"end":6560,"name":"collections"},"property":{"type":"MemberExpression","start":6561,"end":6577,"object":{"type":"MemberExpression","start":6561,"end":6572,"object":{"type":"ThisExpression","start":6561,"end":6565},"property":{"type":"Identifier","start":6566,"end":6572,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6573,"end":6577,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":6579,"end":6601,"name":"cacheReplacementPolicy"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":6631,"end":6677,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6631,"end":6638,"name":"methods"},"value":{"type":"MemberExpression","start":6640,"end":6677,"object":{"type":"MemberExpression","start":6640,"end":6669,"object":{"type":"Identifier","start":6640,"end":6651,"name":"collections"},"property":{"type":"MemberExpression","start":6652,"end":6668,"object":{"type":"MemberExpression","start":6652,"end":6663,"object":{"type":"ThisExpression","start":6652,"end":6656},"property":{"type":"Identifier","start":6657,"end":6663,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6664,"end":6668,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":6670,"end":6677,"name":"methods"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":6707,"end":6777,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6707,"end":6726,"name":"migrationStrategies"},"value":{"type":"MemberExpression","start":6728,"end":6777,"object":{"type":"MemberExpression","start":6728,"end":6757,"object":{"type":"Identifier","start":6728,"end":6739,"name":"collections"},"property":{"type":"MemberExpression","start":6740,"end":6756,"object":{"type":"MemberExpression","start":6740,"end":6751,"object":{"type":"ThisExpression","start":6740,"end":6744},"property":{"type":"Identifier","start":6745,"end":6751,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6752,"end":6756,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":6758,"end":6777,"name":"migrationStrategies"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":6807,"end":6853,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6807,"end":6814,"name":"options"},"value":{"type":"MemberExpression","start":6816,"end":6853,"object":{"type":"MemberExpression","start":6816,"end":6845,"object":{"type":"Identifier","start":6816,"end":6827,"name":"collections"},"property":{"type":"MemberExpression","start":6828,"end":6844,"object":{"type":"MemberExpression","start":6828,"end":6839,"object":{"type":"ThisExpression","start":6828,"end":6832},"property":{"type":"Identifier","start":6833,"end":6839,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6840,"end":6844,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":6846,"end":6853,"name":"options"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":6883,"end":6929,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6883,"end":6890,"name":"statics"},"value":{"type":"MemberExpression","start":6892,"end":6929,"object":{"type":"MemberExpression","start":6892,"end":6921,"object":{"type":"Identifier","start":6892,"end":6903,"name":"collections"},"property":{"type":"MemberExpression","start":6904,"end":6920,"object":{"type":"MemberExpression","start":6904,"end":6915,"object":{"type":"ThisExpression","start":6904,"end":6908},"property":{"type":"Identifier","start":6909,"end":6915,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6916,"end":6920,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false},"property":{"type":"Identifier","start":6922,"end":6929,"name":"statics"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false},"kind":"init"}]}}],"kind":"const"},{"type":"ReturnStatement","start":7001,"end":7115,"argument":{"type":"CallExpression","start":7008,"end":7114,"callee":{"type":"MemberExpression","start":7008,"end":7072,"object":{"type":"CallExpression","start":7008,"end":7067,"callee":{"type":"MemberExpression","start":7008,"end":7061,"object":{"type":"MemberExpression","start":7008,"end":7038,"object":{"type":"MemberExpression","start":7008,"end":7019,"object":{"type":"ThisExpression","start":7008,"end":7012},"property":{"type":"Identifier","start":7013,"end":7019,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7020,"end":7038,"name":"synchroniseService"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7039,"end":7061,"name":"addSynchroniseDocument"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7062,"end":7066,"name":"data"}],"optional":false},"property":{"type":"Identifier","start":7068,"end":7072,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":7073,"end":7113,"callee":{"type":"Identifier","start":7073,"end":7076,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":7077,"end":7112,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"MemberExpression","start":7083,"end":7112,"object":{"type":"Identifier","start":7083,"end":7094,"name":"collections"},"property":{"type":"MemberExpression","start":7095,"end":7111,"object":{"type":"MemberExpression","start":7095,"end":7106,"object":{"type":"ThisExpression","start":7095,"end":7099},"property":{"type":"Identifier","start":7100,"end":7106,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7107,"end":7111,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false}}],"optional":false}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":7155,"end":7265,"body":[{"type":"ReturnStatement","start":7177,"end":7247,"argument":{"type":"CallExpression","start":7184,"end":7246,"callee":{"type":"MemberExpression","start":7184,"end":7204,"object":{"type":"CallExpression","start":7184,"end":7199,"callee":{"type":"Identifier","start":7184,"end":7186,"name":"of"},"arguments":[{"type":"Identifier","start":7187,"end":7198,"name":"collections"}],"optional":false},"property":{"type":"Identifier","start":7200,"end":7204,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":7205,"end":7245,"callee":{"type":"Identifier","start":7205,"end":7208,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":7209,"end":7244,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"MemberExpression","start":7215,"end":7244,"object":{"type":"Identifier","start":7215,"end":7226,"name":"collections"},"property":{"type":"MemberExpression","start":7227,"end":7243,"object":{"type":"MemberExpression","start":7227,"end":7238,"object":{"type":"ThisExpression","start":7227,"end":7231},"property":{"type":"Identifier","start":7232,"end":7238,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7239,"end":7243,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false}}],"optional":false}],"optional":false}}]}}]}}],"optional":false}],"optional":false}}]}}],"optional":false},{"type":"CallExpression","start":7295,"end":7500,"callee":{"type":"Identifier","start":7295,"end":7298,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":7299,"end":7499,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7299,"end":7302,"name":"col"}],"body":{"type":"CallExpression","start":7306,"end":7499,"callee":{"type":"MemberExpression","start":7306,"end":7317,"object":{"type":"Identifier","start":7306,"end":7309,"name":"col"},"property":{"type":"Identifier","start":7310,"end":7317,"name":"preSave"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7318,"end":7491,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7319,"end":7328,"name":"plainData"},{"type":"Identifier","start":7330,"end":7340,"name":"rxDocument"}],"body":{"type":"BlockStatement","start":7345,"end":7491,"body":[{"type":"ExpressionStatement","start":7359,"end":7425,"expression":{"type":"AssignmentExpression","start":7359,"end":7424,"operator":"=","left":{"type":"MemberExpression","start":7359,"end":7378,"object":{"type":"Identifier","start":7359,"end":7368,"name":"plainData"},"property":{"type":"Identifier","start":7369,"end":7378,"name":"createdAt"},"computed":false,"optional":false},"right":{"type":"LogicalExpression","start":7381,"end":7424,"left":{"type":"MemberExpression","start":7381,"end":7400,"object":{"type":"Identifier","start":7381,"end":7390,"name":"plainData"},"property":{"type":"Identifier","start":7391,"end":7400,"name":"createdAt"},"computed":false,"optional":false},"operator":"||","right":{"type":"CallExpression","start":7404,"end":7424,"callee":{"type":"MemberExpression","start":7404,"end":7422,"object":{"type":"NewExpression","start":7404,"end":7414,"callee":{"type":"Identifier","start":7408,"end":7412,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":7415,"end":7422,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false}}}},{"type":"ExpressionStatement","start":7438,"end":7481,"expression":{"type":"AssignmentExpression","start":7438,"end":7480,"operator":"=","left":{"type":"MemberExpression","start":7438,"end":7457,"object":{"type":"Identifier","start":7438,"end":7447,"name":"plainData"},"property":{"type":"Identifier","start":7448,"end":7457,"name":"updatedAt"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":7460,"end":7480,"callee":{"type":"MemberExpression","start":7460,"end":7478,"object":{"type":"NewExpression","start":7460,"end":7470,"callee":{"type":"Identifier","start":7464,"end":7468,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":7471,"end":7478,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false}}}]}},{"type":"Literal","start":7493,"end":7498,"value":false,"raw":"false"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":7502,"end":7516,"callee":{"type":"Identifier","start":7502,"end":7513,"name":"shareReplay"},"arguments":[{"type":"Literal","start":7514,"end":7515,"value":1,"raw":"1"}],"optional":false},{"type":"CallExpression","start":7518,"end":7525,"callee":{"type":"Identifier","start":7518,"end":7522,"name":"take"},"arguments":[{"type":"Literal","start":7523,"end":7524,"value":1,"raw":"1"}],"optional":false}],"optional":false}}},{"type":"ReturnStatement","start":7536,"end":7561,"argument":{"type":"MemberExpression","start":7543,"end":7560,"object":{"type":"ThisExpression","start":7543,"end":7547},"property":{"type":"Identifier","start":7548,"end":7560,"name":"_collection$"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":7572,"end":7644,"static":false,"computed":false,"key":{"type":"Identifier","start":7572,"end":7585,"name":"makeTenantUrl"},"kind":"method","value":{"type":"FunctionExpression","start":7585,"end":7644,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7586,"end":7592,"name":"tenant"},{"type":"Identifier","start":7594,"end":7597,"name":"url"}],"body":{"type":"BlockStatement","start":7599,"end":7644,"body":[{"type":"ReturnStatement","start":7609,"end":7638,"argument":{"type":"TemplateLiteral","start":7616,"end":7637,"expressions":[{"type":"Identifier","start":7619,"end":7625,"name":"tenant"},{"type":"Identifier","start":7632,"end":7635,"name":"url"}],"quasis":[{"type":"TemplateElement","start":7617,"end":7617,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":7626,"end":7630,"value":{"raw":"____","cooked":"____"},"tail":false},{"type":"TemplateElement","start":7636,"end":7636,"value":{"raw":"","cooked":""},"tail":true}]}}]}}},{"type":"MethodDefinition","start":7649,"end":8292,"static":false,"computed":false,"key":{"type":"Identifier","start":7649,"end":7659,"name":"filterDocs"},"kind":"method","value":{"type":"FunctionExpression","start":7659,"end":8292,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7660,"end":7664,"name":"docs"},{"type":"Identifier","start":7666,"end":7669,"name":"url"},{"type":"Identifier","start":7671,"end":7677,"name":"params"},{"type":"AssignmentPattern","start":7679,"end":7698,"left":{"type":"Identifier","start":7679,"end":7693,"name":"validQueryKeys"},"right":{"type":"ArrayExpression","start":7696,"end":7698,"elements":[]}}],"body":{"type":"BlockStatement","start":7700,"end":8292,"body":[{"type":"ReturnStatement","start":7710,"end":8286,"argument":{"type":"CallExpression","start":7717,"end":8285,"callee":{"type":"MemberExpression","start":7717,"end":7726,"object":{"type":"Identifier","start":7717,"end":7721,"name":"docs"},"property":{"type":"Identifier","start":7722,"end":7726,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":7727,"end":7787,"callee":{"type":"Identifier","start":7727,"end":7730,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":7731,"end":7786,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7731,"end":7738,"name":"allDocs"}],"body":{"type":"CallExpression","start":7742,"end":7786,"callee":{"type":"Identifier","start":7742,"end":7753,"name":"queryFilter"},"arguments":[{"type":"Identifier","start":7754,"end":7768,"name":"validQueryKeys"},{"type":"Identifier","start":7770,"end":7776,"name":"params"},{"type":"Identifier","start":7778,"end":7785,"name":"allDocs"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":7789,"end":8284,"callee":{"type":"Identifier","start":7789,"end":7792,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":7793,"end":8283,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7793,"end":7800,"name":"allDocs"}],"body":{"type":"BlockStatement","start":7804,"end":8283,"body":[{"type":"VariableDeclaration","start":7818,"end":7871,"declarations":[{"type":"VariableDeclarator","start":7824,"end":7870,"id":{"type":"Identifier","start":7824,"end":7829,"name":"start"},"init":{"type":"CallExpression","start":7832,"end":7870,"callee":{"type":"Identifier","start":7832,"end":7840,"name":"parseInt"},"arguments":[{"type":"LogicalExpression","start":7841,"end":7869,"left":{"type":"ChainExpression","start":7841,"end":7862,"expression":{"type":"CallExpression","start":7841,"end":7862,"callee":{"type":"MemberExpression","start":7841,"end":7852,"object":{"type":"Identifier","start":7841,"end":7847,"name":"params"},"property":{"type":"Identifier","start":7849,"end":7852,"name":"get"},"computed":false,"optional":true},"arguments":[{"type":"Literal","start":7853,"end":7861,"value":"offset","raw":"'offset'"}],"optional":false}},"operator":"||","right":{"type":"Literal","start":7866,"end":7869,"value":"0","raw":"'0'"}}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":7884,"end":7944,"declarations":[{"type":"VariableDeclarator","start":7890,"end":7943,"id":{"type":"Identifier","start":7890,"end":7893,"name":"end"},"init":{"type":"BinaryExpression","start":7896,"end":7943,"left":{"type":"Identifier","start":7896,"end":7901,"name":"start"},"operator":"+","right":{"type":"CallExpression","start":7904,"end":7943,"callee":{"type":"Identifier","start":7904,"end":7912,"name":"parseInt"},"arguments":[{"type":"LogicalExpression","start":7913,"end":7942,"left":{"type":"ChainExpression","start":7913,"end":7933,"expression":{"type":"CallExpression","start":7913,"end":7933,"callee":{"type":"MemberExpression","start":7913,"end":7924,"object":{"type":"Identifier","start":7913,"end":7919,"name":"params"},"property":{"type":"Identifier","start":7921,"end":7924,"name":"get"},"computed":false,"optional":true},"arguments":[{"type":"Literal","start":7925,"end":7932,"value":"limit","raw":"'limit'"}],"optional":false}},"operator":"||","right":{"type":"Literal","start":7937,"end":7942,"value":"100","raw":"'100'"}}],"optional":false}}}],"kind":"const"},{"type":"VariableDeclaration","start":7957,"end":8064,"declarations":[{"type":"VariableDeclarator","start":7963,"end":8063,"id":{"type":"Identifier","start":7963,"end":7967,"name":"next"},"init":{"type":"ConditionalExpression","start":7970,"end":8063,"test":{"type":"BinaryExpression","start":7970,"end":7994,"left":{"type":"BinaryExpression","start":7970,"end":7990,"left":{"type":"MemberExpression","start":7970,"end":7984,"object":{"type":"Identifier","start":7970,"end":7977,"name":"allDocs"},"property":{"type":"Identifier","start":7978,"end":7984,"name":"length"},"computed":false,"optional":false},"operator":"-","right":{"type":"Identifier","start":7987,"end":7990,"name":"end"}},"operator":">","right":{"type":"Literal","start":7993,"end":7994,"value":0,"raw":"0"}},"consequent":{"type":"TemplateLiteral","start":7997,"end":8056,"expressions":[{"type":"Identifier","start":8000,"end":8003,"name":"url"},{"type":"CallExpression","start":8007,"end":8054,"callee":{"type":"MemberExpression","start":8007,"end":8052,"object":{"type":"CallExpression","start":8007,"end":8043,"callee":{"type":"MemberExpression","start":8007,"end":8017,"object":{"type":"Identifier","start":8007,"end":8013,"name":"params"},"property":{"type":"Identifier","start":8014,"end":8017,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8018,"end":8026,"value":"offset","raw":"'offset'"},{"type":"CallExpression","start":8028,"end":8042,"callee":{"type":"MemberExpression","start":8028,"end":8040,"object":{"type":"Identifier","start":8028,"end":8031,"name":"end"},"property":{"type":"Identifier","start":8032,"end":8040,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false},"property":{"type":"Identifier","start":8044,"end":8052,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"quasis":[{"type":"TemplateElement","start":7998,"end":7998,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":8004,"end":8005,"value":{"raw":"?","cooked":"?"},"tail":false},{"type":"TemplateElement","start":8055,"end":8055,"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"Literal","start":8059,"end":8063,"value":null,"raw":"null"}}}],"kind":"const"},{"type":"VariableDeclaration","start":8077,"end":8175,"declarations":[{"type":"VariableDeclarator","start":8083,"end":8174,"id":{"type":"Identifier","start":8083,"end":8091,"name":"previous"},"init":{"type":"ConditionalExpression","start":8094,"end":8174,"test":{"type":"BinaryExpression","start":8094,"end":8103,"left":{"type":"Identifier","start":8094,"end":8099,"name":"start"},"operator":">","right":{"type":"Literal","start":8102,"end":8103,"value":0,"raw":"0"}},"consequent":{"type":"TemplateLiteral","start":8106,"end":8167,"expressions":[{"type":"Identifier","start":8109,"end":8112,"name":"url"},{"type":"CallExpression","start":8116,"end":8165,"callee":{"type":"MemberExpression","start":8116,"end":8163,"object":{"type":"CallExpression","start":8116,"end":8154,"callee":{"type":"MemberExpression","start":8116,"end":8126,"object":{"type":"Identifier","start":8116,"end":8122,"name":"params"},"property":{"type":"Identifier","start":8123,"end":8126,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8127,"end":8135,"value":"offset","raw":"'offset'"},{"type":"CallExpression","start":8137,"end":8153,"callee":{"type":"MemberExpression","start":8137,"end":8151,"object":{"type":"Identifier","start":8137,"end":8142,"name":"start"},"property":{"type":"Identifier","start":8143,"end":8151,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false},"property":{"type":"Identifier","start":8155,"end":8163,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"quasis":[{"type":"TemplateElement","start":8107,"end":8107,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":8113,"end":8114,"value":{"raw":"?","cooked":"?"},"tail":false},{"type":"TemplateElement","start":8166,"end":8166,"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"Literal","start":8170,"end":8174,"value":null,"raw":"null"}}}],"kind":"const"},{"type":"ReturnStatement","start":8188,"end":8273,"argument":{"type":"ObjectExpression","start":8195,"end":8272,"properties":[{"type":"Property","start":8197,"end":8201,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8197,"end":8201,"name":"next"},"kind":"init","value":{"type":"Identifier","start":8197,"end":8201,"name":"next"}},{"type":"Property","start":8203,"end":8211,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":8203,"end":8211,"name":"previous"},"kind":"init","value":{"type":"Identifier","start":8203,"end":8211,"name":"previous"}},{"type":"Property","start":8213,"end":8247,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8213,"end":8220,"name":"results"},"value":{"type":"CallExpression","start":8222,"end":8247,"callee":{"type":"MemberExpression","start":8222,"end":8235,"object":{"type":"Identifier","start":8222,"end":8229,"name":"allDocs"},"property":{"type":"Identifier","start":8230,"end":8235,"name":"slice"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8236,"end":8241,"name":"start"},{"type":"Identifier","start":8243,"end":8246,"name":"end"}],"optional":false},"kind":"init"},{"type":"Property","start":8249,"end":8270,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8249,"end":8254,"name":"count"},"value":{"type":"MemberExpression","start":8256,"end":8270,"object":{"type":"Identifier","start":8256,"end":8263,"name":"allDocs"},"property":{"type":"Identifier","start":8264,"end":8270,"name":"length"},"computed":false,"optional":false},"kind":"init"}]}}]}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":8297,"end":8701,"static":false,"computed":false,"key":{"type":"Identifier","start":8297,"end":8308,"name":"getReactive"},"kind":"method","value":{"type":"FunctionExpression","start":8308,"end":8701,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8309,"end":8315,"name":"tenant"},{"type":"Identifier","start":8317,"end":8320,"name":"url"}],"body":{"type":"BlockStatement","start":8322,"end":8701,"body":[{"type":"VariableDeclaration","start":8332,"end":8362,"declarations":[{"type":"VariableDeclarator","start":8338,"end":8361,"id":{"type":"Identifier","start":8338,"end":8346,"name":"cacheKey"},"init":{"type":"BinaryExpression","start":8349,"end":8361,"left":{"type":"Identifier","start":8349,"end":8355,"name":"tenant"},"operator":"+","right":{"type":"Identifier","start":8358,"end":8361,"name":"url"}}}],"kind":"const"},{"type":"IfStatement","start":8371,"end":8654,"test":{"type":"UnaryExpression","start":8375,"end":8400,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":8376,"end":8400,"callee":{"type":"MemberExpression","start":8376,"end":8390,"object":{"type":"MemberExpression","start":8376,"end":8386,"object":{"type":"ThisExpression","start":8376,"end":8380},"property":{"type":"Identifier","start":8381,"end":8386,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8387,"end":8390,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8391,"end":8399,"name":"cacheKey"}],"optional":false}},"consequent":{"type":"BlockStatement","start":8402,"end":8654,"body":[{"type":"VariableDeclaration","start":8416,"end":8601,"declarations":[{"type":"VariableDeclarator","start":8422,"end":8600,"id":{"type":"Identifier","start":8422,"end":8425,"name":"doc"},"init":{"type":"CallExpression","start":8428,"end":8600,"callee":{"type":"MemberExpression","start":8428,"end":8449,"object":{"type":"MemberExpression","start":8428,"end":8444,"object":{"type":"ThisExpression","start":8428,"end":8432},"property":{"type":"Identifier","start":8433,"end":8444,"name":"collection$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8445,"end":8449,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8450,"end":8552,"callee":{"type":"Identifier","start":8450,"end":8459,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":8460,"end":8551,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8460,"end":8463,"name":"col"}],"body":{"type":"MemberExpression","start":8467,"end":8551,"object":{"type":"CallExpression","start":8467,"end":8549,"callee":{"type":"MemberExpression","start":8467,"end":8478,"object":{"type":"Identifier","start":8467,"end":8470,"name":"col"},"property":{"type":"Identifier","start":8471,"end":8478,"name":"findOne"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":8479,"end":8548,"properties":[{"type":"Property","start":8481,"end":8546,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8481,"end":8489,"name":"selector"},"value":{"type":"ObjectExpression","start":8491,"end":8546,"properties":[{"type":"Property","start":8493,"end":8544,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8493,"end":8502,"name":"tenantUrl"},"value":{"type":"ObjectExpression","start":8504,"end":8544,"properties":[{"type":"Property","start":8506,"end":8542,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8506,"end":8509,"name":"$eq"},"value":{"type":"CallExpression","start":8511,"end":8542,"callee":{"type":"MemberExpression","start":8511,"end":8529,"object":{"type":"ThisExpression","start":8511,"end":8515},"property":{"type":"Identifier","start":8516,"end":8529,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8530,"end":8536,"name":"tenant"},{"type":"Identifier","start":8538,"end":8541,"name":"url"}],"optional":false},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":8550,"end":8551,"name":"$"},"computed":false,"optional":false}}],"optional":false},{"type":"CallExpression","start":8554,"end":8568,"callee":{"type":"Identifier","start":8554,"end":8565,"name":"shareReplay"},"arguments":[{"type":"Literal","start":8566,"end":8567,"value":1,"raw":"1"}],"optional":false},{"type":"CallExpression","start":8570,"end":8599,"callee":{"type":"Identifier","start":8570,"end":8579,"name":"enterZone"},"arguments":[{"type":"MemberExpression","start":8580,"end":8598,"object":{"type":"MemberExpression","start":8580,"end":8591,"object":{"type":"ThisExpression","start":8580,"end":8584},"property":{"type":"Identifier","start":8585,"end":8591,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8592,"end":8598,"name":"ngZone"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":8614,"end":8644,"expression":{"type":"CallExpression","start":8614,"end":8643,"callee":{"type":"MemberExpression","start":8614,"end":8628,"object":{"type":"MemberExpression","start":8614,"end":8624,"object":{"type":"ThisExpression","start":8614,"end":8618},"property":{"type":"Identifier","start":8619,"end":8624,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8625,"end":8628,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8629,"end":8637,"name":"cacheKey"},{"type":"Identifier","start":8639,"end":8642,"name":"doc"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":8663,"end":8695,"argument":{"type":"CallExpression","start":8670,"end":8694,"callee":{"type":"MemberExpression","start":8670,"end":8684,"object":{"type":"MemberExpression","start":8670,"end":8680,"object":{"type":"ThisExpression","start":8670,"end":8674},"property":{"type":"Identifier","start":8675,"end":8680,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8681,"end":8684,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8685,"end":8693,"name":"cacheKey"}],"optional":false}}]}}},{"type":"MethodDefinition","start":8706,"end":8790,"static":false,"computed":false,"key":{"type":"Identifier","start":8706,"end":8709,"name":"get"},"kind":"method","value":{"type":"FunctionExpression","start":8709,"end":8790,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8710,"end":8716,"name":"tenant"},{"type":"Identifier","start":8718,"end":8721,"name":"url"}],"body":{"type":"BlockStatement","start":8723,"end":8790,"body":[{"type":"ReturnStatement","start":8733,"end":8784,"argument":{"type":"CallExpression","start":8740,"end":8783,"callee":{"type":"MemberExpression","start":8740,"end":8774,"object":{"type":"CallExpression","start":8740,"end":8769,"callee":{"type":"MemberExpression","start":8740,"end":8756,"object":{"type":"ThisExpression","start":8740,"end":8744},"property":{"type":"Identifier","start":8745,"end":8756,"name":"getReactive"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8757,"end":8763,"name":"tenant"},{"type":"Identifier","start":8765,"end":8768,"name":"url"}],"optional":false},"property":{"type":"Identifier","start":8770,"end":8774,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8775,"end":8782,"callee":{"type":"Identifier","start":8775,"end":8779,"name":"take"},"arguments":[{"type":"Literal","start":8780,"end":8781,"value":1,"raw":"1"}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":8795,"end":9301,"static":false,"computed":false,"key":{"type":"Identifier","start":8795,"end":8807,"name":"listReactive"},"kind":"method","value":{"type":"FunctionExpression","start":8807,"end":9301,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8808,"end":8814,"name":"tenant"},{"type":"Identifier","start":8816,"end":8819,"name":"url"},{"type":"Identifier","start":8821,"end":8827,"name":"params"},{"type":"AssignmentPattern","start":8829,"end":8848,"left":{"type":"Identifier","start":8829,"end":8843,"name":"validQueryKeys"},"right":{"type":"ArrayExpression","start":8846,"end":8848,"elements":[]}}],"body":{"type":"BlockStatement","start":8850,"end":9301,"body":[{"type":"VariableDeclaration","start":8860,"end":8890,"declarations":[{"type":"VariableDeclarator","start":8866,"end":8889,"id":{"type":"Identifier","start":8866,"end":8874,"name":"cacheKey"},"init":{"type":"BinaryExpression","start":8877,"end":8889,"left":{"type":"Identifier","start":8877,"end":8883,"name":"tenant"},"operator":"+","right":{"type":"Identifier","start":8886,"end":8889,"name":"url"}}}],"kind":"const"},{"type":"IfStatement","start":8899,"end":9172,"test":{"type":"UnaryExpression","start":8903,"end":8928,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":8904,"end":8928,"callee":{"type":"MemberExpression","start":8904,"end":8918,"object":{"type":"MemberExpression","start":8904,"end":8914,"object":{"type":"ThisExpression","start":8904,"end":8908},"property":{"type":"Identifier","start":8909,"end":8914,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8915,"end":8918,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8919,"end":8927,"name":"cacheKey"}],"optional":false}},"consequent":{"type":"BlockStatement","start":8930,"end":9172,"body":[{"type":"VariableDeclaration","start":8944,"end":9118,"declarations":[{"type":"VariableDeclarator","start":8950,"end":9117,"id":{"type":"Identifier","start":8950,"end":8954,"name":"docs"},"init":{"type":"CallExpression","start":8957,"end":9117,"callee":{"type":"MemberExpression","start":8957,"end":8978,"object":{"type":"MemberExpression","start":8957,"end":8973,"object":{"type":"ThisExpression","start":8957,"end":8961},"property":{"type":"Identifier","start":8962,"end":8973,"name":"collection$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8974,"end":8978,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8979,"end":9100,"callee":{"type":"Identifier","start":8979,"end":8988,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":8989,"end":9099,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8989,"end":8992,"name":"col"}],"body":{"type":"MemberExpression","start":8996,"end":9099,"object":{"type":"CallExpression","start":8996,"end":9097,"callee":{"type":"MemberExpression","start":8996,"end":9004,"object":{"type":"Identifier","start":8996,"end":8999,"name":"col"},"property":{"type":"Identifier","start":9000,"end":9004,"name":"find"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":9005,"end":9096,"properties":[{"type":"Property","start":9007,"end":9094,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9007,"end":9015,"name":"selector"},"value":{"type":"ObjectExpression","start":9017,"end":9094,"properties":[{"type":"Property","start":9019,"end":9092,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9019,"end":9027,"name":"matchUrl"},"value":{"type":"ObjectExpression","start":9029,"end":9092,"properties":[{"type":"Property","start":9031,"end":9090,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9031,"end":9037,"name":"$regex"},"value":{"type":"NewExpression","start":9039,"end":9090,"callee":{"type":"Identifier","start":9043,"end":9049,"name":"RegExp"},"arguments":[{"type":"TemplateLiteral","start":9050,"end":9089,"expressions":[{"type":"CallExpression","start":9054,"end":9085,"callee":{"type":"MemberExpression","start":9054,"end":9072,"object":{"type":"ThisExpression","start":9054,"end":9058},"property":{"type":"Identifier","start":9059,"end":9072,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9073,"end":9079,"name":"tenant"},{"type":"Identifier","start":9081,"end":9084,"name":"url"}],"optional":false}],"quasis":[{"type":"TemplateElement","start":9051,"end":9052,"value":{"raw":"^","cooked":"^"},"tail":false},{"type":"TemplateElement","start":9086,"end":9088,"value":{"raw":".*","cooked":".*"},"tail":true}]}]},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":9098,"end":9099,"name":"$"},"computed":false,"optional":false}}],"optional":false},{"type":"CallExpression","start":9102,"end":9116,"callee":{"type":"Identifier","start":9102,"end":9113,"name":"shareReplay"},"arguments":[{"type":"Literal","start":9114,"end":9115,"value":1,"raw":"1"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":9131,"end":9162,"expression":{"type":"CallExpression","start":9131,"end":9161,"callee":{"type":"MemberExpression","start":9131,"end":9145,"object":{"type":"MemberExpression","start":9131,"end":9141,"object":{"type":"ThisExpression","start":9131,"end":9135},"property":{"type":"Identifier","start":9136,"end":9141,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9142,"end":9145,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9146,"end":9154,"name":"cacheKey"},{"type":"Identifier","start":9156,"end":9160,"name":"docs"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":9181,"end":9295,"argument":{"type":"CallExpression","start":9188,"end":9294,"callee":{"type":"MemberExpression","start":9188,"end":9263,"object":{"type":"CallExpression","start":9188,"end":9258,"callee":{"type":"MemberExpression","start":9188,"end":9203,"object":{"type":"ThisExpression","start":9188,"end":9192},"property":{"type":"Identifier","start":9193,"end":9203,"name":"filterDocs"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":9204,"end":9228,"callee":{"type":"MemberExpression","start":9204,"end":9218,"object":{"type":"MemberExpression","start":9204,"end":9214,"object":{"type":"ThisExpression","start":9204,"end":9208},"property":{"type":"Identifier","start":9209,"end":9214,"name":"cache"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9215,"end":9218,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9219,"end":9227,"name":"cacheKey"}],"optional":false},{"type":"Identifier","start":9230,"end":9233,"name":"url"},{"type":"Identifier","start":9235,"end":9241,"name":"params"},{"type":"Identifier","start":9243,"end":9257,"name":"validQueryKeys"}],"optional":false},"property":{"type":"Identifier","start":9259,"end":9263,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":9264,"end":9293,"callee":{"type":"Identifier","start":9264,"end":9273,"name":"enterZone"},"arguments":[{"type":"MemberExpression","start":9274,"end":9292,"object":{"type":"MemberExpression","start":9274,"end":9285,"object":{"type":"ThisExpression","start":9274,"end":9278},"property":{"type":"Identifier","start":9279,"end":9285,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9286,"end":9292,"name":"ngZone"},"computed":false,"optional":false}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":9306,"end":9445,"static":false,"computed":false,"key":{"type":"Identifier","start":9306,"end":9310,"name":"list"},"kind":"method","value":{"type":"FunctionExpression","start":9310,"end":9445,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9311,"end":9317,"name":"tenant"},{"type":"Identifier","start":9319,"end":9322,"name":"url"},{"type":"Identifier","start":9324,"end":9330,"name":"params"},{"type":"AssignmentPattern","start":9332,"end":9351,"left":{"type":"Identifier","start":9332,"end":9346,"name":"validQueryKeys"},"right":{"type":"ArrayExpression","start":9349,"end":9351,"elements":[]}}],"body":{"type":"BlockStatement","start":9353,"end":9445,"body":[{"type":"ReturnStatement","start":9363,"end":9439,"argument":{"type":"CallExpression","start":9370,"end":9438,"callee":{"type":"MemberExpression","start":9370,"end":9429,"object":{"type":"CallExpression","start":9370,"end":9424,"callee":{"type":"MemberExpression","start":9370,"end":9387,"object":{"type":"ThisExpression","start":9370,"end":9374},"property":{"type":"Identifier","start":9375,"end":9387,"name":"listReactive"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9388,"end":9394,"name":"tenant"},{"type":"Identifier","start":9396,"end":9399,"name":"url"},{"type":"Identifier","start":9401,"end":9407,"name":"params"},{"type":"Identifier","start":9409,"end":9423,"name":"validQueryKeys"}],"optional":false},"property":{"type":"Identifier","start":9425,"end":9429,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":9430,"end":9437,"callee":{"type":"Identifier","start":9430,"end":9434,"name":"take"},"arguments":[{"type":"Literal","start":9435,"end":9436,"value":1,"raw":"1"}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":9450,"end":9862,"static":false,"computed":false,"key":{"type":"Identifier","start":9450,"end":9454,"name":"post"},"kind":"method","value":{"type":"FunctionExpression","start":9454,"end":9862,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9455,"end":9461,"name":"tenant"},{"type":"Identifier","start":9463,"end":9466,"name":"url"},{"type":"Identifier","start":9468,"end":9472,"name":"data"},{"type":"AssignmentPattern","start":9474,"end":9489,"left":{"type":"Identifier","start":9474,"end":9484,"name":"fileFields"},"right":{"type":"ArrayExpression","start":9487,"end":9489,"elements":[]}}],"body":{"type":"BlockStatement","start":9491,"end":9862,"body":[{"type":"ReturnStatement","start":9501,"end":9856,"argument":{"type":"CallExpression","start":9508,"end":9855,"callee":{"type":"MemberExpression","start":9508,"end":9529,"object":{"type":"MemberExpression","start":9508,"end":9524,"object":{"type":"ThisExpression","start":9508,"end":9512},"property":{"type":"Identifier","start":9513,"end":9524,"name":"collection$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9525,"end":9529,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":9530,"end":9854,"callee":{"type":"Identifier","start":9530,"end":9539,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":9540,"end":9853,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":9540,"end":9543,"name":"col"}],"body":{"type":"CallExpression","start":9547,"end":9853,"callee":{"type":"MemberExpression","start":9547,"end":9563,"object":{"type":"Identifier","start":9547,"end":9550,"name":"col"},"property":{"type":"Identifier","start":9551,"end":9563,"name":"atomicUpsert"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":9564,"end":9852,"properties":[{"type":"Property","start":9578,"end":9636,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9578,"end":9587,"name":"tenantUrl"},"value":{"type":"TemplateLiteral","start":9589,"end":9636,"expressions":[{"type":"CallExpression","start":9592,"end":9623,"callee":{"type":"MemberExpression","start":9592,"end":9610,"object":{"type":"ThisExpression","start":9592,"end":9596},"property":{"type":"Identifier","start":9597,"end":9610,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9611,"end":9617,"name":"tenant"},{"type":"Identifier","start":9619,"end":9622,"name":"url"}],"optional":false},{"type":"MemberExpression","start":9627,"end":9634,"object":{"type":"Identifier","start":9627,"end":9631,"name":"data"},"property":{"type":"Identifier","start":9632,"end":9634,"name":"id"},"computed":false,"optional":false}],"quasis":[{"type":"TemplateElement","start":9590,"end":9590,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":9624,"end":9625,"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":9635,"end":9635,"value":{"raw":"","cooked":""},"tail":true}]},"kind":"init"},{"type":"Property","start":9650,"end":9707,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9650,"end":9658,"name":"matchUrl"},"value":{"type":"TemplateLiteral","start":9660,"end":9707,"expressions":[{"type":"CallExpression","start":9663,"end":9694,"callee":{"type":"MemberExpression","start":9663,"end":9681,"object":{"type":"ThisExpression","start":9663,"end":9667},"property":{"type":"Identifier","start":9668,"end":9681,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9682,"end":9688,"name":"tenant"},{"type":"Identifier","start":9690,"end":9693,"name":"url"}],"optional":false},{"type":"MemberExpression","start":9698,"end":9705,"object":{"type":"Identifier","start":9698,"end":9702,"name":"data"},"property":{"type":"Identifier","start":9703,"end":9705,"name":"id"},"computed":false,"optional":false}],"quasis":[{"type":"TemplateElement","start":9661,"end":9661,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":9695,"end":9696,"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":9706,"end":9706,"value":{"raw":"","cooked":""},"tail":true}]},"kind":"init"},{"type":"Property","start":9721,"end":9735,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9721,"end":9727,"name":"method"},"value":{"type":"Literal","start":9729,"end":9735,"value":"POST","raw":"'POST'"},"kind":"init"},{"type":"Property","start":9749,"end":9753,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":9749,"end":9753,"name":"data"},"kind":"init","value":{"type":"Identifier","start":9749,"end":9753,"name":"data"}},{"type":"Property","start":9767,"end":9778,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9767,"end":9772,"name":"error"},"value":{"type":"Literal","start":9774,"end":9778,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":9792,"end":9818,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9792,"end":9796,"name":"time"},"value":{"type":"CallExpression","start":9798,"end":9818,"callee":{"type":"MemberExpression","start":9798,"end":9816,"object":{"type":"NewExpression","start":9798,"end":9808,"callee":{"type":"Identifier","start":9802,"end":9806,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":9809,"end":9816,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"kind":"init"},{"type":"Property","start":9832,"end":9842,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":9832,"end":9842,"name":"fileFields"},"kind":"init","value":{"type":"Identifier","start":9832,"end":9842,"name":"fileFields"}}]}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":9867,"end":10810,"static":false,"computed":false,"key":{"type":"Identifier","start":9867,"end":9870,"name":"put"},"kind":"method","value":{"type":"FunctionExpression","start":9870,"end":10810,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9871,"end":9877,"name":"tenant"},{"type":"Identifier","start":9879,"end":9882,"name":"url"},{"type":"Identifier","start":9884,"end":9888,"name":"data"},{"type":"AssignmentPattern","start":9890,"end":9905,"left":{"type":"Identifier","start":9890,"end":9900,"name":"fileFields"},"right":{"type":"ArrayExpression","start":9903,"end":9905,"elements":[]}}],"body":{"type":"BlockStatement","start":9907,"end":10810,"body":[{"type":"ReturnStatement","start":9917,"end":10804,"argument":{"type":"CallExpression","start":9924,"end":10803,"callee":{"type":"MemberExpression","start":9924,"end":9985,"object":{"type":"CallExpression","start":9924,"end":9980,"callee":{"type":"Identifier","start":9924,"end":9937,"name":"combineLatest"},"arguments":[{"type":"ArrayExpression","start":9938,"end":9979,"elements":[{"type":"CallExpression","start":9939,"end":9960,"callee":{"type":"MemberExpression","start":9939,"end":9947,"object":{"type":"ThisExpression","start":9939,"end":9943},"property":{"type":"Identifier","start":9944,"end":9947,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9948,"end":9954,"name":"tenant"},{"type":"Identifier","start":9956,"end":9959,"name":"url"}],"optional":false},{"type":"MemberExpression","start":9962,"end":9978,"object":{"type":"ThisExpression","start":9962,"end":9966},"property":{"type":"Identifier","start":9967,"end":9978,"name":"collection$"},"computed":false,"optional":false}]}],"optional":false},"property":{"type":"Identifier","start":9981,"end":9985,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":9986,"end":10802,"callee":{"type":"Identifier","start":9986,"end":9995,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":9996,"end":10801,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ArrayPattern","start":9997,"end":10007,"elements":[{"type":"Identifier","start":9998,"end":10001,"name":"doc"},{"type":"Identifier","start":10003,"end":10006,"name":"col"}]}],"body":{"type":"BlockStatement","start":10012,"end":10801,"body":[{"type":"IfStatement","start":10026,"end":10791,"test":{"type":"Identifier","start":10030,"end":10033,"name":"doc"},"consequent":{"type":"BlockStatement","start":10035,"end":10355,"body":[{"type":"ReturnStatement","start":10053,"end":10341,"argument":{"type":"CallExpression","start":10060,"end":10340,"callee":{"type":"MemberExpression","start":10060,"end":10075,"object":{"type":"Identifier","start":10060,"end":10063,"name":"doc"},"property":{"type":"Identifier","start":10064,"end":10075,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":10076,"end":10339,"properties":[{"type":"Property","start":10098,"end":10148,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10098,"end":10104,"name":"method"},"value":{"type":"ConditionalExpression","start":10106,"end":10148,"test":{"type":"BinaryExpression","start":10106,"end":10127,"left":{"type":"MemberExpression","start":10106,"end":10116,"object":{"type":"Identifier","start":10106,"end":10109,"name":"doc"},"property":{"type":"Identifier","start":10110,"end":10116,"name":"method"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":10121,"end":10127,"value":"POST","raw":"'POST'"}},"consequent":{"type":"Literal","start":10130,"end":10135,"value":"PUT","raw":"'PUT'"},"alternate":{"type":"MemberExpression","start":10138,"end":10148,"object":{"type":"Identifier","start":10138,"end":10141,"name":"doc"},"property":{"type":"Identifier","start":10142,"end":10148,"name":"method"},"computed":false,"optional":false}},"kind":"init"},{"type":"Property","start":10170,"end":10174,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":10170,"end":10174,"name":"data"},"kind":"init","value":{"type":"Identifier","start":10170,"end":10174,"name":"data"}},{"type":"Property","start":10196,"end":10207,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10196,"end":10201,"name":"error"},"value":{"type":"Literal","start":10203,"end":10207,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":10229,"end":10289,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10229,"end":10233,"name":"time"},"value":{"type":"ConditionalExpression","start":10235,"end":10289,"test":{"type":"BinaryExpression","start":10235,"end":10255,"left":{"type":"MemberExpression","start":10235,"end":10245,"object":{"type":"Identifier","start":10235,"end":10238,"name":"doc"},"property":{"type":"Identifier","start":10239,"end":10245,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":10250,"end":10255,"value":"GET","raw":"'GET'"}},"consequent":{"type":"CallExpression","start":10258,"end":10278,"callee":{"type":"MemberExpression","start":10258,"end":10276,"object":{"type":"NewExpression","start":10258,"end":10268,"callee":{"type":"Identifier","start":10262,"end":10266,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":10269,"end":10276,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"alternate":{"type":"MemberExpression","start":10281,"end":10289,"object":{"type":"Identifier","start":10281,"end":10284,"name":"doc"},"property":{"type":"Identifier","start":10285,"end":10289,"name":"time"},"computed":false,"optional":false}},"kind":"init"},{"type":"Property","start":10311,"end":10321,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":10311,"end":10321,"name":"fileFields"},"kind":"init","value":{"type":"Identifier","start":10311,"end":10321,"name":"fileFields"}}]}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":10373,"end":10791,"body":[{"type":"VariableDeclaration","start":10391,"end":10727,"declarations":[{"type":"VariableDeclarator","start":10397,"end":10726,"id":{"type":"Identifier","start":10397,"end":10404,"name":"docData"},"init":{"type":"ObjectExpression","start":10407,"end":10726,"properties":[{"type":"Property","start":10429,"end":10471,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10429,"end":10438,"name":"tenantUrl"},"value":{"type":"CallExpression","start":10440,"end":10471,"callee":{"type":"MemberExpression","start":10440,"end":10458,"object":{"type":"ThisExpression","start":10440,"end":10444},"property":{"type":"Identifier","start":10445,"end":10458,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10459,"end":10465,"name":"tenant"},{"type":"Identifier","start":10467,"end":10470,"name":"url"}],"optional":false},"kind":"init"},{"type":"Property","start":10493,"end":10534,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10493,"end":10501,"name":"matchUrl"},"value":{"type":"CallExpression","start":10503,"end":10534,"callee":{"type":"MemberExpression","start":10503,"end":10521,"object":{"type":"ThisExpression","start":10503,"end":10507},"property":{"type":"Identifier","start":10508,"end":10521,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10522,"end":10528,"name":"tenant"},{"type":"Identifier","start":10530,"end":10533,"name":"url"}],"optional":false},"kind":"init"},{"type":"Property","start":10556,"end":10560,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":10556,"end":10560,"name":"data"},"kind":"init","value":{"type":"Identifier","start":10556,"end":10560,"name":"data"}},{"type":"Property","start":10582,"end":10595,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10582,"end":10588,"name":"method"},"value":{"type":"Literal","start":10590,"end":10595,"value":"PUT","raw":"'PUT'"},"kind":"init"},{"type":"Property","start":10617,"end":10628,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10617,"end":10622,"name":"error"},"value":{"type":"Literal","start":10624,"end":10628,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":10650,"end":10676,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10650,"end":10654,"name":"time"},"value":{"type":"CallExpression","start":10656,"end":10676,"callee":{"type":"MemberExpression","start":10656,"end":10674,"object":{"type":"NewExpression","start":10656,"end":10666,"callee":{"type":"Identifier","start":10660,"end":10664,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":10667,"end":10674,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"kind":"init"},{"type":"Property","start":10698,"end":10708,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":10698,"end":10708,"name":"fileFields"},"kind":"init","value":{"type":"Identifier","start":10698,"end":10708,"name":"fileFields"}}]}}],"kind":"const"},{"type":"ReturnStatement","start":10744,"end":10777,"argument":{"type":"CallExpression","start":10751,"end":10776,"callee":{"type":"MemberExpression","start":10751,"end":10767,"object":{"type":"Identifier","start":10751,"end":10754,"name":"col"},"property":{"type":"Identifier","start":10755,"end":10767,"name":"atomicUpsert"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10768,"end":10775,"name":"docData"}],"optional":false}}]}}]}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":10815,"end":11978,"static":false,"computed":false,"key":{"type":"Identifier","start":10815,"end":10821,"name":"delete"},"kind":"method","value":{"type":"FunctionExpression","start":10821,"end":11978,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10822,"end":10828,"name":"tenant"},{"type":"Identifier","start":10830,"end":10833,"name":"url"},{"type":"Identifier","start":10835,"end":10839,"name":"data"},{"type":"AssignmentPattern","start":10841,"end":10856,"left":{"type":"Identifier","start":10841,"end":10851,"name":"fileFields"},"right":{"type":"ArrayExpression","start":10854,"end":10856,"elements":[]}}],"body":{"type":"BlockStatement","start":10858,"end":11978,"body":[{"type":"ReturnStatement","start":10868,"end":11972,"argument":{"type":"CallExpression","start":10875,"end":11971,"callee":{"type":"MemberExpression","start":10875,"end":10901,"object":{"type":"CallExpression","start":10875,"end":10896,"callee":{"type":"MemberExpression","start":10875,"end":10883,"object":{"type":"ThisExpression","start":10875,"end":10879},"property":{"type":"Identifier","start":10880,"end":10883,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10884,"end":10890,"name":"tenant"},{"type":"Identifier","start":10892,"end":10895,"name":"url"}],"optional":false},"property":{"type":"Identifier","start":10897,"end":10901,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":10902,"end":11970,"callee":{"type":"Identifier","start":10902,"end":10911,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":10912,"end":11969,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10912,"end":10915,"name":"doc"}],"body":{"type":"BlockStatement","start":10919,"end":11969,"body":[{"type":"IfStatement","start":10933,"end":11959,"test":{"type":"LogicalExpression","start":10937,"end":10965,"left":{"type":"Identifier","start":10937,"end":10940,"name":"doc"},"operator":"&&","right":{"type":"BinaryExpression","start":10944,"end":10965,"left":{"type":"MemberExpression","start":10944,"end":10954,"object":{"type":"Identifier","start":10944,"end":10947,"name":"doc"},"property":{"type":"Identifier","start":10948,"end":10954,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":10959,"end":10965,"value":"POST","raw":"'POST'"}}},"consequent":{"type":"BlockStatement","start":10967,"end":11025,"body":[{"type":"ReturnStatement","start":10985,"end":11011,"argument":{"type":"CallExpression","start":10992,"end":11010,"callee":{"type":"Identifier","start":10992,"end":10996,"name":"from"},"arguments":[{"type":"CallExpression","start":10997,"end":11009,"callee":{"type":"MemberExpression","start":10997,"end":11007,"object":{"type":"Identifier","start":10997,"end":11000,"name":"doc"},"property":{"type":"Identifier","start":11001,"end":11007,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}]},"alternate":{"type":"IfStatement","start":11043,"end":11959,"test":{"type":"LogicalExpression","start":11047,"end":11103,"left":{"type":"Identifier","start":11047,"end":11050,"name":"doc"},"operator":"&&","right":{"type":"LogicalExpression","start":11055,"end":11102,"left":{"type":"BinaryExpression","start":11055,"end":11075,"left":{"type":"MemberExpression","start":11055,"end":11065,"object":{"type":"Identifier","start":11055,"end":11058,"name":"doc"},"property":{"type":"Identifier","start":11059,"end":11065,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":11070,"end":11075,"value":"PUT","raw":"'PUT'"}},"operator":"||","right":{"type":"BinaryExpression","start":11079,"end":11102,"left":{"type":"MemberExpression","start":11079,"end":11089,"object":{"type":"Identifier","start":11079,"end":11082,"name":"doc"},"property":{"type":"Identifier","start":11083,"end":11089,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":11094,"end":11102,"value":"DELETE","raw":"'DELETE'"}}}},"consequent":{"type":"BlockStatement","start":11105,"end":11201,"body":[{"type":"ReturnStatement","start":11123,"end":11187,"argument":{"type":"CallExpression","start":11130,"end":11186,"callee":{"type":"Identifier","start":11130,"end":11134,"name":"from"},"arguments":[{"type":"CallExpression","start":11135,"end":11185,"callee":{"type":"MemberExpression","start":11135,"end":11150,"object":{"type":"Identifier","start":11135,"end":11138,"name":"doc"},"property":{"type":"Identifier","start":11139,"end":11150,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":11151,"end":11184,"properties":[{"type":"Property","start":11153,"end":11169,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11153,"end":11159,"name":"method"},"value":{"type":"Literal","start":11161,"end":11169,"value":"DELETE","raw":"'DELETE'"},"kind":"init"},{"type":"Property","start":11171,"end":11182,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11171,"end":11176,"name":"error"},"value":{"type":"Literal","start":11178,"end":11182,"value":null,"raw":"null"},"kind":"init"}]}],"optional":false}],"optional":false}}]},"alternate":{"type":"IfStatement","start":11219,"end":11959,"test":{"type":"Identifier","start":11223,"end":11226,"name":"doc"},"consequent":{"type":"BlockStatement","start":11228,"end":11352,"body":[{"type":"ReturnStatement","start":11246,"end":11338,"argument":{"type":"CallExpression","start":11253,"end":11337,"callee":{"type":"Identifier","start":11253,"end":11257,"name":"from"},"arguments":[{"type":"CallExpression","start":11258,"end":11336,"callee":{"type":"MemberExpression","start":11258,"end":11273,"object":{"type":"Identifier","start":11258,"end":11261,"name":"doc"},"property":{"type":"Identifier","start":11262,"end":11273,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":11274,"end":11335,"properties":[{"type":"Property","start":11276,"end":11292,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11276,"end":11282,"name":"method"},"value":{"type":"Literal","start":11284,"end":11292,"value":"DELETE","raw":"'DELETE'"},"kind":"init"},{"type":"Property","start":11294,"end":11305,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11294,"end":11299,"name":"error"},"value":{"type":"Literal","start":11301,"end":11305,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":11307,"end":11333,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11307,"end":11311,"name":"time"},"value":{"type":"CallExpression","start":11313,"end":11333,"callee":{"type":"MemberExpression","start":11313,"end":11331,"object":{"type":"NewExpression","start":11313,"end":11323,"callee":{"type":"Identifier","start":11317,"end":11321,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":11324,"end":11331,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"kind":"init"}]}],"optional":false}],"optional":false}}]},"alternate":{"type":"IfStatement","start":11370,"end":11959,"test":{"type":"Identifier","start":11374,"end":11378,"name":"data"},"consequent":{"type":"BlockStatement","start":11380,"end":11842,"body":[{"type":"VariableDeclaration","start":11398,"end":11737,"declarations":[{"type":"VariableDeclarator","start":11404,"end":11736,"id":{"type":"Identifier","start":11404,"end":11411,"name":"docData"},"init":{"type":"ObjectExpression","start":11414,"end":11736,"properties":[{"type":"Property","start":11436,"end":11478,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11436,"end":11445,"name":"tenantUrl"},"value":{"type":"CallExpression","start":11447,"end":11478,"callee":{"type":"MemberExpression","start":11447,"end":11465,"object":{"type":"ThisExpression","start":11447,"end":11451},"property":{"type":"Identifier","start":11452,"end":11465,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11466,"end":11472,"name":"tenant"},{"type":"Identifier","start":11474,"end":11477,"name":"url"}],"optional":false},"kind":"init"},{"type":"Property","start":11500,"end":11541,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11500,"end":11508,"name":"matchUrl"},"value":{"type":"CallExpression","start":11510,"end":11541,"callee":{"type":"MemberExpression","start":11510,"end":11528,"object":{"type":"ThisExpression","start":11510,"end":11514},"property":{"type":"Identifier","start":11515,"end":11528,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11529,"end":11535,"name":"tenant"},{"type":"Identifier","start":11537,"end":11540,"name":"url"}],"optional":false},"kind":"init"},{"type":"Property","start":11563,"end":11567,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":11563,"end":11567,"name":"data"},"kind":"init","value":{"type":"Identifier","start":11563,"end":11567,"name":"data"}},{"type":"Property","start":11589,"end":11605,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11589,"end":11595,"name":"method"},"value":{"type":"Literal","start":11597,"end":11605,"value":"DELETE","raw":"'DELETE'"},"kind":"init"},{"type":"Property","start":11627,"end":11638,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11627,"end":11632,"name":"error"},"value":{"type":"Literal","start":11634,"end":11638,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":11660,"end":11686,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":11660,"end":11664,"name":"time"},"value":{"type":"CallExpression","start":11666,"end":11686,"callee":{"type":"MemberExpression","start":11666,"end":11684,"object":{"type":"NewExpression","start":11666,"end":11676,"callee":{"type":"Identifier","start":11670,"end":11674,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":11677,"end":11684,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"kind":"init"},{"type":"Property","start":11708,"end":11718,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":11708,"end":11718,"name":"fileFields"},"kind":"init","value":{"type":"Identifier","start":11708,"end":11718,"name":"fileFields"}}]}}],"kind":"const"},{"type":"ReturnStatement","start":11754,"end":11828,"argument":{"type":"CallExpression","start":11761,"end":11827,"callee":{"type":"MemberExpression","start":11761,"end":11782,"object":{"type":"MemberExpression","start":11761,"end":11777,"object":{"type":"ThisExpression","start":11761,"end":11765},"property":{"type":"Identifier","start":11766,"end":11777,"name":"collection$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":11778,"end":11782,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":11783,"end":11826,"callee":{"type":"Identifier","start":11783,"end":11792,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":11793,"end":11825,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":11793,"end":11796,"name":"col"}],"body":{"type":"CallExpression","start":11800,"end":11825,"callee":{"type":"MemberExpression","start":11800,"end":11816,"object":{"type":"Identifier","start":11800,"end":11803,"name":"col"},"property":{"type":"Identifier","start":11804,"end":11816,"name":"atomicUpsert"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11817,"end":11824,"name":"docData"}],"optional":false}}],"optional":false}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":11860,"end":11959,"body":[{"type":"ReturnStatement","start":11878,"end":11945,"argument":{"type":"CallExpression","start":11885,"end":11944,"callee":{"type":"Identifier","start":11885,"end":11895,"name":"throwError"},"arguments":[{"type":"Literal","start":11896,"end":11943,"value":"Document not found while deleting in database","raw":"'Document not found while deleting in database'"}],"optional":false}}]}}}}}]}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":11983,"end":12356,"static":false,"computed":false,"key":{"type":"Identifier","start":11983,"end":11992,"name":"createNew"},"kind":"method","value":{"type":"FunctionExpression","start":11992,"end":12356,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11993,"end":11999,"name":"tenant"},{"type":"Identifier","start":12001,"end":12004,"name":"url"}],"body":{"type":"BlockStatement","start":12006,"end":12356,"body":[{"type":"ReturnStatement","start":12016,"end":12350,"argument":{"type":"CallExpression","start":12023,"end":12349,"callee":{"type":"MemberExpression","start":12023,"end":12049,"object":{"type":"CallExpression","start":12023,"end":12044,"callee":{"type":"MemberExpression","start":12023,"end":12031,"object":{"type":"ThisExpression","start":12023,"end":12027},"property":{"type":"Identifier","start":12028,"end":12031,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12032,"end":12038,"name":"tenant"},{"type":"Identifier","start":12040,"end":12043,"name":"url"}],"optional":false},"property":{"type":"Identifier","start":12045,"end":12049,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":12050,"end":12348,"callee":{"type":"Identifier","start":12050,"end":12059,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":12060,"end":12347,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12060,"end":12063,"name":"doc"}],"body":{"type":"BlockStatement","start":12067,"end":12347,"body":[{"type":"IfStatement","start":12081,"end":12222,"test":{"type":"LogicalExpression","start":12085,"end":12139,"left":{"type":"LogicalExpression","start":12085,"end":12114,"left":{"type":"UnaryExpression","start":12085,"end":12090,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":12086,"end":12090,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":12087,"end":12090,"name":"doc"}}},"operator":"&&","right":{"type":"BinaryExpression","start":12094,"end":12114,"left":{"type":"MemberExpression","start":12094,"end":12104,"object":{"type":"Identifier","start":12094,"end":12097,"name":"doc"},"property":{"type":"Identifier","start":12098,"end":12104,"name":"method"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":12109,"end":12114,"value":"GET","raw":"'GET'"}}},"operator":"&&","right":{"type":"BinaryExpression","start":12118,"end":12139,"left":{"type":"MemberExpression","start":12118,"end":12128,"object":{"type":"Identifier","start":12118,"end":12121,"name":"doc"},"property":{"type":"Identifier","start":12122,"end":12128,"name":"method"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":12133,"end":12139,"value":"POST","raw":"'POST'"}}},"consequent":{"type":"BlockStatement","start":12141,"end":12222,"body":[{"type":"ReturnStatement","start":12159,"end":12208,"argument":{"type":"CallExpression","start":12166,"end":12207,"callee":{"type":"Identifier","start":12166,"end":12170,"name":"from"},"arguments":[{"type":"CallExpression","start":12171,"end":12206,"callee":{"type":"MemberExpression","start":12171,"end":12186,"object":{"type":"Identifier","start":12171,"end":12174,"name":"doc"},"property":{"type":"Identifier","start":12175,"end":12186,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":12187,"end":12205,"properties":[{"type":"Property","start":12189,"end":12203,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12189,"end":12195,"name":"method"},"value":{"type":"Literal","start":12197,"end":12203,"value":"POST","raw":"'POST'"},"kind":"init"}]}],"optional":false}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":12235,"end":12337,"argument":{"type":"CallExpression","start":12242,"end":12336,"callee":{"type":"Identifier","start":12242,"end":12252,"name":"throwError"},"arguments":[{"type":"TemplateLiteral","start":12253,"end":12335,"expressions":[{"type":"CallExpression","start":12298,"end":12333,"callee":{"type":"MemberExpression","start":12298,"end":12312,"object":{"type":"Identifier","start":12298,"end":12302,"name":"JSON"},"property":{"type":"Identifier","start":12303,"end":12312,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"LogicalExpression","start":12313,"end":12332,"left":{"type":"ChainExpression","start":12313,"end":12326,"expression":{"type":"CallExpression","start":12313,"end":12326,"callee":{"type":"MemberExpression","start":12313,"end":12324,"object":{"type":"Identifier","start":12313,"end":12316,"name":"doc"},"property":{"type":"Identifier","start":12318,"end":12324,"name":"toJSON"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"ObjectExpression","start":12330,"end":12332,"properties":[]}}],"optional":false}],"quasis":[{"type":"TemplateElement","start":12254,"end":12296,"value":{"raw":"Cannot duplicate this document. Document: ","cooked":"Cannot duplicate this document. Document: "},"tail":false},{"type":"TemplateElement","start":12334,"end":12334,"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":12361,"end":12688,"static":false,"computed":false,"key":{"type":"Identifier","start":12361,"end":12375,"name":"deleteConflict"},"kind":"method","value":{"type":"FunctionExpression","start":12375,"end":12688,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12376,"end":12382,"name":"tenant"},{"type":"Identifier","start":12384,"end":12387,"name":"url"}],"body":{"type":"BlockStatement","start":12389,"end":12688,"body":[{"type":"ReturnStatement","start":12399,"end":12682,"argument":{"type":"CallExpression","start":12406,"end":12681,"callee":{"type":"MemberExpression","start":12406,"end":12432,"object":{"type":"CallExpression","start":12406,"end":12427,"callee":{"type":"MemberExpression","start":12406,"end":12414,"object":{"type":"ThisExpression","start":12406,"end":12410},"property":{"type":"Identifier","start":12411,"end":12414,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12415,"end":12421,"name":"tenant"},{"type":"Identifier","start":12423,"end":12426,"name":"url"}],"optional":false},"property":{"type":"Identifier","start":12428,"end":12432,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":12433,"end":12680,"callee":{"type":"Identifier","start":12433,"end":12442,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":12443,"end":12679,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12443,"end":12446,"name":"doc"}],"body":{"type":"BlockStatement","start":12450,"end":12679,"body":[{"type":"IfStatement","start":12464,"end":12557,"test":{"type":"LogicalExpression","start":12468,"end":12497,"left":{"type":"UnaryExpression","start":12468,"end":12473,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":12469,"end":12473,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":12470,"end":12473,"name":"doc"}}},"operator":"&&","right":{"type":"BinaryExpression","start":12477,"end":12497,"left":{"type":"MemberExpression","start":12477,"end":12487,"object":{"type":"Identifier","start":12477,"end":12480,"name":"doc"},"property":{"type":"Identifier","start":12481,"end":12487,"name":"method"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":12492,"end":12497,"value":"GET","raw":"'GET'"}}},"consequent":{"type":"BlockStatement","start":12499,"end":12557,"body":[{"type":"ReturnStatement","start":12517,"end":12543,"argument":{"type":"CallExpression","start":12524,"end":12542,"callee":{"type":"Identifier","start":12524,"end":12528,"name":"from"},"arguments":[{"type":"CallExpression","start":12529,"end":12541,"callee":{"type":"MemberExpression","start":12529,"end":12539,"object":{"type":"Identifier","start":12529,"end":12532,"name":"doc"},"property":{"type":"Identifier","start":12533,"end":12539,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":12570,"end":12669,"argument":{"type":"CallExpression","start":12577,"end":12668,"callee":{"type":"Identifier","start":12577,"end":12587,"name":"throwError"},"arguments":[{"type":"TemplateLiteral","start":12588,"end":12667,"expressions":[{"type":"CallExpression","start":12630,"end":12665,"callee":{"type":"MemberExpression","start":12630,"end":12644,"object":{"type":"Identifier","start":12630,"end":12634,"name":"JSON"},"property":{"type":"Identifier","start":12635,"end":12644,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"LogicalExpression","start":12645,"end":12664,"left":{"type":"ChainExpression","start":12645,"end":12658,"expression":{"type":"CallExpression","start":12645,"end":12658,"callee":{"type":"MemberExpression","start":12645,"end":12656,"object":{"type":"Identifier","start":12645,"end":12648,"name":"doc"},"property":{"type":"Identifier","start":12650,"end":12656,"name":"toJSON"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"ObjectExpression","start":12662,"end":12664,"properties":[]}}],"optional":false}],"quasis":[{"type":"TemplateElement","start":12589,"end":12628,"value":{"raw":"Cannot delete this document. Document: ","cooked":"Cannot delete this document. Document: "},"tail":false},{"type":"TemplateElement","start":12666,"end":12666,"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]}}],"optional":false}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":12691,"end":17714,"declaration":{"type":"ClassDeclaration","start":12698,"end":17714,"id":{"type":"Identifier","start":12704,"end":12720,"name":"PwaCollectionAPI"},"superClass":null,"body":{"type":"ClassBody","start":12721,"end":17714,"body":[{"type":"MethodDefinition","start":12727,"end":13791,"static":false,"computed":false,"key":{"type":"Identifier","start":12727,"end":12738,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":12738,"end":13791,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12739,"end":12746,"name":"_config"}],"body":{"type":"BlockStatement","start":12748,"end":13791,"body":[{"type":"ExpressionStatement","start":12758,"end":12781,"expression":{"type":"AssignmentExpression","start":12758,"end":12780,"operator":"=","left":{"type":"MemberExpression","start":12758,"end":12770,"object":{"type":"ThisExpression","start":12758,"end":12762},"property":{"type":"Identifier","start":12763,"end":12770,"name":"_config"},"computed":false,"optional":false},"right":{"type":"Identifier","start":12773,"end":12780,"name":"_config"}}},{"type":"ExpressionStatement","start":12790,"end":13252,"expression":{"type":"AssignmentExpression","start":12790,"end":13251,"operator":"=","left":{"type":"MemberExpression","start":12790,"end":12801,"object":{"type":"ThisExpression","start":12790,"end":12794},"property":{"type":"Identifier","start":12795,"end":12801,"name":"config"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":12804,"end":13251,"properties":[{"type":"Property","start":12818,"end":12836,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12818,"end":12832,"name":"restApiCreator"},"value":{"type":"ObjectExpression","start":12834,"end":12836,"properties":[]},"kind":"init"},{"type":"Property","start":12850,"end":13204,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12850,"end":12870,"name":"collectionApiCreator"},"value":{"type":"ObjectExpression","start":12872,"end":13204,"properties":[{"type":"Property","start":12890,"end":12924,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12890,"end":12894,"name":"name"},"value":{"type":"Literal","start":12896,"end":12924,"value":"no_name_pwa_collection_api","raw":"'no_name_pwa_collection_api'"},"kind":"init"},{"type":"Property","start":12942,"end":12951,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12942,"end":12945,"name":"db$"},"value":{"type":"CallExpression","start":12947,"end":12951,"callee":{"type":"Identifier","start":12947,"end":12949,"name":"of"},"arguments":[],"optional":false},"kind":"init"},{"type":"Property","start":12969,"end":13000,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":12969,"end":12989,"name":"collectionEvictTime$"},"value":{"type":"CallExpression","start":12991,"end":13000,"callee":{"type":"Identifier","start":12991,"end":12993,"name":"of"},"arguments":[{"type":"Literal","start":12994,"end":12999,"value":86400,"raw":"86400"}],"optional":false},"kind":"init"},{"type":"Property","start":13018,"end":13051,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13018,"end":13042,"name":"collectionSkipDocuments$"},"value":{"type":"CallExpression","start":13044,"end":13051,"callee":{"type":"Identifier","start":13044,"end":13046,"name":"of"},"arguments":[{"type":"Literal","start":13047,"end":13050,"value":500,"raw":"500"}],"optional":false},"kind":"init"},{"type":"Property","start":13069,"end":13084,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13069,"end":13080,"name":"attachments"},"value":{"type":"ObjectExpression","start":13082,"end":13084,"properties":[]},"kind":"init"},{"type":"Property","start":13102,"end":13113,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13102,"end":13109,"name":"options"},"value":{"type":"ObjectExpression","start":13111,"end":13113,"properties":[]},"kind":"init"},{"type":"Property","start":13131,"end":13154,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13131,"end":13150,"name":"migrationStrategies"},"value":{"type":"ObjectExpression","start":13152,"end":13154,"properties":[]},"kind":"init"},{"type":"Property","start":13172,"end":13189,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13172,"end":13183,"name":"autoMigrate"},"value":{"type":"Literal","start":13185,"end":13189,"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"},{"type":"Property","start":13218,"end":13241,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13218,"end":13236,"name":"cacheTimeInSeconds"},"value":{"type":"Literal","start":13238,"end":13241,"value":120,"raw":"120"},"kind":"init"}]}}},{"type":"ExpressionStatement","start":13261,"end":13639,"expression":{"type":"AssignmentExpression","start":13261,"end":13638,"operator":"=","left":{"type":"MemberExpression","start":13261,"end":13272,"object":{"type":"ThisExpression","start":13261,"end":13265},"property":{"type":"Identifier","start":13266,"end":13272,"name":"config"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":13275,"end":13638,"properties":[{"type":"SpreadElement","start":13289,"end":13303,"argument":{"type":"MemberExpression","start":13292,"end":13303,"object":{"type":"ThisExpression","start":13292,"end":13296},"property":{"type":"Identifier","start":13297,"end":13303,"name":"config"},"computed":false,"optional":false}},{"type":"SpreadElement","start":13317,"end":13332,"argument":{"type":"MemberExpression","start":13320,"end":13332,"object":{"type":"ThisExpression","start":13320,"end":13324},"property":{"type":"Identifier","start":13325,"end":13332,"name":"_config"},"computed":false,"optional":false}},{"type":"Property","start":13346,"end":13471,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13346,"end":13360,"name":"restApiCreator"},"value":{"type":"ObjectExpression","start":13362,"end":13471,"properties":[{"type":"SpreadElement","start":13380,"end":13409,"argument":{"type":"MemberExpression","start":13383,"end":13409,"object":{"type":"MemberExpression","start":13383,"end":13394,"object":{"type":"ThisExpression","start":13383,"end":13387},"property":{"type":"Identifier","start":13388,"end":13394,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13395,"end":13409,"name":"restApiCreator"},"computed":false,"optional":false}},{"type":"SpreadElement","start":13427,"end":13457,"argument":{"type":"MemberExpression","start":13430,"end":13457,"object":{"type":"MemberExpression","start":13430,"end":13442,"object":{"type":"ThisExpression","start":13430,"end":13434},"property":{"type":"Identifier","start":13435,"end":13442,"name":"_config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13443,"end":13457,"name":"restApiCreator"},"computed":false,"optional":false}}]},"kind":"init"},{"type":"Property","start":13485,"end":13628,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":13485,"end":13505,"name":"collectionApiCreator"},"value":{"type":"ObjectExpression","start":13507,"end":13628,"properties":[{"type":"SpreadElement","start":13525,"end":13560,"argument":{"type":"MemberExpression","start":13528,"end":13560,"object":{"type":"MemberExpression","start":13528,"end":13539,"object":{"type":"ThisExpression","start":13528,"end":13532},"property":{"type":"Identifier","start":13533,"end":13539,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13540,"end":13560,"name":"collectionApiCreator"},"computed":false,"optional":false}},{"type":"SpreadElement","start":13578,"end":13614,"argument":{"type":"MemberExpression","start":13581,"end":13614,"object":{"type":"MemberExpression","start":13581,"end":13593,"object":{"type":"ThisExpression","start":13581,"end":13585},"property":{"type":"Identifier","start":13586,"end":13593,"name":"_config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13594,"end":13614,"name":"collectionApiCreator"},"computed":false,"optional":false}}]},"kind":"init"}]}}},{"type":"ExpressionStatement","start":13648,"end":13703,"expression":{"type":"AssignmentExpression","start":13648,"end":13702,"operator":"=","left":{"type":"MemberExpression","start":13648,"end":13660,"object":{"type":"ThisExpression","start":13648,"end":13652},"property":{"type":"Identifier","start":13653,"end":13660,"name":"restAPI"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":13663,"end":13702,"callee":{"type":"Identifier","start":13667,"end":13674,"name":"RestAPI"},"arguments":[{"type":"MemberExpression","start":13675,"end":13701,"object":{"type":"MemberExpression","start":13675,"end":13686,"object":{"type":"ThisExpression","start":13675,"end":13679},"property":{"type":"Identifier","start":13680,"end":13686,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13687,"end":13701,"name":"restApiCreator"},"computed":false,"optional":false}]}}},{"type":"ExpressionStatement","start":13712,"end":13785,"expression":{"type":"AssignmentExpression","start":13712,"end":13784,"operator":"=","left":{"type":"MemberExpression","start":13712,"end":13730,"object":{"type":"ThisExpression","start":13712,"end":13716},"property":{"type":"Identifier","start":13717,"end":13730,"name":"collectionAPI"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":13733,"end":13784,"callee":{"type":"Identifier","start":13737,"end":13750,"name":"CollectionAPI"},"arguments":[{"type":"MemberExpression","start":13751,"end":13783,"object":{"type":"MemberExpression","start":13751,"end":13762,"object":{"type":"ThisExpression","start":13751,"end":13755},"property":{"type":"Identifier","start":13756,"end":13762,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":13763,"end":13783,"name":"collectionApiCreator"},"computed":false,"optional":false}]}}}]}}},{"type":"MethodDefinition","start":13796,"end":14548,"static":false,"computed":false,"key":{"type":"Identifier","start":13796,"end":13812,"name":"downloadRetrieve"},"kind":"method","value":{"type":"FunctionExpression","start":13812,"end":14548,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13813,"end":13816,"name":"doc"},{"type":"Identifier","start":13818,"end":13824,"name":"tenant"},{"type":"Identifier","start":13826,"end":13829,"name":"url"},{"type":"Identifier","start":13831,"end":13837,"name":"params"}],"body":{"type":"BlockStatement","start":13839,"end":14548,"body":[{"type":"IfStatement","start":13849,"end":13923,"test":{"type":"LogicalExpression","start":13853,"end":13882,"left":{"type":"UnaryExpression","start":13853,"end":13858,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":13854,"end":13858,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":13855,"end":13858,"name":"doc"}}},"operator":"&&","right":{"type":"BinaryExpression","start":13862,"end":13882,"left":{"type":"MemberExpression","start":13862,"end":13872,"object":{"type":"Identifier","start":13862,"end":13865,"name":"doc"},"property":{"type":"Identifier","start":13866,"end":13872,"name":"method"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":13877,"end":13882,"value":"GET","raw":"'GET'"}}},"consequent":{"type":"BlockStatement","start":13884,"end":13923,"body":[{"type":"ReturnStatement","start":13898,"end":13913,"argument":{"type":"CallExpression","start":13905,"end":13912,"callee":{"type":"Identifier","start":13905,"end":13907,"name":"of"},"arguments":[{"type":"Identifier","start":13908,"end":13911,"name":"doc"}],"optional":false}}]},"alternate":null},{"type":"VariableDeclaration","start":13932,"end":13973,"declarations":[{"type":"VariableDeclarator","start":13938,"end":13972,"id":{"type":"Identifier","start":13938,"end":13949,"name":"currentTime"},"init":{"type":"CallExpression","start":13952,"end":13972,"callee":{"type":"MemberExpression","start":13952,"end":13970,"object":{"type":"NewExpression","start":13952,"end":13962,"callee":{"type":"Identifier","start":13956,"end":13960,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":13963,"end":13970,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":13982,"end":14103,"test":{"type":"LogicalExpression","start":13986,"end":14062,"left":{"type":"UnaryExpression","start":13986,"end":13991,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":13987,"end":13991,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":13988,"end":13991,"name":"doc"}}},"operator":"&&","right":{"type":"BinaryExpression","start":13995,"end":14062,"left":{"type":"MemberExpression","start":13995,"end":14003,"object":{"type":"Identifier","start":13995,"end":13998,"name":"doc"},"property":{"type":"Identifier","start":13999,"end":14003,"name":"time"},"computed":false,"optional":false},"operator":">=","right":{"type":"BinaryExpression","start":14008,"end":14061,"left":{"type":"Identifier","start":14008,"end":14019,"name":"currentTime"},"operator":"-","right":{"type":"BinaryExpression","start":14023,"end":14060,"left":{"type":"MemberExpression","start":14023,"end":14053,"object":{"type":"MemberExpression","start":14023,"end":14034,"object":{"type":"ThisExpression","start":14023,"end":14027},"property":{"type":"Identifier","start":14028,"end":14034,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14035,"end":14053,"name":"cacheTimeInSeconds"},"computed":false,"optional":false},"operator":"*","right":{"type":"Literal","start":14056,"end":14060,"value":1000,"raw":"1000"}}}}},"consequent":{"type":"BlockStatement","start":14064,"end":14103,"body":[{"type":"ReturnStatement","start":14078,"end":14093,"argument":{"type":"CallExpression","start":14085,"end":14092,"callee":{"type":"Identifier","start":14085,"end":14087,"name":"of"},"arguments":[{"type":"Identifier","start":14088,"end":14091,"name":"doc"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":14112,"end":14542,"argument":{"type":"CallExpression","start":14119,"end":14541,"callee":{"type":"MemberExpression","start":14119,"end":14202,"object":{"type":"CallExpression","start":14119,"end":14197,"callee":{"type":"Identifier","start":14119,"end":14132,"name":"combineLatest"},"arguments":[{"type":"ArrayExpression","start":14133,"end":14196,"elements":[{"type":"CallExpression","start":14134,"end":14163,"callee":{"type":"MemberExpression","start":14134,"end":14150,"object":{"type":"MemberExpression","start":14134,"end":14146,"object":{"type":"ThisExpression","start":14134,"end":14138},"property":{"type":"Identifier","start":14139,"end":14146,"name":"restAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14147,"end":14150,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14151,"end":14154,"name":"url"},{"type":"Identifier","start":14156,"end":14162,"name":"params"}],"optional":false},{"type":"MemberExpression","start":14165,"end":14195,"object":{"type":"MemberExpression","start":14165,"end":14183,"object":{"type":"ThisExpression","start":14165,"end":14169},"property":{"type":"Identifier","start":14170,"end":14183,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14184,"end":14195,"name":"collection$"},"computed":false,"optional":false}]}],"optional":false},"property":{"type":"Identifier","start":14198,"end":14202,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":14203,"end":14513,"callee":{"type":"Identifier","start":14203,"end":14212,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":14213,"end":14512,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"ArrayPattern","start":14214,"end":14224,"elements":[{"type":"Identifier","start":14215,"end":14218,"name":"res"},{"type":"Identifier","start":14220,"end":14223,"name":"col"}]}],"body":{"type":"CallExpression","start":14229,"end":14512,"callee":{"type":"MemberExpression","start":14229,"end":14245,"object":{"type":"Identifier","start":14229,"end":14232,"name":"col"},"property":{"type":"Identifier","start":14233,"end":14245,"name":"atomicUpsert"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":14246,"end":14511,"properties":[{"type":"Property","start":14260,"end":14316,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14260,"end":14269,"name":"tenantUrl"},"value":{"type":"CallExpression","start":14271,"end":14316,"callee":{"type":"MemberExpression","start":14271,"end":14303,"object":{"type":"MemberExpression","start":14271,"end":14289,"object":{"type":"ThisExpression","start":14271,"end":14275},"property":{"type":"Identifier","start":14276,"end":14289,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14290,"end":14303,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14304,"end":14310,"name":"tenant"},{"type":"Identifier","start":14312,"end":14315,"name":"url"}],"optional":false},"kind":"init"},{"type":"Property","start":14330,"end":14385,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14330,"end":14338,"name":"matchUrl"},"value":{"type":"CallExpression","start":14340,"end":14385,"callee":{"type":"MemberExpression","start":14340,"end":14372,"object":{"type":"MemberExpression","start":14340,"end":14358,"object":{"type":"ThisExpression","start":14340,"end":14344},"property":{"type":"Identifier","start":14345,"end":14358,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14359,"end":14372,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14373,"end":14379,"name":"tenant"},{"type":"Identifier","start":14381,"end":14384,"name":"url"}],"optional":false},"kind":"init"},{"type":"Property","start":14399,"end":14408,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14399,"end":14403,"name":"data"},"value":{"type":"Identifier","start":14405,"end":14408,"name":"res"},"kind":"init"},{"type":"Property","start":14422,"end":14435,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14422,"end":14428,"name":"method"},"value":{"type":"Literal","start":14430,"end":14435,"value":"GET","raw":"'GET'"},"kind":"init"},{"type":"Property","start":14449,"end":14460,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14449,"end":14454,"name":"error"},"value":{"type":"Literal","start":14456,"end":14460,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":14474,"end":14500,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":14474,"end":14478,"name":"time"},"value":{"type":"CallExpression","start":14480,"end":14500,"callee":{"type":"MemberExpression","start":14480,"end":14498,"object":{"type":"NewExpression","start":14480,"end":14490,"callee":{"type":"Identifier","start":14484,"end":14488,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":14491,"end":14498,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"kind":"init"}]}],"optional":false}}],"optional":false},{"type":"CallExpression","start":14515,"end":14540,"callee":{"type":"Identifier","start":14515,"end":14525,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":14526,"end":14539,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":14532,"end":14539,"callee":{"type":"Identifier","start":14532,"end":14534,"name":"of"},"arguments":[{"type":"Identifier","start":14535,"end":14538,"name":"doc"}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":14553,"end":14918,"static":false,"computed":false,"key":{"type":"Identifier","start":14553,"end":14564,"name":"getReactive"},"kind":"method","value":{"type":"FunctionExpression","start":14564,"end":14918,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14565,"end":14571,"name":"tenant"},{"type":"Identifier","start":14573,"end":14576,"name":"url"},{"type":"Identifier","start":14578,"end":14584,"name":"params"},{"type":"AssignmentPattern","start":14586,"end":14598,"left":{"type":"Identifier","start":14586,"end":14590,"name":"wait"},"right":{"type":"Literal","start":14593,"end":14598,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":14600,"end":14918,"body":[{"type":"ReturnStatement","start":14610,"end":14912,"argument":{"type":"CallExpression","start":14617,"end":14911,"callee":{"type":"MemberExpression","start":14617,"end":14657,"object":{"type":"CallExpression","start":14617,"end":14652,"callee":{"type":"MemberExpression","start":14617,"end":14639,"object":{"type":"MemberExpression","start":14617,"end":14635,"object":{"type":"ThisExpression","start":14617,"end":14621},"property":{"type":"Identifier","start":14622,"end":14635,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14636,"end":14639,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14640,"end":14646,"name":"tenant"},{"type":"Identifier","start":14648,"end":14651,"name":"url"}],"optional":false},"property":{"type":"Identifier","start":14653,"end":14657,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":14658,"end":14826,"callee":{"type":"Identifier","start":14658,"end":14667,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":14668,"end":14825,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":14668,"end":14671,"name":"doc"}],"body":{"type":"ConditionalExpression","start":14675,"end":14825,"test":{"type":"Identifier","start":14675,"end":14679,"name":"wait"},"consequent":{"type":"CallExpression","start":14694,"end":14741,"callee":{"type":"MemberExpression","start":14694,"end":14715,"object":{"type":"ThisExpression","start":14694,"end":14698},"property":{"type":"Identifier","start":14699,"end":14715,"name":"downloadRetrieve"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14716,"end":14719,"name":"doc"},{"type":"Identifier","start":14721,"end":14727,"name":"tenant"},{"type":"Identifier","start":14729,"end":14732,"name":"url"},{"type":"Identifier","start":14734,"end":14740,"name":"params"}],"optional":false},"alternate":{"type":"CallExpression","start":14756,"end":14825,"callee":{"type":"MemberExpression","start":14756,"end":14808,"object":{"type":"CallExpression","start":14756,"end":14803,"callee":{"type":"MemberExpression","start":14756,"end":14777,"object":{"type":"ThisExpression","start":14756,"end":14760},"property":{"type":"Identifier","start":14761,"end":14777,"name":"downloadRetrieve"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14778,"end":14781,"name":"doc"},{"type":"Identifier","start":14783,"end":14789,"name":"tenant"},{"type":"Identifier","start":14791,"end":14794,"name":"url"},{"type":"Identifier","start":14796,"end":14802,"name":"params"}],"optional":false},"property":{"type":"Identifier","start":14804,"end":14808,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":14809,"end":14824,"callee":{"type":"Identifier","start":14809,"end":14818,"name":"startWith"},"arguments":[{"type":"Literal","start":14819,"end":14823,"value":null,"raw":"null"}],"optional":false}],"optional":false}}}],"optional":false},{"type":"CallExpression","start":14828,"end":14888,"callee":{"type":"Identifier","start":14828,"end":14837,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":14838,"end":14887,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":14844,"end":14887,"callee":{"type":"MemberExpression","start":14844,"end":14874,"object":{"type":"MemberExpression","start":14844,"end":14862,"object":{"type":"ThisExpression","start":14844,"end":14848},"property":{"type":"Identifier","start":14849,"end":14862,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14863,"end":14874,"name":"getReactive"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14875,"end":14881,"name":"tenant"},{"type":"Identifier","start":14883,"end":14886,"name":"url"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":14890,"end":14910,"callee":{"type":"Identifier","start":14890,"end":14899,"name":"auditTime"},"arguments":[{"type":"BinaryExpression","start":14900,"end":14909,"left":{"type":"Literal","start":14900,"end":14904,"value":1000,"raw":"1000"},"operator":"/","right":{"type":"Literal","start":14907,"end":14909,"value":60,"raw":"60"}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":14923,"end":15029,"static":false,"computed":false,"key":{"type":"Identifier","start":14923,"end":14926,"name":"get"},"kind":"method","value":{"type":"FunctionExpression","start":14926,"end":15029,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14927,"end":14933,"name":"tenant"},{"type":"Identifier","start":14935,"end":14938,"name":"url"},{"type":"Identifier","start":14940,"end":14946,"name":"params"}],"body":{"type":"BlockStatement","start":14948,"end":15029,"body":[{"type":"ReturnStatement","start":14958,"end":15023,"argument":{"type":"CallExpression","start":14965,"end":15022,"callee":{"type":"MemberExpression","start":14965,"end":15013,"object":{"type":"CallExpression","start":14965,"end":15008,"callee":{"type":"MemberExpression","start":14965,"end":14981,"object":{"type":"ThisExpression","start":14965,"end":14969},"property":{"type":"Identifier","start":14970,"end":14981,"name":"getReactive"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14982,"end":14988,"name":"tenant"},{"type":"Identifier","start":14990,"end":14993,"name":"url"},{"type":"Identifier","start":14995,"end":15001,"name":"params"},{"type":"Literal","start":15003,"end":15007,"value":true,"raw":"true"}],"optional":false},"property":{"type":"Identifier","start":15009,"end":15013,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":15014,"end":15021,"callee":{"type":"Identifier","start":15014,"end":15018,"name":"take"},"arguments":[{"type":"Literal","start":15019,"end":15020,"value":1,"raw":"1"}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":15034,"end":16756,"static":false,"computed":false,"key":{"type":"Identifier","start":15034,"end":15046,"name":"downloadList"},"kind":"method","value":{"type":"FunctionExpression","start":15046,"end":16756,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":15047,"end":15050,"name":"res"},{"type":"Identifier","start":15052,"end":15058,"name":"tenant"},{"type":"Identifier","start":15060,"end":15063,"name":"url"},{"type":"Identifier","start":15065,"end":15071,"name":"params"},{"type":"AssignmentPattern","start":15073,"end":15133,"left":{"type":"Identifier","start":15073,"end":15084,"name":"indexedbUrl"},"right":{"type":"ArrowFunctionExpression","start":15087,"end":15133,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":15088,"end":15092,"name":"data"},{"type":"Identifier","start":15094,"end":15103,"name":"tenantUrl"}],"body":{"type":"TemplateLiteral","start":15108,"end":15133,"expressions":[{"type":"Identifier","start":15111,"end":15120,"name":"tenantUrl"},{"type":"MemberExpression","start":15124,"end":15131,"object":{"type":"Identifier","start":15124,"end":15128,"name":"data"},"property":{"type":"Identifier","start":15129,"end":15131,"name":"id"},"computed":false,"optional":false}],"quasis":[{"type":"TemplateElement","start":15109,"end":15109,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":15121,"end":15122,"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":15132,"end":15132,"value":{"raw":"","cooked":""},"tail":true}]}}}],"body":{"type":"BlockStatement","start":15135,"end":16756,"body":[{"type":"VariableDeclaration","start":15145,"end":15186,"declarations":[{"type":"VariableDeclarator","start":15151,"end":15185,"id":{"type":"Identifier","start":15151,"end":15162,"name":"currentTime"},"init":{"type":"CallExpression","start":15165,"end":15185,"callee":{"type":"MemberExpression","start":15165,"end":15183,"object":{"type":"NewExpression","start":15165,"end":15175,"callee":{"type":"Identifier","start":15169,"end":15173,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":15176,"end":15183,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":15195,"end":15249,"declarations":[{"type":"VariableDeclarator","start":15201,"end":15248,"id":{"type":"Identifier","start":15201,"end":15206,"name":"limit"},"init":{"type":"CallExpression","start":15209,"end":15248,"callee":{"type":"Identifier","start":15209,"end":15217,"name":"parseInt"},"arguments":[{"type":"LogicalExpression","start":15218,"end":15247,"left":{"type":"ChainExpression","start":15218,"end":15238,"expression":{"type":"CallExpression","start":15218,"end":15238,"callee":{"type":"MemberExpression","start":15218,"end":15229,"object":{"type":"Identifier","start":15218,"end":15224,"name":"params"},"property":{"type":"Identifier","start":15226,"end":15229,"name":"get"},"computed":false,"optional":true},"arguments":[{"type":"Literal","start":15230,"end":15237,"value":"limit","raw":"'limit'"}],"optional":false}},"operator":"||","right":{"type":"Literal","start":15242,"end":15247,"value":"100","raw":"'100'"}}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":15258,"end":15478,"declarations":[{"type":"VariableDeclarator","start":15264,"end":15477,"id":{"type":"Identifier","start":15264,"end":15267,"name":"ids"},"init":{"type":"CallExpression","start":15270,"end":15477,"callee":{"type":"MemberExpression","start":15270,"end":15461,"object":{"type":"CallExpression","start":15270,"end":15444,"callee":{"type":"MemberExpression","start":15270,"end":15301,"object":{"type":"MemberExpression","start":15270,"end":15281,"object":{"type":"Identifier","start":15270,"end":15273,"name":"res"},"property":{"type":"Identifier","start":15274,"end":15281,"name":"results"},"computed":false,"optional":false},"property":{"type":"Identifier","start":15295,"end":15301,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":15302,"end":15443,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":15302,"end":15303,"name":"v"}],"body":{"type":"LogicalExpression","start":15307,"end":15443,"left":{"type":"LogicalExpression","start":15307,"end":15350,"left":{"type":"BinaryExpression","start":15307,"end":15325,"left":{"type":"MemberExpression","start":15307,"end":15315,"object":{"type":"Identifier","start":15307,"end":15308,"name":"v"},"property":{"type":"Identifier","start":15309,"end":15315,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":15320,"end":15325,"value":"PUT","raw":"'PUT'"}},"operator":"||","right":{"type":"BinaryExpression","start":15329,"end":15350,"left":{"type":"MemberExpression","start":15329,"end":15337,"object":{"type":"Identifier","start":15329,"end":15330,"name":"v"},"property":{"type":"Identifier","start":15331,"end":15337,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":15342,"end":15350,"value":"DELETE","raw":"'DELETE'"}}},"operator":"||","right":{"type":"LogicalExpression","start":15355,"end":15442,"left":{"type":"BinaryExpression","start":15355,"end":15373,"left":{"type":"MemberExpression","start":15355,"end":15363,"object":{"type":"Identifier","start":15355,"end":15356,"name":"v"},"property":{"type":"Identifier","start":15357,"end":15363,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":15368,"end":15373,"value":"GET","raw":"'GET'"}},"operator":"&&","right":{"type":"BinaryExpression","start":15377,"end":15442,"left":{"type":"MemberExpression","start":15377,"end":15383,"object":{"type":"Identifier","start":15377,"end":15378,"name":"v"},"property":{"type":"Identifier","start":15379,"end":15383,"name":"time"},"computed":false,"optional":false},"operator":">=","right":{"type":"BinaryExpression","start":15388,"end":15441,"left":{"type":"Identifier","start":15388,"end":15399,"name":"currentTime"},"operator":"-","right":{"type":"BinaryExpression","start":15403,"end":15440,"left":{"type":"MemberExpression","start":15403,"end":15433,"object":{"type":"MemberExpression","start":15403,"end":15414,"object":{"type":"ThisExpression","start":15403,"end":15407},"property":{"type":"Identifier","start":15408,"end":15414,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":15415,"end":15433,"name":"cacheTimeInSeconds"},"computed":false,"optional":false},"operator":"*","right":{"type":"Literal","start":15436,"end":15440,"value":1000,"raw":"1000"}}}}}}}],"optional":false},"property":{"type":"Identifier","start":15458,"end":15461,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":15462,"end":15476,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":15462,"end":15463,"name":"v"}],"body":{"type":"MemberExpression","start":15467,"end":15476,"object":{"type":"MemberExpression","start":15467,"end":15473,"object":{"type":"Identifier","start":15467,"end":15468,"name":"v"},"property":{"type":"Identifier","start":15469,"end":15473,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":15474,"end":15476,"name":"id"},"computed":false,"optional":false}}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":15487,"end":15604,"test":{"type":"BinaryExpression","start":15491,"end":15511,"left":{"type":"MemberExpression","start":15491,"end":15501,"object":{"type":"Identifier","start":15491,"end":15494,"name":"ids"},"property":{"type":"Identifier","start":15495,"end":15501,"name":"length"},"computed":false,"optional":false},"operator":"===","right":{"type":"Identifier","start":15506,"end":15511,"name":"limit"}},"consequent":{"type":"BlockStatement","start":15513,"end":15604,"body":[{"type":"ReturnStatement","start":15527,"end":15594,"argument":{"type":"CallExpression","start":15534,"end":15593,"callee":{"type":"Identifier","start":15534,"end":15536,"name":"of"},"arguments":[{"type":"ObjectExpression","start":15537,"end":15592,"properties":[{"type":"Property","start":15539,"end":15553,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15539,"end":15543,"name":"next"},"value":{"type":"MemberExpression","start":15545,"end":15553,"object":{"type":"Identifier","start":15545,"end":15548,"name":"res"},"property":{"type":"Identifier","start":15549,"end":15553,"name":"next"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":15555,"end":15577,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15555,"end":15563,"name":"previous"},"value":{"type":"MemberExpression","start":15565,"end":15577,"object":{"type":"Identifier","start":15565,"end":15568,"name":"res"},"property":{"type":"Identifier","start":15569,"end":15577,"name":"previous"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":15579,"end":15590,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":15579,"end":15586,"name":"results"},"value":{"type":"ArrayExpression","start":15588,"end":15590,"elements":[]},"kind":"init"}]}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":15613,"end":15655,"expression":{"type":"AssignmentExpression","start":15613,"end":15654,"operator":"=","left":{"type":"Identifier","start":15613,"end":15619,"name":"params"},"right":{"type":"LogicalExpression","start":15622,"end":15654,"left":{"type":"Identifier","start":15622,"end":15628,"name":"params"},"operator":"||","right":{"type":"NewExpression","start":15632,"end":15654,"callee":{"type":"Identifier","start":15636,"end":15652,"name":"CustomHttpParams"},"arguments":[]}}}},{"type":"IfStatement","start":15664,"end":15947,"test":{"type":"BinaryExpression","start":15668,"end":15682,"left":{"type":"MemberExpression","start":15668,"end":15678,"object":{"type":"Identifier","start":15668,"end":15671,"name":"ids"},"property":{"type":"Identifier","start":15672,"end":15678,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":15681,"end":15682,"value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","start":15684,"end":15947,"body":[{"type":"IfStatement","start":15698,"end":15794,"test":{"type":"CallExpression","start":15702,"end":15729,"callee":{"type":"MemberExpression","start":15702,"end":15712,"object":{"type":"Identifier","start":15702,"end":15708,"name":"params"},"property":{"type":"Identifier","start":15709,"end":15712,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15713,"end":15728,"value":"exclude:id.in","raw":"'exclude:id.in'"}],"optional":false},"consequent":{"type":"BlockStatement","start":15731,"end":15794,"body":[{"type":"ExpressionStatement","start":15749,"end":15780,"expression":{"type":"CallExpression","start":15749,"end":15779,"callee":{"type":"MemberExpression","start":15749,"end":15762,"object":{"type":"Identifier","start":15749,"end":15755,"name":"params"},"property":{"type":"Identifier","start":15756,"end":15762,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15763,"end":15778,"value":"exclude:id.in","raw":"'exclude:id.in'"}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":15807,"end":15862,"expression":{"type":"AssignmentExpression","start":15807,"end":15861,"operator":"=","left":{"type":"Identifier","start":15807,"end":15813,"name":"params"},"right":{"type":"CallExpression","start":15816,"end":15861,"callee":{"type":"MemberExpression","start":15816,"end":15829,"object":{"type":"Identifier","start":15816,"end":15822,"name":"params"},"property":{"type":"Identifier","start":15823,"end":15829,"name":"append"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15830,"end":15845,"value":"exclude:id.in","raw":"'exclude:id.in'"},{"type":"CallExpression","start":15847,"end":15860,"callee":{"type":"MemberExpression","start":15847,"end":15855,"object":{"type":"Identifier","start":15847,"end":15850,"name":"ids"},"property":{"type":"Identifier","start":15851,"end":15855,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15856,"end":15859,"value":",","raw":"','"}],"optional":false}],"optional":false}}},{"type":"ExpressionStatement","start":15875,"end":15937,"expression":{"type":"AssignmentExpression","start":15875,"end":15936,"operator":"=","left":{"type":"Identifier","start":15875,"end":15881,"name":"params"},"right":{"type":"CallExpression","start":15884,"end":15936,"callee":{"type":"MemberExpression","start":15884,"end":15894,"object":{"type":"Identifier","start":15884,"end":15890,"name":"params"},"property":{"type":"Identifier","start":15891,"end":15894,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15895,"end":15902,"value":"limit","raw":"'limit'"},{"type":"CallExpression","start":15904,"end":15935,"callee":{"type":"MemberExpression","start":15904,"end":15933,"object":{"type":"BinaryExpression","start":15905,"end":15923,"left":{"type":"Identifier","start":15905,"end":15910,"name":"limit"},"operator":"-","right":{"type":"MemberExpression","start":15913,"end":15923,"object":{"type":"Identifier","start":15913,"end":15916,"name":"ids"},"property":{"type":"Identifier","start":15917,"end":15923,"name":"length"},"computed":false,"optional":false}},"property":{"type":"Identifier","start":15925,"end":15933,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}}]},"alternate":null},{"type":"ReturnStatement","start":15956,"end":16750,"argument":{"type":"CallExpression","start":15963,"end":16749,"callee":{"type":"MemberExpression","start":15963,"end":15998,"object":{"type":"CallExpression","start":15963,"end":15993,"callee":{"type":"MemberExpression","start":15963,"end":15980,"object":{"type":"MemberExpression","start":15963,"end":15975,"object":{"type":"ThisExpression","start":15963,"end":15967},"property":{"type":"Identifier","start":15968,"end":15975,"name":"restAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":15976,"end":15980,"name":"list"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":15981,"end":15984,"name":"url"},{"type":"Identifier","start":15986,"end":15992,"name":"params"}],"optional":false},"property":{"type":"Identifier","start":15994,"end":15998,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":15999,"end":16064,"callee":{"type":"Identifier","start":15999,"end":16009,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":16010,"end":16063,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":16016,"end":16063,"callee":{"type":"Identifier","start":16016,"end":16018,"name":"of"},"arguments":[{"type":"ObjectExpression","start":16019,"end":16062,"properties":[{"type":"Property","start":16021,"end":16031,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16021,"end":16025,"name":"next"},"value":{"type":"Literal","start":16027,"end":16031,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":16033,"end":16047,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16033,"end":16041,"name":"previous"},"value":{"type":"Literal","start":16043,"end":16047,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":16049,"end":16060,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16049,"end":16056,"name":"results"},"value":{"type":"ArrayExpression","start":16058,"end":16060,"elements":[]},"kind":"init"}]}],"optional":false}}],"optional":false},{"type":"CallExpression","start":16066,"end":16748,"callee":{"type":"Identifier","start":16066,"end":16075,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":16076,"end":16747,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":16076,"end":16086,"name":"networkRes"}],"body":{"type":"CallExpression","start":16090,"end":16747,"callee":{"type":"MemberExpression","start":16090,"end":16125,"object":{"type":"MemberExpression","start":16090,"end":16120,"object":{"type":"MemberExpression","start":16090,"end":16108,"object":{"type":"ThisExpression","start":16090,"end":16094},"property":{"type":"Identifier","start":16095,"end":16108,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":16109,"end":16120,"name":"collection$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":16121,"end":16125,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":16126,"end":16746,"callee":{"type":"Identifier","start":16126,"end":16135,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":16136,"end":16745,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16136,"end":16139,"name":"col"}],"body":{"type":"BlockStatement","start":16143,"end":16745,"body":[{"type":"VariableDeclaration","start":16157,"end":16556,"declarations":[{"type":"VariableDeclarator","start":16163,"end":16555,"id":{"type":"Identifier","start":16163,"end":16175,"name":"atomicWrites"},"init":{"type":"CallExpression","start":16178,"end":16555,"callee":{"type":"MemberExpression","start":16178,"end":16217,"object":{"type":"MemberExpression","start":16178,"end":16196,"object":{"type":"Identifier","start":16178,"end":16188,"name":"networkRes"},"property":{"type":"Identifier","start":16189,"end":16196,"name":"results"},"computed":false,"optional":false},"property":{"type":"Identifier","start":16214,"end":16217,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":16218,"end":16554,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":16218,"end":16222,"name":"data"}],"body":{"type":"ObjectExpression","start":16227,"end":16553,"properties":[{"type":"Property","start":16245,"end":16320,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16245,"end":16254,"name":"tenantUrl"},"value":{"type":"CallExpression","start":16256,"end":16320,"callee":{"type":"Identifier","start":16256,"end":16267,"name":"indexedbUrl"},"arguments":[{"type":"Identifier","start":16268,"end":16272,"name":"data"},{"type":"CallExpression","start":16274,"end":16319,"callee":{"type":"MemberExpression","start":16274,"end":16306,"object":{"type":"MemberExpression","start":16274,"end":16292,"object":{"type":"ThisExpression","start":16274,"end":16278},"property":{"type":"Identifier","start":16279,"end":16292,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":16293,"end":16306,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16307,"end":16313,"name":"tenant"},{"type":"Identifier","start":16315,"end":16318,"name":"url"}],"optional":false}],"optional":false},"kind":"init"},{"type":"Property","start":16338,"end":16412,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16338,"end":16346,"name":"matchUrl"},"value":{"type":"CallExpression","start":16348,"end":16412,"callee":{"type":"Identifier","start":16348,"end":16359,"name":"indexedbUrl"},"arguments":[{"type":"Identifier","start":16360,"end":16364,"name":"data"},{"type":"CallExpression","start":16366,"end":16411,"callee":{"type":"MemberExpression","start":16366,"end":16398,"object":{"type":"MemberExpression","start":16366,"end":16384,"object":{"type":"ThisExpression","start":16366,"end":16370},"property":{"type":"Identifier","start":16371,"end":16384,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":16385,"end":16398,"name":"makeTenantUrl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16399,"end":16405,"name":"tenant"},{"type":"Identifier","start":16407,"end":16410,"name":"url"}],"optional":false}],"optional":false},"kind":"init"},{"type":"Property","start":16430,"end":16434,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":16430,"end":16434,"name":"data"},"kind":"init","value":{"type":"Identifier","start":16430,"end":16434,"name":"data"}},{"type":"Property","start":16452,"end":16465,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16452,"end":16458,"name":"method"},"value":{"type":"Literal","start":16460,"end":16465,"value":"GET","raw":"'GET'"},"kind":"init"},{"type":"Property","start":16483,"end":16494,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16483,"end":16488,"name":"error"},"value":{"type":"Literal","start":16490,"end":16494,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":16512,"end":16538,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":16512,"end":16516,"name":"time"},"value":{"type":"CallExpression","start":16518,"end":16538,"callee":{"type":"MemberExpression","start":16518,"end":16536,"object":{"type":"NewExpression","start":16518,"end":16528,"callee":{"type":"Identifier","start":16522,"end":16526,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":16529,"end":16536,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"kind":"init"}]}}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":16569,"end":16700,"test":{"type":"BinaryExpression","start":16573,"end":16596,"left":{"type":"MemberExpression","start":16573,"end":16592,"object":{"type":"Identifier","start":16573,"end":16585,"name":"atomicWrites"},"property":{"type":"Identifier","start":16586,"end":16592,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":16595,"end":16596,"value":0,"raw":"0"}},"consequent":{"type":"BlockStatement","start":16598,"end":16700,"body":[{"type":"ReturnStatement","start":16616,"end":16686,"argument":{"type":"CallExpression","start":16623,"end":16685,"callee":{"type":"MemberExpression","start":16623,"end":16662,"object":{"type":"CallExpression","start":16623,"end":16657,"callee":{"type":"Identifier","start":16623,"end":16627,"name":"from"},"arguments":[{"type":"CallExpression","start":16628,"end":16656,"callee":{"type":"MemberExpression","start":16628,"end":16642,"object":{"type":"Identifier","start":16628,"end":16631,"name":"col"},"property":{"type":"Identifier","start":16632,"end":16642,"name":"bulkInsert"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16643,"end":16655,"name":"atomicWrites"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":16658,"end":16662,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":16663,"end":16684,"callee":{"type":"Identifier","start":16663,"end":16666,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":16667,"end":16683,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"Identifier","start":16673,"end":16683,"name":"networkRes"}}],"optional":false}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":16713,"end":16735,"argument":{"type":"CallExpression","start":16720,"end":16734,"callee":{"type":"Identifier","start":16720,"end":16722,"name":"of"},"arguments":[{"type":"Identifier","start":16723,"end":16733,"name":"networkRes"}],"optional":false}}]}}],"optional":false}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":16761,"end":17487,"static":false,"computed":false,"key":{"type":"Identifier","start":16761,"end":16773,"name":"listReactive"},"kind":"method","value":{"type":"FunctionExpression","start":16773,"end":17487,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16774,"end":16780,"name":"tenant"},{"type":"Identifier","start":16782,"end":16785,"name":"url"},{"type":"Identifier","start":16787,"end":16793,"name":"params"},{"type":"AssignmentPattern","start":16795,"end":16814,"left":{"type":"Identifier","start":16795,"end":16809,"name":"validQueryKeys"},"right":{"type":"ArrayExpression","start":16812,"end":16814,"elements":[]}},{"type":"AssignmentPattern","start":16816,"end":16876,"left":{"type":"Identifier","start":16816,"end":16827,"name":"indexedbUrl"},"right":{"type":"ArrowFunctionExpression","start":16830,"end":16876,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":16831,"end":16835,"name":"data"},{"type":"Identifier","start":16837,"end":16846,"name":"tenantUrl"}],"body":{"type":"TemplateLiteral","start":16851,"end":16876,"expressions":[{"type":"Identifier","start":16854,"end":16863,"name":"tenantUrl"},{"type":"MemberExpression","start":16867,"end":16874,"object":{"type":"Identifier","start":16867,"end":16871,"name":"data"},"property":{"type":"Identifier","start":16872,"end":16874,"name":"id"},"computed":false,"optional":false}],"quasis":[{"type":"TemplateElement","start":16852,"end":16852,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":16864,"end":16865,"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":16875,"end":16875,"value":{"raw":"","cooked":""},"tail":true}]}}},{"type":"AssignmentPattern","start":16878,"end":16890,"left":{"type":"Identifier","start":16878,"end":16882,"name":"wait"},"right":{"type":"Literal","start":16885,"end":16890,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":16892,"end":17487,"body":[{"type":"ReturnStatement","start":16902,"end":17481,"argument":{"type":"CallExpression","start":16909,"end":17480,"callee":{"type":"MemberExpression","start":16909,"end":16974,"object":{"type":"CallExpression","start":16909,"end":16969,"callee":{"type":"MemberExpression","start":16909,"end":16932,"object":{"type":"MemberExpression","start":16909,"end":16927,"object":{"type":"ThisExpression","start":16909,"end":16913},"property":{"type":"Identifier","start":16914,"end":16927,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":16928,"end":16932,"name":"list"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16933,"end":16939,"name":"tenant"},{"type":"Identifier","start":16941,"end":16944,"name":"url"},{"type":"Identifier","start":16946,"end":16952,"name":"params"},{"type":"Identifier","start":16954,"end":16968,"name":"validQueryKeys"}],"optional":false},"property":{"type":"Identifier","start":16970,"end":16974,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":16975,"end":17209,"callee":{"type":"Identifier","start":16975,"end":16984,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":16985,"end":17208,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":16985,"end":16991,"name":"idbRes"}],"body":{"type":"ConditionalExpression","start":16995,"end":17208,"test":{"type":"Identifier","start":16995,"end":16999,"name":"wait"},"consequent":{"type":"CallExpression","start":17014,"end":17073,"callee":{"type":"MemberExpression","start":17014,"end":17031,"object":{"type":"ThisExpression","start":17014,"end":17018},"property":{"type":"Identifier","start":17019,"end":17031,"name":"downloadList"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":17032,"end":17038,"name":"idbRes"},{"type":"Identifier","start":17040,"end":17046,"name":"tenant"},{"type":"Identifier","start":17048,"end":17051,"name":"url"},{"type":"Identifier","start":17053,"end":17059,"name":"params"},{"type":"Identifier","start":17061,"end":17072,"name":"indexedbUrl"}],"optional":false},"alternate":{"type":"CallExpression","start":17088,"end":17208,"callee":{"type":"MemberExpression","start":17088,"end":17152,"object":{"type":"CallExpression","start":17088,"end":17147,"callee":{"type":"MemberExpression","start":17088,"end":17105,"object":{"type":"ThisExpression","start":17088,"end":17092},"property":{"type":"Identifier","start":17093,"end":17105,"name":"downloadList"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":17106,"end":17112,"name":"idbRes"},{"type":"Identifier","start":17114,"end":17120,"name":"tenant"},{"type":"Identifier","start":17122,"end":17125,"name":"url"},{"type":"Identifier","start":17127,"end":17133,"name":"params"},{"type":"Identifier","start":17135,"end":17146,"name":"indexedbUrl"}],"optional":false},"property":{"type":"Identifier","start":17148,"end":17152,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":17153,"end":17207,"callee":{"type":"Identifier","start":17153,"end":17162,"name":"startWith"},"arguments":[{"type":"ObjectExpression","start":17163,"end":17206,"properties":[{"type":"Property","start":17165,"end":17175,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17165,"end":17169,"name":"next"},"value":{"type":"Literal","start":17171,"end":17175,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":17177,"end":17191,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17177,"end":17185,"name":"previous"},"value":{"type":"Literal","start":17187,"end":17191,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":17193,"end":17204,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17193,"end":17200,"name":"results"},"value":{"type":"ArrayExpression","start":17202,"end":17204,"elements":[]},"kind":"init"}]}],"optional":false}],"optional":false}}}],"optional":false},{"type":"CallExpression","start":17211,"end":17479,"callee":{"type":"Identifier","start":17211,"end":17220,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":17221,"end":17478,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":17222,"end":17232,"name":"networkRes"}],"body":{"type":"CallExpression","start":17237,"end":17478,"callee":{"type":"MemberExpression","start":17237,"end":17310,"object":{"type":"CallExpression","start":17237,"end":17305,"callee":{"type":"MemberExpression","start":17237,"end":17268,"object":{"type":"MemberExpression","start":17237,"end":17255,"object":{"type":"ThisExpression","start":17237,"end":17241},"property":{"type":"Identifier","start":17242,"end":17255,"name":"collectionAPI"},"computed":false,"optional":false},"property":{"type":"Identifier","start":17256,"end":17268,"name":"listReactive"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":17269,"end":17275,"name":"tenant"},{"type":"Identifier","start":17277,"end":17280,"name":"url"},{"type":"Identifier","start":17282,"end":17288,"name":"params"},{"type":"Identifier","start":17290,"end":17304,"name":"validQueryKeys"}],"optional":false},"property":{"type":"Identifier","start":17306,"end":17310,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":17311,"end":17477,"callee":{"type":"Identifier","start":17311,"end":17314,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":17315,"end":17476,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":17315,"end":17318,"name":"res"}],"body":{"type":"ObjectExpression","start":17323,"end":17475,"properties":[{"type":"Property","start":17337,"end":17371,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17337,"end":17341,"name":"next"},"value":{"type":"LogicalExpression","start":17343,"end":17371,"left":{"type":"ChainExpression","start":17343,"end":17359,"expression":{"type":"MemberExpression","start":17343,"end":17359,"object":{"type":"Identifier","start":17343,"end":17353,"name":"networkRes"},"property":{"type":"Identifier","start":17355,"end":17359,"name":"next"},"computed":false,"optional":true}},"operator":"||","right":{"type":"MemberExpression","start":17363,"end":17371,"object":{"type":"Identifier","start":17363,"end":17366,"name":"res"},"property":{"type":"Identifier","start":17367,"end":17371,"name":"next"},"computed":false,"optional":false}},"kind":"init"},{"type":"Property","start":17385,"end":17431,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17385,"end":17393,"name":"previous"},"value":{"type":"LogicalExpression","start":17395,"end":17431,"left":{"type":"ChainExpression","start":17395,"end":17415,"expression":{"type":"MemberExpression","start":17395,"end":17415,"object":{"type":"Identifier","start":17395,"end":17405,"name":"networkRes"},"property":{"type":"Identifier","start":17407,"end":17415,"name":"previous"},"computed":false,"optional":true}},"operator":"||","right":{"type":"MemberExpression","start":17419,"end":17431,"object":{"type":"Identifier","start":17419,"end":17422,"name":"res"},"property":{"type":"Identifier","start":17423,"end":17431,"name":"previous"},"computed":false,"optional":false}},"kind":"init"},{"type":"Property","start":17445,"end":17465,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":17445,"end":17452,"name":"results"},"value":{"type":"MemberExpression","start":17454,"end":17465,"object":{"type":"Identifier","start":17454,"end":17457,"name":"res"},"property":{"type":"Identifier","start":17458,"end":17465,"name":"results"},"computed":false,"optional":false},"kind":"init"}]}}],"optional":false}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":17492,"end":17712,"static":false,"computed":false,"key":{"type":"Identifier","start":17492,"end":17496,"name":"list"},"kind":"method","value":{"type":"FunctionExpression","start":17496,"end":17712,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":17497,"end":17503,"name":"tenant"},{"type":"Identifier","start":17505,"end":17508,"name":"url"},{"type":"Identifier","start":17510,"end":17516,"name":"params"},{"type":"AssignmentPattern","start":17518,"end":17537,"left":{"type":"Identifier","start":17518,"end":17532,"name":"validQueryKeys"},"right":{"type":"ArrayExpression","start":17535,"end":17537,"elements":[]}},{"type":"AssignmentPattern","start":17539,"end":17599,"left":{"type":"Identifier","start":17539,"end":17550,"name":"indexedbUrl"},"right":{"type":"ArrowFunctionExpression","start":17553,"end":17599,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":17554,"end":17558,"name":"data"},{"type":"Identifier","start":17560,"end":17569,"name":"tenantUrl"}],"body":{"type":"TemplateLiteral","start":17574,"end":17599,"expressions":[{"type":"Identifier","start":17577,"end":17586,"name":"tenantUrl"},{"type":"MemberExpression","start":17590,"end":17597,"object":{"type":"Identifier","start":17590,"end":17594,"name":"data"},"property":{"type":"Identifier","start":17595,"end":17597,"name":"id"},"computed":false,"optional":false}],"quasis":[{"type":"TemplateElement","start":17575,"end":17575,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":17587,"end":17588,"value":{"raw":"/","cooked":"/"},"tail":false},{"type":"TemplateElement","start":17598,"end":17598,"value":{"raw":"","cooked":""},"tail":true}]}}}],"body":{"type":"BlockStatement","start":17601,"end":17712,"body":[{"type":"ReturnStatement","start":17611,"end":17706,"argument":{"type":"CallExpression","start":17618,"end":17705,"callee":{"type":"MemberExpression","start":17618,"end":17696,"object":{"type":"CallExpression","start":17618,"end":17691,"callee":{"type":"MemberExpression","start":17618,"end":17635,"object":{"type":"ThisExpression","start":17618,"end":17622},"property":{"type":"Identifier","start":17623,"end":17635,"name":"listReactive"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":17636,"end":17642,"name":"tenant"},{"type":"Identifier","start":17644,"end":17647,"name":"url"},{"type":"Identifier","start":17649,"end":17655,"name":"params"},{"type":"Identifier","start":17657,"end":17671,"name":"validQueryKeys"},{"type":"Identifier","start":17673,"end":17684,"name":"indexedbUrl"},{"type":"Literal","start":17686,"end":17690,"value":true,"raw":"true"}],"optional":false},"property":{"type":"Identifier","start":17692,"end":17696,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":17697,"end":17704,"callee":{"type":"Identifier","start":17697,"end":17701,"name":"take"},"arguments":[{"type":"Literal","start":17702,"end":17703,"value":1,"raw":"1"}],"optional":false}],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGVjdGlvbi5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9jb2xsZWN0aW9uLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBd0IsU0FBUyxFQUFFLGFBQWEsRUFBMkIsTUFBTSx5QkFBeUIsQ0FBQztBQUNsSCxPQUFPLEVBQUUsb0JBQW9CLEVBQWlCLG9CQUFvQixFQUF5RCxNQUFNLDJCQUEyQixDQUFDO0FBQzdKLE9BQU8sRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3SCxPQUFPLEVBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUdqRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFJakQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUE4QjNELE1BQU0sT0FBTyxPQUFPO0lBSWhCLFlBQW9CLE1BQXNCO1FBQXRCLFdBQU0sR0FBTixNQUFNLENBQWdCO1FBRmxDLFVBQUssR0FBNkQsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUV2QyxDQUFDO0lBTTlDLEdBQUcsQ0FBQyxHQUFXLEVBQUUsTUFBbUI7UUFFaEMsTUFBTSxTQUFTLEdBQUcsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxD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RyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQUU7UUFFakUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQWdDLENBQUM7SUFDbkUsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUFXO1FBRWQsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBRXJCLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBRXJCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQUUsQ0FBQyxDQUFDLENBQUMsRUFFaEYsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUVuRCxRQUFRLENBQUMsR0FBRyxFQUFFO1lBRVYsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUM7YUFBRTtZQUVwRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQUU7UUFDbEUsQ0FBQyxDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUVFLENBQUM7UUFFckIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxD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QUUsRUFBRSxjQUFjLENBQUMsSUFBTyxFQUFFLFNBQWlCLEVBQUUsRUFBRSxDQUFDLEdBQUcsU0FBUyxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFFL0ksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUVqRixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1YsQ0FBQztJQUVOLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGF0eXBlLCBGaWxlQ29uZmlnLCBnZXRTY2hlbWEsIHB3YURvY01ldGhvZHMsIFB3YURvY1R5cGUsIFB3YURvY3VtZW50IH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMvZG9jdW1lbnQnO1xuaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbkNyZWF0b3IsIFB3YUNvbGxlY3Rpb24sIHB3YUNvbGxlY3Rpb25NZXRob2RzLCBMaXN0UmVzcG9uc2UsIFB3YUxpc3RSZXNwb25zZSwgQ29sbGVjdGlvbkxpc3RSZXNwb25zZSB9IGZyb20gJy4uL2RlZmluaXRpb25zL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3dpdGNoTWFwLCBtYXAsIGNhdGNoRXJyb3IsIHNoYXJlUmVwbGF5LCB0YXAsIGZpbmFsaXplLCBzdGFydFdpdGgsIHRha2UsIGF1ZGl0VGltZSwgdGltZW91dCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mLCBmcm9tLCB0aHJvd0Vycm9yLCBjb21iaW5lTGF0ZXN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgcXVlcnlGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcnMucmVzb3VyY2UnO1xuaW1wb3J0IHsgUnhDb2xsZWN0aW9uQ3JlYXRvciwgUnhEYXRhYmFzZSB9IGZyb20gJ3J4ZGInO1xuaW1wb3J0IHsgTmdab25lIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBlbnRlclpvbmUgfSBmcm9tICcuL29wZXJhdG9ycy5yZXNvdXJjZSc7XG5pbXBvcnQgeyBBcGlQcm9ncmVzc1NlcnZpY2UgfSBmcm9tICcuL2FwaVByb2dyZXNzLnJlc291cmNlJztcbmltcG9ydCB7IFN5bmNDb2xsZWN0aW9uU2VydmljZSB9IGZyb20gJy4vc3luY2hyb25pc2UtY29sbGVjdGlvbi5yZXNvdXJjZSc7XG5pbXBvcnQgeyBTeW5jaHJvbmlzZURvY1R5cGUgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1kb2N1bWVudCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwUGFyYW1zIH0gZnJvbSAnLi9jdXN0b21QYXJhbXMucmVzb3VyY2UnO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdEFQSUNyZWF0b3Ige1xuICAgIGFwaVByb2dyZXNzPzogQXBpUHJvZ3Jlc3NTZXJ2aWNlO1xuICAgIGh0dHBDbGllbnQ/OiBIdHRwQ2xpZW50O1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdGlvbkFQSUNyZWF0b3I8RGF0YWJhc2U+IHtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGRiJD86IE9ic2VydmFibGU8UnhEYXRhYmFzZTxEYXRhYmFzZT4+O1xuICAgIGNvbGxlY3Rpb25FdmljdFRpbWUkOiBPYnNlcnZhYmxlPG51bWJlcj47XG4gICAgY29sbGVjdGlvblNraXBEb2N1bWVudHMkOiBPYnNlcnZhYmxlPG51bWJlcj47XG4gICAgc3luY2hyb25pc2VTZXJ2aWNlPzogU3luY0NvbGxlY3Rpb25TZXJ2aWNlO1xuICAgIGF0dGFjaG1lbnRzPzoge307XG4gICAgb3B0aW9ucz86IHt9O1xuICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM/OiB7fTtcbiAgICBhdXRvTWlncmF0ZT86IGJvb2xlYW47XG4gICAgbmdab25lOiBOZ1pvbmU7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBQd2FDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4ge1xuICAgIGNvbGxlY3Rpb25BcGlDcmVhdG9yOiBQYXJ0aWFsPENvbGxlY3Rpb25BUElDcmVhdG9yPERhdGFiYXNlPj47XG4gICAgcmVzdEFwaUNyZWF0b3I6IFBhcnRpYWw8UmVzdEFQSUNyZWF0b3I+O1xuICAgIGNhY2hlVGltZUluU2Vjb25kczogbnVtYmVyO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBSZXN0QVBJPFQgZXh0ZW5kcyBEYXRhdHlwZT4ge1xuXG4gICAgcHJpdmF0ZSBjYWNoZTogTWFwPHN0cmluZywgT2JzZXJ2YWJsZTxUPiB8IE9ic2VydmFibGU8TGlzdFJlc3BvbnNlPFQ+Pj4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZzogUmVzdEFQSUNyZWF0b3IpIHt9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQ1JVRFxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGdldCh1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8VD4ge1xuXG4gICAgICAgIGNvbnN0IHBhcmFtc1VybCA9IHBhcmFtcz8ua2V5cygpLm1hcChrID0+IGAke2t9PSR7cGFyYW1zLmdldEFsbChrKS5qb2luKCcsJyl9YCkuam9pbignJicpO1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7dXJsfSR7cGFyYW1zVXJsID8gJz8nICsgcGFyYW1zVXJsIDogJyd9YDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZ2V0KGNhY2hlS2V5KSksXG5cbiAgICAgICAgICAgIHRpbWVvdXQoNzUwMCksXG5cbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLnJlbW92ZSgpOyB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuZGVsZXRlKGNhY2hlS2V5KTsgfVxuXG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIHBvc3QodXJsOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8VD4gfCBGb3JtRGF0YSk6IE9ic2VydmFibGU8VD4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdXJsO1xuXG4gICAgICAgIGNvbnN0IHJlcSA9IG9mKHRydWUpLnBpcGUoXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB7IGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLmFkZCgpOyB9IH0pLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5jb25maWcuaHR0cENsaWVudC5wb3N0KHVybCwgZGF0YSkpLFxuXG4gICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5yZW1vdmUoKTsgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLmRlbGV0ZShjYWNoZUtleSk7IH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApICBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIHB1dCh1cmw6IHN0cmluZywgZGF0YTogUGFydGlhbDxUPiB8IEZvcm1EYXRhKTogT2JzZXJ2YWJsZTxUPiB7XG5cbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSB1cmw7XG5cbiAgICAgICAgY29uc3QgcmVxID0gb2YodHJ1ZSkucGlwZShcblxuICAgICAgICAgICAgdGFwKCgpID0+IHsgaWYgKCEhdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MpIHsgdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MuYWRkKCk7IH0gfSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LnB1dCh1cmwsIGRhdGEpKSxcblxuICAgICAgICAgICAgZmluYWxpemUoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MpIHsgdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MucmVtb3ZlKCk7IH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhY2hlLmhhcyhjYWNoZUtleSkpIHsgdGhpcy5jYWNoZS5kZWxldGUoY2FjaGVLZXkpOyB9XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIGxpc3QodXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMpOiBPYnNlcnZhYmxlPExpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIGNvbnN0IHBhcmFtc1VybCA9IHBhcmFtcz8ua2V5cygpLm1hcChrID0+IGAke2t9PSR7cGFyYW1zLmdldEFsbChrKS5qb2luKCcsJyl9YCkuam9pbignJicpO1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7dXJsfSR7cGFyYW1zVXJsID8gJz8nICsgcGFyYW1zVXJsIDogJyd9YDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZ2V0KGNhY2hlS2V5KSksXG5cbiAgICAgICAgICAgIHRpbWVvdXQoNzUwMCksXG5cbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLnJlbW92ZSgpOyB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuZGVsZXRlKGNhY2hlS2V5KTsgfVxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxMaXN0UmVzcG9uc2U8VD4+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPExpc3RSZXNwb25zZTxUPj47XG4gICAgfVxuXG4gICAgZGVsZXRlKHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHVybDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZGVsZXRlKHVybCkpLFxuXG4gICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5yZW1vdmUoKTsgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLmRlbGV0ZShjYWNoZUtleSk7IH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApIGFzIE9ic2VydmFibGU8YW55PjtcblxuICAgICAgICBpZiAoIXRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLnNldChjYWNoZUtleSwgcmVxKTsgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uQVBJPFQgZXh0ZW5kcyBEYXRhdHlwZSwgRGF0YWJhc2U+IHtcblxuICAgIHByaXZhdGUgY29uZmlnOiBDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4gPSB7XG4gICAgICAgIG5hbWU6ICdub19uYW1lX2NvbGxlY3Rpb25fYXBpJyxcbiAgICAgICAgZGIkOiBvZigpLFxuICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lJDogb2YoODY0MDApLFxuICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyQ6IG9mKDUwMCksXG4gICAgICAgIGF0dGFjaG1lbnRzOiB7fSxcbiAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM6IHt9LFxuICAgICAgICBhdXRvTWlncmF0ZTogdHJ1ZSxcbiAgICAgICAgbmdab25lOiBudWxsXG4gICAgfTtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogdmFyaWFibGUtbmFtZVxuICAgIHByaXZhdGUgX2NvbGxlY3Rpb24kOiBPYnNlcnZhYmxlPFB3YUNvbGxlY3Rpb248VD4+O1xuXG4gICAgcHJpdmF0ZSBjYWNoZSA9IG5ldyBNYXAoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2NvbmZpZzogUGFydGlhbDxDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4+KSB7XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldCBjb2xsZWN0aW9uJCgpOiBPYnNlcnZhYmxlPFB3YUNvbGxlY3Rpb248VD4+IHtcblxuICAgICAgICBpZiAodGhpcy5fY29sbGVjdGlvbiQpIHsgcmV0dXJuIHRoaXMuX2NvbGxlY3Rpb24kOyB9XG5cbiAgICAgICAgY29uc3QgY29sbGVjdGlvblNjaGVtYSA9IHt9O1xuXG4gICAgICAgIGNvbGxlY3Rpb25TY2hlbWFbdGhpcy5jb25maWcubmFtZV0gPSBnZXRDb2xsZWN0aW9uQ3JlYXRvcihcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm5hbWUsXG4gICAgICAgICAgICBwd2FDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgIHB3YURvY01ldGhvZHMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdHRhY2htZW50cyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm9wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5taWdyYXRpb25TdHJhdGVnaWVzLFxuICAgICAgICAgICAgdGhpcy5jb25maWcuYXV0b01pZ3JhdGVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9jb2xsZWN0aW9uJCA9IHRoaXMuY29uZmlnLmRiJC5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZGIgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm5hbWUgaW4gZGIpIHsgcmV0dXJuIG9mKGRiW3RoaXMuY29uZmlnLm5hbWVdKTsgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmVMYXRlc3QoW1xuICAgICAgICAgICAgICAgICAgICBmcm9tKGRiLmFkZENvbGxlY3Rpb25zKGNvbGxlY3Rpb25TY2hlbWEgYXMgeyBba2V5OiBzdHJpbmddOiBSeENvbGxlY3Rpb25DcmVhdG9yOyB9KSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmNvbGxlY3Rpb25FdmljdFRpbWUkLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5jb2xsZWN0aW9uU2tpcERvY3VtZW50cyRcbiAgICAgICAgICAgICAgICBdKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIHRha2UoMSksXG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoTWFwKChbY29sbGVjdGlvbnMsIGNvbGxlY3Rpb25FdmljdFRpbWUsIGNvbGxlY3Rpb25Ta2lwRG9jdW1lbnRzXSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc3luY2hyb25pc2VTZXJ2aWNlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhOiBTeW5jaHJvbmlzZURvY1R5cGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYi5uYW1lICsgJy0nICsgdGhpcy5jb25maWcubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VPcHRpb25zOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRSZWR1Y2U6IGRiLmV2ZW50UmVkdWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlJbnN0YW5jZTogZGIubXVsdGlJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGRiLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogZGIucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbk5hbWU6IHRoaXMuY29uZmlnLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmNvbmZpZy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBnZXRTY2hlbWEodGhpcy5jb25maWcubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50czogY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0uYXR0YWNobWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvTWlncmF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlUmVwbGFjZW1lbnRQb2xpY3k6IGNvbGxlY3Rpb25zW3RoaXMuY29uZmlnLm5hbWVdLmNhY2hlUmVwbGFjZW1lbnRQb2xpY3ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzOiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXS5tZXRob2RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczogY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0ubWlncmF0aW9uU3RyYXRlZ2llcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbGxlY3Rpb25zW3RoaXMuY29uZmlnLm5hbWVdLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNzOiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXS5zdGF0aWNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY29sbGVjdGlvbiB0byBzeW5jaHJvbmlzZSBjb2xsZWN0aW9uIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuc3luY2hyb25pc2VTZXJ2aWNlLmFkZFN5bmNocm9uaXNlRG9jdW1lbnQoZGF0YSkucGlwZShcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAoKCkgPT4gY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0gYXMgUHdhQ29sbGVjdGlvbjxUPilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mKGNvbGxlY3Rpb25zKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcCgoKSA9PiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXSBhcyBQd2FDb2xsZWN0aW9uPFQ+KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHRhcChjb2wgPT4gY29sLnByZVNhdmUoKHBsYWluRGF0YSwgcnhEb2N1bWVudCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gbW9kaWZ5IGFueUZpZWxkIGJlZm9yZSBzYXZpbmdcbiAgICAgICAgICAgICAgICAvLyBhZGQgaG9vayBpbiBzeW5jaHJvbmlzZS1jb2xsZWN0aW9uIGFzIHdlbGxcbiAgICAgICAgICAgICAgICBwbGFpbkRhdGEuY3JlYXRlZEF0ID0gcGxhaW5EYXRhLmNyZWF0ZWRBdCB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBwbGFpbkRhdGEudXBkYXRlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIH0sIGZhbHNlKSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICAgICB0YWtlKDEpLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xsZWN0aW9uJDtcbiAgICB9XG5cbiAgICBtYWtlVGVuYW50VXJsKHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IHN0cmluZyB7XG5cbiAgICAgICAgcmV0dXJuIGAke3RlbmFudH1fX19fJHt1cmx9YDtcbiAgICB9XG5cbiAgICBmaWx0ZXJEb2NzKFxuICAgICAgICBkb2NzOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+W10+LFxuICAgICAgICB1cmw6IHN0cmluZyxcbiAgICAgICAgcGFyYW1zPzogSHR0cFBhcmFtcyxcbiAgICAgICAgdmFsaWRRdWVyeUtleXMgPSBbXVxuICAgICk6IE9ic2VydmFibGU8Q29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIHJldHVybiBkb2NzLnBpcGUoXG5cbiAgICAgICAgICAgIC8vIG1hcCh2ID0+IHYuc29ydCgoYSwgYikgPT4gYi50aW1lIC0gYS50aW1lKSksXG5cbiAgICAgICAgICAgIG1hcChhbGxEb2NzID0+IHF1ZXJ5RmlsdGVyKHZhbGlkUXVlcnlLZXlzLCBwYXJhbXMsIGFsbERvY3MpKSxcblxuICAgICAgICAgICAgbWFwKGFsbERvY3MgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiByYWRpeFxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VJbnQocGFyYW1zPy5nZXQoJ29mZnNldCcpIHx8ICcwJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHJhZGl4XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBwYXJzZUludChwYXJhbXM/LmdldCgnbGltaXQnKSB8fCAnMTAwJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYWxsRG9jcy5sZW5ndGggLSBlbmQgPiAwID8gYCR7dXJsfT8ke3BhcmFtcy5zZXQoJ29mZnNldCcsIGVuZC50b1N0cmluZygpKS50b1N0cmluZygpfWAgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBzdGFydCA+IDAgPyBgJHt1cmx9PyR7cGFyYW1zLnNldCgnb2Zmc2V0Jywgc3RhcnQudG9TdHJpbmcoKSkudG9TdHJpbmcoKX1gIDogbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7bmV4dCwgcHJldmlvdXMsIHJlc3VsdHM6IGFsbERvY3Muc2xpY2Uoc3RhcnQsIGVuZCksIGNvdW50OiBhbGxEb2NzLmxlbmd0aH07XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBDUlVEXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZ2V0UmVhY3RpdmUodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPj4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGVuYW50ICsgdXJsO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgIHN3aXRjaE1hcChjb2wgPT4gY29sLmZpbmRPbmUoe3NlbGVjdG9yOiB7IHRlbmFudFVybDogeyRlcTogdGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKX19fSkuJCksXG5cbiAgICAgICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgICAgIGVudGVyWm9uZTxQd2FEb2N1bWVudDxUPj4odGhpcy5jb25maWcubmdab25lKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCBkb2MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgIH1cblxuICAgIGdldCh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVhY3RpdmUodGVuYW50LCB1cmwpLnBpcGUoXG5cbiAgICAgICAgICAgIHRha2UoMSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGlzdFJlYWN0aXZlKHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcywgdmFsaWRRdWVyeUtleXMgPSBbXSk6IE9ic2VydmFibGU8Q29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGVuYW50ICsgdXJsO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGRvY3MgPSB0aGlzLmNvbGxlY3Rpb24kLnBpcGUoXG5cbiAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoY29sID0+IGNvbC5maW5kKHsgc2VsZWN0b3I6IHttYXRjaFVybDogeyRyZWdleDogbmV3IFJlZ0V4cChgXiR7dGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKX0uKmApfX0gfSkuJCksXG5cbiAgICAgICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCBkb2NzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlckRvY3ModGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpLCB1cmwsIHBhcmFtcywgdmFsaWRRdWVyeUtleXMpLnBpcGUoXG5cbiAgICAgICAgICAgIGVudGVyWm9uZTxDb2xsZWN0aW9uTGlzdFJlc3BvbnNlPFQ+Pih0aGlzLmNvbmZpZy5uZ1pvbmUpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGxpc3QodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cyA9IFtdKTogT2JzZXJ2YWJsZTxDb2xsZWN0aW9uTGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdFJlYWN0aXZlKHRlbmFudCwgdXJsLCBwYXJhbXMsIHZhbGlkUXVlcnlLZXlzKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vL1xuICAgIC8vIEFjdGlvbnNcbiAgICAvLy8vLy8vLy8vLy8vXG5cbiAgICBwb3N0KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgZGF0YTogVCwgZmlsZUZpZWxkczogRmlsZUNvbmZpZ1tdID0gW10pOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KHtcbiAgICAgICAgICAgICAgICB0ZW5hbnRVcmw6IGAke3RoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCl9LyR7ZGF0YS5pZH1gLFxuICAgICAgICAgICAgICAgIG1hdGNoVXJsOiBgJHt0aGlzLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpfS8ke2RhdGEuaWR9YCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdXQodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBkYXRhOiBULCBmaWxlRmllbGRzOiBGaWxlQ29uZmlnW10gPSBbXSk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChbdGhpcy5nZXQodGVuYW50LCB1cmwpLCB0aGlzLmNvbGxlY3Rpb24kXSkucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKChbZG9jLCBjb2xdKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9jKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGRvYy5tZXRob2QgIT09ICdQT1NUJyA/ICdQVVQnIDogZG9jLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IGRvYy5tZXRob2QgPT09ICdHRVQnID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgOiBkb2MudGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY0RhdGE6IFBhcnRpYWw8UHdhRG9jVHlwZTxUPj4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW5hbnRVcmw6IHRoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFVybDogdGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sLmF0b21pY1Vwc2VydChkb2NEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGRlbGV0ZSh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIGRhdGE/OiBULCBmaWxlRmllbGRzOiBGaWxlQ29uZmlnW10gPSBbXSk6IE9ic2VydmFibGU8Ym9vbGVhbiB8IFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRlbmFudCwgdXJsKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChkb2MgJiYgZG9jLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLnJlbW92ZSgpKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jICYmIChkb2MubWV0aG9kID09PSAnUFVUJyB8fCBkb2MubWV0aG9kID09PSAnREVMRVRFJykpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkb2MuYXRvbWljUGF0Y2goe21ldGhvZDogJ0RFTEVURScsIGVycm9yOiBudWxsfSkpO1xuXG4gICAgICAgICAgICAgICAgfSAgZWxzZSBpZiAoZG9jKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHttZXRob2Q6ICdERUxFVEUnLCBlcnJvcjogbnVsbCwgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCl9KSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NEYXRhOiBQYXJ0aWFsPFB3YURvY1R5cGU8VD4+ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVuYW50VXJsOiB0aGlzLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hVcmw6IHRoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlRmllbGRzXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KGRvY0RhdGEpKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcignRG9jdW1lbnQgbm90IGZvdW5kIHdoaWxlIGRlbGV0aW5nIGluIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBDb25mbGljdCBBY3Rpb25zXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgY3JlYXRlTmV3KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXQodGVuYW50LCB1cmwpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcChkb2MgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKCEhZG9jICYmIGRvYy5tZXRob2QgIT09ICdHRVQnICYmIGRvYy5tZXRob2QgIT09ICdQT1NUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKGRvYy5hdG9taWNQYXRjaCh7bWV0aG9kOidQT1NUJ30pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihgQ2Fubm90IGR1cGxpY2F0ZSB0aGlzIGRvY3VtZW50LiBEb2N1bWVudDogJHtKU09OLnN0cmluZ2lmeShkb2M/LnRvSlNPTigpIHx8IHt9KX1gKTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZGVsZXRlQ29uZmxpY3QodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRlbmFudCwgdXJsKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKGRvYy5yZW1vdmUoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYENhbm5vdCBkZWxldGUgdGhpcyBkb2N1bWVudC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSB8fCB7fSl9YCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIFB3YUNvbGxlY3Rpb25BUEk8VCBleHRlbmRzIERhdGF0eXBlLCBEYXRhYmFzZT4ge1xuXG4gICAgcHJpdmF0ZSBjb25maWc6IFB3YUNvbGxlY3Rpb25BUElDcmVhdG9yPERhdGFiYXNlPiA9IHtcbiAgICAgICAgcmVzdEFwaUNyZWF0b3I6IHt9LFxuICAgICAgICBjb2xsZWN0aW9uQXBpQ3JlYXRvcjoge1xuICAgICAgICAgICAgbmFtZTogJ25vX25hbWVfcHdhX2NvbGxlY3Rpb25fYXBpJyxcbiAgICAgICAgICAgIGRiJDogb2YoKSxcbiAgICAgICAgICAgIGNvbGxlY3Rpb25FdmljdFRpbWUkOiBvZig4NjQwMCksXG4gICAgICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyQ6IG9mKDUwMCksXG4gICAgICAgICAgICBhdHRhY2htZW50czoge30sXG4gICAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM6IHt9LFxuICAgICAgICAgICAgYXV0b01pZ3JhdGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGNhY2hlVGltZUluU2Vjb25kczogMTIwXG4gICAgfTtcblxuICAgIGNvbGxlY3Rpb25BUEk6IENvbGxlY3Rpb25BUEk8VCwgRGF0YWJhc2U+O1xuICAgIHJlc3RBUEk6IFJlc3RBUEk8VD47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jb25maWc6IFBhcnRpYWw8UHdhQ29sbGVjdGlvbkFQSUNyZWF0b3I8RGF0YWJhc2U+PiwgKSB7XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZyxcbiAgICAgICAgICAgIHJlc3RBcGlDcmVhdG9yOiB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jb25maWcucmVzdEFwaUNyZWF0b3IsXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fY29uZmlnLnJlc3RBcGlDcmVhdG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29sbGVjdGlvbkFwaUNyZWF0b3I6IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNvbmZpZy5jb2xsZWN0aW9uQXBpQ3JlYXRvcixcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9jb25maWcuY29sbGVjdGlvbkFwaUNyZWF0b3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlc3RBUEkgICAgICAgID0gbmV3IFJlc3RBUEkodGhpcy5jb25maWcucmVzdEFwaUNyZWF0b3IpO1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25BUEkgID0gbmV3IENvbGxlY3Rpb25BUEkodGhpcy5jb25maWcuY29sbGVjdGlvbkFwaUNyZWF0b3IpO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgLy8gUmV0cmlldmVcbiAgICAvLy8vLy8vLy8vLy8vL1xuXG4gICAgZG93bmxvYWRSZXRyaWV2ZShkb2M6IFB3YURvY3VtZW50PFQ+IHwgbnVsbCwgdGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zKTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPiB8IG51bGw+IHtcblxuICAgICAgICBpZiAoISFkb2MgJiYgZG9jLm1ldGhvZCAhPT0gJ0dFVCcpIHsgcmV0dXJuIG9mKGRvYyk7IH1cblxuICAgICAgICAvLyBjaGVjayBpZiBkb2N1bWVudCBpcyB3aXRoaW4gY2FjaGVUaW1lXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgaWYgKCEhZG9jICYmIGRvYy50aW1lID49IChjdXJyZW50VGltZSAtICh0aGlzLmNvbmZpZy5jYWNoZVRpbWVJblNlY29uZHMgKiAxMDAwKSkpIHsgcmV0dXJuIG9mKGRvYyk7IH1cblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChbdGhpcy5yZXN0QVBJLmdldCh1cmwsIHBhcmFtcyksIHRoaXMuY29sbGVjdGlvbkFQSS5jb2xsZWN0aW9uJF0pLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoW3JlcywgY29sXSkgPT4gY29sLmF0b21pY1Vwc2VydCh7XG4gICAgICAgICAgICAgICAgdGVuYW50VXJsOiB0aGlzLmNvbGxlY3Rpb25BUEkubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgbWF0Y2hVcmw6IHRoaXMuY29sbGVjdGlvbkFQSS5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKSxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgY2F0Y2hFcnJvcigoKSA9PiBvZihkb2MpKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRSZWFjdGl2ZSh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMsIHdhaXQgPSBmYWxzZSk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uQVBJLmdldCh0ZW5hbnQsIHVybCkucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGRvYyA9PiB3YWl0ID9cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkUmV0cmlldmUoZG9jLCB0ZW5hbnQsIHVybCwgcGFyYW1zKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZFJldHJpZXZlKGRvYywgdGVuYW50LCB1cmwsIHBhcmFtcykucGlwZShzdGFydFdpdGgobnVsbCkpXG4gICAgICAgICAgICApLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5jb2xsZWN0aW9uQVBJLmdldFJlYWN0aXZlKHRlbmFudCwgdXJsKSksXG5cbiAgICAgICAgICAgIGF1ZGl0VGltZSgxMDAwIC8gNjApLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWFjdGl2ZSh0ZW5hbnQsIHVybCwgcGFyYW1zLCB0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBMaXN0XG4gICAgLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgZG93bmxvYWRMaXN0KHJlczogQ29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPiwgdGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zLCBpbmRleGVkYlVybCA9IChkYXRhOiBULCB0ZW5hbnRVcmw6IHN0cmluZykgPT4gYCR7dGVuYW50VXJsfS8ke2RhdGEuaWR9YCk6IE9ic2VydmFibGU8TGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHJhZGl4XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQocGFyYW1zPy5nZXQoJ2xpbWl0JykgfHwgJzEwMCcpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRXhjbHVkZSByZWNlbnRzIG9yIGxvY2FsbHkgdW5zeW5jZWQgZGF0YSBpbiB0aGUgYXBpIHJlc3VsdHNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGNvbnN0IGlkcyA9IHJlcy5yZXN1bHRzXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgLmZpbHRlcih2ID0+IHYubWV0aG9kID09PSAnUFVUJyB8fCB2Lm1ldGhvZCA9PT0gJ0RFTEVURScgfHwgKHYubWV0aG9kID09PSAnR0VUJyAmJiB2LnRpbWUgPj0gKGN1cnJlbnRUaW1lIC0gKHRoaXMuY29uZmlnLmNhY2hlVGltZUluU2Vjb25kcyAqIDEwMDApKSkpXG4gICAgICAgICAgICAubWFwKHYgPT4gdi5kYXRhLmlkKTtcblxuICAgICAgICBpZiAoaWRzLmxlbmd0aCA9PT0gbGltaXQpIHtcblxuICAgICAgICAgICAgLy8gcGFzcyBpZiBhbGwgcmVzdWx0cyBhcmUgZXhjbHVkZWRcbiAgICAgICAgICAgIHJldHVybiBvZih7bmV4dDogcmVzLm5leHQsIHByZXZpb3VzOiByZXMucHJldmlvdXMsIHJlc3VsdHM6IC8qcmVzLnJlc3VsdHMubWFwKHIgPT4gci50b0pTT04oKS5kYXRhKSovIFtdfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgbmV3IEN1c3RvbUh0dHBQYXJhbXMoKTtcblxuICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgaWYgKHBhcmFtcy5oYXMoJ2V4Y2x1ZGU6aWQuaW4nKSkge1xuXG4gICAgICAgICAgICAgICAgcGFyYW1zLmRlbGV0ZSgnZXhjbHVkZTppZC5pbicpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmFtcyA9IHBhcmFtcy5hcHBlbmQoJ2V4Y2x1ZGU6aWQuaW4nLCBpZHMuam9pbignLCcpKTtcblxuICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1zLnNldCgnbGltaXQnLCAobGltaXQgLSBpZHMubGVuZ3RoKS50b1N0cmluZygpKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdEFQSS5saXN0KHVybCwgcGFyYW1zKS5waXBlKFxuXG4gICAgICAgICAgICBjYXRjaEVycm9yKCgpID0+IG9mKHtuZXh0OiBudWxsLCBwcmV2aW91czogbnVsbCwgcmVzdWx0czogW119IGFzIExpc3RSZXNwb25zZTxUPikpLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAobmV0d29ya1JlcyA9PiB0aGlzLmNvbGxlY3Rpb25BUEkuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgIHN3aXRjaE1hcChjb2wgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hcCBuZXR3b3JrIGRhdGEgdG8gZG9jdHlwZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdG9taWNXcml0ZXMgPSBuZXR3b3JrUmVzLnJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZGF0YSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbmFudFVybDogaW5kZXhlZGJVcmwoZGF0YSwgdGhpcy5jb2xsZWN0aW9uQVBJLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFVybDogaW5kZXhlZGJVcmwoZGF0YSwgdGhpcy5jb2xsZWN0aW9uQVBJLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkgYXMgUHdhRG9jVHlwZTxUPltdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdG9taWNXcml0ZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShjb2wuYnVsa0luc2VydChhdG9taWNXcml0ZXMpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFwKCgpID0+IHRoaXMuY29sbGVjdGlvbkFQSS50cmlnZ2VyQ2hhbmdlKCkpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwKCgpID0+IG5ldHdvcmtSZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mKG5ldHdvcmtSZXMpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApKSxcblxuICAgICAgICApO1xuXG4gICAgfVxuXG4gICAgbGlzdFJlYWN0aXZlKFxuICAgICAgICB0ZW5hbnQ6IHN0cmluZyxcbiAgICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICAgIHBhcmFtcz86IEh0dHBQYXJhbXMsXG4gICAgICAgIHZhbGlkUXVlcnlLZXlzID0gW10sXG4gICAgICAgIGluZGV4ZWRiVXJsID0gKGRhdGE6IFQsIHRlbmFudFVybDogc3RyaW5nKSA9PiBgJHt0ZW5hbnRVcmx9LyR7ZGF0YS5pZH1gLFxuICAgICAgICB3YWl0ID0gZmFsc2VcbiAgICApOiBPYnNlcnZhYmxlPFB3YUxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25BUEkubGlzdCh0ZW5hbnQsIHVybCwgcGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cykucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGlkYlJlcyA9PiB3YWl0ID9cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkTGlzdChpZGJSZXMsIHRlbmFudCwgdXJsLCBwYXJhbXMsIGluZGV4ZWRiVXJsKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZExpc3QoaWRiUmVzLCB0ZW5hbnQsIHVybCwgcGFyYW1zLCBpbmRleGVkYlVybCkucGlwZShzdGFydFdpdGgoe25leHQ6IG51bGwsIHByZXZpb3VzOiBudWxsLCByZXN1bHRzOiBbXX0pKSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgobmV0d29ya1JlcykgPT4gdGhpcy5jb2xsZWN0aW9uQVBJLmxpc3RSZWFjdGl2ZSh0ZW5hbnQsIHVybCwgcGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cykucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcChyZXMgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogbmV0d29ya1Jlcz8ubmV4dCB8fCByZXMubmV4dCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IG5ldHdvcmtSZXM/LnByZXZpb3VzIHx8IHJlcy5wcmV2aW91cyxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVzLnJlc3VsdHNcbiAgICAgICAgICAgICAgICB9KSksXG5cbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+O1xuXG4gICAgfVxuXG4gICAgbGlzdCh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMsIHZhbGlkUXVlcnlLZXlzID0gW10sIGluZGV4ZWRiVXJsID0gKGRhdGE6IFQsIHRlbmFudFVybDogc3RyaW5nKSA9PiBgJHt0ZW5hbnRVcmx9LyR7ZGF0YS5pZH1gKTogT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5saXN0UmVhY3RpdmUodGVuYW50LCB1cmwsIHBhcmFtcywgdmFsaWRRdWVyeUtleXMsIGluZGV4ZWRiVXJsLCB0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG5cbiAgICB9XG59XG4iXX0=","start":17715,"end":77685}]},"code":"import { getSchema, pwaDocMethods } from '../definitions/document';\nimport { getCollectionCreator, pwaCollectionMethods } from '../definitions/collection';\nimport { switchMap, map, catchError, shareReplay, tap, finalize, startWith, take, auditTime, timeout } from 'rxjs/operators';\nimport { of, from, throwError, combineLatest } from 'rxjs';\nimport { queryFilter } from './filters.resource';\nimport { enterZone } from './operators.resource';\nimport { CustomHttpParams } from './customParams.resource';\nexport class RestAPI {\n    constructor(config) {\n        this.config = config;\n        this.cache = new Map();\n    }\n    get(url, params) {\n        const paramsUrl = params?.keys().map(k => `${k}=${params.getAll(k).join(',')}`).join('&');\n        const cacheKey = `${url}${paramsUrl ? '?' + paramsUrl : ''}`;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.get(cacheKey)), timeout(7500), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n    post(url, data) {\n        const cacheKey = url;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.post(url, data)), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n    put(url, data) {\n        const cacheKey = url;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.put(url, data)), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n    list(url, params) {\n        const paramsUrl = params?.keys().map(k => `${k}=${params.getAll(k).join(',')}`).join('&');\n        const cacheKey = `${url}${paramsUrl ? '?' + paramsUrl : ''}`;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.get(cacheKey)), timeout(7500), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n    delete(url) {\n        const cacheKey = url;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.delete(url)), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n}\nexport class CollectionAPI {\n    constructor(_config) {\n        this._config = _config;\n        this.config = {\n            name: 'no_name_collection_api',\n            db$: of(),\n            collectionEvictTime$: of(86400),\n            collectionSkipDocuments$: of(500),\n            attachments: {},\n            options: {},\n            migrationStrategies: {},\n            autoMigrate: true,\n            ngZone: null\n        };\n        this.cache = new Map();\n        this.config = {\n            ...this.config,\n            ...this._config\n        };\n    }\n    get collection$() {\n        if (this._collection$) {\n            return this._collection$;\n        }\n        const collectionSchema = {};\n        collectionSchema[this.config.name] = getCollectionCreator(this.config.name, pwaCollectionMethods, pwaDocMethods, this.config.attachments, this.config.options, this.config.migrationStrategies, this.config.autoMigrate);\n        this._collection$ = this.config.db$.pipe(switchMap(db => {\n            if (this.config.name in db) {\n                return of(db[this.config.name]);\n            }\n            return combineLatest([\n                from(db.addCollections(collectionSchema)),\n                this.config.collectionEvictTime$,\n                this.config.collectionSkipDocuments$\n            ]).pipe(take(1), switchMap(([collections, collectionEvictTime, collectionSkipDocuments]) => {\n                if (this.config.synchroniseService) {\n                    const data = {\n                        id: db.name + '-' + this.config.name,\n                        databaseOptions: JSON.stringify({\n                            name: db.name,\n                            eventReduce: db.eventReduce,\n                            multiInstance: db.multiInstance,\n                            options: db.options,\n                            password: db.password,\n                        }),\n                        collectionEvictTime,\n                        collectionSkipDocuments,\n                        collectionName: this.config.name,\n                        collectionOptions: JSON.stringify({\n                            name: this.config.name,\n                            schema: getSchema(this.config.name),\n                            attachments: collections[this.config.name].attachments,\n                            autoMigrate: true,\n                            cacheReplacementPolicy: collections[this.config.name].cacheReplacementPolicy,\n                            methods: collections[this.config.name].methods,\n                            migrationStrategies: collections[this.config.name].migrationStrategies,\n                            options: collections[this.config.name].options,\n                            statics: collections[this.config.name].statics,\n                        })\n                    };\n                    return this.config.synchroniseService.addSynchroniseDocument(data).pipe(map(() => collections[this.config.name]));\n                }\n                else {\n                    return of(collections).pipe(map(() => collections[this.config.name]));\n                }\n            }));\n        }), tap(col => col.preSave((plainData, rxDocument) => {\n            plainData.createdAt = plainData.createdAt || new Date().getTime();\n            plainData.updatedAt = new Date().getTime();\n        }, false)), shareReplay(1), take(1));\n        return this._collection$;\n    }\n    makeTenantUrl(tenant, url) {\n        return `${tenant}____${url}`;\n    }\n    filterDocs(docs, url, params, validQueryKeys = []) {\n        return docs.pipe(map(allDocs => queryFilter(validQueryKeys, params, allDocs)), map(allDocs => {\n            const start = parseInt(params?.get('offset') || '0');\n            const end = start + parseInt(params?.get('limit') || '100');\n            const next = allDocs.length - end > 0 ? `${url}?${params.set('offset', end.toString()).toString()}` : null;\n            const previous = start > 0 ? `${url}?${params.set('offset', start.toString()).toString()}` : null;\n            return { next, previous, results: allDocs.slice(start, end), count: allDocs.length };\n        }));\n    }\n    getReactive(tenant, url) {\n        const cacheKey = tenant + url;\n        if (!this.cache.has(cacheKey)) {\n            const doc = this.collection$.pipe(switchMap(col => col.findOne({ selector: { tenantUrl: { $eq: this.makeTenantUrl(tenant, url) } } }).$), shareReplay(1), enterZone(this.config.ngZone));\n            this.cache.set(cacheKey, doc);\n        }\n        return this.cache.get(cacheKey);\n    }\n    get(tenant, url) {\n        return this.getReactive(tenant, url).pipe(take(1));\n    }\n    listReactive(tenant, url, params, validQueryKeys = []) {\n        const cacheKey = tenant + url;\n        if (!this.cache.has(cacheKey)) {\n            const docs = this.collection$.pipe(switchMap(col => col.find({ selector: { matchUrl: { $regex: new RegExp(`^${this.makeTenantUrl(tenant, url)}.*`) } } }).$), shareReplay(1));\n            this.cache.set(cacheKey, docs);\n        }\n        return this.filterDocs(this.cache.get(cacheKey), url, params, validQueryKeys).pipe(enterZone(this.config.ngZone));\n    }\n    list(tenant, url, params, validQueryKeys = []) {\n        return this.listReactive(tenant, url, params, validQueryKeys).pipe(take(1));\n    }\n    post(tenant, url, data, fileFields = []) {\n        return this.collection$.pipe(switchMap(col => col.atomicUpsert({\n            tenantUrl: `${this.makeTenantUrl(tenant, url)}/${data.id}`,\n            matchUrl: `${this.makeTenantUrl(tenant, url)}/${data.id}`,\n            method: 'POST',\n            data,\n            error: null,\n            time: new Date().getTime(),\n            fileFields\n        })));\n    }\n    put(tenant, url, data, fileFields = []) {\n        return combineLatest([this.get(tenant, url), this.collection$]).pipe(switchMap(([doc, col]) => {\n            if (doc) {\n                return doc.atomicPatch({\n                    method: doc.method !== 'POST' ? 'PUT' : doc.method,\n                    data,\n                    error: null,\n                    time: doc.method === 'GET' ? new Date().getTime() : doc.time,\n                    fileFields\n                });\n            }\n            else {\n                const docData = {\n                    tenantUrl: this.makeTenantUrl(tenant, url),\n                    matchUrl: this.makeTenantUrl(tenant, url),\n                    data,\n                    method: 'PUT',\n                    error: null,\n                    time: new Date().getTime(),\n                    fileFields\n                };\n                return col.atomicUpsert(docData);\n            }\n        }));\n    }\n    delete(tenant, url, data, fileFields = []) {\n        return this.get(tenant, url).pipe(switchMap(doc => {\n            if (doc && doc.method === 'POST') {\n                return from(doc.remove());\n            }\n            else if (doc && (doc.method === 'PUT' || doc.method === 'DELETE')) {\n                return from(doc.atomicPatch({ method: 'DELETE', error: null }));\n            }\n            else if (doc) {\n                return from(doc.atomicPatch({ method: 'DELETE', error: null, time: new Date().getTime() }));\n            }\n            else if (data) {\n                const docData = {\n                    tenantUrl: this.makeTenantUrl(tenant, url),\n                    matchUrl: this.makeTenantUrl(tenant, url),\n                    data,\n                    method: 'DELETE',\n                    error: null,\n                    time: new Date().getTime(),\n                    fileFields\n                };\n                return this.collection$.pipe(switchMap(col => col.atomicUpsert(docData)));\n            }\n            else {\n                return throwError('Document not found while deleting in database');\n            }\n        }));\n    }\n    createNew(tenant, url) {\n        return this.get(tenant, url).pipe(switchMap(doc => {\n            if (!!doc && doc.method !== 'GET' && doc.method !== 'POST') {\n                return from(doc.atomicPatch({ method: 'POST' }));\n            }\n            return throwError(`Cannot duplicate this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n        }));\n    }\n    deleteConflict(tenant, url) {\n        return this.get(tenant, url).pipe(switchMap(doc => {\n            if (!!doc && doc.method !== 'GET') {\n                return from(doc.remove());\n            }\n            return throwError(`Cannot delete this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n        }));\n    }\n}\nexport class PwaCollectionAPI {\n    constructor(_config) {\n        this._config = _config;\n        this.config = {\n            restApiCreator: {},\n            collectionApiCreator: {\n                name: 'no_name_pwa_collection_api',\n                db$: of(),\n                collectionEvictTime$: of(86400),\n                collectionSkipDocuments$: of(500),\n                attachments: {},\n                options: {},\n                migrationStrategies: {},\n                autoMigrate: true,\n            },\n            cacheTimeInSeconds: 120\n        };\n        this.config = {\n            ...this.config,\n            ...this._config,\n            restApiCreator: {\n                ...this.config.restApiCreator,\n                ...this._config.restApiCreator\n            },\n            collectionApiCreator: {\n                ...this.config.collectionApiCreator,\n                ...this._config.collectionApiCreator\n            }\n        };\n        this.restAPI = new RestAPI(this.config.restApiCreator);\n        this.collectionAPI = new CollectionAPI(this.config.collectionApiCreator);\n    }\n    downloadRetrieve(doc, tenant, url, params) {\n        if (!!doc && doc.method !== 'GET') {\n            return of(doc);\n        }\n        const currentTime = new Date().getTime();\n        if (!!doc && doc.time >= (currentTime - (this.config.cacheTimeInSeconds * 1000))) {\n            return of(doc);\n        }\n        return combineLatest([this.restAPI.get(url, params), this.collectionAPI.collection$]).pipe(switchMap(([res, col]) => col.atomicUpsert({\n            tenantUrl: this.collectionAPI.makeTenantUrl(tenant, url),\n            matchUrl: this.collectionAPI.makeTenantUrl(tenant, url),\n            data: res,\n            method: 'GET',\n            error: null,\n            time: new Date().getTime(),\n        })), catchError(() => of(doc)));\n    }\n    getReactive(tenant, url, params, wait = false) {\n        return this.collectionAPI.get(tenant, url).pipe(switchMap(doc => wait ?\n            this.downloadRetrieve(doc, tenant, url, params) :\n            this.downloadRetrieve(doc, tenant, url, params).pipe(startWith(null))), switchMap(() => this.collectionAPI.getReactive(tenant, url)), auditTime(1000 / 60));\n    }\n    get(tenant, url, params) {\n        return this.getReactive(tenant, url, params, true).pipe(take(1));\n    }\n    downloadList(res, tenant, url, params, indexedbUrl = (data, tenantUrl) => `${tenantUrl}/${data.id}`) {\n        const currentTime = new Date().getTime();\n        const limit = parseInt(params?.get('limit') || '100');\n        const ids = res.results\n            .filter(v => v.method === 'PUT' || v.method === 'DELETE' || (v.method === 'GET' && v.time >= (currentTime - (this.config.cacheTimeInSeconds * 1000))))\n            .map(v => v.data.id);\n        if (ids.length === limit) {\n            return of({ next: res.next, previous: res.previous, results: [] });\n        }\n        params = params || new CustomHttpParams();\n        if (ids.length > 0) {\n            if (params.has('exclude:id.in')) {\n                params.delete('exclude:id.in');\n            }\n            params = params.append('exclude:id.in', ids.join(','));\n            params = params.set('limit', (limit - ids.length).toString());\n        }\n        return this.restAPI.list(url, params).pipe(catchError(() => of({ next: null, previous: null, results: [] })), switchMap(networkRes => this.collectionAPI.collection$.pipe(switchMap(col => {\n            const atomicWrites = networkRes.results\n                .map(data => ({\n                tenantUrl: indexedbUrl(data, this.collectionAPI.makeTenantUrl(tenant, url)),\n                matchUrl: indexedbUrl(data, this.collectionAPI.makeTenantUrl(tenant, url)),\n                data,\n                method: 'GET',\n                error: null,\n                time: new Date().getTime(),\n            }));\n            if (atomicWrites.length > 0) {\n                return from(col.bulkInsert(atomicWrites)).pipe(map(() => networkRes));\n            }\n            return of(networkRes);\n        }))));\n    }\n    listReactive(tenant, url, params, validQueryKeys = [], indexedbUrl = (data, tenantUrl) => `${tenantUrl}/${data.id}`, wait = false) {\n        return this.collectionAPI.list(tenant, url, params, validQueryKeys).pipe(switchMap(idbRes => wait ?\n            this.downloadList(idbRes, tenant, url, params, indexedbUrl) :\n            this.downloadList(idbRes, tenant, url, params, indexedbUrl).pipe(startWith({ next: null, previous: null, results: [] }))), switchMap((networkRes) => this.collectionAPI.listReactive(tenant, url, params, validQueryKeys).pipe(map(res => ({\n            next: networkRes?.next || res.next,\n            previous: networkRes?.previous || res.previous,\n            results: res.results\n        })))));\n    }\n    list(tenant, url, params, validQueryKeys = [], indexedbUrl = (data, tenantUrl) => `${tenantUrl}/${data.id}`) {\n        return this.listReactive(tenant, url, params, validQueryKeys, indexedbUrl, true).pipe(take(1));\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGVjdGlvbi5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9jb2xsZWN0aW9uLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBd0IsU0FBUyxFQUFFLGFBQWEsRUFBMkIsTUFBTSx5QkFBeUIsQ0FBQztBQUNsSCxPQUFPLEVBQUUsb0JBQW9CLEVBQWlCLG9CQUFvQixFQUF5RCxNQUFNLDJCQUEyQixDQUFDO0FBQzdKLE9BQU8sRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3SCxPQUFPLEVBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUdqRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFJakQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUE4QjNELE1BQU0sT0FBTyxPQUFPO0lBSWhCLFlBQW9CLE1BQXNCO1FBQXRCLFdBQU0sR0FBTixNQUFNLENBQWdCO1FBRmxDLFVBQUssR0FBNkQsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUV2QyxDQUFDO0lBTTlDLEdBQUcsQ0FBQyxHQUFXLEVBQUUsTUFBbUI7UUFFaEMsTUFBTSxTQUFTLEdBQUcsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxD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RyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQUU7UUFFakUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQWdDLENBQUM7SUFDbkUsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUFXO1FBRWQsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBRXJCLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBRXJCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQUUsQ0FBQyxDQUFDLENBQUMsRUFFaEYsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUVuRCxRQUFRLENBQUMsR0FBRyxFQUFFO1lBRVYsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUM7YUFBRTtZQUVwRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQUU7UUFDbEUsQ0FBQyxDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUVFLENBQUM7UUFFckIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxD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QUUsRUFBRSxjQUFjLENBQUMsSUFBTyxFQUFFLFNBQWlCLEVBQUUsRUFBRSxDQUFDLEdBQUcsU0FBUyxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFFL0ksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUVqRixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1YsQ0FBQztJQUVOLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGF0eXBlLCBGaWxlQ29uZmlnLCBnZXRTY2hlbWEsIHB3YURvY01ldGhvZHMsIFB3YURvY1R5cGUsIFB3YURvY3VtZW50IH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMvZG9jdW1lbnQnO1xuaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbkNyZWF0b3IsIFB3YUNvbGxlY3Rpb24sIHB3YUNvbGxlY3Rpb25NZXRob2RzLCBMaXN0UmVzcG9uc2UsIFB3YUxpc3RSZXNwb25zZSwgQ29sbGVjdGlvbkxpc3RSZXNwb25zZSB9IGZyb20gJy4uL2RlZmluaXRpb25zL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3dpdGNoTWFwLCBtYXAsIGNhdGNoRXJyb3IsIHNoYXJlUmVwbGF5LCB0YXAsIGZpbmFsaXplLCBzdGFydFdpdGgsIHRha2UsIGF1ZGl0VGltZSwgdGltZW91dCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mLCBmcm9tLCB0aHJvd0Vycm9yLCBjb21iaW5lTGF0ZXN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgcXVlcnlGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcnMucmVzb3VyY2UnO1xuaW1wb3J0IHsgUnhDb2xsZWN0aW9uQ3JlYXRvciwgUnhEYXRhYmFzZSB9IGZyb20gJ3J4ZGInO1xuaW1wb3J0IHsgTmdab25lIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBlbnRlclpvbmUgfSBmcm9tICcuL29wZXJhdG9ycy5yZXNvdXJjZSc7XG5pbXBvcnQgeyBBcGlQcm9ncmVzc1NlcnZpY2UgfSBmcm9tICcuL2FwaVByb2dyZXNzLnJlc291cmNlJztcbmltcG9ydCB7IFN5bmNDb2xsZWN0aW9uU2VydmljZSB9IGZyb20gJy4vc3luY2hyb25pc2UtY29sbGVjdGlvbi5yZXNvdXJjZSc7XG5pbXBvcnQgeyBTeW5jaHJvbmlzZURvY1R5cGUgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1kb2N1bWVudCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwUGFyYW1zIH0gZnJvbSAnLi9jdXN0b21QYXJhbXMucmVzb3VyY2UnO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdEFQSUNyZWF0b3Ige1xuICAgIGFwaVByb2dyZXNzPzogQXBpUHJvZ3Jlc3NTZXJ2aWNlO1xuICAgIGh0dHBDbGllbnQ/OiBIdHRwQ2xpZW50O1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdGlvbkFQSUNyZWF0b3I8RGF0YWJhc2U+IHtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGRiJD86IE9ic2VydmFibGU8UnhEYXRhYmFzZTxEYXRhYmFzZT4+O1xuICAgIGNvbGxlY3Rpb25FdmljdFRpbWUkOiBPYnNlcnZhYmxlPG51bWJlcj47XG4gICAgY29sbGVjdGlvblNraXBEb2N1bWVudHMkOiBPYnNlcnZhYmxlPG51bWJlcj47XG4gICAgc3luY2hyb25pc2VTZXJ2aWNlPzogU3luY0NvbGxlY3Rpb25TZXJ2aWNlO1xuICAgIGF0dGFjaG1lbnRzPzoge307XG4gICAgb3B0aW9ucz86IHt9O1xuICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM/OiB7fTtcbiAgICBhdXRvTWlncmF0ZT86IGJvb2xlYW47XG4gICAgbmdab25lOiBOZ1pvbmU7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBQd2FDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4ge1xuICAgIGNvbGxlY3Rpb25BcGlDcmVhdG9yOiBQYXJ0aWFsPENvbGxlY3Rpb25BUElDcmVhdG9yPERhdGFiYXNlPj47XG4gICAgcmVzdEFwaUNyZWF0b3I6IFBhcnRpYWw8UmVzdEFQSUNyZWF0b3I+O1xuICAgIGNhY2hlVGltZUluU2Vjb25kczogbnVtYmVyO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBSZXN0QVBJPFQgZXh0ZW5kcyBEYXRhdHlwZT4ge1xuXG4gICAgcHJpdmF0ZSBjYWNoZTogTWFwPHN0cmluZywgT2JzZXJ2YWJsZTxUPiB8IE9ic2VydmFibGU8TGlzdFJlc3BvbnNlPFQ+Pj4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZzogUmVzdEFQSUNyZWF0b3IpIHt9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQ1JVRFxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGdldCh1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8VD4ge1xuXG4gICAgICAgIGNvbnN0IHBhcmFtc1VybCA9IHBhcmFtcz8ua2V5cygpLm1hcChrID0+IGAke2t9PSR7cGFyYW1zLmdldEFsbChrKS5qb2luKCcsJyl9YCkuam9pbignJicpO1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7dXJsfSR7cGFyYW1zVXJsID8gJz8nICsgcGFyYW1zVXJsIDogJyd9YDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZ2V0KGNhY2hlS2V5KSksXG5cbiAgICAgICAgICAgIHRpbWVvdXQoNzUwMCksXG5cbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLnJlbW92ZSgpOyB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuZGVsZXRlKGNhY2hlS2V5KTsgfVxuXG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIHBvc3QodXJsOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8VD4gfCBGb3JtRGF0YSk6IE9ic2VydmFibGU8VD4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdXJsO1xuXG4gICAgICAgIGNvbnN0IHJlcSA9IG9mKHRydWUpLnBpcGUoXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB7IGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLmFkZCgpOyB9IH0pLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5jb25maWcuaHR0cENsaWVudC5wb3N0KHVybCwgZGF0YSkpLFxuXG4gICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5yZW1vdmUoKTsgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLmRlbGV0ZShjYWNoZUtleSk7IH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApICBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIHB1dCh1cmw6IHN0cmluZywgZGF0YTogUGFydGlhbDxUPiB8IEZvcm1EYXRhKTogT2JzZXJ2YWJsZTxUPiB7XG5cbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSB1cmw7XG5cbiAgICAgICAgY29uc3QgcmVxID0gb2YodHJ1ZSkucGlwZShcblxuICAgICAgICAgICAgdGFwKCgpID0+IHsgaWYgKCEhdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MpIHsgdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MuYWRkKCk7IH0gfSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LnB1dCh1cmwsIGRhdGEpKSxcblxuICAgICAgICAgICAgZmluYWxpemUoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MpIHsgdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MucmVtb3ZlKCk7IH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhY2hlLmhhcyhjYWNoZUtleSkpIHsgdGhpcy5jYWNoZS5kZWxldGUoY2FjaGVLZXkpOyB9XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIGxpc3QodXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMpOiBPYnNlcnZhYmxlPExpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIGNvbnN0IHBhcmFtc1VybCA9IHBhcmFtcz8ua2V5cygpLm1hcChrID0+IGAke2t9PSR7cGFyYW1zLmdldEFsbChrKS5qb2luKCcsJyl9YCkuam9pbignJicpO1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7dXJsfSR7cGFyYW1zVXJsID8gJz8nICsgcGFyYW1zVXJsIDogJyd9YDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZ2V0KGNhY2hlS2V5KSksXG5cbiAgICAgICAgICAgIHRpbWVvdXQoNzUwMCksXG5cbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLnJlbW92ZSgpOyB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuZGVsZXRlKGNhY2hlS2V5KTsgfVxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxMaXN0UmVzcG9uc2U8VD4+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPExpc3RSZXNwb25zZTxUPj47XG4gICAgfVxuXG4gICAgZGVsZXRlKHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHVybDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZGVsZXRlKHVybCkpLFxuXG4gICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5yZW1vdmUoKTsgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLmRlbGV0ZShjYWNoZUtleSk7IH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApIGFzIE9ic2VydmFibGU8YW55PjtcblxuICAgICAgICBpZiAoIXRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLnNldChjYWNoZUtleSwgcmVxKTsgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uQVBJPFQgZXh0ZW5kcyBEYXRhdHlwZSwgRGF0YWJhc2U+IHtcblxuICAgIHByaXZhdGUgY29uZmlnOiBDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4gPSB7XG4gICAgICAgIG5hbWU6ICdub19uYW1lX2NvbGxlY3Rpb25fYXBpJyxcbiAgICAgICAgZGIkOiBvZigpLFxuICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lJDogb2YoODY0MDApLFxuICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyQ6IG9mKDUwMCksXG4gICAgICAgIGF0dGFjaG1lbnRzOiB7fSxcbiAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM6IHt9LFxuICAgICAgICBhdXRvTWlncmF0ZTogdHJ1ZSxcbiAgICAgICAgbmdab25lOiBudWxsXG4gICAgfTtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogdmFyaWFibGUtbmFtZVxuICAgIHByaXZhdGUgX2NvbGxlY3Rpb24kOiBPYnNlcnZhYmxlPFB3YUNvbGxlY3Rpb248VD4+O1xuXG4gICAgcHJpdmF0ZSBjYWNoZSA9IG5ldyBNYXAoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2NvbmZpZzogUGFydGlhbDxDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4+KSB7XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldCBjb2xsZWN0aW9uJCgpOiBPYnNlcnZhYmxlPFB3YUNvbGxlY3Rpb248VD4+IHtcblxuICAgICAgICBpZiAodGhpcy5fY29sbGVjdGlvbiQpIHsgcmV0dXJuIHRoaXMuX2NvbGxlY3Rpb24kOyB9XG5cbiAgICAgICAgY29uc3QgY29sbGVjdGlvblNjaGVtYSA9IHt9O1xuXG4gICAgICAgIGNvbGxlY3Rpb25TY2hlbWFbdGhpcy5jb25maWcubmFtZV0gPSBnZXRDb2xsZWN0aW9uQ3JlYXRvcihcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm5hbWUsXG4gICAgICAgICAgICBwd2FDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgIHB3YURvY01ldGhvZHMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdHRhY2htZW50cyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm9wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5taWdyYXRpb25TdHJhdGVnaWVzLFxuICAgICAgICAgICAgdGhpcy5jb25maWcuYXV0b01pZ3JhdGVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9jb2xsZWN0aW9uJCA9IHRoaXMuY29uZmlnLmRiJC5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZGIgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm5hbWUgaW4gZGIpIHsgcmV0dXJuIG9mKGRiW3RoaXMuY29uZmlnLm5hbWVdKTsgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmVMYXRlc3QoW1xuICAgICAgICAgICAgICAgICAgICBmcm9tKGRiLmFkZENvbGxlY3Rpb25zKGNvbGxlY3Rpb25TY2hlbWEgYXMgeyBba2V5OiBzdHJpbmddOiBSeENvbGxlY3Rpb25DcmVhdG9yOyB9KSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmNvbGxlY3Rpb25FdmljdFRpbWUkLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5jb2xsZWN0aW9uU2tpcERvY3VtZW50cyRcbiAgICAgICAgICAgICAgICBdKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIHRha2UoMSksXG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoTWFwKChbY29sbGVjdGlvbnMsIGNvbGxlY3Rpb25FdmljdFRpbWUsIGNvbGxlY3Rpb25Ta2lwRG9jdW1lbnRzXSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc3luY2hyb25pc2VTZXJ2aWNlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhOiBTeW5jaHJvbmlzZURvY1R5cGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYi5uYW1lICsgJy0nICsgdGhpcy5jb25maWcubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VPcHRpb25zOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRSZWR1Y2U6IGRiLmV2ZW50UmVkdWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlJbnN0YW5jZTogZGIubXVsdGlJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGRiLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogZGIucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbk5hbWU6IHRoaXMuY29uZmlnLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmNvbmZpZy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBnZXRTY2hlbWEodGhpcy5jb25maWcubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50czogY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0uYXR0YWNobWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvTWlncmF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlUmVwbGFjZW1lbnRQb2xpY3k6IGNvbGxlY3Rpb25zW3RoaXMuY29uZmlnLm5hbWVdLmNhY2hlUmVwbGFjZW1lbnRQb2xpY3ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzOiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXS5tZXRob2RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczogY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0ubWlncmF0aW9uU3RyYXRlZ2llcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbGxlY3Rpb25zW3RoaXMuY29uZmlnLm5hbWVdLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNzOiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXS5zdGF0aWNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY29sbGVjdGlvbiB0byBzeW5jaHJvbmlzZSBjb2xsZWN0aW9uIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuc3luY2hyb25pc2VTZXJ2aWNlLmFkZFN5bmNocm9uaXNlRG9jdW1lbnQoZGF0YSkucGlwZShcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAoKCkgPT4gY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0gYXMgUHdhQ29sbGVjdGlvbjxUPilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mKGNvbGxlY3Rpb25zKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcCgoKSA9PiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXSBhcyBQd2FDb2xsZWN0aW9uPFQ+KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHRhcChjb2wgPT4gY29sLnByZVNhdmUoKHBsYWluRGF0YSwgcnhEb2N1bWVudCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gbW9kaWZ5IGFueUZpZWxkIGJlZm9yZSBzYXZpbmdcbiAgICAgICAgICAgICAgICAvLyBhZGQgaG9vayBpbiBzeW5jaHJvbmlzZS1jb2xsZWN0aW9uIGFzIHdlbGxcbiAgICAgICAgICAgICAgICBwbGFpbkRhdGEuY3JlYXRlZEF0ID0gcGxhaW5EYXRhLmNyZWF0ZWRBdCB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBwbGFpbkRhdGEudXBkYXRlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIH0sIGZhbHNlKSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICAgICB0YWtlKDEpLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xsZWN0aW9uJDtcbiAgICB9XG5cbiAgICBtYWtlVGVuYW50VXJsKHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IHN0cmluZyB7XG5cbiAgICAgICAgcmV0dXJuIGAke3RlbmFudH1fX19fJHt1cmx9YDtcbiAgICB9XG5cbiAgICBmaWx0ZXJEb2NzKFxuICAgICAgICBkb2NzOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+W10+LFxuICAgICAgICB1cmw6IHN0cmluZyxcbiAgICAgICAgcGFyYW1zPzogSHR0cFBhcmFtcyxcbiAgICAgICAgdmFsaWRRdWVyeUtleXMgPSBbXVxuICAgICk6IE9ic2VydmFibGU8Q29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIHJldHVybiBkb2NzLnBpcGUoXG5cbiAgICAgICAgICAgIC8vIG1hcCh2ID0+IHYuc29ydCgoYSwgYikgPT4gYi50aW1lIC0gYS50aW1lKSksXG5cbiAgICAgICAgICAgIG1hcChhbGxEb2NzID0+IHF1ZXJ5RmlsdGVyKHZhbGlkUXVlcnlLZXlzLCBwYXJhbXMsIGFsbERvY3MpKSxcblxuICAgICAgICAgICAgbWFwKGFsbERvY3MgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiByYWRpeFxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VJbnQocGFyYW1zPy5nZXQoJ29mZnNldCcpIHx8ICcwJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHJhZGl4XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBwYXJzZUludChwYXJhbXM/LmdldCgnbGltaXQnKSB8fCAnMTAwJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYWxsRG9jcy5sZW5ndGggLSBlbmQgPiAwID8gYCR7dXJsfT8ke3BhcmFtcy5zZXQoJ29mZnNldCcsIGVuZC50b1N0cmluZygpKS50b1N0cmluZygpfWAgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBzdGFydCA+IDAgPyBgJHt1cmx9PyR7cGFyYW1zLnNldCgnb2Zmc2V0Jywgc3RhcnQudG9TdHJpbmcoKSkudG9TdHJpbmcoKX1gIDogbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7bmV4dCwgcHJldmlvdXMsIHJlc3VsdHM6IGFsbERvY3Muc2xpY2Uoc3RhcnQsIGVuZCksIGNvdW50OiBhbGxEb2NzLmxlbmd0aH07XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBDUlVEXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZ2V0UmVhY3RpdmUodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPj4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGVuYW50ICsgdXJsO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgIHN3aXRjaE1hcChjb2wgPT4gY29sLmZpbmRPbmUoe3NlbGVjdG9yOiB7IHRlbmFudFVybDogeyRlcTogdGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKX19fSkuJCksXG5cbiAgICAgICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgICAgIGVudGVyWm9uZTxQd2FEb2N1bWVudDxUPj4odGhpcy5jb25maWcubmdab25lKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCBkb2MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgIH1cblxuICAgIGdldCh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVhY3RpdmUodGVuYW50LCB1cmwpLnBpcGUoXG5cbiAgICAgICAgICAgIHRha2UoMSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGlzdFJlYWN0aXZlKHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcywgdmFsaWRRdWVyeUtleXMgPSBbXSk6IE9ic2VydmFibGU8Q29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGVuYW50ICsgdXJsO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGRvY3MgPSB0aGlzLmNvbGxlY3Rpb24kLnBpcGUoXG5cbiAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoY29sID0+IGNvbC5maW5kKHsgc2VsZWN0b3I6IHttYXRjaFVybDogeyRyZWdleDogbmV3IFJlZ0V4cChgXiR7dGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKX0uKmApfX0gfSkuJCksXG5cbiAgICAgICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCBkb2NzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlckRvY3ModGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpLCB1cmwsIHBhcmFtcywgdmFsaWRRdWVyeUtleXMpLnBpcGUoXG5cbiAgICAgICAgICAgIGVudGVyWm9uZTxDb2xsZWN0aW9uTGlzdFJlc3BvbnNlPFQ+Pih0aGlzLmNvbmZpZy5uZ1pvbmUpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGxpc3QodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cyA9IFtdKTogT2JzZXJ2YWJsZTxDb2xsZWN0aW9uTGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdFJlYWN0aXZlKHRlbmFudCwgdXJsLCBwYXJhbXMsIHZhbGlkUXVlcnlLZXlzKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vL1xuICAgIC8vIEFjdGlvbnNcbiAgICAvLy8vLy8vLy8vLy8vXG5cbiAgICBwb3N0KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgZGF0YTogVCwgZmlsZUZpZWxkczogRmlsZUNvbmZpZ1tdID0gW10pOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KHtcbiAgICAgICAgICAgICAgICB0ZW5hbnRVcmw6IGAke3RoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCl9LyR7ZGF0YS5pZH1gLFxuICAgICAgICAgICAgICAgIG1hdGNoVXJsOiBgJHt0aGlzLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpfS8ke2RhdGEuaWR9YCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdXQodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBkYXRhOiBULCBmaWxlRmllbGRzOiBGaWxlQ29uZmlnW10gPSBbXSk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChbdGhpcy5nZXQodGVuYW50LCB1cmwpLCB0aGlzLmNvbGxlY3Rpb24kXSkucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKChbZG9jLCBjb2xdKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9jKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGRvYy5tZXRob2QgIT09ICdQT1NUJyA/ICdQVVQnIDogZG9jLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IGRvYy5tZXRob2QgPT09ICdHRVQnID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgOiBkb2MudGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY0RhdGE6IFBhcnRpYWw8UHdhRG9jVHlwZTxUPj4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW5hbnRVcmw6IHRoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFVybDogdGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sLmF0b21pY1Vwc2VydChkb2NEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGRlbGV0ZSh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIGRhdGE/OiBULCBmaWxlRmllbGRzOiBGaWxlQ29uZmlnW10gPSBbXSk6IE9ic2VydmFibGU8Ym9vbGVhbiB8IFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRlbmFudCwgdXJsKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChkb2MgJiYgZG9jLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLnJlbW92ZSgpKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jICYmIChkb2MubWV0aG9kID09PSAnUFVUJyB8fCBkb2MubWV0aG9kID09PSAnREVMRVRFJykpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkb2MuYXRvbWljUGF0Y2goe21ldGhvZDogJ0RFTEVURScsIGVycm9yOiBudWxsfSkpO1xuXG4gICAgICAgICAgICAgICAgfSAgZWxzZSBpZiAoZG9jKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHttZXRob2Q6ICdERUxFVEUnLCBlcnJvcjogbnVsbCwgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCl9KSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NEYXRhOiBQYXJ0aWFsPFB3YURvY1R5cGU8VD4+ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVuYW50VXJsOiB0aGlzLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hVcmw6IHRoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlRmllbGRzXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KGRvY0RhdGEpKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcignRG9jdW1lbnQgbm90IGZvdW5kIHdoaWxlIGRlbGV0aW5nIGluIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBDb25mbGljdCBBY3Rpb25zXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgY3JlYXRlTmV3KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXQodGVuYW50LCB1cmwpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcChkb2MgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKCEhZG9jICYmIGRvYy5tZXRob2QgIT09ICdHRVQnICYmIGRvYy5tZXRob2QgIT09ICdQT1NUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKGRvYy5hdG9taWNQYXRjaCh7bWV0aG9kOidQT1NUJ30pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihgQ2Fubm90IGR1cGxpY2F0ZSB0aGlzIGRvY3VtZW50LiBEb2N1bWVudDogJHtKU09OLnN0cmluZ2lmeShkb2M/LnRvSlNPTigpIHx8IHt9KX1gKTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZGVsZXRlQ29uZmxpY3QodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRlbmFudCwgdXJsKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKGRvYy5yZW1vdmUoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYENhbm5vdCBkZWxldGUgdGhpcyBkb2N1bWVudC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSB8fCB7fSl9YCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIFB3YUNvbGxlY3Rpb25BUEk8VCBleHRlbmRzIERhdGF0eXBlLCBEYXRhYmFzZT4ge1xuXG4gICAgcHJpdmF0ZSBjb25maWc6IFB3YUNvbGxlY3Rpb25BUElDcmVhdG9yPERhdGFiYXNlPiA9IHtcbiAgICAgICAgcmVzdEFwaUNyZWF0b3I6IHt9LFxuICAgICAgICBjb2xsZWN0aW9uQXBpQ3JlYXRvcjoge1xuICAgICAgICAgICAgbmFtZTogJ25vX25hbWVfcHdhX2NvbGxlY3Rpb25fYXBpJyxcbiAgICAgICAgICAgIGRiJDogb2YoKSxcbiAgICAgICAgICAgIGNvbGxlY3Rpb25FdmljdFRpbWUkOiBvZig4NjQwMCksXG4gICAgICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyQ6IG9mKDUwMCksXG4gICAgICAgICAgICBhdHRhY2htZW50czoge30sXG4gICAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM6IHt9LFxuICAgICAgICAgICAgYXV0b01pZ3JhdGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGNhY2hlVGltZUluU2Vjb25kczogMTIwXG4gICAgfTtcblxuICAgIGNvbGxlY3Rpb25BUEk6IENvbGxlY3Rpb25BUEk8VCwgRGF0YWJhc2U+O1xuICAgIHJlc3RBUEk6IFJlc3RBUEk8VD47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jb25maWc6IFBhcnRpYWw8UHdhQ29sbGVjdGlvbkFQSUNyZWF0b3I8RGF0YWJhc2U+PiwgKSB7XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZyxcbiAgICAgICAgICAgIHJlc3RBcGlDcmVhdG9yOiB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jb25maWcucmVzdEFwaUNyZWF0b3IsXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fY29uZmlnLnJlc3RBcGlDcmVhdG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29sbGVjdGlvbkFwaUNyZWF0b3I6IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNvbmZpZy5jb2xsZWN0aW9uQXBpQ3JlYXRvcixcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9jb25maWcuY29sbGVjdGlvbkFwaUNyZWF0b3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlc3RBUEkgICAgICAgID0gbmV3IFJlc3RBUEkodGhpcy5jb25maWcucmVzdEFwaUNyZWF0b3IpO1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25BUEkgID0gbmV3IENvbGxlY3Rpb25BUEkodGhpcy5jb25maWcuY29sbGVjdGlvbkFwaUNyZWF0b3IpO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgLy8gUmV0cmlldmVcbiAgICAvLy8vLy8vLy8vLy8vL1xuXG4gICAgZG93bmxvYWRSZXRyaWV2ZShkb2M6IFB3YURvY3VtZW50PFQ+IHwgbnVsbCwgdGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zKTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPiB8IG51bGw+IHtcblxuICAgICAgICBpZiAoISFkb2MgJiYgZG9jLm1ldGhvZCAhPT0gJ0dFVCcpIHsgcmV0dXJuIG9mKGRvYyk7IH1cblxuICAgICAgICAvLyBjaGVjayBpZiBkb2N1bWVudCBpcyB3aXRoaW4gY2FjaGVUaW1lXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgaWYgKCEhZG9jICYmIGRvYy50aW1lID49IChjdXJyZW50VGltZSAtICh0aGlzLmNvbmZpZy5jYWNoZVRpbWVJblNlY29uZHMgKiAxMDAwKSkpIHsgcmV0dXJuIG9mKGRvYyk7IH1cblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChbdGhpcy5yZXN0QVBJLmdldCh1cmwsIHBhcmFtcyksIHRoaXMuY29sbGVjdGlvbkFQSS5jb2xsZWN0aW9uJF0pLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoW3JlcywgY29sXSkgPT4gY29sLmF0b21pY1Vwc2VydCh7XG4gICAgICAgICAgICAgICAgdGVuYW50VXJsOiB0aGlzLmNvbGxlY3Rpb25BUEkubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgbWF0Y2hVcmw6IHRoaXMuY29sbGVjdGlvbkFQSS5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKSxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgY2F0Y2hFcnJvcigoKSA9PiBvZihkb2MpKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRSZWFjdGl2ZSh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMsIHdhaXQgPSBmYWxzZSk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uQVBJLmdldCh0ZW5hbnQsIHVybCkucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGRvYyA9PiB3YWl0ID9cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkUmV0cmlldmUoZG9jLCB0ZW5hbnQsIHVybCwgcGFyYW1zKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZFJldHJpZXZlKGRvYywgdGVuYW50LCB1cmwsIHBhcmFtcykucGlwZShzdGFydFdpdGgobnVsbCkpXG4gICAgICAgICAgICApLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5jb2xsZWN0aW9uQVBJLmdldFJlYWN0aXZlKHRlbmFudCwgdXJsKSksXG5cbiAgICAgICAgICAgIGF1ZGl0VGltZSgxMDAwIC8gNjApLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWFjdGl2ZSh0ZW5hbnQsIHVybCwgcGFyYW1zLCB0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBMaXN0XG4gICAgLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgZG93bmxvYWRMaXN0KHJlczogQ29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPiwgdGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zLCBpbmRleGVkYlVybCA9IChkYXRhOiBULCB0ZW5hbnRVcmw6IHN0cmluZykgPT4gYCR7dGVuYW50VXJsfS8ke2RhdGEuaWR9YCk6IE9ic2VydmFibGU8TGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHJhZGl4XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQocGFyYW1zPy5nZXQoJ2xpbWl0JykgfHwgJzEwMCcpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRXhjbHVkZSByZWNlbnRzIG9yIGxvY2FsbHkgdW5zeW5jZWQgZGF0YSBpbiB0aGUgYXBpIHJlc3VsdHNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGNvbnN0IGlkcyA9IHJlcy5yZXN1bHRzXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgLmZpbHRlcih2ID0+IHYubWV0aG9kID09PSAnUFVUJyB8fCB2Lm1ldGhvZCA9PT0gJ0RFTEVURScgfHwgKHYubWV0aG9kID09PSAnR0VUJyAmJiB2LnRpbWUgPj0gKGN1cnJlbnRUaW1lIC0gKHRoaXMuY29uZmlnLmNhY2hlVGltZUluU2Vjb25kcyAqIDEwMDApKSkpXG4gICAgICAgICAgICAubWFwKHYgPT4gdi5kYXRhLmlkKTtcblxuICAgICAgICBpZiAoaWRzLmxlbmd0aCA9PT0gbGltaXQpIHtcblxuICAgICAgICAgICAgLy8gcGFzcyBpZiBhbGwgcmVzdWx0cyBhcmUgZXhjbHVkZWRcbiAgICAgICAgICAgIHJldHVybiBvZih7bmV4dDogcmVzLm5leHQsIHByZXZpb3VzOiByZXMucHJldmlvdXMsIHJlc3VsdHM6IC8qcmVzLnJlc3VsdHMubWFwKHIgPT4gci50b0pTT04oKS5kYXRhKSovIFtdfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgbmV3IEN1c3RvbUh0dHBQYXJhbXMoKTtcblxuICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgaWYgKHBhcmFtcy5oYXMoJ2V4Y2x1ZGU6aWQuaW4nKSkge1xuXG4gICAgICAgICAgICAgICAgcGFyYW1zLmRlbGV0ZSgnZXhjbHVkZTppZC5pbicpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmFtcyA9IHBhcmFtcy5hcHBlbmQoJ2V4Y2x1ZGU6aWQuaW4nLCBpZHMuam9pbignLCcpKTtcblxuICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1zLnNldCgnbGltaXQnLCAobGltaXQgLSBpZHMubGVuZ3RoKS50b1N0cmluZygpKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdEFQSS5saXN0KHVybCwgcGFyYW1zKS5waXBlKFxuXG4gICAgICAgICAgICBjYXRjaEVycm9yKCgpID0+IG9mKHtuZXh0OiBudWxsLCBwcmV2aW91czogbnVsbCwgcmVzdWx0czogW119IGFzIExpc3RSZXNwb25zZTxUPikpLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAobmV0d29ya1JlcyA9PiB0aGlzLmNvbGxlY3Rpb25BUEkuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgIHN3aXRjaE1hcChjb2wgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hcCBuZXR3b3JrIGRhdGEgdG8gZG9jdHlwZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdG9taWNXcml0ZXMgPSBuZXR3b3JrUmVzLnJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZGF0YSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbmFudFVybDogaW5kZXhlZGJVcmwoZGF0YSwgdGhpcy5jb2xsZWN0aW9uQVBJLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFVybDogaW5kZXhlZGJVcmwoZGF0YSwgdGhpcy5jb2xsZWN0aW9uQVBJLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkgYXMgUHdhRG9jVHlwZTxUPltdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdG9taWNXcml0ZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShjb2wuYnVsa0luc2VydChhdG9taWNXcml0ZXMpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFwKCgpID0+IHRoaXMuY29sbGVjdGlvbkFQSS50cmlnZ2VyQ2hhbmdlKCkpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwKCgpID0+IG5ldHdvcmtSZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mKG5ldHdvcmtSZXMpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApKSxcblxuICAgICAgICApO1xuXG4gICAgfVxuXG4gICAgbGlzdFJlYWN0aXZlKFxuICAgICAgICB0ZW5hbnQ6IHN0cmluZyxcbiAgICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICAgIHBhcmFtcz86IEh0dHBQYXJhbXMsXG4gICAgICAgIHZhbGlkUXVlcnlLZXlzID0gW10sXG4gICAgICAgIGluZGV4ZWRiVXJsID0gKGRhdGE6IFQsIHRlbmFudFVybDogc3RyaW5nKSA9PiBgJHt0ZW5hbnRVcmx9LyR7ZGF0YS5pZH1gLFxuICAgICAgICB3YWl0ID0gZmFsc2VcbiAgICApOiBPYnNlcnZhYmxlPFB3YUxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25BUEkubGlzdCh0ZW5hbnQsIHVybCwgcGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cykucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGlkYlJlcyA9PiB3YWl0ID9cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkTGlzdChpZGJSZXMsIHRlbmFudCwgdXJsLCBwYXJhbXMsIGluZGV4ZWRiVXJsKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZExpc3QoaWRiUmVzLCB0ZW5hbnQsIHVybCwgcGFyYW1zLCBpbmRleGVkYlVybCkucGlwZShzdGFydFdpdGgoe25leHQ6IG51bGwsIHByZXZpb3VzOiBudWxsLCByZXN1bHRzOiBbXX0pKSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgobmV0d29ya1JlcykgPT4gdGhpcy5jb2xsZWN0aW9uQVBJLmxpc3RSZWFjdGl2ZSh0ZW5hbnQsIHVybCwgcGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cykucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcChyZXMgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogbmV0d29ya1Jlcz8ubmV4dCB8fCByZXMubmV4dCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IG5ldHdvcmtSZXM/LnByZXZpb3VzIHx8IHJlcy5wcmV2aW91cyxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVzLnJlc3VsdHNcbiAgICAgICAgICAgICAgICB9KSksXG5cbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+O1xuXG4gICAgfVxuXG4gICAgbGlzdCh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMsIHZhbGlkUXVlcnlLZXlzID0gW10sIGluZGV4ZWRiVXJsID0gKGRhdGE6IFQsIHRlbmFudFVybDogc3RyaW5nKSA9PiBgJHt0ZW5hbnRVcmx9LyR7ZGF0YS5pZH1gKTogT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5saXN0UmVhY3RpdmUodGVuYW50LCB1cmwsIHBhcmFtcywgdmFsaWRRdWVyeUtleXMsIGluZGV4ZWRiVXJsLCB0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG5cbiAgICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":["/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/collection.mjs","rxjs/operators","rxjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/filters.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/collection.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { getSchema, pwaDocMethods } from '../definitions/document';\nimport { getCollectionCreator, pwaCollectionMethods } from '../definitions/collection';\nimport { switchMap, map, catchError, shareReplay, tap, finalize, startWith, take, auditTime, timeout } from 'rxjs/operators';\nimport { of, from, throwError, combineLatest } from 'rxjs';\nimport { queryFilter } from './filters.resource';\nimport { enterZone } from './operators.resource';\nimport { CustomHttpParams } from './customParams.resource';\nexport class RestAPI {\n    constructor(config) {\n        this.config = config;\n        this.cache = new Map();\n    }\n    get(url, params) {\n        const paramsUrl = params?.keys().map(k => `${k}=${params.getAll(k).join(',')}`).join('&');\n        const cacheKey = `${url}${paramsUrl ? '?' + paramsUrl : ''}`;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.get(cacheKey)), timeout(7500), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n    post(url, data) {\n        const cacheKey = url;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.post(url, data)), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n    put(url, data) {\n        const cacheKey = url;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.put(url, data)), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n    list(url, params) {\n        const paramsUrl = params?.keys().map(k => `${k}=${params.getAll(k).join(',')}`).join('&');\n        const cacheKey = `${url}${paramsUrl ? '?' + paramsUrl : ''}`;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.get(cacheKey)), timeout(7500), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n    delete(url) {\n        const cacheKey = url;\n        const req = of(true).pipe(tap(() => { if (!!this.config.apiProgress) {\n            this.config.apiProgress.add();\n        } }), switchMap(() => this.config.httpClient.delete(url)), finalize(() => {\n            if (!!this.config.apiProgress) {\n                this.config.apiProgress.remove();\n            }\n            if (this.cache.has(cacheKey)) {\n                this.cache.delete(cacheKey);\n            }\n        }), shareReplay(1));\n        if (!this.cache.has(cacheKey)) {\n            this.cache.set(cacheKey, req);\n        }\n        return this.cache.get(cacheKey);\n    }\n}\nexport class CollectionAPI {\n    constructor(_config) {\n        this._config = _config;\n        this.config = {\n            name: 'no_name_collection_api',\n            db$: of(),\n            collectionEvictTime$: of(86400),\n            collectionSkipDocuments$: of(500),\n            attachments: {},\n            options: {},\n            migrationStrategies: {},\n            autoMigrate: true,\n            ngZone: null\n        };\n        this.cache = new Map();\n        this.config = {\n            ...this.config,\n            ...this._config\n        };\n    }\n    get collection$() {\n        if (this._collection$) {\n            return this._collection$;\n        }\n        const collectionSchema = {};\n        collectionSchema[this.config.name] = getCollectionCreator(this.config.name, pwaCollectionMethods, pwaDocMethods, this.config.attachments, this.config.options, this.config.migrationStrategies, this.config.autoMigrate);\n        this._collection$ = this.config.db$.pipe(switchMap(db => {\n            if (this.config.name in db) {\n                return of(db[this.config.name]);\n            }\n            return combineLatest([\n                from(db.addCollections(collectionSchema)),\n                this.config.collectionEvictTime$,\n                this.config.collectionSkipDocuments$\n            ]).pipe(take(1), switchMap(([collections, collectionEvictTime, collectionSkipDocuments]) => {\n                if (this.config.synchroniseService) {\n                    const data = {\n                        id: db.name + '-' + this.config.name,\n                        databaseOptions: JSON.stringify({\n                            name: db.name,\n                            eventReduce: db.eventReduce,\n                            multiInstance: db.multiInstance,\n                            options: db.options,\n                            password: db.password,\n                        }),\n                        collectionEvictTime,\n                        collectionSkipDocuments,\n                        collectionName: this.config.name,\n                        collectionOptions: JSON.stringify({\n                            name: this.config.name,\n                            schema: getSchema(this.config.name),\n                            attachments: collections[this.config.name].attachments,\n                            autoMigrate: true,\n                            cacheReplacementPolicy: collections[this.config.name].cacheReplacementPolicy,\n                            methods: collections[this.config.name].methods,\n                            migrationStrategies: collections[this.config.name].migrationStrategies,\n                            options: collections[this.config.name].options,\n                            statics: collections[this.config.name].statics,\n                        })\n                    };\n                    return this.config.synchroniseService.addSynchroniseDocument(data).pipe(map(() => collections[this.config.name]));\n                }\n                else {\n                    return of(collections).pipe(map(() => collections[this.config.name]));\n                }\n            }));\n        }), tap(col => col.preSave((plainData, rxDocument) => {\n            plainData.createdAt = plainData.createdAt || new Date().getTime();\n            plainData.updatedAt = new Date().getTime();\n        }, false)), shareReplay(1), take(1));\n        return this._collection$;\n    }\n    makeTenantUrl(tenant, url) {\n        return `${tenant}____${url}`;\n    }\n    filterDocs(docs, url, params, validQueryKeys = []) {\n        return docs.pipe(map(allDocs => queryFilter(validQueryKeys, params, allDocs)), map(allDocs => {\n            const start = parseInt(params?.get('offset') || '0');\n            const end = start + parseInt(params?.get('limit') || '100');\n            const next = allDocs.length - end > 0 ? `${url}?${params.set('offset', end.toString()).toString()}` : null;\n            const previous = start > 0 ? `${url}?${params.set('offset', start.toString()).toString()}` : null;\n            return { next, previous, results: allDocs.slice(start, end), count: allDocs.length };\n        }));\n    }\n    getReactive(tenant, url) {\n        const cacheKey = tenant + url;\n        if (!this.cache.has(cacheKey)) {\n            const doc = this.collection$.pipe(switchMap(col => col.findOne({ selector: { tenantUrl: { $eq: this.makeTenantUrl(tenant, url) } } }).$), shareReplay(1), enterZone(this.config.ngZone));\n            this.cache.set(cacheKey, doc);\n        }\n        return this.cache.get(cacheKey);\n    }\n    get(tenant, url) {\n        return this.getReactive(tenant, url).pipe(take(1));\n    }\n    listReactive(tenant, url, params, validQueryKeys = []) {\n        const cacheKey = tenant + url;\n        if (!this.cache.has(cacheKey)) {\n            const docs = this.collection$.pipe(switchMap(col => col.find({ selector: { matchUrl: { $regex: new RegExp(`^${this.makeTenantUrl(tenant, url)}.*`) } } }).$), shareReplay(1));\n            this.cache.set(cacheKey, docs);\n        }\n        return this.filterDocs(this.cache.get(cacheKey), url, params, validQueryKeys).pipe(enterZone(this.config.ngZone));\n    }\n    list(tenant, url, params, validQueryKeys = []) {\n        return this.listReactive(tenant, url, params, validQueryKeys).pipe(take(1));\n    }\n    post(tenant, url, data, fileFields = []) {\n        return this.collection$.pipe(switchMap(col => col.atomicUpsert({\n            tenantUrl: `${this.makeTenantUrl(tenant, url)}/${data.id}`,\n            matchUrl: `${this.makeTenantUrl(tenant, url)}/${data.id}`,\n            method: 'POST',\n            data,\n            error: null,\n            time: new Date().getTime(),\n            fileFields\n        })));\n    }\n    put(tenant, url, data, fileFields = []) {\n        return combineLatest([this.get(tenant, url), this.collection$]).pipe(switchMap(([doc, col]) => {\n            if (doc) {\n                return doc.atomicPatch({\n                    method: doc.method !== 'POST' ? 'PUT' : doc.method,\n                    data,\n                    error: null,\n                    time: doc.method === 'GET' ? new Date().getTime() : doc.time,\n                    fileFields\n                });\n            }\n            else {\n                const docData = {\n                    tenantUrl: this.makeTenantUrl(tenant, url),\n                    matchUrl: this.makeTenantUrl(tenant, url),\n                    data,\n                    method: 'PUT',\n                    error: null,\n                    time: new Date().getTime(),\n                    fileFields\n                };\n                return col.atomicUpsert(docData);\n            }\n        }));\n    }\n    delete(tenant, url, data, fileFields = []) {\n        return this.get(tenant, url).pipe(switchMap(doc => {\n            if (doc && doc.method === 'POST') {\n                return from(doc.remove());\n            }\n            else if (doc && (doc.method === 'PUT' || doc.method === 'DELETE')) {\n                return from(doc.atomicPatch({ method: 'DELETE', error: null }));\n            }\n            else if (doc) {\n                return from(doc.atomicPatch({ method: 'DELETE', error: null, time: new Date().getTime() }));\n            }\n            else if (data) {\n                const docData = {\n                    tenantUrl: this.makeTenantUrl(tenant, url),\n                    matchUrl: this.makeTenantUrl(tenant, url),\n                    data,\n                    method: 'DELETE',\n                    error: null,\n                    time: new Date().getTime(),\n                    fileFields\n                };\n                return this.collection$.pipe(switchMap(col => col.atomicUpsert(docData)));\n            }\n            else {\n                return throwError('Document not found while deleting in database');\n            }\n        }));\n    }\n    createNew(tenant, url) {\n        return this.get(tenant, url).pipe(switchMap(doc => {\n            if (!!doc && doc.method !== 'GET' && doc.method !== 'POST') {\n                return from(doc.atomicPatch({ method: 'POST' }));\n            }\n            return throwError(`Cannot duplicate this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n        }));\n    }\n    deleteConflict(tenant, url) {\n        return this.get(tenant, url).pipe(switchMap(doc => {\n            if (!!doc && doc.method !== 'GET') {\n                return from(doc.remove());\n            }\n            return throwError(`Cannot delete this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n        }));\n    }\n}\nexport class PwaCollectionAPI {\n    constructor(_config) {\n        this._config = _config;\n        this.config = {\n            restApiCreator: {},\n            collectionApiCreator: {\n                name: 'no_name_pwa_collection_api',\n                db$: of(),\n                collectionEvictTime$: of(86400),\n                collectionSkipDocuments$: of(500),\n                attachments: {},\n                options: {},\n                migrationStrategies: {},\n                autoMigrate: true,\n            },\n            cacheTimeInSeconds: 120\n        };\n        this.config = {\n            ...this.config,\n            ...this._config,\n            restApiCreator: {\n                ...this.config.restApiCreator,\n                ...this._config.restApiCreator\n            },\n            collectionApiCreator: {\n                ...this.config.collectionApiCreator,\n                ...this._config.collectionApiCreator\n            }\n        };\n        this.restAPI = new RestAPI(this.config.restApiCreator);\n        this.collectionAPI = new CollectionAPI(this.config.collectionApiCreator);\n    }\n    downloadRetrieve(doc, tenant, url, params) {\n        if (!!doc && doc.method !== 'GET') {\n            return of(doc);\n        }\n        const currentTime = new Date().getTime();\n        if (!!doc && doc.time >= (currentTime - (this.config.cacheTimeInSeconds * 1000))) {\n            return of(doc);\n        }\n        return combineLatest([this.restAPI.get(url, params), this.collectionAPI.collection$]).pipe(switchMap(([res, col]) => col.atomicUpsert({\n            tenantUrl: this.collectionAPI.makeTenantUrl(tenant, url),\n            matchUrl: this.collectionAPI.makeTenantUrl(tenant, url),\n            data: res,\n            method: 'GET',\n            error: null,\n            time: new Date().getTime(),\n        })), catchError(() => of(doc)));\n    }\n    getReactive(tenant, url, params, wait = false) {\n        return this.collectionAPI.get(tenant, url).pipe(switchMap(doc => wait ?\n            this.downloadRetrieve(doc, tenant, url, params) :\n            this.downloadRetrieve(doc, tenant, url, params).pipe(startWith(null))), switchMap(() => this.collectionAPI.getReactive(tenant, url)), auditTime(1000 / 60));\n    }\n    get(tenant, url, params) {\n        return this.getReactive(tenant, url, params, true).pipe(take(1));\n    }\n    downloadList(res, tenant, url, params, indexedbUrl = (data, tenantUrl) => `${tenantUrl}/${data.id}`) {\n        const currentTime = new Date().getTime();\n        const limit = parseInt(params?.get('limit') || '100');\n        const ids = res.results\n            .filter(v => v.method === 'PUT' || v.method === 'DELETE' || (v.method === 'GET' && v.time >= (currentTime - (this.config.cacheTimeInSeconds * 1000))))\n            .map(v => v.data.id);\n        if (ids.length === limit) {\n            return of({ next: res.next, previous: res.previous, results: [] });\n        }\n        params = params || new CustomHttpParams();\n        if (ids.length > 0) {\n            if (params.has('exclude:id.in')) {\n                params.delete('exclude:id.in');\n            }\n            params = params.append('exclude:id.in', ids.join(','));\n            params = params.set('limit', (limit - ids.length).toString());\n        }\n        return this.restAPI.list(url, params).pipe(catchError(() => of({ next: null, previous: null, results: [] })), switchMap(networkRes => this.collectionAPI.collection$.pipe(switchMap(col => {\n            const atomicWrites = networkRes.results\n                .map(data => ({\n                tenantUrl: indexedbUrl(data, this.collectionAPI.makeTenantUrl(tenant, url)),\n                matchUrl: indexedbUrl(data, this.collectionAPI.makeTenantUrl(tenant, url)),\n                data,\n                method: 'GET',\n                error: null,\n                time: new Date().getTime(),\n            }));\n            if (atomicWrites.length > 0) {\n                return from(col.bulkInsert(atomicWrites)).pipe(map(() => networkRes));\n            }\n            return of(networkRes);\n        }))));\n    }\n    listReactive(tenant, url, params, validQueryKeys = [], indexedbUrl = (data, tenantUrl) => `${tenantUrl}/${data.id}`, wait = false) {\n        return this.collectionAPI.list(tenant, url, params, validQueryKeys).pipe(switchMap(idbRes => wait ?\n            this.downloadList(idbRes, tenant, url, params, indexedbUrl) :\n            this.downloadList(idbRes, tenant, url, params, indexedbUrl).pipe(startWith({ next: null, previous: null, results: [] }))), switchMap((networkRes) => this.collectionAPI.listReactive(tenant, url, params, validQueryKeys).pipe(map(res => ({\n            next: networkRes?.next || res.next,\n            previous: networkRes?.previous || res.previous,\n            results: res.results\n        })))));\n    }\n    list(tenant, url, params, validQueryKeys = [], indexedbUrl = (data, tenantUrl) => `${tenantUrl}/${data.id}`) {\n        return this.listReactive(tenant, url, params, validQueryKeys, indexedbUrl, true).pipe(take(1));\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29sbGVjdGlvbi5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9jb2xsZWN0aW9uLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBd0IsU0FBUyxFQUFFLGFBQWEsRUFBMkIsTUFBTSx5QkFBeUIsQ0FBQztBQUNsSCxPQUFPLEVBQUUsb0JBQW9CLEVBQWlCLG9CQUFvQixFQUF5RCxNQUFNLDJCQUEyQixDQUFDO0FBQzdKLE9BQU8sRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLFNBQVMsRUFBRSxPQUFPLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3SCxPQUFPLEVBQWMsRUFBRSxFQUFFLElBQUksRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBRXZFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUdqRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFJakQsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUE4QjNELE1BQU0sT0FBTyxPQUFPO0lBSWhCLFlBQW9CLE1BQXNCO1FBQXRCLFdBQU0sR0FBTixNQUFNLENBQWdCO1FBRmxDLFVBQUssR0FBNkQsSUFBSSxHQUFHLEVBQUUsQ0FBQztJQUV2QyxDQUFDO0lBTTlDLEdBQUcsQ0FBQyxHQUFXLEVBQUUsTUFBbUI7UUFFaEMsTUFBTSxTQUFTLEdBQUcsTUFBTSxFQUFFLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxD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RyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQUU7UUFFakUsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQWdDLENBQUM7SUFDbkUsQ0FBQztJQUVELE1BQU0sQ0FBQyxHQUFXO1FBRWQsTUFBTSxRQUFRLEdBQUcsR0FBRyxDQUFDO1FBRXJCLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBRXJCLEdBQUcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRTtZQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1NBQUUsQ0FBQyxDQUFDLENBQUMsRUFFaEYsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUVuRCxRQUFRLENBQUMsR0FBRyxFQUFFO1lBRVYsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUU7Z0JBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUM7YUFBRTtZQUVwRSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFO2dCQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQUU7UUFDbEUsQ0FBQyxDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUVFLENBQUM7UUFFckIsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxFQUFFO1lBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLEdBQUcsQ0FBQyxD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QUUsRUFBRSxjQUFjLENBQUMsSUFBTyxFQUFFLFNBQWlCLEVBQUUsRUFBRSxDQUFDLEdBQUcsU0FBUyxJQUFJLElBQUksQ0FBQyxFQUFFLEVBQUU7UUFFL0ksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsTUFBTSxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUVqRixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQ1YsQ0FBQztJQUVOLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGF0eXBlLCBGaWxlQ29uZmlnLCBnZXRTY2hlbWEsIHB3YURvY01ldGhvZHMsIFB3YURvY1R5cGUsIFB3YURvY3VtZW50IH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMvZG9jdW1lbnQnO1xuaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbkNyZWF0b3IsIFB3YUNvbGxlY3Rpb24sIHB3YUNvbGxlY3Rpb25NZXRob2RzLCBMaXN0UmVzcG9uc2UsIFB3YUxpc3RSZXNwb25zZSwgQ29sbGVjdGlvbkxpc3RSZXNwb25zZSB9IGZyb20gJy4uL2RlZmluaXRpb25zL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHsgc3dpdGNoTWFwLCBtYXAsIGNhdGNoRXJyb3IsIHNoYXJlUmVwbGF5LCB0YXAsIGZpbmFsaXplLCBzdGFydFdpdGgsIHRha2UsIGF1ZGl0VGltZSwgdGltZW91dCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IE9ic2VydmFibGUsIG9mLCBmcm9tLCB0aHJvd0Vycm9yLCBjb21iaW5lTGF0ZXN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgcXVlcnlGaWx0ZXIgfSBmcm9tICcuL2ZpbHRlcnMucmVzb3VyY2UnO1xuaW1wb3J0IHsgUnhDb2xsZWN0aW9uQ3JlYXRvciwgUnhEYXRhYmFzZSB9IGZyb20gJ3J4ZGInO1xuaW1wb3J0IHsgTmdab25lIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBlbnRlclpvbmUgfSBmcm9tICcuL29wZXJhdG9ycy5yZXNvdXJjZSc7XG5pbXBvcnQgeyBBcGlQcm9ncmVzc1NlcnZpY2UgfSBmcm9tICcuL2FwaVByb2dyZXNzLnJlc291cmNlJztcbmltcG9ydCB7IFN5bmNDb2xsZWN0aW9uU2VydmljZSB9IGZyb20gJy4vc3luY2hyb25pc2UtY29sbGVjdGlvbi5yZXNvdXJjZSc7XG5pbXBvcnQgeyBTeW5jaHJvbmlzZURvY1R5cGUgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1kb2N1bWVudCc7XG5pbXBvcnQgeyBDdXN0b21IdHRwUGFyYW1zIH0gZnJvbSAnLi9jdXN0b21QYXJhbXMucmVzb3VyY2UnO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzdEFQSUNyZWF0b3Ige1xuICAgIGFwaVByb2dyZXNzPzogQXBpUHJvZ3Jlc3NTZXJ2aWNlO1xuICAgIGh0dHBDbGllbnQ/OiBIdHRwQ2xpZW50O1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sbGVjdGlvbkFQSUNyZWF0b3I8RGF0YWJhc2U+IHtcbiAgICBuYW1lPzogc3RyaW5nO1xuICAgIGRiJD86IE9ic2VydmFibGU8UnhEYXRhYmFzZTxEYXRhYmFzZT4+O1xuICAgIGNvbGxlY3Rpb25FdmljdFRpbWUkOiBPYnNlcnZhYmxlPG51bWJlcj47XG4gICAgY29sbGVjdGlvblNraXBEb2N1bWVudHMkOiBPYnNlcnZhYmxlPG51bWJlcj47XG4gICAgc3luY2hyb25pc2VTZXJ2aWNlPzogU3luY0NvbGxlY3Rpb25TZXJ2aWNlO1xuICAgIGF0dGFjaG1lbnRzPzoge307XG4gICAgb3B0aW9ucz86IHt9O1xuICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM/OiB7fTtcbiAgICBhdXRvTWlncmF0ZT86IGJvb2xlYW47XG4gICAgbmdab25lOiBOZ1pvbmU7XG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBQd2FDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4ge1xuICAgIGNvbGxlY3Rpb25BcGlDcmVhdG9yOiBQYXJ0aWFsPENvbGxlY3Rpb25BUElDcmVhdG9yPERhdGFiYXNlPj47XG4gICAgcmVzdEFwaUNyZWF0b3I6IFBhcnRpYWw8UmVzdEFQSUNyZWF0b3I+O1xuICAgIGNhY2hlVGltZUluU2Vjb25kczogbnVtYmVyO1xufVxuXG5cbmV4cG9ydCBjbGFzcyBSZXN0QVBJPFQgZXh0ZW5kcyBEYXRhdHlwZT4ge1xuXG4gICAgcHJpdmF0ZSBjYWNoZTogTWFwPHN0cmluZywgT2JzZXJ2YWJsZTxUPiB8IE9ic2VydmFibGU8TGlzdFJlc3BvbnNlPFQ+Pj4gPSBuZXcgTWFwKCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZzogUmVzdEFQSUNyZWF0b3IpIHt9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQ1JVRFxuICAgIC8vLy8vLy8vLy8vLy8vLy9cblxuICAgIGdldCh1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8VD4ge1xuXG4gICAgICAgIGNvbnN0IHBhcmFtc1VybCA9IHBhcmFtcz8ua2V5cygpLm1hcChrID0+IGAke2t9PSR7cGFyYW1zLmdldEFsbChrKS5qb2luKCcsJyl9YCkuam9pbignJicpO1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7dXJsfSR7cGFyYW1zVXJsID8gJz8nICsgcGFyYW1zVXJsIDogJyd9YDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZ2V0KGNhY2hlS2V5KSksXG5cbiAgICAgICAgICAgIHRpbWVvdXQoNzUwMCksXG5cbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLnJlbW92ZSgpOyB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuZGVsZXRlKGNhY2hlS2V5KTsgfVxuXG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIHBvc3QodXJsOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8VD4gfCBGb3JtRGF0YSk6IE9ic2VydmFibGU8VD4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdXJsO1xuXG4gICAgICAgIGNvbnN0IHJlcSA9IG9mKHRydWUpLnBpcGUoXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB7IGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLmFkZCgpOyB9IH0pLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5jb25maWcuaHR0cENsaWVudC5wb3N0KHVybCwgZGF0YSkpLFxuXG4gICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5yZW1vdmUoKTsgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLmRlbGV0ZShjYWNoZUtleSk7IH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApICBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIHB1dCh1cmw6IHN0cmluZywgZGF0YTogUGFydGlhbDxUPiB8IEZvcm1EYXRhKTogT2JzZXJ2YWJsZTxUPiB7XG5cbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSB1cmw7XG5cbiAgICAgICAgY29uc3QgcmVxID0gb2YodHJ1ZSkucGlwZShcblxuICAgICAgICAgICAgdGFwKCgpID0+IHsgaWYgKCEhdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MpIHsgdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MuYWRkKCk7IH0gfSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LnB1dCh1cmwsIGRhdGEpKSxcblxuICAgICAgICAgICAgZmluYWxpemUoKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKCEhdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MpIHsgdGhpcy5jb25maWcuYXBpUHJvZ3Jlc3MucmVtb3ZlKCk7IH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhY2hlLmhhcyhjYWNoZUtleSkpIHsgdGhpcy5jYWNoZS5kZWxldGUoY2FjaGVLZXkpOyB9XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFQ+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPFQ+O1xuICAgIH1cblxuICAgIGxpc3QodXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMpOiBPYnNlcnZhYmxlPExpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIGNvbnN0IHBhcmFtc1VybCA9IHBhcmFtcz8ua2V5cygpLm1hcChrID0+IGAke2t9PSR7cGFyYW1zLmdldEFsbChrKS5qb2luKCcsJyl9YCkuam9pbignJicpO1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gYCR7dXJsfSR7cGFyYW1zVXJsID8gJz8nICsgcGFyYW1zVXJsIDogJyd9YDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZ2V0KGNhY2hlS2V5KSksXG5cbiAgICAgICAgICAgIHRpbWVvdXQoNzUwMCksXG5cbiAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIXRoaXMuY29uZmlnLmFwaVByb2dyZXNzKSB7IHRoaXMuY29uZmlnLmFwaVByb2dyZXNzLnJlbW92ZSgpOyB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuZGVsZXRlKGNhY2hlS2V5KTsgfVxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxMaXN0UmVzcG9uc2U8VD4+O1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7IHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCByZXEpOyB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KSBhcyBPYnNlcnZhYmxlPExpc3RSZXNwb25zZTxUPj47XG4gICAgfVxuXG4gICAgZGVsZXRlKHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICBjb25zdCBjYWNoZUtleSA9IHVybDtcblxuICAgICAgICBjb25zdCByZXEgPSBvZih0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4geyBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5hZGQoKTsgfSB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKCgpID0+IHRoaXMuY29uZmlnLmh0dHBDbGllbnQuZGVsZXRlKHVybCkpLFxuXG4gICAgICAgICAgICBmaW5hbGl6ZSgoKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoISF0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcykgeyB0aGlzLmNvbmZpZy5hcGlQcm9ncmVzcy5yZW1vdmUoKTsgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLmRlbGV0ZShjYWNoZUtleSk7IH1cbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApIGFzIE9ic2VydmFibGU8YW55PjtcblxuICAgICAgICBpZiAoIXRoaXMuY2FjaGUuaGFzKGNhY2hlS2V5KSkgeyB0aGlzLmNhY2hlLnNldChjYWNoZUtleSwgcmVxKTsgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChjYWNoZUtleSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uQVBJPFQgZXh0ZW5kcyBEYXRhdHlwZSwgRGF0YWJhc2U+IHtcblxuICAgIHByaXZhdGUgY29uZmlnOiBDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4gPSB7XG4gICAgICAgIG5hbWU6ICdub19uYW1lX2NvbGxlY3Rpb25fYXBpJyxcbiAgICAgICAgZGIkOiBvZigpLFxuICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lJDogb2YoODY0MDApLFxuICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyQ6IG9mKDUwMCksXG4gICAgICAgIGF0dGFjaG1lbnRzOiB7fSxcbiAgICAgICAgb3B0aW9uczoge30sXG4gICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM6IHt9LFxuICAgICAgICBhdXRvTWlncmF0ZTogdHJ1ZSxcbiAgICAgICAgbmdab25lOiBudWxsXG4gICAgfTtcblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogdmFyaWFibGUtbmFtZVxuICAgIHByaXZhdGUgX2NvbGxlY3Rpb24kOiBPYnNlcnZhYmxlPFB3YUNvbGxlY3Rpb248VD4+O1xuXG4gICAgcHJpdmF0ZSBjYWNoZSA9IG5ldyBNYXAoKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2NvbmZpZzogUGFydGlhbDxDb2xsZWN0aW9uQVBJQ3JlYXRvcjxEYXRhYmFzZT4+KSB7XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldCBjb2xsZWN0aW9uJCgpOiBPYnNlcnZhYmxlPFB3YUNvbGxlY3Rpb248VD4+IHtcblxuICAgICAgICBpZiAodGhpcy5fY29sbGVjdGlvbiQpIHsgcmV0dXJuIHRoaXMuX2NvbGxlY3Rpb24kOyB9XG5cbiAgICAgICAgY29uc3QgY29sbGVjdGlvblNjaGVtYSA9IHt9O1xuXG4gICAgICAgIGNvbGxlY3Rpb25TY2hlbWFbdGhpcy5jb25maWcubmFtZV0gPSBnZXRDb2xsZWN0aW9uQ3JlYXRvcihcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm5hbWUsXG4gICAgICAgICAgICBwd2FDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgIHB3YURvY01ldGhvZHMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdHRhY2htZW50cyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm9wdGlvbnMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5taWdyYXRpb25TdHJhdGVnaWVzLFxuICAgICAgICAgICAgdGhpcy5jb25maWcuYXV0b01pZ3JhdGVcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLl9jb2xsZWN0aW9uJCA9IHRoaXMuY29uZmlnLmRiJC5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZGIgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm5hbWUgaW4gZGIpIHsgcmV0dXJuIG9mKGRiW3RoaXMuY29uZmlnLm5hbWVdKTsgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbWJpbmVMYXRlc3QoW1xuICAgICAgICAgICAgICAgICAgICBmcm9tKGRiLmFkZENvbGxlY3Rpb25zKGNvbGxlY3Rpb25TY2hlbWEgYXMgeyBba2V5OiBzdHJpbmddOiBSeENvbGxlY3Rpb25DcmVhdG9yOyB9KSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmNvbGxlY3Rpb25FdmljdFRpbWUkLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5jb2xsZWN0aW9uU2tpcERvY3VtZW50cyRcbiAgICAgICAgICAgICAgICBdKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIHRha2UoMSksXG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoTWFwKChbY29sbGVjdGlvbnMsIGNvbGxlY3Rpb25FdmljdFRpbWUsIGNvbGxlY3Rpb25Ta2lwRG9jdW1lbnRzXSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc3luY2hyb25pc2VTZXJ2aWNlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhOiBTeW5jaHJvbmlzZURvY1R5cGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBkYi5uYW1lICsgJy0nICsgdGhpcy5jb25maWcubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VPcHRpb25zOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRSZWR1Y2U6IGRiLmV2ZW50UmVkdWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlJbnN0YW5jZTogZGIubXVsdGlJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGRiLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogZGIucGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uRXZpY3RUaW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbk5hbWU6IHRoaXMuY29uZmlnLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLmNvbmZpZy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBnZXRTY2hlbWEodGhpcy5jb25maWcubmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50czogY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0uYXR0YWNobWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvTWlncmF0ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlUmVwbGFjZW1lbnRQb2xpY3k6IGNvbGxlY3Rpb25zW3RoaXMuY29uZmlnLm5hbWVdLmNhY2hlUmVwbGFjZW1lbnRQb2xpY3ksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2RzOiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXS5tZXRob2RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczogY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0ubWlncmF0aW9uU3RyYXRlZ2llcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGNvbGxlY3Rpb25zW3RoaXMuY29uZmlnLm5hbWVdLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNzOiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXS5zdGF0aWNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgY29sbGVjdGlvbiB0byBzeW5jaHJvbmlzZSBjb2xsZWN0aW9uIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuc3luY2hyb25pc2VTZXJ2aWNlLmFkZFN5bmNocm9uaXNlRG9jdW1lbnQoZGF0YSkucGlwZShcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAoKCkgPT4gY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0gYXMgUHdhQ29sbGVjdGlvbjxUPilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mKGNvbGxlY3Rpb25zKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcCgoKSA9PiBjb2xsZWN0aW9uc1t0aGlzLmNvbmZpZy5uYW1lXSBhcyBQd2FDb2xsZWN0aW9uPFQ+KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHRhcChjb2wgPT4gY29sLnByZVNhdmUoKHBsYWluRGF0YSwgcnhEb2N1bWVudCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gbW9kaWZ5IGFueUZpZWxkIGJlZm9yZSBzYXZpbmdcbiAgICAgICAgICAgICAgICAvLyBhZGQgaG9vayBpbiBzeW5jaHJvbmlzZS1jb2xsZWN0aW9uIGFzIHdlbGxcbiAgICAgICAgICAgICAgICBwbGFpbkRhdGEuY3JlYXRlZEF0ID0gcGxhaW5EYXRhLmNyZWF0ZWRBdCB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBwbGFpbkRhdGEudXBkYXRlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgICAgIH0sIGZhbHNlKSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICAgICB0YWtlKDEpLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xsZWN0aW9uJDtcbiAgICB9XG5cbiAgICBtYWtlVGVuYW50VXJsKHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IHN0cmluZyB7XG5cbiAgICAgICAgcmV0dXJuIGAke3RlbmFudH1fX19fJHt1cmx9YDtcbiAgICB9XG5cbiAgICBmaWx0ZXJEb2NzKFxuICAgICAgICBkb2NzOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+W10+LFxuICAgICAgICB1cmw6IHN0cmluZyxcbiAgICAgICAgcGFyYW1zPzogSHR0cFBhcmFtcyxcbiAgICAgICAgdmFsaWRRdWVyeUtleXMgPSBbXVxuICAgICk6IE9ic2VydmFibGU8Q29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIHJldHVybiBkb2NzLnBpcGUoXG5cbiAgICAgICAgICAgIC8vIG1hcCh2ID0+IHYuc29ydCgoYSwgYikgPT4gYi50aW1lIC0gYS50aW1lKSksXG5cbiAgICAgICAgICAgIG1hcChhbGxEb2NzID0+IHF1ZXJ5RmlsdGVyKHZhbGlkUXVlcnlLZXlzLCBwYXJhbXMsIGFsbERvY3MpKSxcblxuICAgICAgICAgICAgbWFwKGFsbERvY3MgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiByYWRpeFxuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFyc2VJbnQocGFyYW1zPy5nZXQoJ29mZnNldCcpIHx8ICcwJyk7XG5cbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHJhZGl4XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gc3RhcnQgKyBwYXJzZUludChwYXJhbXM/LmdldCgnbGltaXQnKSB8fCAnMTAwJyk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gYWxsRG9jcy5sZW5ndGggLSBlbmQgPiAwID8gYCR7dXJsfT8ke3BhcmFtcy5zZXQoJ29mZnNldCcsIGVuZC50b1N0cmluZygpKS50b1N0cmluZygpfWAgOiBudWxsO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBzdGFydCA+IDAgPyBgJHt1cmx9PyR7cGFyYW1zLnNldCgnb2Zmc2V0Jywgc3RhcnQudG9TdHJpbmcoKSkudG9TdHJpbmcoKX1gIDogbnVsbDtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7bmV4dCwgcHJldmlvdXMsIHJlc3VsdHM6IGFsbERvY3Muc2xpY2Uoc3RhcnQsIGVuZCksIGNvdW50OiBhbGxEb2NzLmxlbmd0aH07XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBDUlVEXG4gICAgLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZ2V0UmVhY3RpdmUodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPj4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGVuYW50ICsgdXJsO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGRvYyA9IHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgIHN3aXRjaE1hcChjb2wgPT4gY29sLmZpbmRPbmUoe3NlbGVjdG9yOiB7IHRlbmFudFVybDogeyRlcTogdGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKX19fSkuJCksXG5cbiAgICAgICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgICAgIGVudGVyWm9uZTxQd2FEb2N1bWVudDxUPj4odGhpcy5jb25maWcubmdab25lKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCBkb2MpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGNhY2hlS2V5KTtcblxuICAgIH1cblxuICAgIGdldCh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVhY3RpdmUodGVuYW50LCB1cmwpLnBpcGUoXG5cbiAgICAgICAgICAgIHRha2UoMSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbGlzdFJlYWN0aXZlKHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcywgdmFsaWRRdWVyeUtleXMgPSBbXSk6IE9ic2VydmFibGU8Q29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGVuYW50ICsgdXJsO1xuXG4gICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXMoY2FjaGVLZXkpKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IGRvY3MgPSB0aGlzLmNvbGxlY3Rpb24kLnBpcGUoXG5cbiAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoY29sID0+IGNvbC5maW5kKHsgc2VsZWN0b3I6IHttYXRjaFVybDogeyRyZWdleDogbmV3IFJlZ0V4cChgXiR7dGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKX0uKmApfX0gfSkuJCksXG5cbiAgICAgICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGUuc2V0KGNhY2hlS2V5LCBkb2NzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZpbHRlckRvY3ModGhpcy5jYWNoZS5nZXQoY2FjaGVLZXkpLCB1cmwsIHBhcmFtcywgdmFsaWRRdWVyeUtleXMpLnBpcGUoXG5cbiAgICAgICAgICAgIGVudGVyWm9uZTxDb2xsZWN0aW9uTGlzdFJlc3BvbnNlPFQ+Pih0aGlzLmNvbmZpZy5uZ1pvbmUpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGxpc3QodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cyA9IFtdKTogT2JzZXJ2YWJsZTxDb2xsZWN0aW9uTGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdFJlYWN0aXZlKHRlbmFudCwgdXJsLCBwYXJhbXMsIHZhbGlkUXVlcnlLZXlzKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vL1xuICAgIC8vIEFjdGlvbnNcbiAgICAvLy8vLy8vLy8vLy8vXG5cbiAgICBwb3N0KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgZGF0YTogVCwgZmlsZUZpZWxkczogRmlsZUNvbmZpZ1tdID0gW10pOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KHtcbiAgICAgICAgICAgICAgICB0ZW5hbnRVcmw6IGAke3RoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCl9LyR7ZGF0YS5pZH1gLFxuICAgICAgICAgICAgICAgIG1hdGNoVXJsOiBgJHt0aGlzLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpfS8ke2RhdGEuaWR9YCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgIHRpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdXQodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBkYXRhOiBULCBmaWxlRmllbGRzOiBGaWxlQ29uZmlnW10gPSBbXSk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChbdGhpcy5nZXQodGVuYW50LCB1cmwpLCB0aGlzLmNvbGxlY3Rpb24kXSkucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKChbZG9jLCBjb2xdKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9jKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGRvYy5tZXRob2QgIT09ICdQT1NUJyA/ICdQVVQnIDogZG9jLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IGRvYy5tZXRob2QgPT09ICdHRVQnID8gbmV3IERhdGUoKS5nZXRUaW1lKCkgOiBkb2MudGltZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRvY0RhdGE6IFBhcnRpYWw8UHdhRG9jVHlwZTxUPj4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW5hbnRVcmw6IHRoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFVybDogdGhpcy5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVGaWVsZHNcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sLmF0b21pY1Vwc2VydChkb2NEYXRhKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGRlbGV0ZSh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIGRhdGE/OiBULCBmaWxlRmllbGRzOiBGaWxlQ29uZmlnW10gPSBbXSk6IE9ic2VydmFibGU8Ym9vbGVhbiB8IFB3YURvY3VtZW50PFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRlbmFudCwgdXJsKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChkb2MgJiYgZG9jLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLnJlbW92ZSgpKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZG9jICYmIChkb2MubWV0aG9kID09PSAnUFVUJyB8fCBkb2MubWV0aG9kID09PSAnREVMRVRFJykpIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkb2MuYXRvbWljUGF0Y2goe21ldGhvZDogJ0RFTEVURScsIGVycm9yOiBudWxsfSkpO1xuXG4gICAgICAgICAgICAgICAgfSAgZWxzZSBpZiAoZG9jKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHttZXRob2Q6ICdERUxFVEUnLCBlcnJvcjogbnVsbCwgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCl9KSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkb2NEYXRhOiBQYXJ0aWFsPFB3YURvY1R5cGU8VD4+ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVuYW50VXJsOiB0aGlzLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hVcmw6IHRoaXMubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlRmllbGRzXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KGRvY0RhdGEpKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcignRG9jdW1lbnQgbm90IGZvdW5kIHdoaWxlIGRlbGV0aW5nIGluIGRhdGFiYXNlJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBDb25mbGljdCBBY3Rpb25zXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgY3JlYXRlTmV3KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZyk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXQodGVuYW50LCB1cmwpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcChkb2MgPT4ge1xuXG4gICAgICAgICAgICAgICAgaWYgKCEhZG9jICYmIGRvYy5tZXRob2QgIT09ICdHRVQnICYmIGRvYy5tZXRob2QgIT09ICdQT1NUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKGRvYy5hdG9taWNQYXRjaCh7bWV0aG9kOidQT1NUJ30pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihgQ2Fubm90IGR1cGxpY2F0ZSB0aGlzIGRvY3VtZW50LiBEb2N1bWVudDogJHtKU09OLnN0cmluZ2lmeShkb2M/LnRvSlNPTigpIHx8IHt9KX1gKTtcbiAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZGVsZXRlQ29uZmxpY3QodGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHRlbmFudCwgdXJsKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tKGRvYy5yZW1vdmUoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYENhbm5vdCBkZWxldGUgdGhpcyBkb2N1bWVudC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSB8fCB7fSl9YCk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIFB3YUNvbGxlY3Rpb25BUEk8VCBleHRlbmRzIERhdGF0eXBlLCBEYXRhYmFzZT4ge1xuXG4gICAgcHJpdmF0ZSBjb25maWc6IFB3YUNvbGxlY3Rpb25BUElDcmVhdG9yPERhdGFiYXNlPiA9IHtcbiAgICAgICAgcmVzdEFwaUNyZWF0b3I6IHt9LFxuICAgICAgICBjb2xsZWN0aW9uQXBpQ3JlYXRvcjoge1xuICAgICAgICAgICAgbmFtZTogJ25vX25hbWVfcHdhX2NvbGxlY3Rpb25fYXBpJyxcbiAgICAgICAgICAgIGRiJDogb2YoKSxcbiAgICAgICAgICAgIGNvbGxlY3Rpb25FdmljdFRpbWUkOiBvZig4NjQwMCksXG4gICAgICAgICAgICBjb2xsZWN0aW9uU2tpcERvY3VtZW50cyQ6IG9mKDUwMCksXG4gICAgICAgICAgICBhdHRhY2htZW50czoge30sXG4gICAgICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgICAgIG1pZ3JhdGlvblN0cmF0ZWdpZXM6IHt9LFxuICAgICAgICAgICAgYXV0b01pZ3JhdGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGNhY2hlVGltZUluU2Vjb25kczogMTIwXG4gICAgfTtcblxuICAgIGNvbGxlY3Rpb25BUEk6IENvbGxlY3Rpb25BUEk8VCwgRGF0YWJhc2U+O1xuICAgIHJlc3RBUEk6IFJlc3RBUEk8VD47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jb25maWc6IFBhcnRpYWw8UHdhQ29sbGVjdGlvbkFQSUNyZWF0b3I8RGF0YWJhc2U+PiwgKSB7XG5cbiAgICAgICAgdGhpcy5jb25maWcgPSB7XG4gICAgICAgICAgICAuLi50aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZyxcbiAgICAgICAgICAgIHJlc3RBcGlDcmVhdG9yOiB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5jb25maWcucmVzdEFwaUNyZWF0b3IsXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fY29uZmlnLnJlc3RBcGlDcmVhdG9yXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29sbGVjdGlvbkFwaUNyZWF0b3I6IHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLmNvbmZpZy5jb2xsZWN0aW9uQXBpQ3JlYXRvcixcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9jb25maWcuY29sbGVjdGlvbkFwaUNyZWF0b3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJlc3RBUEkgICAgICAgID0gbmV3IFJlc3RBUEkodGhpcy5jb25maWcucmVzdEFwaUNyZWF0b3IpO1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25BUEkgID0gbmV3IENvbGxlY3Rpb25BUEkodGhpcy5jb25maWcuY29sbGVjdGlvbkFwaUNyZWF0b3IpO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vXG4gICAgLy8gUmV0cmlldmVcbiAgICAvLy8vLy8vLy8vLy8vL1xuXG4gICAgZG93bmxvYWRSZXRyaWV2ZShkb2M6IFB3YURvY3VtZW50PFQ+IHwgbnVsbCwgdGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zKTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPiB8IG51bGw+IHtcblxuICAgICAgICBpZiAoISFkb2MgJiYgZG9jLm1ldGhvZCAhPT0gJ0dFVCcpIHsgcmV0dXJuIG9mKGRvYyk7IH1cblxuICAgICAgICAvLyBjaGVjayBpZiBkb2N1bWVudCBpcyB3aXRoaW4gY2FjaGVUaW1lXG4gICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICAgICAgaWYgKCEhZG9jICYmIGRvYy50aW1lID49IChjdXJyZW50VGltZSAtICh0aGlzLmNvbmZpZy5jYWNoZVRpbWVJblNlY29uZHMgKiAxMDAwKSkpIHsgcmV0dXJuIG9mKGRvYyk7IH1cblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChbdGhpcy5yZXN0QVBJLmdldCh1cmwsIHBhcmFtcyksIHRoaXMuY29sbGVjdGlvbkFQSS5jb2xsZWN0aW9uJF0pLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoW3JlcywgY29sXSkgPT4gY29sLmF0b21pY1Vwc2VydCh7XG4gICAgICAgICAgICAgICAgdGVuYW50VXJsOiB0aGlzLmNvbGxlY3Rpb25BUEkubWFrZVRlbmFudFVybCh0ZW5hbnQsIHVybCksXG4gICAgICAgICAgICAgICAgbWF0Y2hVcmw6IHRoaXMuY29sbGVjdGlvbkFQSS5tYWtlVGVuYW50VXJsKHRlbmFudCwgdXJsKSxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgICAgICAgICB0aW1lOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgY2F0Y2hFcnJvcigoKSA9PiBvZihkb2MpKSxcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRSZWFjdGl2ZSh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMsIHdhaXQgPSBmYWxzZSk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb2xsZWN0aW9uQVBJLmdldCh0ZW5hbnQsIHVybCkucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGRvYyA9PiB3YWl0ID9cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkUmV0cmlldmUoZG9jLCB0ZW5hbnQsIHVybCwgcGFyYW1zKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZFJldHJpZXZlKGRvYywgdGVuYW50LCB1cmwsIHBhcmFtcykucGlwZShzdGFydFdpdGgobnVsbCkpXG4gICAgICAgICAgICApLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5jb2xsZWN0aW9uQVBJLmdldFJlYWN0aXZlKHRlbmFudCwgdXJsKSksXG5cbiAgICAgICAgICAgIGF1ZGl0VGltZSgxMDAwIC8gNjApLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0KHRlbmFudDogc3RyaW5nLCB1cmw6IHN0cmluZywgcGFyYW1zPzogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZWFjdGl2ZSh0ZW5hbnQsIHVybCwgcGFyYW1zLCB0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBMaXN0XG4gICAgLy8vLy8vLy8vLy8vLy9cblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgZG93bmxvYWRMaXN0KHJlczogQ29sbGVjdGlvbkxpc3RSZXNwb25zZTxUPiwgdGVuYW50OiBzdHJpbmcsIHVybDogc3RyaW5nLCBwYXJhbXM/OiBIdHRwUGFyYW1zLCBpbmRleGVkYlVybCA9IChkYXRhOiBULCB0ZW5hbnRVcmw6IHN0cmluZykgPT4gYCR7dGVuYW50VXJsfS8ke2RhdGEuaWR9YCk6IE9ic2VydmFibGU8TGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcblxuICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHJhZGl4XG4gICAgICAgIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQocGFyYW1zPy5nZXQoJ2xpbWl0JykgfHwgJzEwMCcpO1xuXG4gICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgLy8gRXhjbHVkZSByZWNlbnRzIG9yIGxvY2FsbHkgdW5zeW5jZWQgZGF0YSBpbiB0aGUgYXBpIHJlc3VsdHNcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIGNvbnN0IGlkcyA9IHJlcy5yZXN1bHRzXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgLmZpbHRlcih2ID0+IHYubWV0aG9kID09PSAnUFVUJyB8fCB2Lm1ldGhvZCA9PT0gJ0RFTEVURScgfHwgKHYubWV0aG9kID09PSAnR0VUJyAmJiB2LnRpbWUgPj0gKGN1cnJlbnRUaW1lIC0gKHRoaXMuY29uZmlnLmNhY2hlVGltZUluU2Vjb25kcyAqIDEwMDApKSkpXG4gICAgICAgICAgICAubWFwKHYgPT4gdi5kYXRhLmlkKTtcblxuICAgICAgICBpZiAoaWRzLmxlbmd0aCA9PT0gbGltaXQpIHtcblxuICAgICAgICAgICAgLy8gcGFzcyBpZiBhbGwgcmVzdWx0cyBhcmUgZXhjbHVkZWRcbiAgICAgICAgICAgIHJldHVybiBvZih7bmV4dDogcmVzLm5leHQsIHByZXZpb3VzOiByZXMucHJldmlvdXMsIHJlc3VsdHM6IC8qcmVzLnJlc3VsdHMubWFwKHIgPT4gci50b0pTT04oKS5kYXRhKSovIFtdfSk7XG4gICAgICAgIH1cblxuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgbmV3IEN1c3RvbUh0dHBQYXJhbXMoKTtcblxuICAgICAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgaWYgKHBhcmFtcy5oYXMoJ2V4Y2x1ZGU6aWQuaW4nKSkge1xuXG4gICAgICAgICAgICAgICAgcGFyYW1zLmRlbGV0ZSgnZXhjbHVkZTppZC5pbicpO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhcmFtcyA9IHBhcmFtcy5hcHBlbmQoJ2V4Y2x1ZGU6aWQuaW4nLCBpZHMuam9pbignLCcpKTtcblxuICAgICAgICAgICAgcGFyYW1zID0gcGFyYW1zLnNldCgnbGltaXQnLCAobGltaXQgLSBpZHMubGVuZ3RoKS50b1N0cmluZygpKTtcblxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdEFQSS5saXN0KHVybCwgcGFyYW1zKS5waXBlKFxuXG4gICAgICAgICAgICBjYXRjaEVycm9yKCgpID0+IG9mKHtuZXh0OiBudWxsLCBwcmV2aW91czogbnVsbCwgcmVzdWx0czogW119IGFzIExpc3RSZXNwb25zZTxUPikpLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAobmV0d29ya1JlcyA9PiB0aGlzLmNvbGxlY3Rpb25BUEkuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgICAgIHN3aXRjaE1hcChjb2wgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIG1hcCBuZXR3b3JrIGRhdGEgdG8gZG9jdHlwZVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdG9taWNXcml0ZXMgPSBuZXR3b3JrUmVzLnJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZGF0YSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbmFudFVybDogaW5kZXhlZGJVcmwoZGF0YSwgdGhpcy5jb2xsZWN0aW9uQVBJLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFVybDogaW5kZXhlZGJVcmwoZGF0YSwgdGhpcy5jb2xsZWN0aW9uQVBJLm1ha2VUZW5hbnRVcmwodGVuYW50LCB1cmwpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkgYXMgUHdhRG9jVHlwZTxUPltdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdG9taWNXcml0ZXMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShjb2wuYnVsa0luc2VydChhdG9taWNXcml0ZXMpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGFwKCgpID0+IHRoaXMuY29sbGVjdGlvbkFQSS50cmlnZ2VyQ2hhbmdlKCkpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFwKCgpID0+IG5ldHdvcmtSZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mKG5ldHdvcmtSZXMpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApKSxcblxuICAgICAgICApO1xuXG4gICAgfVxuXG4gICAgbGlzdFJlYWN0aXZlKFxuICAgICAgICB0ZW5hbnQ6IHN0cmluZyxcbiAgICAgICAgdXJsOiBzdHJpbmcsXG4gICAgICAgIHBhcmFtcz86IEh0dHBQYXJhbXMsXG4gICAgICAgIHZhbGlkUXVlcnlLZXlzID0gW10sXG4gICAgICAgIGluZGV4ZWRiVXJsID0gKGRhdGE6IFQsIHRlbmFudFVybDogc3RyaW5nKSA9PiBgJHt0ZW5hbnRVcmx9LyR7ZGF0YS5pZH1gLFxuICAgICAgICB3YWl0ID0gZmFsc2VcbiAgICApOiBPYnNlcnZhYmxlPFB3YUxpc3RSZXNwb25zZTxUPj4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbGxlY3Rpb25BUEkubGlzdCh0ZW5hbnQsIHVybCwgcGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cykucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGlkYlJlcyA9PiB3YWl0ID9cbiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkTGlzdChpZGJSZXMsIHRlbmFudCwgdXJsLCBwYXJhbXMsIGluZGV4ZWRiVXJsKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5kb3dubG9hZExpc3QoaWRiUmVzLCB0ZW5hbnQsIHVybCwgcGFyYW1zLCBpbmRleGVkYlVybCkucGlwZShzdGFydFdpdGgoe25leHQ6IG51bGwsIHByZXZpb3VzOiBudWxsLCByZXN1bHRzOiBbXX0pKSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgobmV0d29ya1JlcykgPT4gdGhpcy5jb2xsZWN0aW9uQVBJLmxpc3RSZWFjdGl2ZSh0ZW5hbnQsIHVybCwgcGFyYW1zLCB2YWxpZFF1ZXJ5S2V5cykucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcChyZXMgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogbmV0d29ya1Jlcz8ubmV4dCB8fCByZXMubmV4dCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXM6IG5ldHdvcmtSZXM/LnByZXZpb3VzIHx8IHJlcy5wcmV2aW91cyxcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0czogcmVzLnJlc3VsdHNcbiAgICAgICAgICAgICAgICB9KSksXG5cbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+O1xuXG4gICAgfVxuXG4gICAgbGlzdCh0ZW5hbnQ6IHN0cmluZywgdXJsOiBzdHJpbmcsIHBhcmFtcz86IEh0dHBQYXJhbXMsIHZhbGlkUXVlcnlLZXlzID0gW10sIGluZGV4ZWRiVXJsID0gKGRhdGE6IFQsIHRlbmFudFVybDogc3RyaW5nKSA9PiBgJHt0ZW5hbnRVcmx9LyR7ZGF0YS5pZH1gKTogT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5saXN0UmVhY3RpdmUodGVuYW50LCB1cmwsIHBhcmFtcywgdmFsaWRRdWVyeUtleXMsIGluZGV4ZWRiVXJsLCB0cnVlKS5waXBlKFxuXG4gICAgICAgICAgICB0YWtlKDEpXG4gICAgICAgICk7XG5cbiAgICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"collection.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/collection.resource.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,31],[18,0,0,40],[20,0,0,42],[33,0,0,55],[35,0,0,82],[41,0,0,88],[66,0,0,113],[67,0,0,114]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[29,0,1,29],[31,0,1,46],[51,0,1,66],[53,0,1,123],[59,0,1,129],[86,0,1,156],[87,0,1,157]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[18,0,2,18],[20,0,2,20],[23,0,2,23],[25,0,2,25],[35,0,2,35],[37,0,2,37],[48,0,2,48],[50,0,2,50],[53,0,2,53],[55,0,2,55],[63,0,2,63],[65,0,2,65],[74,0,2,74],[76,0,2,76],[80,0,2,80],[82,0,2,82],[91,0,2,91],[93,0,2,93],[100,0,2,100],[102,0,2,102],[108,0,2,108],[124,0,2,124],[125,0,2,125]],[[0,0,3,0],[7,0,3,7],[9,0,3,21],[11,0,3,23],[13,0,3,25],[17,0,3,29],[19,0,3,31],[29,0,3,41],[31,0,3,43],[44,0,3,56],[46,0,3,58],[52,0,3,64],[58,0,3,70],[59,0,3,71]],[[0,0,5,0],[7,0,5,7],[9,0,5,9],[20,0,5,20],[22,0,5,22],[28,0,5,28],[48,0,5,48],[49,0,5,49]],[[0,0,8,0],[7,0,8,7],[9,0,8,9],[18,0,8,18],[20,0,8,20],[26,0,8,26],[48,0,8,48],[49,0,8,49]],[[0,0,12,0],[7,0,12,7],[9,0,12,9],[25,0,12,25],[27,0,12,27],[33,0,12,33],[58,0,12,58],[59,0,12,59]],[[0,0,42,0],[6,0,42,6],[13,0,42,13],[20,0,42,20]],[[4,0,46,4],[16,0,46,24],[22,0,46,46]],[[8,0,46,24],[19,0,46,30],[22,0,46,24],[28,0,46,30],[29,0,46,46]],[[8,0,44,12],[18,0,44,17],[21,0,44,78],[25,0,44,82],[28,0,44,85],[30,0,44,87],[31,0,44,88]],[[4,0,46,49],[5,0,46,50]],[[4,0,52,4],[7,0,52,7],[8,0,52,8],[11,0,52,19],[13,0,52,21],[19,0,52,40]],[[8,0,54,8],[14,0,54,14],[23,0,54,23],[26,0,54,26],[32,0,54,32],[34,0,54,34],[38,0,54,38],[40,0,54,40],[41,0,54,41],[44,0,54,44],[45,0,54,45],[46,0,54,46],[47,0,54,47],[49,0,54,49],[50,0,54,50],[53,0,54,53],[54,0,54,54],[58,0,54,58],[64,0,54,64],[65,0,54,65],[71,0,54,71],[72,0,54,72],[73,0,54,73],[74,0,54,74],[75,0,54,75],[79,0,54,79],[80,0,54,80],[83,0,54,83],[84,0,54,84],[86,0,54,86],[87,0,54,87],[88,0,54,88],[92,0,54,92],[93,0,54,93],[96,0,54,96],[97,0,54,97],[98,0,54,98]],[[8,0,56,8],[14,0,56,14],[22,0,56,22],[25,0,56,25],[28,0,56,28],[31,0,56,31],[34,0,56,34],[43,0,56,43],[44,0,56,44],[45,0,56,45],[46,0,56,46],[49,0,56,49],[52,0,56,52],[61,0,56,61],[62,0,56,62],[63,0,56,63],[64,0,56,64],[66,0,56,66],[68,0,56,68],[69,0,56,69]],[[8,0,58,8],[14,0,58,14],[17,0,58,17],[20,0,58,20],[22,0,58,22],[23,0,58,23],[27,0,58,27],[28,0,58,28],[29,0,58,29],[33,0,58,33],[34,0,60,12],[37,0,60,15],[38,0,60,16],[41,0,60,19],[43,0,60,21],[46,0,60,24],[50,0,60,28],[51,0,60,29],[52,0,60,30],[56,0,60,34],[57,0,60,35],[63,0,60,41],[64,0,60,42],[75,0,60,53],[77,0,60,55]],[[12,0,60,57],[16,0,60,61],[17,0,60,62],[23,0,60,68],[24,0,60,69],[35,0,60,80],[36,0,60,81],[39,0,60,84],[41,0,60,86],[42,0,60,87]],[[9,0,60,89],[10,0,60,90],[11,0,60,91],[12,0,60,92],[14,0,62,12],[23,0,62,21],[24,0,62,22],[27,0,62,25],[29,0,62,27],[30,0,62,28],[34,0,62,32],[35,0,62,33],[41,0,62,39],[42,0,62,40],[52,0,62,50],[53,0,62,51],[56,0,62,54],[57,0,62,55],[65,0,62,63],[66,0,62,64],[67,0,62,65],[69,0,64,12],[76,0,64,19],[77,0,64,20],[81,0,64,24],[82,0,64,25],[84,0,66,12],[92,0,66,20],[93,0,66,21],[96,0,66,24],[98,0,66,26]],[[12,0,68,16],[16,0,68,20],[17,0,68,21],[18,0,68,22],[22,0,68,26],[23,0,68,27],[29,0,68,33],[30,0,68,34],[41,0,68,45],[43,0,68,47]],[[16,0,68,49],[20,0,68,53],[21,0,68,54],[27,0,68,60],[28,0,68,61],[39,0,68,72],[40,0,68,73],[46,0,68,79],[48,0,68,81],[49,0,68,82]],[[13,0,68,84]],[[12,0,70,16],[16,0,70,20],[20,0,70,24],[21,0,70,25],[26,0,70,30],[27,0,70,31],[30,0,70,34],[31,0,70,35],[39,0,70,43],[40,0,70,44],[42,0,70,46]],[[16,0,70,48],[20,0,70,52],[21,0,70,53],[26,0,70,58],[27,0,70,59],[33,0,70,65],[34,0,70,66],[42,0,70,74],[43,0,70,75],[44,0,70,76]],[[13,0,70,78]],[[8,0,72,12],[9,0,72,13],[10,0,72,14],[12,0,74,12],[23,0,74,23],[24,0,74,24],[25,0,74,25],[26,0,74,26],[27,0,76,26],[28,0,76,27]],[[8,0,78,8],[12,0,78,12],[13,0,78,13],[17,0,78,17],[18,0,78,18],[23,0,78,23],[24,0,78,24],[27,0,78,27],[28,0,78,28],[36,0,78,36],[37,0,78,37],[39,0,78,39]],[[12,0,78,41],[16,0,78,45],[17,0,78,46],[22,0,78,51],[23,0,78,52],[26,0,78,55],[27,0,78,56],[35,0,78,64],[37,0,78,66],[40,0,78,69],[41,0,78,70],[42,0,78,71]],[[9,0,78,73]],[[8,0,80,8],[15,0,80,15],[19,0,80,19],[20,0,80,20],[25,0,80,25],[26,0,80,26],[29,0,80,29],[30,0,80,30],[38,0,80,38],[39,0,80,56],[40,0,80,57]],[[4,0,81,4],[5,0,81,5]],[[4,0,83,4],[8,0,83,8],[9,0,83,9],[12,0,83,20],[14,0,83,22],[18,0,83,49]],[[8,0,85,8],[14,0,85,14],[22,0,85,22],[25,0,85,25],[28,0,85,28],[29,0,85,29]],[[8,0,87,8],[14,0,87,14],[17,0,87,17],[20,0,87,20],[22,0,87,22],[23,0,87,23],[27,0,87,27],[28,0,87,28],[29,0,87,29],[33,0,87,33],[34,0,89,12],[37,0,89,15],[38,0,89,16],[41,0,89,19],[43,0,89,21],[46,0,89,24],[50,0,89,28],[51,0,89,29],[52,0,89,30],[56,0,89,34],[57,0,89,35],[63,0,89,41],[64,0,89,42],[75,0,89,53],[77,0,89,55]],[[12,0,89,57],[16,0,89,61],[17,0,89,62],[23,0,89,68],[24,0,89,69],[35,0,89,80],[36,0,89,81],[39,0,89,84],[41,0,89,86],[42,0,89,87]],[[9,0,89,89],[10,0,89,90],[11,0,89,91],[12,0,89,92],[14,0,91,12],[23,0,91,21],[24,0,91,22],[27,0,91,25],[29,0,91,27],[30,0,91,28],[34,0,91,32],[35,0,91,33],[41,0,91,39],[42,0,91,40],[52,0,91,50],[53,0,91,51],[57,0,91,55],[58,0,91,56],[61,0,91,59],[63,0,91,61],[67,0,91,65],[68,0,91,66],[69,0,91,67],[71,0,93,12],[79,0,93,20],[80,0,93,21],[83,0,93,24],[85,0,93,26]],[[12,0,95,16],[16,0,95,20],[17,0,95,21],[18,0,95,22],[22,0,95,26],[23,0,95,27],[29,0,95,33],[30,0,95,34],[41,0,95,45],[43,0,95,47]],[[16,0,95,49],[20,0,95,53],[21,0,95,54],[27,0,95,60],[28,0,95,61],[39,0,95,72],[40,0,95,73],[46,0,95,79],[48,0,95,81],[49,0,95,82]],[[13,0,95,84]],[[12,0,97,16],[16,0,97,20],[20,0,97,24],[21,0,97,25],[26,0,97,30],[27,0,97,31],[30,0,97,34],[31,0,97,35],[39,0,97,43],[40,0,97,44],[42,0,97,46]],[[16,0,97,48],[20,0,97,52],[21,0,97,53],[26,0,97,58],[27,0,97,59],[33,0,97,65],[34,0,97,66],[42,0,97,74],[43,0,97,75],[44,0,97,76]],[[13,0,97,78]],[[8,0,98,12],[9,0,98,13],[10,0,98,14],[12,0,100,12],[23,0,100,23],[24,0,100,24],[25,0,100,25],[26,0,100,26],[27,0,102,27],[28,0,102,28]],[[8,0,104,8],[12,0,104,12],[13,0,104,13],[17,0,104,17],[18,0,104,18],[23,0,104,23],[24,0,104,24],[27,0,104,27],[28,0,104,28],[36,0,104,36],[37,0,104,37],[39,0,104,39]],[[12,0,104,41],[16,0,104,45],[17,0,104,46],[22,0,104,51],[23,0,104,52],[26,0,104,55],[27,0,104,56],[35,0,104,64],[37,0,104,66],[40,0,104,69],[41,0,104,70],[42,0,104,71]],[[9,0,104,73]],[[8,0,106,8],[15,0,106,15],[19,0,106,19],[20,0,106,20],[25,0,106,25],[26,0,106,26],[29,0,106,29],[30,0,106,30],[38,0,106,38],[39,0,106,56],[40,0,106,57]],[[4,0,107,4],[5,0,107,5]],[[4,0,109,4],[7,0,109,7],[8,0,109,8],[11,0,109,19],[13,0,109,21],[17,0,109,48]],[[8,0,111,8],[14,0,111,14],[22,0,111,22],[25,0,111,25],[28,0,111,28],[29,0,111,29]],[[8,0,113,8],[14,0,113,14],[17,0,113,17],[20,0,113,20],[22,0,113,22],[23,0,113,23],[27,0,113,27],[28,0,113,28],[29,0,113,29],[33,0,113,33],[34,0,115,12],[37,0,115,15],[38,0,115,16],[41,0,115,19],[43,0,115,21],[46,0,115,24],[50,0,115,28],[51,0,115,29],[52,0,115,30],[56,0,115,34],[57,0,115,35],[63,0,115,41],[64,0,115,42],[75,0,115,53],[77,0,115,55]],[[12,0,115,57],[16,0,115,61],[17,0,115,62],[23,0,115,68],[24,0,115,69],[35,0,115,80],[36,0,115,81],[39,0,115,84],[41,0,115,86],[42,0,115,87]],[[9,0,115,89],[10,0,115,90],[11,0,115,91],[12,0,115,92],[14,0,117,12],[23,0,117,21],[24,0,117,22],[27,0,117,25],[29,0,117,27],[30,0,117,28],[34,0,117,32],[35,0,117,33],[41,0,117,39],[42,0,117,40],[52,0,117,50],[53,0,117,51],[56,0,117,54],[57,0,117,55],[60,0,117,58],[62,0,117,60],[66,0,117,64],[67,0,117,65],[68,0,117,66],[70,0,119,12],[78,0,119,20],[79,0,119,21],[82,0,119,24],[84,0,119,26]],[[12,0,121,16],[16,0,121,20],[17,0,121,21],[18,0,121,22],[22,0,121,26],[23,0,121,27],[29,0,121,33],[30,0,121,34],[41,0,121,45],[43,0,121,47]],[[16,0,121,49],[20,0,121,53],[21,0,121,54],[27,0,121,60],[28,0,121,61],[39,0,121,72],[40,0,121,73],[46,0,121,79],[48,0,121,81],[49,0,121,82]],[[13,0,121,84]],[[12,0,123,16],[16,0,123,20],[20,0,123,24],[21,0,123,25],[26,0,123,30],[27,0,123,31],[30,0,123,34],[31,0,123,35],[39,0,123,43],[40,0,123,44],[42,0,123,46]],[[16,0,123,48],[20,0,123,52],[21,0,123,53],[26,0,123,58],[27,0,123,59],[33,0,123,65],[34,0,123,66],[42,0,123,74],[43,0,123,75],[44,0,123,76]],[[13,0,123,78]],[[8,0,124,12],[9,0,124,13],[10,0,124,14],[12,0,126,12],[23,0,126,23],[24,0,126,24],[25,0,126,25],[26,0,126,26],[27,0,128,26],[28,0,128,27]],[[8,0,130,8],[12,0,130,12],[13,0,130,13],[17,0,130,17],[18,0,130,18],[23,0,130,23],[24,0,130,24],[27,0,130,27],[28,0,130,28],[36,0,130,36],[37,0,130,37],[39,0,130,39]],[[12,0,130,41],[16,0,130,45],[17,0,130,46],[22,0,130,51],[23,0,130,52],[26,0,130,55],[27,0,130,56],[35,0,130,64],[37,0,130,66],[40,0,130,69],[41,0,130,70],[42,0,130,71]],[[9,0,130,73]],[[8,0,132,8],[15,0,132,15],[19,0,132,19],[20,0,132,20],[25,0,132,25],[26,0,132,26],[29,0,132,29],[30,0,132,30],[38,0,132,38],[39,0,132,56],[40,0,132,57]],[[4,0,133,4],[5,0,133,5]],[[4,0,135,4],[8,0,135,8],[9,0,135,9],[12,0,135,20],[14,0,135,22],[20,0,135,41]],[[8,0,137,8],[14,0,137,14],[23,0,137,23],[26,0,137,26],[32,0,137,32],[34,0,137,34],[38,0,137,38],[40,0,137,40],[41,0,137,41],[44,0,137,44],[45,0,137,45],[46,0,137,46],[47,0,137,47],[49,0,137,49],[50,0,137,50],[53,0,137,53],[54,0,137,54],[58,0,137,58],[64,0,137,64],[65,0,137,65],[71,0,137,71],[72,0,137,72],[73,0,137,73],[74,0,137,74],[75,0,137,75],[79,0,137,79],[80,0,137,80],[83,0,137,83],[84,0,137,84],[86,0,137,86],[87,0,137,87],[88,0,137,88],[92,0,137,92],[93,0,137,93],[96,0,137,96],[97,0,137,97],[98,0,137,98]],[[8,0,139,8],[14,0,139,14],[22,0,139,22],[25,0,139,25],[28,0,139,28],[31,0,139,31],[34,0,139,34],[43,0,139,43],[44,0,139,44],[45,0,139,45],[46,0,139,46],[49,0,139,49],[52,0,139,52],[61,0,139,61],[62,0,139,62],[63,0,139,63],[64,0,139,64],[66,0,139,66],[68,0,139,68],[69,0,139,69]],[[8,0,141,8],[14,0,141,14],[17,0,141,17],[20,0,141,20],[22,0,141,22],[23,0,141,23],[27,0,141,27],[28,0,141,28],[29,0,141,29],[33,0,141,33],[34,0,143,12],[37,0,143,15],[38,0,143,16],[41,0,143,19],[43,0,143,21],[46,0,143,24],[50,0,143,28],[51,0,143,29],[52,0,143,30],[56,0,143,34],[57,0,143,35],[63,0,143,41],[64,0,143,42],[75,0,143,53],[77,0,143,55]],[[12,0,143,57],[16,0,143,61],[17,0,143,62],[23,0,143,68],[24,0,143,69],[35,0,143,80],[36,0,143,81],[39,0,143,84],[41,0,143,86],[42,0,143,87]],[[9,0,143,89],[10,0,143,90],[11,0,143,91],[12,0,143,92],[14,0,145,12],[23,0,145,21],[24,0,145,22],[27,0,145,25],[29,0,145,27],[30,0,145,28],[34,0,145,32],[35,0,145,33],[41,0,145,39],[42,0,145,40],[52,0,145,50],[53,0,145,51],[56,0,145,54],[57,0,145,55],[65,0,145,63],[66,0,145,64],[67,0,145,65],[69,0,147,12],[76,0,147,19],[77,0,147,20],[81,0,147,24],[82,0,147,25],[84,0,149,12],[92,0,149,20],[93,0,149,21],[96,0,149,24],[98,0,149,26]],[[12,0,151,16],[16,0,151,20],[17,0,151,21],[18,0,151,22],[22,0,151,26],[23,0,151,27],[29,0,151,33],[30,0,151,34],[41,0,151,45],[43,0,151,47]],[[16,0,151,49],[20,0,151,53],[21,0,151,54],[27,0,151,60],[28,0,151,61],[39,0,151,72],[40,0,151,73],[46,0,151,79],[48,0,151,81],[49,0,151,82]],[[13,0,151,84]],[[12,0,153,16],[16,0,153,20],[20,0,153,24],[21,0,153,25],[26,0,153,30],[27,0,153,31],[30,0,153,34],[31,0,153,35],[39,0,153,43],[40,0,153,44],[42,0,153,46]],[[16,0,153,48],[20,0,153,52],[21,0,153,53],[26,0,153,58],[27,0,153,59],[33,0,153,65],[34,0,153,66],[42,0,153,74],[43,0,153,75],[44,0,153,76]],[[13,0,153,78]],[[8,0,154,12],[9,0,154,13],[10,0,154,14],[12,0,156,12],[23,0,156,23],[24,0,156,24],[25,0,156,25],[26,0,156,26],[27,0,158,40],[28,0,158,41]],[[8,0,160,8],[12,0,160,12],[13,0,160,13],[17,0,160,17],[18,0,160,18],[23,0,160,23],[24,0,160,24],[27,0,160,27],[28,0,160,28],[36,0,160,36],[37,0,160,37],[39,0,160,39]],[[12,0,160,41],[16,0,160,45],[17,0,160,46],[22,0,160,51],[23,0,160,52],[26,0,160,55],[27,0,160,56],[35,0,160,64],[37,0,160,66],[40,0,160,69],[41,0,160,70],[42,0,160,71]],[[9,0,160,73]],[[8,0,162,8],[15,0,162,15],[19,0,162,19],[20,0,162,20],[25,0,162,25],[26,0,162,26],[29,0,162,29],[30,0,162,30],[38,0,162,38],[39,0,162,70],[40,0,162,71]],[[4,0,163,4],[5,0,163,5]],[[4,0,165,4],[10,0,165,10],[11,0,165,11],[14,0,165,22]],[[8,0,167,8],[14,0,167,14],[22,0,167,22],[25,0,167,25],[28,0,167,28],[29,0,167,29]],[[8,0,169,8],[14,0,169,14],[17,0,169,17],[20,0,169,20],[22,0,169,22],[23,0,169,23],[27,0,169,27],[28,0,169,28],[29,0,169,29],[33,0,169,33],[34,0,171,12],[37,0,171,15],[38,0,171,16],[41,0,171,19],[43,0,171,21],[46,0,171,24],[50,0,171,28],[51,0,171,29],[52,0,171,30],[56,0,171,34],[57,0,171,35],[63,0,171,41],[64,0,171,42],[75,0,171,53],[77,0,171,55]],[[12,0,171,57],[16,0,171,61],[17,0,171,62],[23,0,171,68],[24,0,171,69],[35,0,171,80],[36,0,171,81],[39,0,171,84],[41,0,171,86],[42,0,171,87]],[[9,0,171,89],[10,0,171,90],[11,0,171,91],[12,0,171,92],[14,0,173,12],[23,0,173,21],[24,0,173,22],[27,0,173,25],[29,0,173,27],[30,0,173,28],[34,0,173,32],[35,0,173,33],[41,0,173,39],[42,0,173,40],[52,0,173,50],[53,0,173,51],[59,0,173,57],[60,0,173,58],[63,0,173,61],[64,0,173,62],[65,0,173,63],[67,0,175,12],[75,0,175,20],[76,0,175,21],[79,0,175,24],[81,0,175,26]],[[12,0,177,16],[16,0,177,20],[17,0,177,21],[18,0,177,22],[22,0,177,26],[23,0,177,27],[29,0,177,33],[30,0,177,34],[41,0,177,45],[43,0,177,47]],[[16,0,177,49],[20,0,177,53],[21,0,177,54],[27,0,177,60],[28,0,177,61],[39,0,177,72],[40,0,177,73],[46,0,177,79],[48,0,177,81],[49,0,177,82]],[[13,0,177,84]],[[12,0,179,16],[16,0,179,20],[20,0,179,24],[21,0,179,25],[26,0,179,30],[27,0,179,31],[30,0,179,34],[31,0,179,35],[39,0,179,43],[40,0,179,44],[42,0,179,46]],[[16,0,179,48],[20,0,179,52],[21,0,179,53],[26,0,179,58],[27,0,179,59],[33,0,179,65],[34,0,179,66],[42,0,179,74],[43,0,179,75],[44,0,179,76]],[[13,0,179,78]],[[8,0,180,12],[9,0,180,13],[10,0,180,14],[12,0,182,12],[23,0,182,23],[24,0,182,24],[25,0,182,25],[26,0,182,26],[27,0,184,28],[28,0,184,29]],[[8,0,186,8],[12,0,186,12],[13,0,186,13],[17,0,186,17],[18,0,186,18],[23,0,186,23],[24,0,186,24],[27,0,186,27],[28,0,186,28],[36,0,186,36],[37,0,186,37],[39,0,186,39]],[[12,0,186,41],[16,0,186,45],[17,0,186,46],[22,0,186,51],[23,0,186,52],[26,0,186,55],[27,0,186,56],[35,0,186,64],[37,0,186,66],[40,0,186,69],[41,0,186,70],[42,0,186,71]],[[9,0,186,73]],[[8,0,188,8],[15,0,188,15],[19,0,188,19],[20,0,188,20],[25,0,188,25],[26,0,188,26],[29,0,188,29],[30,0,188,30],[38,0,188,38],[39,0,188,39],[40,0,188,40]],[[4,0,189,4],[5,0,189,5]],[[1,0,190,1]],[[0,0,193,0],[6,0,193,6],[13,0,193,13],[26,0,193,26]],[[4,0,212,4],[16,0,212,24],[23,0,212,72]],[[8,0,212,24],[20,0,212,31],[23,0,212,24],[30,0,212,31],[31,0,212,72]],[[8,0,195,12],[19,0,195,18],[22,0,195,53]],[[12,0,196,8],[16,0,196,12],[18,0,196,14],[42,0,196,38]],[[12,0,197,8],[15,0,197,11],[17,0,197,13],[19,0,197,15],[21,0,197,17]],[[12,0,198,8],[32,0,198,28],[34,0,198,30],[36,0,198,32],[37,0,198,33],[42,0,198,38],[43,0,198,39]],[[12,0,199,8],[36,0,199,32],[38,0,199,34],[40,0,199,36],[41,0,199,37],[44,0,199,40],[45,0,199,41]],[[12,0,200,8],[23,0,200,19],[25,0,200,21],[27,0,200,23]],[[12,0,201,8],[19,0,201,15],[21,0,201,17],[23,0,201,19]],[[12,0,202,8],[31,0,202,27],[33,0,202,29],[35,0,202,31]],[[12,0,203,8],[23,0,203,19],[25,0,203,21],[29,0,203,25]],[[12,0,204,8],[18,0,204,14],[20,0,204,16],[24,0,204,20]],[[9,0,205,5],[10,0,205,6]],[[8,0,210,12],[18,0,210,17],[21,0,210,20],[25,0,210,24],[28,0,210,27],[30,0,210,29],[31,0,210,30]],[[8,0,214,8],[12,0,214,12],[13,0,214,13],[19,0,214,19],[22,0,214,22]],[[12,0,215,12],[15,0,215,15],[19,0,215,19],[20,0,215,20],[26,0,215,26]],[[12,0,216,12],[15,0,216,15],[19,0,216,19],[20,0,216,20],[27,0,216,27]],[[9,0,217,9],[10,0,217,10]],[[4,0,218,4],[5,0,218,5]],[[4,0,220,4],[8,0,220,8],[19,0,220,19]],[[8,0,222,8],[12,0,222,12],[16,0,222,16],[17,0,222,17],[29,0,222,29],[31,0,222,31]],[[12,0,222,33],[19,0,222,40],[23,0,222,44],[24,0,222,45],[36,0,222,57],[37,0,222,58]],[[9,0,222,60]],[[8,0,224,8],[14,0,224,14],[30,0,224,30],[33,0,224,33],[35,0,224,35],[36,0,224,36]],[[8,0,226,8],[24,0,226,24],[25,0,226,25],[29,0,226,29],[30,0,226,30],[36,0,226,36],[37,0,226,37],[41,0,226,41],[42,0,226,42],[45,0,226,45],[65,0,226,65],[66,0,227,12],[70,0,227,16],[71,0,227,17],[77,0,227,23],[78,0,227,24],[82,0,227,28],[84,0,228,12],[104,0,228,32],[106,0,229,12],[119,0,229,25],[121,0,230,12],[125,0,230,16],[126,0,230,17],[132,0,230,23],[133,0,230,24],[144,0,230,35],[146,0,231,12],[150,0,231,16],[151,0,231,17],[157,0,231,23],[158,0,231,24],[165,0,231,31],[167,0,232,12],[171,0,232,16],[172,0,232,17],[178,0,232,23],[179,0,232,24],[198,0,232,43],[200,0,233,12],[204,0,233,16],[205,0,233,17],[211,0,233,23],[212,0,233,24],[223,0,233,35],[224,0,234,9],[225,0,234,10]],[[8,0,236,8],[12,0,236,12],[13,0,236,13],[25,0,236,25],[28,0,236,28],[32,0,236,32],[33,0,236,33],[39,0,236,39],[40,0,236,40],[43,0,236,43],[44,0,236,44],[48,0,236,48],[49,0,238,12],[58,0,238,21],[59,0,238,22],[61,0,238,24],[62,0,238,25],[64,0,238,27]],[[12,0,240,16],[16,0,240,20],[20,0,240,24],[21,0,240,25],[27,0,240,31],[28,0,240,32],[32,0,240,36],[36,0,240,40],[38,0,240,42],[40,0,240,44]],[[16,0,240,46],[23,0,240,53],[25,0,240,55],[26,0,240,56],[28,0,240,58],[29,0,240,59],[33,0,240,63],[34,0,240,64],[40,0,240,70],[41,0,240,71],[45,0,240,75],[46,0,240,76],[47,0,240,77],[48,0,240,78]],[[13,0,240,80]],[[12,0,242,16],[19,0,242,23],[32,0,242,36],[33,0,242,37]],[[16,0,243,20],[20,0,243,24],[21,0,243,25],[23,0,243,27],[24,0,243,28],[38,0,243,42],[39,0,243,43],[55,0,243,102],[56,0,243,103],[57,0,243,104]],[[16,0,244,20],[20,0,244,24],[21,0,244,25],[27,0,244,31],[28,0,244,32],[48,0,244,52]],[[16,0,245,20],[20,0,245,24],[21,0,245,25],[27,0,245,31],[28,0,245,32],[52,0,245,56]],[[13,0,246,17],[14,0,246,18],[15,0,246,19],[19,0,246,23],[20,0,248,20],[24,0,248,24],[25,0,248,25],[26,0,248,26],[27,0,248,27],[29,0,250,20],[38,0,250,29],[39,0,250,30],[40,0,250,31],[41,0,250,32],[52,0,250,43],[54,0,250,45],[73,0,250,64],[75,0,250,66],[98,0,250,89],[99,0,250,90],[101,0,250,92],[103,0,250,94]],[[16,0,252,24],[20,0,252,28],[24,0,252,32],[25,0,252,33],[31,0,252,39],[32,0,252,40],[50,0,252,58],[52,0,252,60]],[[20,0,254,28],[26,0,254,34],[30,0,254,38],[33,0,254,61]],[[24,0,255,32],[26,0,255,34],[28,0,255,36],[30,0,255,38],[31,0,255,39],[35,0,255,43],[38,0,255,46],[41,0,255,49],[44,0,255,52],[48,0,255,56],[49,0,255,57],[55,0,255,63],[56,0,255,64],[60,0,255,68]],[[24,0,256,32],[39,0,256,47],[41,0,256,49],[45,0,256,53],[46,0,256,54],[55,0,256,63],[56,0,256,64]],[[28,0,257,36],[32,0,257,40],[34,0,257,42],[36,0,257,44],[37,0,257,45],[41,0,257,49]],[[28,0,258,36],[39,0,258,47],[41,0,258,49],[43,0,258,51],[44,0,258,52],[55,0,258,63]],[[28,0,259,36],[41,0,259,49],[43,0,259,51],[45,0,259,53],[46,0,259,54],[59,0,259,67]],[[28,0,260,36],[35,0,260,43],[37,0,260,45],[39,0,260,47],[40,0,260,48],[47,0,260,55]],[[28,0,261,36],[36,0,261,44],[38,0,261,46],[40,0,261,48],[41,0,261,49],[49,0,261,57]],[[25,0,262,33],[26,0,262,34]],[[24,0,263,32],[43,0,263,51]],[[24,0,264,32],[47,0,264,55]],[[24,0,265,32],[38,0,265,46],[40,0,265,48],[44,0,265,52],[45,0,265,53],[51,0,265,59],[52,0,265,60],[56,0,265,64]],[[24,0,266,32],[41,0,266,49],[43,0,266,51],[47,0,266,55],[48,0,266,56],[57,0,266,65],[58,0,266,66]],[[28,0,267,36],[32,0,267,40],[34,0,267,42],[38,0,267,46],[39,0,267,47],[45,0,267,53],[46,0,267,54],[50,0,267,58]],[[28,0,268,36],[34,0,268,42],[36,0,268,44],[45,0,268,53],[46,0,268,54],[50,0,268,58],[51,0,268,59],[57,0,268,65],[58,0,268,66],[62,0,268,70],[63,0,268,71]],[[28,0,269,36],[39,0,269,47],[41,0,269,49],[52,0,269,60],[53,0,269,61],[57,0,269,65],[58,0,269,66],[64,0,269,72],[65,0,269,73],[69,0,269,77],[70,0,269,78],[71,0,269,79],[82,0,269,90]],[[28,0,270,36],[39,0,270,47],[41,0,270,49],[45,0,270,53]],[[28,0,271,36],[50,0,271,58],[52,0,271,60],[63,0,271,71],[64,0,271,72],[68,0,271,76],[69,0,271,77],[75,0,271,83],[76,0,271,84],[80,0,271,88],[81,0,271,89],[82,0,271,90],[104,0,271,112]],[[28,0,272,36],[35,0,272,43],[37,0,272,45],[48,0,272,56],[49,0,272,57],[53,0,272,61],[54,0,272,62],[60,0,272,68],[61,0,272,69],[65,0,272,73],[66,0,272,74],[67,0,272,75],[74,0,272,82]],[[28,0,273,36],[47,0,273,55],[49,0,273,57],[60,0,273,68],[61,0,273,69],[65,0,273,73],[66,0,273,74],[72,0,273,80],[73,0,273,81],[77,0,273,85],[78,0,273,86],[79,0,273,87],[98,0,273,106]],[[28,0,274,36],[35,0,274,43],[37,0,274,45],[48,0,274,56],[49,0,274,57],[53,0,274,61],[54,0,274,62],[60,0,274,68],[61,0,274,69],[65,0,274,73],[66,0,274,74],[67,0,274,75],[74,0,274,82]],[[28,0,275,36],[35,0,275,43],[37,0,275,45],[48,0,275,56],[49,0,275,57],[53,0,275,61],[54,0,275,62],[60,0,275,68],[61,0,275,69],[65,0,275,73],[66,0,275,74],[67,0,275,75],[74,0,275,82]],[[25,0,276,33],[26,0,276,34]],[[21,0,277,29],[22,0,277,30]],[[20,0,280,28],[27,0,280,35],[31,0,280,39],[32,0,280,40],[38,0,280,46],[39,0,280,47],[57,0,280,65],[58,0,280,66],[80,0,280,88],[81,0,280,89],[85,0,280,93],[86,0,280,94],[87,0,280,95],[91,0,280,99],[92,0,282,32],[95,0,282,35],[96,0,282,36],[99,0,282,39],[101,0,282,41],[102,0,282,42],[113,0,282,53],[114,0,282,54],[118,0,282,58],[119,0,282,59],[125,0,282,65],[126,0,282,66],[130,0,282,70],[131,0,282,91],[132,0,282,92],[133,0,283,29],[134,0,283,30]],[[17,0,285,25]],[[21,0,285,31]],[[20,0,287,28],[27,0,287,35],[29,0,287,37],[30,0,287,38],[41,0,287,49],[42,0,287,50],[43,0,287,51],[47,0,287,55],[48,0,289,32],[51,0,289,35],[52,0,289,36],[55,0,289,39],[57,0,289,41],[58,0,289,42],[69,0,289,53],[70,0,289,54],[74,0,289,58],[75,0,289,59],[81,0,289,65],[82,0,289,66],[86,0,289,70],[87,0,289,91],[88,0,289,92],[89,0,290,29],[90,0,290,30]],[[17,0,291,25]],[[12,0,293,20],[13,0,293,21],[14,0,293,22],[15,0,294,17],[16,0,294,18]],[[8,0,295,12],[9,0,295,13],[10,0,295,14],[12,0,297,12],[15,0,297,15],[16,0,297,16],[19,0,297,19],[20,0,297,20],[22,0,297,22],[23,0,297,23],[26,0,297,26],[27,0,297,27],[34,0,297,34],[35,0,297,35],[36,0,297,36],[45,0,297,45],[47,0,297,47],[57,0,297,57],[59,0,297,59],[61,0,297,61]],[[12,0,301,16],[21,0,301,25],[22,0,301,26],[31,0,301,35],[34,0,301,38],[43,0,301,47],[44,0,301,48],[53,0,301,57],[57,0,301,61],[61,0,301,65],[65,0,301,69],[67,0,301,71],[68,0,301,72],[75,0,301,79],[77,0,301,81],[78,0,301,82]],[[12,0,302,16],[21,0,302,25],[22,0,302,26],[31,0,302,35],[34,0,302,38],[38,0,302,42],[42,0,302,46],[44,0,302,48],[45,0,302,49],[52,0,302,56],[54,0,302,58],[55,0,302,59]],[[8,0,304,12],[9,0,304,13],[11,0,304,15],[16,0,304,20],[17,0,304,21],[18,0,304,22],[20,0,306,12],[31,0,306,23],[32,0,306,24],[33,0,306,25],[34,0,306,26],[36,0,308,12],[40,0,308,16],[41,0,308,17],[42,0,308,18],[43,0,308,19],[44,0,309,9],[45,0,309,10]],[[8,0,311,8],[15,0,311,15],[19,0,311,19],[20,0,311,20],[32,0,311,32],[33,0,311,33]],[[4,0,312,4],[5,0,312,5]],[[4,0,314,4],[17,0,314,17],[18,0,314,18],[24,0,314,32],[26,0,314,34],[29,0,314,45]],[[8,0,316,8],[15,0,316,15],[18,0,316,18],[24,0,316,24],[31,0,316,31],[34,0,316,34],[36,0,316,36],[37,0,316,37]],[[4,0,317,4],[5,0,317,5]],[[4,0,319,4],[14,0,319,14],[15,0,320,8],[19,0,320,42],[21,0,321,8],[24,0,321,19],[26,0,322,8],[32,0,322,27],[34,0,323,8],[48,0,323,22],[51,0,323,25],[53,0,323,27]],[[8,0,326,8],[15,0,326,15],[19,0,326,19],[20,0,326,20],[24,0,326,24],[25,0,330,12],[28,0,330,15],[29,0,330,16],[36,0,330,23],[37,0,330,24],[39,0,330,26],[40,0,330,27],[51,0,330,38],[52,0,330,39],[66,0,330,53],[68,0,330,55],[74,0,330,61],[76,0,330,63],[83,0,330,70],[84,0,330,71],[85,0,330,72],[87,0,332,12],[90,0,332,15],[91,0,332,16],[98,0,332,23],[99,0,332,24],[101,0,332,26]],[[12,0,335,16],[18,0,335,22],[23,0,335,27],[26,0,335,30],[34,0,335,38],[35,0,335,39],[41,0,335,45],[43,0,335,47],[46,0,335,50],[47,0,335,51],[55,0,335,59],[56,0,335,60],[60,0,335,64],[63,0,335,67],[64,0,335,68],[65,0,335,69]],[[12,0,338,16],[18,0,338,22],[21,0,338,25],[24,0,338,28],[29,0,338,33],[32,0,338,36],[40,0,338,44],[41,0,338,45],[47,0,338,51],[49,0,338,53],[52,0,338,56],[53,0,338,57],[60,0,338,64],[61,0,338,65],[65,0,338,69],[70,0,338,74],[71,0,338,75],[72,0,338,76]],[[12,0,340,16],[18,0,340,22],[22,0,340,26],[25,0,340,29],[32,0,340,36],[33,0,340,37],[39,0,340,43],[42,0,340,46],[45,0,340,49],[48,0,340,52],[49,0,340,53],[50,0,340,54],[51,0,340,55],[52,0,340,56],[55,0,340,59],[58,0,340,62],[62,0,340,66],[68,0,340,72],[69,0,340,73],[72,0,340,76],[73,0,340,77],[81,0,340,85],[83,0,340,87],[86,0,340,90],[87,0,340,91],[95,0,340,99],[97,0,340,101],[98,0,340,102],[99,0,340,103],[107,0,340,111],[109,0,340,113],[111,0,340,115],[112,0,340,116],[113,0,340,117],[114,0,340,118],[118,0,340,122],[119,0,340,123]],[[12,0,342,16],[18,0,342,22],[26,0,342,30],[29,0,342,33],[34,0,342,38],[37,0,342,41],[38,0,342,42],[39,0,342,43],[40,0,342,44],[41,0,342,45],[44,0,342,48],[47,0,342,51],[51,0,342,55],[57,0,342,61],[58,0,342,62],[61,0,342,65],[62,0,342,66],[70,0,342,74],[72,0,342,76],[77,0,342,81],[78,0,342,82],[86,0,342,90],[88,0,342,92],[89,0,342,93],[90,0,342,94],[98,0,342,102],[100,0,342,104],[102,0,342,106],[103,0,342,107],[104,0,342,108],[105,0,342,109],[109,0,342,113],[110,0,342,114]],[[12,0,344,16],[19,0,344,23],[21,0,344,24],[25,0,344,28],[27,0,344,30],[35,0,344,38],[37,0,344,40],[44,0,344,47],[46,0,344,49],[53,0,344,56],[54,0,344,57],[59,0,344,62],[60,0,344,63],[65,0,344,68],[67,0,344,70],[70,0,344,73],[71,0,344,74],[73,0,344,76],[78,0,344,81],[80,0,344,83],[87,0,344,90],[88,0,344,91],[94,0,344,97],[96,0,344,98],[97,0,344,99]],[[8,0,345,12],[9,0,345,13],[10,0,345,14],[11,0,347,9],[12,0,347,10]],[[4,0,348,4],[5,0,348,5]],[[4,0,354,4],[15,0,354,15],[16,0,354,16],[22,0,354,30],[24,0,354,32],[27,0,354,43]],[[8,0,356,8],[14,0,356,14],[22,0,356,22],[25,0,356,25],[31,0,356,31],[34,0,356,34],[37,0,356,37],[38,0,356,38]],[[8,0,358,8],[12,0,358,12],[13,0,358,13],[17,0,358,17],[18,0,358,18],[23,0,358,23],[24,0,358,24],[27,0,358,27],[28,0,358,28],[36,0,358,36],[37,0,358,37],[39,0,358,39]],[[12,0,360,12],[18,0,360,18],[21,0,360,21],[24,0,360,24],[28,0,360,28],[29,0,360,29],[40,0,360,40],[41,0,360,41],[45,0,360,45],[46,0,362,16],[55,0,362,25],[56,0,362,26],[59,0,362,29],[60,0,362,30],[62,0,362,32],[63,0,362,33],[66,0,362,36],[67,0,362,37],[74,0,362,44],[75,0,362,45],[77,0,362,46],[85,0,362,54],[87,0,362,56],[89,0,362,58],[98,0,362,67],[100,0,362,69],[102,0,362,70],[105,0,362,73],[107,0,362,75],[111,0,362,79],[112,0,362,80],[125,0,362,93],[126,0,362,94],[132,0,362,100],[134,0,362,102],[137,0,362,105],[138,0,362,106],[140,0,362,107],[142,0,362,108],[144,0,362,109],[145,0,362,110],[146,0,362,111],[147,0,362,112],[148,0,362,113],[150,0,364,16],[161,0,364,27],[162,0,364,28],[163,0,364,29],[164,0,364,30],[166,0,366,16],[175,0,366,25],[176,0,366,42],[180,0,366,46],[181,0,366,47],[187,0,366,53],[188,0,366,54],[194,0,366,60],[195,0,366,61],[196,0,367,13],[197,0,367,14]],[[12,0,369,12],[16,0,369,16],[17,0,369,17],[22,0,369,22],[23,0,369,23],[26,0,369,26],[27,0,369,27],[35,0,369,35],[37,0,369,37],[40,0,369,40],[41,0,369,41],[42,0,369,42]],[[9,0,370,9]],[[8,0,372,8],[15,0,372,15],[19,0,372,19],[20,0,372,20],[25,0,372,25],[26,0,372,26],[29,0,372,29],[30,0,372,30],[38,0,372,38],[39,0,372,39],[40,0,372,40]],[[4,0,374,4],[5,0,374,5]],[[4,0,376,4],[7,0,376,7],[8,0,376,8],[14,0,376,22],[16,0,376,24],[19,0,376,35]],[[8,0,378,8],[15,0,378,15],[19,0,378,19],[20,0,378,20],[31,0,378,31],[32,0,378,32],[38,0,378,38],[40,0,378,40],[43,0,378,43],[44,0,378,44],[45,0,378,45],[49,0,378,49],[50,0,380,12],[54,0,380,16],[55,0,380,17],[56,0,380,18],[57,0,380,19],[58,0,381,9],[59,0,381,10]],[[4,0,382,4],[5,0,382,5]],[[4,0,384,4],[16,0,384,16],[17,0,384,17],[23,0,384,31],[25,0,384,33],[28,0,384,44],[30,0,384,46],[36,0,384,65],[38,0,384,67],[52,0,384,81],[55,0,384,84],[57,0,384,86]],[[8,0,386,8],[14,0,386,14],[22,0,386,22],[25,0,386,25],[31,0,386,31],[34,0,386,34],[37,0,386,37],[38,0,386,38]],[[8,0,388,8],[12,0,388,12],[13,0,388,13],[17,0,388,17],[18,0,388,18],[23,0,388,23],[24,0,388,24],[27,0,388,27],[28,0,388,28],[36,0,388,36],[37,0,388,37],[39,0,388,39]],[[12,0,390,12],[18,0,390,18],[22,0,390,22],[25,0,390,25],[29,0,390,29],[30,0,390,30],[41,0,390,41],[42,0,390,42],[46,0,390,46],[47,0,392,16],[56,0,392,25],[57,0,392,26],[60,0,392,29],[61,0,392,30],[63,0,392,32],[64,0,392,33],[67,0,392,36],[68,0,392,37],[72,0,392,41],[73,0,392,42],[75,0,392,44],[83,0,392,52],[85,0,392,54],[87,0,392,55],[95,0,392,63],[97,0,392,65],[99,0,392,66],[105,0,392,72],[107,0,392,74],[111,0,392,78],[117,0,392,84],[118,0,392,85],[122,0,392,89],[126,0,392,93],[127,0,392,94],[140,0,392,107],[141,0,392,108],[147,0,392,114],[149,0,392,116],[152,0,392,119],[153,0,392,120],[157,0,392,124],[158,0,392,125],[160,0,392,126],[162,0,392,127],[164,0,392,129],[165,0,392,130],[166,0,392,131],[167,0,392,132],[168,0,392,133],[170,0,394,16],[181,0,394,27],[182,0,394,28],[183,0,394,29],[184,0,394,30],[185,0,395,13],[186,0,395,14]],[[12,0,397,12],[16,0,397,16],[17,0,397,17],[22,0,397,22],[23,0,397,23],[26,0,397,26],[27,0,397,27],[35,0,397,35],[37,0,397,37],[41,0,397,41],[42,0,397,42],[43,0,397,43]],[[9,0,398,9]],[[8,0,400,8],[15,0,400,15],[19,0,400,19],[20,0,400,20],[30,0,400,30],[31,0,400,31],[35,0,400,35],[36,0,400,36],[41,0,400,41],[42,0,400,42],[45,0,400,45],[46,0,400,46],[54,0,400,54],[55,0,400,55],[57,0,400,57],[60,0,400,60],[62,0,400,62],[68,0,400,68],[70,0,400,70],[84,0,400,84],[85,0,400,85],[86,0,400,86],[90,0,400,90],[91,0,402,12],[100,0,402,21],[101,0,402,49],[105,0,402,53],[106,0,402,54],[112,0,402,60],[113,0,402,61],[119,0,402,67],[120,0,402,68],[121,0,403,9],[122,0,403,10]],[[4,0,404,4],[5,0,404,5]],[[4,0,406,4],[8,0,406,8],[9,0,406,9],[15,0,406,23],[17,0,406,25],[20,0,406,36],[22,0,406,38],[28,0,406,57],[30,0,406,59],[44,0,406,73],[47,0,406,76],[49,0,406,78]],[[8,0,408,8],[15,0,408,15],[19,0,408,19],[20,0,408,20],[32,0,408,32],[33,0,408,33],[39,0,408,39],[41,0,408,41],[44,0,408,44],[46,0,408,46],[52,0,408,52],[54,0,408,54],[68,0,408,68],[69,0,408,69],[70,0,408,70],[74,0,408,74],[75,0,410,12],[79,0,410,16],[80,0,410,17],[81,0,410,18],[82,0,410,19],[83,0,411,9],[84,0,411,10]],[[4,0,412,4],[5,0,412,5]],[[4,0,418,4],[8,0,418,8],[9,0,418,9],[15,0,418,23],[17,0,418,25],[20,0,418,36],[22,0,418,38],[26,0,418,45],[28,0,418,47],[41,0,418,74],[43,0,418,76]],[[8,0,420,8],[15,0,420,15],[19,0,420,19],[20,0,420,20],[31,0,420,31],[32,0,420,32],[36,0,420,36],[37,0,422,12],[46,0,422,21],[47,0,422,22],[50,0,422,25],[51,0,422,26],[53,0,422,28],[54,0,422,29],[57,0,422,32],[58,0,422,33],[70,0,422,45],[71,0,422,46]],[[12,0,423,16],[21,0,423,25],[23,0,423,27],[26,0,423,30],[30,0,423,34],[31,0,423,35],[44,0,423,48],[45,0,423,49],[51,0,423,55],[53,0,423,57],[56,0,423,60],[57,0,423,61],[61,0,423,65],[65,0,423,69],[66,0,423,70],[68,0,423,72],[70,0,423,74]],[[12,0,424,16],[20,0,424,24],[22,0,424,26],[25,0,424,29],[29,0,424,33],[30,0,424,34],[43,0,424,47],[44,0,424,48],[50,0,424,54],[52,0,424,56],[55,0,424,59],[56,0,424,60],[60,0,424,64],[64,0,424,68],[65,0,424,69],[67,0,424,71],[69,0,424,73]],[[12,0,425,16],[18,0,425,22],[20,0,425,24],[26,0,425,30]],[[12,0,426,16],[16,0,426,20]],[[12,0,427,16],[17,0,427,21],[19,0,427,23],[23,0,427,27]],[[12,0,428,16],[16,0,428,20],[18,0,428,22],[22,0,428,26],[26,0,428,30],[28,0,428,32],[29,0,428,33],[36,0,428,40],[38,0,428,42]],[[12,0,429,16],[22,0,429,26]],[[9,0,430,13],[10,0,430,14],[11,0,430,15],[12,0,431,9],[13,0,431,10]],[[4,0,432,4],[5,0,432,5]],[[4,0,434,4],[7,0,434,7],[8,0,434,8],[14,0,434,22],[16,0,434,24],[19,0,434,35],[21,0,434,37],[25,0,434,44],[27,0,434,46],[40,0,434,73],[42,0,434,75]],[[8,0,436,8],[15,0,436,15],[28,0,436,28],[29,0,436,29],[30,0,436,30],[34,0,436,34],[35,0,436,35],[38,0,436,38],[39,0,436,39],[45,0,436,45],[47,0,436,47],[50,0,436,50],[51,0,436,51],[53,0,436,53],[57,0,436,57],[58,0,436,58],[69,0,436,69],[70,0,436,70],[71,0,436,71],[72,0,436,72],[76,0,436,76],[77,0,438,12],[86,0,438,21],[87,0,438,22],[88,0,438,23],[89,0,438,24],[92,0,438,27],[94,0,438,29],[97,0,438,32],[98,0,438,33],[100,0,438,35],[102,0,438,37]],[[12,0,440,16],[16,0,440,20],[19,0,440,23],[21,0,440,25]],[[16,0,442,20],[23,0,442,27],[26,0,442,30],[27,0,442,31],[38,0,442,42],[39,0,442,43]],[[20,0,443,24],[26,0,443,30],[28,0,443,32],[31,0,443,35],[32,0,443,36],[38,0,443,42],[43,0,443,47],[49,0,443,53],[50,0,443,54],[51,0,443,55],[52,0,443,56],[57,0,443,61],[58,0,443,62],[59,0,443,63],[60,0,443,64],[63,0,443,67],[64,0,443,68],[70,0,443,74]],[[20,0,444,24],[24,0,444,28]],[[20,0,445,24],[25,0,445,29],[27,0,445,31],[31,0,445,35]],[[20,0,446,24],[24,0,446,28],[26,0,446,30],[29,0,446,33],[30,0,446,34],[36,0,446,40],[41,0,446,45],[46,0,446,50],[47,0,446,51],[48,0,446,52],[49,0,446,53],[53,0,446,57],[57,0,446,61],[59,0,446,63],[60,0,446,64],[67,0,446,71],[69,0,446,73],[70,0,446,74],[71,0,446,75],[72,0,446,76],[75,0,446,79],[76,0,446,80],[80,0,446,84]],[[20,0,447,24],[30,0,447,34]],[[17,0,448,21],[18,0,448,22],[19,0,448,23]],[[13,0,450,17]],[[17,0,450,23]],[[16,0,452,20],[22,0,452,26],[29,0,452,33],[32,0,452,60]],[[20,0,453,24],[29,0,453,33],[31,0,453,35],[35,0,453,39],[36,0,453,40],[49,0,453,53],[50,0,453,54],[56,0,453,60],[58,0,453,62],[61,0,453,65],[62,0,453,66]],[[20,0,454,24],[28,0,454,32],[30,0,454,34],[34,0,454,38],[35,0,454,39],[48,0,454,52],[49,0,454,53],[55,0,454,59],[57,0,454,61],[60,0,454,64],[61,0,454,65]],[[20,0,455,24],[24,0,455,28]],[[20,0,456,24],[26,0,456,30],[28,0,456,32],[33,0,456,37]],[[20,0,457,24],[25,0,457,29],[27,0,457,31],[31,0,457,35]],[[20,0,458,24],[24,0,458,28],[26,0,458,30],[30,0,458,34],[34,0,458,38],[36,0,458,40],[37,0,458,41],[44,0,458,48],[46,0,458,50]],[[20,0,459,24],[30,0,459,34]],[[17,0,460,21],[18,0,460,22]],[[16,0,462,20],[23,0,462,27],[26,0,462,30],[27,0,462,31],[39,0,462,43],[40,0,462,44],[47,0,462,51],[48,0,462,52],[49,0,462,53]],[[13,0,463,17]],[[8,0,465,12],[9,0,465,13],[10,0,465,14],[11,0,466,9],[12,0,466,10]],[[4,0,467,4],[5,0,467,5]],[[4,0,469,4],[10,0,469,10],[11,0,469,11],[17,0,469,25],[19,0,469,27],[22,0,469,38],[24,0,469,40],[28,0,469,48],[30,0,469,50],[43,0,469,77],[45,0,469,79]],[[8,0,471,8],[15,0,471,15],[19,0,471,19],[20,0,471,20],[23,0,471,23],[24,0,471,24],[30,0,471,30],[32,0,471,32],[35,0,471,35],[36,0,471,36],[37,0,471,37],[41,0,471,41],[42,0,473,12],[51,0,473,21],[52,0,473,22],[55,0,473,25],[56,0,473,26],[58,0,473,28]],[[12,0,475,16],[16,0,475,20],[19,0,475,23],[23,0,475,27],[26,0,475,30],[27,0,475,31],[33,0,475,37],[38,0,475,42],[44,0,475,48],[46,0,475,50]],[[16,0,477,20],[23,0,477,27],[27,0,477,31],[28,0,477,32],[31,0,477,35],[32,0,477,36],[38,0,477,42],[40,0,477,44],[41,0,477,45],[42,0,477,46]],[[13,0,479,17]],[[17,0,479,23],[21,0,479,27],[24,0,479,30],[28,0,479,34],[29,0,479,35],[32,0,479,38],[33,0,479,39],[39,0,479,45],[44,0,479,50],[49,0,479,55],[53,0,479,59],[56,0,479,62],[57,0,479,63],[63,0,479,69],[68,0,479,74],[76,0,479,82],[77,0,479,83],[79,0,479,85]],[[16,0,481,20],[23,0,481,27],[27,0,481,31],[28,0,481,32],[31,0,481,35],[32,0,481,36],[43,0,481,47],[44,0,481,48],[46,0,481,49],[52,0,481,55],[54,0,481,57],[62,0,481,65],[64,0,481,67],[69,0,481,72],[71,0,481,74],[75,0,481,78],[77,0,481,79],[78,0,481,80],[79,0,481,81],[80,0,481,82]],[[13,0,483,17]],[[17,0,483,24],[21,0,483,28],[24,0,483,31],[26,0,483,33]],[[16,0,485,20],[23,0,485,27],[27,0,485,31],[28,0,485,32],[31,0,485,35],[32,0,485,36],[43,0,485,47],[44,0,485,48],[46,0,485,49],[52,0,485,55],[54,0,485,57],[62,0,485,65],[64,0,485,67],[69,0,485,72],[71,0,485,74],[75,0,485,78],[77,0,485,80],[81,0,485,84],[83,0,485,86],[87,0,485,90],[91,0,485,94],[93,0,485,96],[94,0,485,97],[101,0,485,104],[103,0,485,106],[105,0,485,107],[106,0,485,108],[107,0,485,109],[108,0,485,110]],[[13,0,487,17]],[[17,0,487,23],[21,0,487,27],[25,0,487,31],[27,0,487,33]],[[16,0,489,20],[22,0,489,26],[29,0,489,33],[32,0,489,60]],[[20,0,490,24],[29,0,490,33],[31,0,490,35],[35,0,490,39],[36,0,490,40],[49,0,490,53],[50,0,490,54],[56,0,490,60],[58,0,490,62],[61,0,490,65],[62,0,490,66]],[[20,0,491,24],[28,0,491,32],[30,0,491,34],[34,0,491,38],[35,0,491,39],[48,0,491,52],[49,0,491,53],[55,0,491,59],[57,0,491,61],[60,0,491,64],[61,0,491,65]],[[20,0,492,24],[24,0,492,28]],[[20,0,493,24],[26,0,493,30],[28,0,493,32],[36,0,493,40]],[[20,0,494,24],[25,0,494,29],[27,0,494,31],[31,0,494,35]],[[20,0,495,24],[24,0,495,28],[26,0,495,30],[30,0,495,34],[34,0,495,38],[36,0,495,40],[37,0,495,41],[44,0,495,48],[46,0,495,50]],[[20,0,496,24],[30,0,496,34]],[[17,0,497,21],[18,0,497,22]],[[16,0,499,20],[23,0,499,27],[27,0,499,31],[28,0,499,32],[39,0,499,43],[40,0,499,44],[44,0,499,48],[45,0,501,24],[54,0,501,33],[55,0,501,34],[58,0,501,37],[59,0,501,38],[61,0,501,40],[62,0,501,41],[65,0,501,44],[66,0,501,45],[78,0,501,57],[79,0,501,58],[86,0,501,65],[87,0,501,66],[88,0,501,67],[89,0,502,21],[90,0,502,22]],[[13,0,504,17]],[[17,0,504,23]],[[16,0,506,20],[23,0,506,27],[33,0,506,37],[34,0,506,38],[81,0,506,85],[82,0,506,86],[83,0,506,87]],[[13,0,507,17]],[[8,0,509,12],[9,0,509,13],[10,0,509,14],[11,0,510,9],[12,0,510,10]],[[4,0,511,4],[5,0,511,5]],[[4,0,517,4],[13,0,517,13],[14,0,517,14],[20,0,517,28],[22,0,517,30],[25,0,517,41]],[[8,0,519,8],[15,0,519,15],[19,0,519,19],[20,0,519,20],[23,0,519,23],[24,0,519,24],[30,0,519,30],[32,0,519,32],[35,0,519,35],[36,0,519,36],[37,0,519,37],[41,0,519,41],[42,0,521,12],[51,0,521,21],[52,0,521,22],[55,0,521,25],[56,0,521,26],[58,0,521,28]],[[12,0,523,16],[16,0,523,20],[17,0,523,21],[18,0,523,22],[21,0,523,25],[25,0,523,29],[28,0,523,32],[29,0,523,33],[35,0,523,39],[40,0,523,44],[45,0,523,49],[49,0,523,53],[52,0,523,56],[53,0,523,57],[59,0,523,63],[64,0,523,68],[70,0,523,74],[72,0,523,76]],[[16,0,525,20],[23,0,525,27],[27,0,525,31],[28,0,525,32],[31,0,525,35],[32,0,525,36],[43,0,525,47],[44,0,525,48],[46,0,525,49],[52,0,525,55],[54,0,525,56],[60,0,525,62],[62,0,525,63],[63,0,525,64],[64,0,525,65],[65,0,525,66]],[[13,0,526,17]],[[12,0,528,16],[19,0,528,23],[29,0,528,33],[30,0,528,34],[75,0,528,79],[79,0,528,83],[80,0,528,84],[89,0,528,93],[90,0,528,94],[93,0,528,97],[95,0,528,99],[101,0,528,105],[103,0,528,107],[107,0,528,111],[109,0,528,113],[110,0,528,114],[112,0,528,116],[113,0,528,117],[114,0,528,118]],[[8,0,529,12],[9,0,529,13],[10,0,529,14],[11,0,531,9],[12,0,531,10]],[[4,0,532,4],[5,0,532,5]],[[4,0,534,4],[18,0,534,18],[19,0,534,19],[25,0,534,33],[27,0,534,35],[30,0,534,46]],[[8,0,536,8],[15,0,536,15],[19,0,536,19],[20,0,536,20],[23,0,536,23],[24,0,536,24],[30,0,536,30],[32,0,536,32],[35,0,536,35],[36,0,536,36],[37,0,536,37],[41,0,536,41],[42,0,538,12],[51,0,538,21],[52,0,538,22],[55,0,538,25],[56,0,538,26],[58,0,538,28]],[[12,0,540,16],[16,0,540,20],[17,0,540,21],[18,0,540,22],[21,0,540,25],[25,0,540,29],[28,0,540,32],[29,0,540,33],[35,0,540,39],[40,0,540,44],[45,0,540,49],[47,0,540,51]],[[16,0,542,20],[23,0,542,27],[27,0,542,31],[28,0,542,32],[31,0,542,35],[32,0,542,36],[38,0,542,42],[40,0,542,44],[41,0,542,45],[42,0,542,46]],[[13,0,543,17]],[[12,0,545,16],[19,0,545,23],[29,0,545,33],[30,0,545,34],[72,0,545,76],[76,0,545,80],[77,0,545,81],[86,0,545,90],[87,0,545,91],[90,0,545,94],[92,0,545,96],[98,0,545,102],[100,0,545,104],[104,0,545,108],[106,0,545,110],[107,0,545,111],[109,0,545,113],[110,0,545,114],[111,0,545,115]],[[8,0,546,12],[9,0,546,13],[10,0,546,14],[11,0,547,9],[12,0,547,10]],[[4,0,548,4],[5,0,548,5]],[[1,0,549,1]],[[0,0,552,0],[6,0,552,6],[13,0,552,13],[29,0,552,29]],[[4,0,572,4],[16,0,572,24],[23,0,572,75]],[[8,0,572,24],[20,0,572,31],[23,0,572,24],[30,0,572,31],[31,0,572,75]],[[8,0,554,12],[19,0,554,18],[22,0,554,56]],[[12,0,555,8],[26,0,555,22],[28,0,555,24],[30,0,555,26]],[[12,0,556,8],[32,0,556,28],[34,0,556,30]],[[16,0,557,12],[20,0,557,16],[22,0,557,18],[50,0,557,46]],[[16,0,558,12],[19,0,558,15],[21,0,558,17],[23,0,558,19],[25,0,558,21]],[[16,0,559,12],[36,0,559,32],[38,0,559,34],[40,0,559,36],[41,0,559,37],[46,0,559,42],[47,0,559,43]],[[16,0,560,12],[40,0,560,36],[42,0,560,38],[44,0,560,40],[45,0,560,41],[48,0,560,44],[49,0,560,45]],[[16,0,561,12],[27,0,561,23],[29,0,561,25],[31,0,561,27]],[[16,0,562,12],[23,0,562,19],[25,0,562,21],[27,0,562,23]],[[16,0,563,12],[35,0,563,31],[37,0,563,33],[39,0,563,35]],[[16,0,564,12],[27,0,564,23],[29,0,564,25],[33,0,564,29]],[[13,0,565,9]],[[12,0,566,8],[30,0,566,26],[32,0,566,28],[35,0,566,31]],[[9,0,567,5],[10,0,567,6]],[[8,0,574,8],[12,0,574,12],[13,0,574,13],[19,0,574,19],[22,0,574,22]],[[12,0,575,12],[15,0,575,15],[19,0,575,19],[20,0,575,20],[26,0,575,26]],[[12,0,576,12],[15,0,576,15],[19,0,576,19],[20,0,576,20],[27,0,576,27]],[[12,0,577,12],[26,0,577,26],[28,0,577,28]],[[16,0,578,16],[19,0,578,19],[23,0,578,23],[24,0,578,24],[30,0,578,30],[31,0,578,31],[45,0,578,45]],[[16,0,579,16],[19,0,579,19],[23,0,579,23],[24,0,579,24],[31,0,579,31],[32,0,579,32],[46,0,579,46]],[[13,0,580,13]],[[12,0,581,12],[32,0,581,32],[34,0,581,34]],[[16,0,582,16],[19,0,582,19],[23,0,582,23],[24,0,582,24],[30,0,582,30],[31,0,582,31],[51,0,582,51]],[[16,0,583,16],[19,0,583,19],[23,0,583,23],[24,0,583,24],[31,0,583,31],[32,0,583,32],[52,0,583,52]],[[13,0,584,13]],[[9,0,585,9],[10,0,585,10]],[[8,0,587,8],[12,0,587,12],[13,0,587,13],[20,0,587,20],[23,0,587,30],[27,0,587,34],[34,0,587,41],[35,0,587,42],[39,0,587,46],[40,0,587,47],[46,0,587,53],[47,0,587,54],[61,0,587,68],[62,0,587,69],[63,0,587,70]],[[8,0,588,8],[12,0,588,12],[13,0,588,13],[26,0,588,26],[29,0,588,30],[33,0,588,34],[46,0,588,47],[47,0,588,48],[51,0,588,52],[52,0,588,53],[58,0,588,59],[59,0,588,60],[79,0,588,80],[80,0,588,81],[81,0,588,82]],[[4,0,589,4],[5,0,589,5]],[[4,0,595,4],[20,0,595,20],[21,0,595,21],[24,0,595,47],[26,0,595,49],[32,0,595,63],[34,0,595,65],[37,0,595,76],[39,0,595,78],[45,0,595,97]],[[8,0,597,8],[12,0,597,12],[13,0,597,13],[14,0,597,14],[17,0,597,17],[21,0,597,21],[24,0,597,24],[25,0,597,25],[31,0,597,31],[36,0,597,36],[41,0,597,41],[43,0,597,43]],[[12,0,597,45],[19,0,597,52],[21,0,597,54],[22,0,597,55],[25,0,597,58],[26,0,597,59],[27,0,597,60]],[[9,0,597,62]],[[8,0,600,8],[14,0,600,14],[25,0,600,25],[28,0,600,28],[32,0,600,32],[36,0,600,36],[38,0,600,38],[39,0,600,39],[46,0,600,46],[48,0,600,48],[49,0,600,49]],[[8,0,602,8],[12,0,602,12],[13,0,602,13],[14,0,602,14],[17,0,602,17],[21,0,602,21],[24,0,602,24],[25,0,602,25],[29,0,602,29],[33,0,602,33],[34,0,602,34],[45,0,602,45],[48,0,602,48],[49,0,602,49],[53,0,602,53],[54,0,602,54],[60,0,602,60],[61,0,602,61],[79,0,602,79],[82,0,602,82],[86,0,602,86],[87,0,602,87],[88,0,602,88],[90,0,602,90]],[[12,0,602,92],[19,0,602,99],[21,0,602,101],[22,0,602,102],[25,0,602,105],[26,0,602,106],[27,0,602,107]],[[9,0,602,109]],[[8,0,604,8],[15,0,604,15],[28,0,604,28],[29,0,604,29],[30,0,604,30],[34,0,604,34],[35,0,604,35],[42,0,604,42],[43,0,604,43],[46,0,604,46],[47,0,604,47],[50,0,604,50],[52,0,604,52],[58,0,604,58],[59,0,604,59],[61,0,604,61],[65,0,604,65],[66,0,604,66],[79,0,604,79],[80,0,604,80],[91,0,604,91],[92,0,604,92],[93,0,604,93],[94,0,604,94],[98,0,604,98],[99,0,606,12],[108,0,606,21],[109,0,606,22],[110,0,606,23],[111,0,606,24],[114,0,606,27],[116,0,606,29],[119,0,606,32],[120,0,606,33],[122,0,606,35],[124,0,606,37],[125,0,606,38],[128,0,606,41],[129,0,606,42],[141,0,606,54],[142,0,606,55]],[[12,0,607,16],[21,0,607,25],[23,0,607,27],[27,0,607,31],[28,0,607,32],[41,0,607,45],[42,0,607,46],[55,0,607,59],[56,0,607,60],[62,0,607,66],[64,0,607,68],[67,0,607,71],[68,0,607,72]],[[12,0,608,16],[20,0,608,24],[22,0,608,26],[26,0,608,30],[27,0,608,31],[40,0,608,44],[41,0,608,45],[54,0,608,58],[55,0,608,59],[61,0,608,65],[63,0,608,67],[66,0,608,70],[67,0,608,71]],[[12,0,609,16],[16,0,609,20],[18,0,609,22],[21,0,609,25]],[[12,0,610,16],[18,0,610,22],[20,0,610,24],[25,0,610,29]],[[12,0,611,16],[17,0,611,21],[19,0,611,23],[23,0,611,27]],[[12,0,612,16],[16,0,612,20],[18,0,612,22],[22,0,612,26],[26,0,612,30],[28,0,612,32],[29,0,612,33],[36,0,612,40],[38,0,612,42]],[[9,0,613,13],[10,0,613,14],[11,0,613,15],[13,0,615,12],[23,0,615,22],[24,0,615,23],[27,0,615,26],[29,0,615,28],[30,0,615,29],[32,0,615,31],[33,0,615,32],[36,0,615,35],[37,0,615,36],[38,0,615,37],[39,0,616,9],[40,0,616,10]],[[4,0,617,4],[5,0,617,5]],[[4,0,619,4],[15,0,619,15],[16,0,619,16],[22,0,619,30],[24,0,619,32],[27,0,619,43],[29,0,619,45],[35,0,619,64],[37,0,619,66],[41,0,619,70],[44,0,619,73],[49,0,619,78]],[[8,0,621,8],[15,0,621,15],[19,0,621,19],[20,0,621,20],[33,0,621,33],[34,0,621,34],[37,0,621,37],[38,0,621,38],[44,0,621,44],[46,0,621,46],[49,0,621,49],[50,0,621,50],[51,0,621,51],[55,0,621,55],[56,0,623,12],[65,0,623,21],[66,0,623,22],[69,0,623,25],[70,0,623,26],[72,0,623,28],[73,0,623,29],[77,0,623,33],[78,0,623,34],[79,0,623,35]],[[12,0,624,16],[16,0,624,20],[17,0,624,21],[33,0,624,37],[34,0,624,38],[37,0,624,41],[39,0,624,43],[45,0,624,49],[47,0,624,51],[50,0,624,54],[52,0,624,56],[58,0,624,62],[59,0,624,63],[60,0,624,64],[61,0,624,65]],[[12,0,625,16],[16,0,625,20],[17,0,625,21],[33,0,625,37],[34,0,625,38],[37,0,625,41],[39,0,625,43],[45,0,625,49],[47,0,625,51],[50,0,625,54],[52,0,625,56],[58,0,625,62],[59,0,625,63],[60,0,625,64],[64,0,625,68],[65,0,625,69],[74,0,625,78],[75,0,625,79],[79,0,625,83],[80,0,625,84],[81,0,625,85],[82,0,626,13],[84,0,628,12],[93,0,628,21],[94,0,628,22],[97,0,628,25],[99,0,628,27],[100,0,628,28],[104,0,628,32],[105,0,628,33],[118,0,628,46],[119,0,628,47],[130,0,628,58],[131,0,628,59],[137,0,628,65],[139,0,628,67],[142,0,628,70],[143,0,628,71],[144,0,628,72],[146,0,630,12],[155,0,630,21],[156,0,630,22],[160,0,630,26],[163,0,630,29],[165,0,630,31],[166,0,630,32],[167,0,632,9],[168,0,632,10]],[[4,0,633,4],[5,0,633,5]],[[4,0,635,4],[7,0,635,7],[8,0,635,8],[14,0,635,22],[16,0,635,24],[19,0,635,35],[21,0,635,37],[27,0,635,56]],[[8,0,637,8],[15,0,637,15],[19,0,637,19],[20,0,637,20],[31,0,637,31],[32,0,637,32],[38,0,637,38],[40,0,637,40],[43,0,637,43],[45,0,637,45],[51,0,637,51],[53,0,637,53],[57,0,637,57],[58,0,637,58],[59,0,637,59],[63,0,637,63],[64,0,639,12],[68,0,639,16],[69,0,639,17],[70,0,639,18],[71,0,639,19],[72,0,640,9],[73,0,640,10]],[[4,0,641,4],[5,0,641,5]],[[4,0,648,4],[16,0,648,16],[17,0,648,17],[20,0,648,47],[22,0,648,49],[28,0,648,63],[30,0,648,65],[33,0,648,76],[35,0,648,78],[41,0,648,97],[43,0,648,99],[57,0,648,113],[58,0,648,114],[62,0,648,121],[64,0,648,123],[73,0,648,140],[75,0,648,142],[77,0,648,144],[78,0,648,145],[81,0,648,148],[90,0,648,157],[94,0,648,161],[98,0,648,165],[99,0,648,166],[101,0,648,168],[103,0,648,170]],[[8,0,650,8],[14,0,650,14],[25,0,650,25],[28,0,650,28],[32,0,650,32],[36,0,650,36],[38,0,650,38],[39,0,650,39],[46,0,650,46],[48,0,650,48],[49,0,650,49]],[[8,0,653,8],[14,0,653,14],[19,0,653,19],[22,0,653,22],[30,0,653,30],[31,0,653,31],[37,0,653,37],[39,0,653,39],[42,0,653,42],[43,0,653,43],[50,0,653,50],[51,0,653,51],[55,0,653,55],[60,0,653,60],[61,0,653,61],[62,0,653,62]],[[8,0,659,8],[14,0,659,14],[17,0,659,17],[20,0,659,20],[23,0,659,23],[24,0,659,24],[31,0,659,31]],[[13,0,661,13],[19,0,661,19],[20,0,661,20],[21,0,661,21],[22,0,661,22],[24,0,661,24],[25,0,661,25],[26,0,661,26],[27,0,661,27],[33,0,661,33],[38,0,661,38],[43,0,661,43],[47,0,661,47],[48,0,661,48],[49,0,661,49],[55,0,661,55],[60,0,661,60],[68,0,661,68],[72,0,661,72],[73,0,661,73],[74,0,661,74],[75,0,661,75],[81,0,661,81],[86,0,661,86],[91,0,661,91],[95,0,661,95],[96,0,661,96],[97,0,661,97],[101,0,661,101],[105,0,661,105],[106,0,661,106],[117,0,661,117],[120,0,661,120],[121,0,661,121],[125,0,661,125],[126,0,661,126],[132,0,661,132],[133,0,661,133],[151,0,661,151],[154,0,661,154],[158,0,661,158],[159,0,661,159],[160,0,661,160],[161,0,661,161],[162,0,661,162]],[[13,0,662,13],[16,0,662,16],[17,0,662,17],[18,0,662,18],[19,0,662,19],[21,0,662,21],[22,0,662,22],[23,0,662,23],[24,0,662,24],[28,0,662,28],[29,0,662,29],[31,0,662,31],[32,0,662,32],[33,0,662,33]],[[8,0,664,8],[12,0,664,12],[15,0,664,15],[16,0,664,16],[22,0,664,22],[27,0,664,27],[32,0,664,32],[34,0,664,34]],[[12,0,667,12],[19,0,667,19],[21,0,667,21],[22,0,667,22],[24,0,667,23],[28,0,667,27],[30,0,667,29],[33,0,667,32],[34,0,667,33],[38,0,667,37],[40,0,667,39],[48,0,667,47],[50,0,667,49],[53,0,667,52],[54,0,667,53],[62,0,667,61],[64,0,667,63],[71,0,667,70],[73,0,667,114],[75,0,667,116],[77,0,667,117],[78,0,667,118],[79,0,667,119]],[[9,0,668,9]],[[8,0,670,8],[14,0,670,14],[17,0,670,17],[23,0,670,23],[27,0,670,27],[31,0,670,31],[47,0,670,47],[49,0,670,49],[50,0,670,50]],[[8,0,672,8],[12,0,672,12],[15,0,672,15],[16,0,672,16],[22,0,672,22],[25,0,672,25],[26,0,672,26],[28,0,672,28]],[[12,0,674,12],[16,0,674,16],[22,0,674,22],[23,0,674,23],[26,0,674,26],[27,0,674,27],[42,0,674,42],[43,0,674,43],[45,0,674,45]],[[16,0,676,16],[22,0,676,22],[23,0,676,23],[29,0,676,29],[30,0,676,30],[45,0,676,45],[46,0,676,46],[47,0,676,47]],[[13,0,678,13]],[[12,0,680,12],[18,0,680,18],[21,0,680,21],[27,0,680,27],[28,0,680,28],[34,0,680,34],[35,0,680,35],[50,0,680,50],[52,0,680,52],[55,0,680,55],[56,0,680,56],[60,0,680,60],[61,0,680,61],[64,0,680,64],[65,0,680,65],[66,0,680,66],[67,0,680,67]],[[12,0,682,12],[18,0,682,18],[21,0,682,21],[27,0,682,27],[28,0,682,28],[31,0,682,31],[32,0,682,32],[39,0,682,39],[41,0,682,41],[42,0,682,42],[47,0,682,47],[50,0,682,50],[53,0,682,53],[54,0,682,54],[60,0,682,60],[61,0,682,61],[62,0,682,62],[70,0,682,70],[72,0,682,72],[73,0,682,73],[74,0,682,74]],[[9,0,684,9]],[[8,0,686,8],[15,0,686,15],[19,0,686,19],[20,0,686,20],[27,0,686,27],[28,0,686,28],[32,0,686,32],[33,0,686,33],[36,0,686,36],[38,0,686,38],[44,0,686,44],[45,0,686,45],[46,0,686,46],[50,0,686,50],[51,0,688,12],[61,0,688,22],[62,0,688,23],[65,0,688,26],[67,0,688,28],[68,0,688,29],[70,0,688,31],[71,0,688,32],[73,0,688,33],[77,0,688,37],[79,0,688,39],[83,0,688,43],[85,0,688,45],[93,0,688,53],[95,0,688,55],[99,0,688,59],[101,0,688,61],[108,0,688,68],[110,0,688,70],[112,0,688,72],[114,0,688,92],[115,0,688,93],[116,0,688,94],[118,0,690,12],[127,0,690,21],[128,0,690,22],[138,0,690,32],[139,0,690,33],[141,0,690,35],[142,0,690,36],[146,0,690,40],[147,0,690,41],[160,0,690,54],[161,0,690,55],[172,0,690,66],[173,0,690,67],[177,0,690,71],[178,0,692,16],[187,0,692,25],[188,0,692,26],[191,0,692,29],[192,0,692,30],[194,0,692,32]],[[12,0,695,20],[18,0,695,26],[30,0,695,38],[33,0,695,41],[43,0,695,51],[44,0,695,52],[51,0,695,59]],[[17,0,696,25],[20,0,696,28],[21,0,696,29],[25,0,696,33],[26,0,696,34],[28,0,696,36],[29,0,696,37],[30,0,696,38]],[[16,0,697,28],[25,0,697,37],[27,0,697,39],[38,0,697,50],[39,0,697,51],[43,0,697,55],[45,0,697,57],[49,0,697,61],[50,0,697,62],[63,0,697,75],[64,0,697,76],[77,0,697,89],[78,0,697,90],[84,0,697,96],[86,0,697,98],[89,0,697,101],[90,0,697,102],[91,0,697,103]],[[16,0,698,28],[24,0,698,36],[26,0,698,38],[37,0,698,49],[38,0,698,50],[42,0,698,54],[44,0,698,56],[48,0,698,60],[49,0,698,61],[62,0,698,74],[63,0,698,75],[76,0,698,88],[77,0,698,89],[83,0,698,95],[85,0,698,97],[88,0,698,100],[89,0,698,101],[90,0,698,102]],[[16,0,699,28],[20,0,699,32]],[[16,0,700,28],[22,0,700,34],[24,0,700,36],[29,0,700,41]],[[16,0,701,28],[21,0,701,33],[23,0,701,35],[27,0,701,39]],[[16,0,702,28],[20,0,702,32],[22,0,702,34],[26,0,702,38],[30,0,702,42],[32,0,702,44],[33,0,702,45],[40,0,702,52],[42,0,702,54]],[[13,0,703,25],[14,0,703,26],[15,0,703,46],[16,0,703,47]],[[12,0,705,20],[16,0,705,24],[28,0,705,36],[29,0,705,37],[35,0,705,43],[38,0,705,46],[39,0,705,47],[41,0,705,49]],[[16,0,707,24],[23,0,707,31],[27,0,707,35],[28,0,707,36],[31,0,707,39],[32,0,707,40],[42,0,707,50],[43,0,707,51],[55,0,707,63],[56,0,707,64],[57,0,707,65],[58,0,707,66],[62,0,707,70],[63,0,711,28],[66,0,711,31],[67,0,711,32],[70,0,711,35],[72,0,711,37],[73,0,711,38],[83,0,711,48],[84,0,711,49],[85,0,712,25],[86,0,712,26]],[[13,0,713,21]],[[12,0,715,20],[19,0,715,27],[21,0,715,29],[22,0,715,30],[32,0,715,40],[33,0,715,41],[34,0,715,42]],[[8,0,716,16],[9,0,716,17],[10,0,716,18],[11,0,717,13],[12,0,717,14],[13,0,719,9],[14,0,719,10]],[[4,0,721,4],[5,0,721,5]],[[4,0,723,4],[16,0,723,16],[17,0,724,8],[23,0,724,22],[25,0,725,8],[28,0,725,19],[30,0,726,8],[36,0,726,27],[38,0,727,8],[52,0,727,22],[55,0,727,25],[57,0,727,27],[59,0,728,8],[73,0,728,22],[74,0,728,23],[78,0,728,30],[80,0,728,32],[89,0,728,49],[91,0,728,51],[93,0,728,53],[94,0,728,54],[97,0,728,57],[106,0,728,66],[110,0,728,70],[114,0,728,74],[115,0,728,75],[117,0,728,77],[119,0,728,79],[121,0,729,8],[125,0,729,12],[128,0,729,15],[133,0,729,20]],[[8,0,732,8],[15,0,732,15],[19,0,732,19],[20,0,732,20],[33,0,732,33],[34,0,732,34],[38,0,732,38],[39,0,732,39],[45,0,732,45],[47,0,732,47],[50,0,732,50],[52,0,732,52],[58,0,732,58],[60,0,732,60],[74,0,732,74],[75,0,732,75],[76,0,732,76],[80,0,732,80],[81,0,734,12],[90,0,734,21],[91,0,734,22],[97,0,734,28],[98,0,734,29],[100,0,734,31],[101,0,734,32],[105,0,734,36],[106,0,734,37],[107,0,734,38]],[[12,0,735,16],[16,0,735,20],[17,0,735,21],[29,0,735,33],[30,0,735,34],[36,0,735,40],[38,0,735,42],[44,0,735,48],[46,0,735,50],[49,0,735,53],[51,0,735,55],[57,0,735,61],[59,0,735,63],[70,0,735,74],[71,0,735,75],[72,0,735,76],[73,0,735,77]],[[12,0,736,16],[16,0,736,20],[17,0,736,21],[29,0,736,33],[30,0,736,34],[36,0,736,40],[38,0,736,42],[44,0,736,48],[46,0,736,50],[49,0,736,53],[51,0,736,55],[57,0,736,61],[59,0,736,63],[70,0,736,74],[71,0,736,75],[72,0,736,76],[76,0,736,80],[77,0,736,81],[86,0,736,90],[87,0,736,91],[89,0,736,92],[93,0,736,96],[95,0,736,98],[99,0,736,102],[101,0,736,104],[109,0,736,112],[111,0,736,114],[115,0,736,118],[117,0,736,120],[124,0,736,127],[126,0,736,129],[128,0,736,131],[130,0,736,132],[131,0,736,133],[132,0,736,134],[133,0,736,135],[135,0,738,12],[144,0,738,21],[145,0,738,22],[146,0,738,23],[156,0,738,33],[158,0,738,35],[160,0,738,37],[161,0,738,38],[165,0,738,42],[166,0,738,43],[179,0,738,56],[180,0,738,57],[192,0,738,69],[193,0,738,70],[199,0,738,76],[201,0,738,78],[204,0,738,81],[206,0,738,83],[212,0,738,89],[214,0,738,91],[228,0,738,105],[229,0,738,106],[230,0,738,107],[234,0,738,111],[235,0,740,16],[238,0,740,19],[239,0,740,20],[242,0,740,23],[243,0,740,24],[245,0,740,26],[246,0,740,27],[247,0,740,28]],[[12,0,741,20],[16,0,741,24],[18,0,741,26],[28,0,741,36],[30,0,741,38],[34,0,741,42],[38,0,741,46],[41,0,741,49],[42,0,741,50],[46,0,741,54]],[[12,0,742,20],[20,0,742,28],[22,0,742,30],[32,0,742,40],[34,0,742,42],[42,0,742,50],[46,0,742,54],[49,0,742,57],[50,0,742,58],[58,0,742,66]],[[12,0,743,20],[19,0,743,27],[21,0,743,29],[24,0,743,32],[25,0,743,33],[32,0,743,40]],[[9,0,744,17],[10,0,744,18],[11,0,744,19],[12,0,746,13],[13,0,746,14],[14,0,748,43],[15,0,748,44]],[[4,0,750,4],[5,0,750,5]],[[4,0,752,4],[8,0,752,8],[9,0,752,9],[15,0,752,23],[17,0,752,25],[20,0,752,36],[22,0,752,38],[28,0,752,57],[30,0,752,59],[44,0,752,73],[47,0,752,76],[49,0,752,78],[51,0,752,80],[65,0,752,94],[66,0,752,95],[70,0,752,102],[72,0,752,104],[81,0,752,121],[83,0,752,123],[85,0,752,125],[86,0,752,126],[89,0,752,129],[98,0,752,138],[102,0,752,142],[106,0,752,146],[107,0,752,147],[109,0,752,149],[111,0,752,151]],[[8,0,754,8],[15,0,754,15],[19,0,754,19],[20,0,754,20],[32,0,754,32],[33,0,754,33],[39,0,754,39],[41,0,754,41],[44,0,754,44],[46,0,754,46],[52,0,754,52],[54,0,754,54],[68,0,754,68],[70,0,754,70],[81,0,754,81],[83,0,754,83],[87,0,754,87],[88,0,754,88],[89,0,754,89],[93,0,754,93],[94,0,756,12],[98,0,756,16],[99,0,756,17],[100,0,756,18],[101,0,756,19],[102,0,757,9],[103,0,757,10]],[[4,0,759,4],[5,0,759,5]],[[1,0,760,1]]],"sourcesContent":["import { Datatype, FileConfig, getSchema, pwaDocMethods, PwaDocType, PwaDocument } from '../definitions/document';\nimport { getCollectionCreator, PwaCollection, pwaCollectionMethods, ListResponse, PwaListResponse, CollectionListResponse } from '../definitions/collection';\nimport { switchMap, map, catchError, shareReplay, tap, finalize, startWith, take, auditTime, timeout } from 'rxjs/operators';\nimport { Observable, of, from, throwError, combineLatest } from 'rxjs';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { queryFilter } from './filters.resource';\nimport { RxCollectionCreator, RxDatabase } from 'rxdb';\nimport { NgZone } from '@angular/core';\nimport { enterZone } from './operators.resource';\nimport { ApiProgressService } from './apiProgress.resource';\nimport { SyncCollectionService } from './synchronise-collection.resource';\nimport { SynchroniseDocType } from '../definitions/synchronise-document';\nimport { CustomHttpParams } from './customParams.resource';\n\n\nexport interface RestAPICreator {\n    apiProgress?: ApiProgressService;\n    httpClient?: HttpClient;\n}\n\n\nexport interface CollectionAPICreator<Database> {\n    name?: string;\n    db$?: Observable<RxDatabase<Database>>;\n    collectionEvictTime$: Observable<number>;\n    collectionSkipDocuments$: Observable<number>;\n    synchroniseService?: SyncCollectionService;\n    attachments?: {};\n    options?: {};\n    migrationStrategies?: {};\n    autoMigrate?: boolean;\n    ngZone: NgZone;\n}\n\n\nexport interface PwaCollectionAPICreator<Database> {\n    collectionApiCreator: Partial<CollectionAPICreator<Database>>;\n    restApiCreator: Partial<RestAPICreator>;\n    cacheTimeInSeconds: number;\n}\n\n\nexport class RestAPI<T extends Datatype> {\n\n    private cache: Map<string, Observable<T> | Observable<ListResponse<T>>> = new Map();\n\n    constructor(private config: RestAPICreator) {}\n\n    ////////////////\n    // CRUD\n    ////////////////\n\n    get(url: string, params?: HttpParams): Observable<T> {\n\n        const paramsUrl = params?.keys().map(k => `${k}=${params.getAll(k).join(',')}`).join('&');\n\n        const cacheKey = `${url}${paramsUrl ? '?' + paramsUrl : ''}`;\n\n        const req = of(true).pipe(\n\n            tap(() => { if (!!this.config.apiProgress) { this.config.apiProgress.add(); } }),\n\n            switchMap(() => this.config.httpClient.get(cacheKey)),\n\n            timeout(7500),\n\n            finalize(() => {\n\n                if (!!this.config.apiProgress) { this.config.apiProgress.remove(); }\n\n                if (this.cache.has(cacheKey)) { this.cache.delete(cacheKey); }\n\n            }),\n\n            shareReplay(1),\n\n        ) as Observable<T>;\n\n        if (!this.cache.has(cacheKey)) { this.cache.set(cacheKey, req); }\n\n        return this.cache.get(cacheKey) as Observable<T>;\n    }\n\n    post(url: string, data: Partial<T> | FormData): Observable<T> {\n\n        const cacheKey = url;\n\n        const req = of(true).pipe(\n\n            tap(() => { if (!!this.config.apiProgress) { this.config.apiProgress.add(); } }),\n\n            switchMap(() => this.config.httpClient.post(url, data)),\n\n            finalize(() => {\n\n                if (!!this.config.apiProgress) { this.config.apiProgress.remove(); }\n\n                if (this.cache.has(cacheKey)) { this.cache.delete(cacheKey); }\n            }),\n\n            shareReplay(1),\n\n        )  as Observable<T>;\n\n        if (!this.cache.has(cacheKey)) { this.cache.set(cacheKey, req); }\n\n        return this.cache.get(cacheKey) as Observable<T>;\n    }\n\n    put(url: string, data: Partial<T> | FormData): Observable<T> {\n\n        const cacheKey = url;\n\n        const req = of(true).pipe(\n\n            tap(() => { if (!!this.config.apiProgress) { this.config.apiProgress.add(); } }),\n\n            switchMap(() => this.config.httpClient.put(url, data)),\n\n            finalize(() => {\n\n                if (!!this.config.apiProgress) { this.config.apiProgress.remove(); }\n\n                if (this.cache.has(cacheKey)) { this.cache.delete(cacheKey); }\n            }),\n\n            shareReplay(1),\n\n        ) as Observable<T>;\n\n        if (!this.cache.has(cacheKey)) { this.cache.set(cacheKey, req); }\n\n        return this.cache.get(cacheKey) as Observable<T>;\n    }\n\n    list(url: string, params?: HttpParams): Observable<ListResponse<T>> {\n\n        const paramsUrl = params?.keys().map(k => `${k}=${params.getAll(k).join(',')}`).join('&');\n\n        const cacheKey = `${url}${paramsUrl ? '?' + paramsUrl : ''}`;\n\n        const req = of(true).pipe(\n\n            tap(() => { if (!!this.config.apiProgress) { this.config.apiProgress.add(); } }),\n\n            switchMap(() => this.config.httpClient.get(cacheKey)),\n\n            timeout(7500),\n\n            finalize(() => {\n\n                if (!!this.config.apiProgress) { this.config.apiProgress.remove(); }\n\n                if (this.cache.has(cacheKey)) { this.cache.delete(cacheKey); }\n            }),\n\n            shareReplay(1),\n\n        ) as Observable<ListResponse<T>>;\n\n        if (!this.cache.has(cacheKey)) { this.cache.set(cacheKey, req); }\n\n        return this.cache.get(cacheKey) as Observable<ListResponse<T>>;\n    }\n\n    delete(url: string): Observable<any> {\n\n        const cacheKey = url;\n\n        const req = of(true).pipe(\n\n            tap(() => { if (!!this.config.apiProgress) { this.config.apiProgress.add(); } }),\n\n            switchMap(() => this.config.httpClient.delete(url)),\n\n            finalize(() => {\n\n                if (!!this.config.apiProgress) { this.config.apiProgress.remove(); }\n\n                if (this.cache.has(cacheKey)) { this.cache.delete(cacheKey); }\n            }),\n\n            shareReplay(1),\n\n        ) as Observable<any>;\n\n        if (!this.cache.has(cacheKey)) { this.cache.set(cacheKey, req); }\n\n        return this.cache.get(cacheKey);\n    }\n}\n\n\nexport class CollectionAPI<T extends Datatype, Database> {\n\n    private config: CollectionAPICreator<Database> = {\n        name: 'no_name_collection_api',\n        db$: of(),\n        collectionEvictTime$: of(86400),\n        collectionSkipDocuments$: of(500),\n        attachments: {},\n        options: {},\n        migrationStrategies: {},\n        autoMigrate: true,\n        ngZone: null\n    };\n\n    // tslint:disable-next-line: variable-name\n    private _collection$: Observable<PwaCollection<T>>;\n\n    private cache = new Map();\n\n    constructor(private _config: Partial<CollectionAPICreator<Database>>) {\n\n        this.config = {\n            ...this.config,\n            ...this._config\n        };\n    }\n\n    get collection$(): Observable<PwaCollection<T>> {\n\n        if (this._collection$) { return this._collection$; }\n\n        const collectionSchema = {};\n\n        collectionSchema[this.config.name] = getCollectionCreator(\n            this.config.name,\n            pwaCollectionMethods,\n            pwaDocMethods,\n            this.config.attachments,\n            this.config.options,\n            this.config.migrationStrategies,\n            this.config.autoMigrate\n        );\n\n        this._collection$ = this.config.db$.pipe(\n\n            switchMap(db => {\n\n                if (this.config.name in db) { return of(db[this.config.name]); }\n\n                return combineLatest([\n                    from(db.addCollections(collectionSchema as { [key: string]: RxCollectionCreator; })),\n                    this.config.collectionEvictTime$,\n                    this.config.collectionSkipDocuments$\n                ]).pipe(\n\n                    take(1),\n\n                    switchMap(([collections, collectionEvictTime, collectionSkipDocuments]) => {\n\n                        if (this.config.synchroniseService) {\n\n                            const data: SynchroniseDocType = {\n                                id: db.name + '-' + this.config.name,\n                                databaseOptions: JSON.stringify({\n                                    name: db.name,\n                                    eventReduce: db.eventReduce,\n                                    multiInstance: db.multiInstance,\n                                    options: db.options,\n                                    password: db.password,\n                                }),\n                                collectionEvictTime,\n                                collectionSkipDocuments,\n                                collectionName: this.config.name,\n                                collectionOptions: JSON.stringify({\n                                    name: this.config.name,\n                                    schema: getSchema(this.config.name),\n                                    attachments: collections[this.config.name].attachments,\n                                    autoMigrate: true,\n                                    cacheReplacementPolicy: collections[this.config.name].cacheReplacementPolicy,\n                                    methods: collections[this.config.name].methods,\n                                    migrationStrategies: collections[this.config.name].migrationStrategies,\n                                    options: collections[this.config.name].options,\n                                    statics: collections[this.config.name].statics,\n                                })\n                            };\n\n                            // add collection to synchronise collection service\n                            return this.config.synchroniseService.addSynchroniseDocument(data).pipe(\n\n                                map(() => collections[this.config.name] as PwaCollection<T>)\n                            );\n\n                        } else {\n\n                            return of(collections).pipe(\n\n                                map(() => collections[this.config.name] as PwaCollection<T>)\n                            );\n                        }\n\n                    })\n                );\n            }),\n\n            tap(col => col.preSave((plainData, rxDocument) => {\n\n                // modify anyField before saving\n                // add hook in synchronise-collection as well\n                plainData.createdAt = plainData.createdAt || new Date().getTime();\n                plainData.updatedAt = new Date().getTime();\n\n            }, false)),\n\n            shareReplay(1),\n\n            take(1),\n        );\n\n        return this._collection$;\n    }\n\n    makeTenantUrl(tenant: string, url: string): string {\n\n        return `${tenant}____${url}`;\n    }\n\n    filterDocs(\n        docs: Observable<PwaDocument<T>[]>,\n        url: string,\n        params?: HttpParams,\n        validQueryKeys = []\n    ): Observable<CollectionListResponse<T>> {\n\n        return docs.pipe(\n\n            // map(v => v.sort((a, b) => b.time - a.time)),\n\n            map(allDocs => queryFilter(validQueryKeys, params, allDocs)),\n\n            map(allDocs => {\n\n                // tslint:disable-next-line: radix\n                const start = parseInt(params?.get('offset') || '0');\n\n                // tslint:disable-next-line: radix\n                const end = start + parseInt(params?.get('limit') || '100');\n\n                const next = allDocs.length - end > 0 ? `${url}?${params.set('offset', end.toString()).toString()}` : null;\n\n                const previous = start > 0 ? `${url}?${params.set('offset', start.toString()).toString()}` : null;\n\n                return {next, previous, results: allDocs.slice(start, end), count: allDocs.length};\n            }),\n\n        );\n    }\n\n    ////////////////\n    // CRUD\n    ////////////////\n\n    getReactive(tenant: string, url: string): Observable<PwaDocument<T>> {\n\n        const cacheKey = tenant + url;\n\n        if (!this.cache.has(cacheKey)) {\n\n            const doc = this.collection$.pipe(\n\n                switchMap(col => col.findOne({selector: { tenantUrl: {$eq: this.makeTenantUrl(tenant, url)}}}).$),\n\n                shareReplay(1),\n\n                enterZone<PwaDocument<T>>(this.config.ngZone),\n            );\n\n            this.cache.set(cacheKey, doc);\n        }\n\n        return this.cache.get(cacheKey);\n\n    }\n\n    get(tenant: string, url: string): Observable<PwaDocument<T>> {\n\n        return this.getReactive(tenant, url).pipe(\n\n            take(1),\n        );\n    }\n\n    listReactive(tenant: string, url: string, params?: HttpParams, validQueryKeys = []): Observable<CollectionListResponse<T>> {\n\n        const cacheKey = tenant + url;\n\n        if (!this.cache.has(cacheKey)) {\n\n            const docs = this.collection$.pipe(\n\n                switchMap(col => col.find({ selector: {matchUrl: {$regex: new RegExp(`^${this.makeTenantUrl(tenant, url)}.*`)}} }).$),\n\n                shareReplay(1),\n            );\n\n            this.cache.set(cacheKey, docs);\n        }\n\n        return this.filterDocs(this.cache.get(cacheKey), url, params, validQueryKeys).pipe(\n\n            enterZone<CollectionListResponse<T>>(this.config.ngZone),\n        );\n    }\n\n    list(tenant: string, url: string, params?: HttpParams, validQueryKeys = []): Observable<CollectionListResponse<T>> {\n\n        return this.listReactive(tenant, url, params, validQueryKeys).pipe(\n\n            take(1)\n        );\n    }\n\n    /////////////\n    // Actions\n    /////////////\n\n    post(tenant: string, url: string, data: T, fileFields: FileConfig[] = []): Observable<PwaDocument<T>> {\n\n        return this.collection$.pipe(\n\n            switchMap(col => col.atomicUpsert({\n                tenantUrl: `${this.makeTenantUrl(tenant, url)}/${data.id}`,\n                matchUrl: `${this.makeTenantUrl(tenant, url)}/${data.id}`,\n                method: 'POST',\n                data,\n                error: null,\n                time: new Date().getTime(),\n                fileFields\n            })),\n        );\n    }\n\n    put(tenant: string, url: string, data: T, fileFields: FileConfig[] = []): Observable<PwaDocument<T>> {\n\n        return combineLatest([this.get(tenant, url), this.collection$]).pipe(\n\n            switchMap(([doc, col]) => {\n\n                if (doc) {\n\n                    return doc.atomicPatch({\n                        method: doc.method !== 'POST' ? 'PUT' : doc.method,\n                        data,\n                        error: null,\n                        time: doc.method === 'GET' ? new Date().getTime() : doc.time,\n                        fileFields\n                    });\n\n                } else {\n\n                    const docData: Partial<PwaDocType<T>> = {\n                        tenantUrl: this.makeTenantUrl(tenant, url),\n                        matchUrl: this.makeTenantUrl(tenant, url),\n                        data,\n                        method: 'PUT',\n                        error: null,\n                        time: new Date().getTime(),\n                        fileFields\n                    };\n\n                    return col.atomicUpsert(docData);\n                }\n\n            }),\n        );\n    }\n\n    delete(tenant: string, url: string, data?: T, fileFields: FileConfig[] = []): Observable<boolean | PwaDocument<T>> {\n\n        return this.get(tenant, url).pipe(\n\n            switchMap(doc => {\n\n                if (doc && doc.method === 'POST') {\n\n                    return from(doc.remove());\n\n                } else if (doc && (doc.method === 'PUT' || doc.method === 'DELETE')) {\n\n                    return from(doc.atomicPatch({method: 'DELETE', error: null}));\n\n                }  else if (doc) {\n\n                    return from(doc.atomicPatch({method: 'DELETE', error: null, time: new Date().getTime()}));\n\n                } else if (data) {\n\n                    const docData: Partial<PwaDocType<T>> = {\n                        tenantUrl: this.makeTenantUrl(tenant, url),\n                        matchUrl: this.makeTenantUrl(tenant, url),\n                        data,\n                        method: 'DELETE',\n                        error: null,\n                        time: new Date().getTime(),\n                        fileFields\n                    };\n\n                    return this.collection$.pipe(\n\n                        switchMap(col => col.atomicUpsert(docData))\n                    );\n\n                } else {\n\n                    return throwError('Document not found while deleting in database');\n                }\n\n            })\n        );\n    }\n\n    ///////////////////\n    // Conflict Actions\n    ///////////////////\n\n    createNew(tenant: string, url: string): Observable<PwaDocument<T>> {\n\n        return this.get(tenant, url).pipe(\n\n            switchMap(doc => {\n\n                if (!!doc && doc.method !== 'GET' && doc.method !== 'POST') {\n\n                    return from(doc.atomicPatch({method:'POST'}));\n                }\n\n                return throwError(`Cannot duplicate this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n            }),\n\n        );\n    }\n\n    deleteConflict(tenant: string, url: string): Observable<boolean> {\n\n        return this.get(tenant, url).pipe(\n\n            switchMap(doc => {\n\n                if (!!doc && doc.method !== 'GET') {\n\n                    return from(doc.remove());\n                }\n\n                return throwError(`Cannot delete this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n            }),\n        );\n    }\n}\n\n\nexport class PwaCollectionAPI<T extends Datatype, Database> {\n\n    private config: PwaCollectionAPICreator<Database> = {\n        restApiCreator: {},\n        collectionApiCreator: {\n            name: 'no_name_pwa_collection_api',\n            db$: of(),\n            collectionEvictTime$: of(86400),\n            collectionSkipDocuments$: of(500),\n            attachments: {},\n            options: {},\n            migrationStrategies: {},\n            autoMigrate: true,\n        },\n        cacheTimeInSeconds: 120\n    };\n\n    collectionAPI: CollectionAPI<T, Database>;\n    restAPI: RestAPI<T>;\n\n    constructor(private _config: Partial<PwaCollectionAPICreator<Database>>, ) {\n\n        this.config = {\n            ...this.config,\n            ...this._config,\n            restApiCreator: {\n                ...this.config.restApiCreator,\n                ...this._config.restApiCreator\n            },\n            collectionApiCreator: {\n                ...this.config.collectionApiCreator,\n                ...this._config.collectionApiCreator\n            }\n        };\n\n        this.restAPI        = new RestAPI(this.config.restApiCreator);\n        this.collectionAPI  = new CollectionAPI(this.config.collectionApiCreator);\n    }\n\n    //////////////\n    // Retrieve\n    //////////////\n\n    downloadRetrieve(doc: PwaDocument<T> | null, tenant: string, url: string, params?: HttpParams): Observable<PwaDocument<T> | null> {\n\n        if (!!doc && doc.method !== 'GET') { return of(doc); }\n\n        // check if document is within cacheTime\n        const currentTime = new Date().getTime();\n\n        if (!!doc && doc.time >= (currentTime - (this.config.cacheTimeInSeconds * 1000))) { return of(doc); }\n\n        return combineLatest([this.restAPI.get(url, params), this.collectionAPI.collection$]).pipe(\n\n            switchMap(([res, col]) => col.atomicUpsert({\n                tenantUrl: this.collectionAPI.makeTenantUrl(tenant, url),\n                matchUrl: this.collectionAPI.makeTenantUrl(tenant, url),\n                data: res,\n                method: 'GET',\n                error: null,\n                time: new Date().getTime(),\n            })),\n\n            catchError(() => of(doc)),\n        );\n    }\n\n    getReactive(tenant: string, url: string, params?: HttpParams, wait = false): Observable<PwaDocument<T>> {\n\n        return this.collectionAPI.get(tenant, url).pipe(\n\n            switchMap(doc => wait ?\n                this.downloadRetrieve(doc, tenant, url, params) :\n                this.downloadRetrieve(doc, tenant, url, params).pipe(startWith(null))\n            ),\n\n            switchMap(() => this.collectionAPI.getReactive(tenant, url)),\n\n            auditTime(1000 / 60),\n\n        );\n    }\n\n    get(tenant: string, url: string, params?: HttpParams): Observable<PwaDocument<T>> {\n\n        return this.getReactive(tenant, url, params, true).pipe(\n\n            take(1)\n        );\n    }\n\n    //////////////\n    // List\n    //////////////\n\n    // tslint:disable-next-line: max-line-length\n    downloadList(res: CollectionListResponse<T>, tenant: string, url: string, params?: HttpParams, indexedbUrl = (data: T, tenantUrl: string) => `${tenantUrl}/${data.id}`): Observable<ListResponse<T>> {\n\n        const currentTime = new Date().getTime();\n\n        // tslint:disable-next-line: radix\n        const limit = parseInt(params?.get('limit') || '100');\n\n        ////////////////////////////////////////////////////////////////\n        // Exclude recents or locally unsynced data in the api results\n        ////////////////////////////////////////////////////////////////\n\n        const ids = res.results\n            // tslint:disable-next-line: max-line-length\n            .filter(v => v.method === 'PUT' || v.method === 'DELETE' || (v.method === 'GET' && v.time >= (currentTime - (this.config.cacheTimeInSeconds * 1000))))\n            .map(v => v.data.id);\n\n        if (ids.length === limit) {\n\n            // pass if all results are excluded\n            return of({next: res.next, previous: res.previous, results: /*res.results.map(r => r.toJSON().data)*/ []});\n        }\n\n        params = params || new CustomHttpParams();\n\n        if (ids.length > 0) {\n\n            if (params.has('exclude:id.in')) {\n\n                params.delete('exclude:id.in');\n\n            }\n\n            params = params.append('exclude:id.in', ids.join(','));\n\n            params = params.set('limit', (limit - ids.length).toString());\n\n        }\n\n        return this.restAPI.list(url, params).pipe(\n\n            catchError(() => of({next: null, previous: null, results: []} as ListResponse<T>)),\n\n            switchMap(networkRes => this.collectionAPI.collection$.pipe(\n\n                switchMap(col => {\n\n                    // map network data to doctype\n                    const atomicWrites = networkRes.results\n                        .map(data => ({\n                            tenantUrl: indexedbUrl(data, this.collectionAPI.makeTenantUrl(tenant, url)),\n                            matchUrl: indexedbUrl(data, this.collectionAPI.makeTenantUrl(tenant, url)),\n                            data,\n                            method: 'GET',\n                            error: null,\n                            time: new Date().getTime(),\n                        })) as PwaDocType<T>[];\n\n                    if (atomicWrites.length > 0) {\n\n                        return from(col.bulkInsert(atomicWrites)).pipe(\n\n                            // tap(() => this.collectionAPI.triggerChange()),\n\n                            map(() => networkRes)\n                        );\n                    }\n\n                    return of(networkRes);\n                })\n            )),\n\n        );\n\n    }\n\n    listReactive(\n        tenant: string,\n        url: string,\n        params?: HttpParams,\n        validQueryKeys = [],\n        indexedbUrl = (data: T, tenantUrl: string) => `${tenantUrl}/${data.id}`,\n        wait = false\n    ): Observable<PwaListResponse<T>> {\n\n        return this.collectionAPI.list(tenant, url, params, validQueryKeys).pipe(\n\n            switchMap(idbRes => wait ?\n                this.downloadList(idbRes, tenant, url, params, indexedbUrl) :\n                this.downloadList(idbRes, tenant, url, params, indexedbUrl).pipe(startWith({next: null, previous: null, results: []}))),\n\n            switchMap((networkRes) => this.collectionAPI.listReactive(tenant, url, params, validQueryKeys).pipe(\n\n                map(res => ({\n                    next: networkRes?.next || res.next,\n                    previous: networkRes?.previous || res.previous,\n                    results: res.results\n                })),\n\n            )),\n\n        ) as Observable<PwaListResponse<T>>;\n\n    }\n\n    list(tenant: string, url: string, params?: HttpParams, validQueryKeys = [], indexedbUrl = (data: T, tenantUrl: string) => `${tenantUrl}/${data.id}`): Observable<PwaListResponse<T>> {\n\n        return this.listReactive(tenant, url, params, validQueryKeys, indexedbUrl, true).pipe(\n\n            take(1)\n        );\n\n    }\n}\n"]},"resolvedIds":{"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../definitions/document":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../definitions/collection":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/collection.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./filters.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/filters.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./operators.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./customParams.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":6222,"body":[{"type":"ImportDeclaration","start":0,"end":88,"specifiers":[{"type":"ImportSpecifier","start":9,"end":25,"imported":{"type":"Identifier","start":9,"end":25,"name":"createRxDatabase"},"local":{"type":"Identifier","start":9,"end":25,"name":"createRxDatabase"}},{"type":"ImportSpecifier","start":27,"end":38,"imported":{"type":"Identifier","start":27,"end":38,"name":"addRxPlugin"},"local":{"type":"Identifier","start":27,"end":38,"name":"addRxPlugin"}},{"type":"ImportSpecifier","start":40,"end":54,"imported":{"type":"Identifier","start":40,"end":54,"name":"addPouchPlugin"},"local":{"type":"Identifier","start":40,"end":54,"name":"addPouchPlugin"}},{"type":"ImportSpecifier","start":56,"end":73,"imported":{"type":"Identifier","start":56,"end":73,"name":"getRxStoragePouch"},"local":{"type":"Identifier","start":56,"end":73,"name":"getRxStoragePouch"}}],"source":{"type":"Literal","start":81,"end":87,"value":"rxdb","raw":"'rxdb'"}},{"type":"ImportDeclaration","start":89,"end":117,"specifiers":[{"type":"ImportSpecifier","start":98,"end":102,"imported":{"type":"Identifier","start":98,"end":102,"name":"from"},"local":{"type":"Identifier","start":98,"end":102,"name":"from"}}],"source":{"type":"Literal","start":110,"end":116,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":118,"end":197,"specifiers":[{"type":"ImportSpecifier","start":127,"end":130,"imported":{"type":"Identifier","start":127,"end":130,"name":"map"},"local":{"type":"Identifier","start":127,"end":130,"name":"map"}},{"type":"ImportSpecifier","start":132,"end":141,"imported":{"type":"Identifier","start":132,"end":141,"name":"switchMap"},"local":{"type":"Identifier","start":132,"end":141,"name":"switchMap"}},{"type":"ImportSpecifier","start":143,"end":152,"imported":{"type":"Identifier","start":143,"end":152,"name":"startWith"},"local":{"type":"Identifier","start":143,"end":152,"name":"startWith"}},{"type":"ImportSpecifier","start":154,"end":165,"imported":{"type":"Identifier","start":154,"end":165,"name":"shareReplay"},"local":{"type":"Identifier","start":154,"end":165,"name":"shareReplay"}},{"type":"ImportSpecifier","start":167,"end":172,"imported":{"type":"Identifier","start":167,"end":172,"name":"first"},"local":{"type":"Identifier","start":167,"end":172,"name":"first"}}],"source":{"type":"Literal","start":180,"end":196,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":198,"end":261,"specifiers":[{"type":"ImportSpecifier","start":207,"end":227,"imported":{"type":"Identifier","start":207,"end":227,"name":"RxDBEncryptionPlugin"},"local":{"type":"Identifier","start":207,"end":227,"name":"RxDBEncryptionPlugin"}}],"source":{"type":"Literal","start":235,"end":260,"value":"rxdb/plugins/encryption","raw":"'rxdb/plugins/encryption'"}},{"type":"ImportDeclaration","start":262,"end":334,"specifiers":[{"type":"ImportSpecifier","start":271,"end":295,"imported":{"type":"Identifier","start":271,"end":295,"name":"RxDBLeaderElectionPlugin"},"local":{"type":"Identifier","start":271,"end":295,"name":"RxDBLeaderElectionPlugin"}}],"source":{"type":"Literal","start":303,"end":333,"value":"rxdb/plugins/leader-election","raw":"'rxdb/plugins/leader-election'"}},{"type":"ImportDeclaration","start":335,"end":394,"specifiers":[{"type":"ImportSpecifier","start":344,"end":362,"imported":{"type":"Identifier","start":344,"end":362,"name":"RxDBValidatePlugin"},"local":{"type":"Identifier","start":344,"end":362,"name":"RxDBValidatePlugin"}}],"source":{"type":"Literal","start":370,"end":393,"value":"rxdb/plugins/validate","raw":"'rxdb/plugins/validate'"}},{"type":"ImportDeclaration","start":395,"end":456,"specifiers":[{"type":"ImportSpecifier","start":404,"end":423,"imported":{"type":"Identifier","start":404,"end":423,"name":"RxDBMigrationPlugin"},"local":{"type":"Identifier","start":404,"end":423,"name":"RxDBMigrationPlugin"}}],"source":{"type":"Literal","start":431,"end":455,"value":"rxdb/plugins/migration","raw":"'rxdb/plugins/migration'"}},{"type":"ExpressionStatement","start":457,"end":504,"expression":{"type":"CallExpression","start":457,"end":503,"callee":{"type":"Identifier","start":457,"end":471,"name":"addPouchPlugin"},"arguments":[{"type":"CallExpression","start":472,"end":502,"callee":{"type":"Identifier","start":472,"end":479,"name":"require"},"arguments":[{"type":"Literal","start":480,"end":501,"value":"pouchdb-adapter-idb","raw":"'pouchdb-adapter-idb'"}],"optional":false}],"optional":false}},{"type":"ExportNamedDeclaration","start":505,"end":1455,"declaration":{"type":"ClassDeclaration","start":512,"end":1455,"id":{"type":"Identifier","start":518,"end":536,"name":"PwaDatabaseService"},"superClass":null,"body":{"type":"ClassBody","start":537,"end":1455,"body":[{"type":"MethodDefinition","start":543,"end":603,"static":false,"computed":false,"key":{"type":"Identifier","start":543,"end":554,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":554,"end":603,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":555,"end":562,"name":"_config"}],"body":{"type":"BlockStatement","start":564,"end":603,"body":[{"type":"ExpressionStatement","start":574,"end":597,"expression":{"type":"AssignmentExpression","start":574,"end":596,"operator":"=","left":{"type":"MemberExpression","start":574,"end":586,"object":{"type":"ThisExpression","start":574,"end":578},"property":{"type":"Identifier","start":579,"end":586,"name":"_config"},"computed":false,"optional":false},"right":{"type":"Identifier","start":589,"end":596,"name":"_config"}}}]}}},{"type":"MethodDefinition","start":608,"end":1453,"static":false,"computed":false,"key":{"type":"Identifier","start":612,"end":615,"name":"db$"},"kind":"get","value":{"type":"FunctionExpression","start":615,"end":1453,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":618,"end":1453,"body":[{"type":"IfStatement","start":628,"end":684,"test":{"type":"MemberExpression","start":632,"end":641,"object":{"type":"ThisExpression","start":632,"end":636},"property":{"type":"Identifier","start":637,"end":641,"name":"_db$"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":643,"end":684,"body":[{"type":"ReturnStatement","start":657,"end":674,"argument":{"type":"MemberExpression","start":664,"end":673,"object":{"type":"ThisExpression","start":664,"end":668},"property":{"type":"Identifier","start":669,"end":673,"name":"_db$"},"computed":false,"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":693,"end":727,"expression":{"type":"CallExpression","start":693,"end":726,"callee":{"type":"Identifier","start":693,"end":704,"name":"addRxPlugin"},"arguments":[{"type":"Identifier","start":705,"end":725,"name":"RxDBEncryptionPlugin"}],"optional":false}},{"type":"ExpressionStatement","start":736,"end":774,"expression":{"type":"CallExpression","start":736,"end":773,"callee":{"type":"Identifier","start":736,"end":747,"name":"addRxPlugin"},"arguments":[{"type":"Identifier","start":748,"end":772,"name":"RxDBLeaderElectionPlugin"}],"optional":false}},{"type":"ExpressionStatement","start":783,"end":815,"expression":{"type":"CallExpression","start":783,"end":814,"callee":{"type":"Identifier","start":783,"end":794,"name":"addRxPlugin"},"arguments":[{"type":"Identifier","start":795,"end":813,"name":"RxDBValidatePlugin"}],"optional":false}},{"type":"ExpressionStatement","start":824,"end":857,"expression":{"type":"CallExpression","start":824,"end":856,"callee":{"type":"Identifier","start":824,"end":835,"name":"addRxPlugin"},"arguments":[{"type":"Identifier","start":836,"end":855,"name":"RxDBMigrationPlugin"}],"optional":false}},{"type":"VariableDeclaration","start":866,"end":912,"declarations":[{"type":"VariableDeclarator","start":872,"end":911,"id":{"type":"Identifier","start":872,"end":884,"name":"pouchAdapter"},"init":{"type":"CallExpression","start":887,"end":911,"callee":{"type":"Identifier","start":887,"end":904,"name":"getRxStoragePouch"},"arguments":[{"type":"Literal","start":905,"end":910,"value":"idb","raw":"'idb'"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":921,"end":1026,"expression":{"type":"SequenceExpression","start":921,"end":1025,"expressions":[{"type":"AssignmentExpression","start":921,"end":962,"operator":"=","left":{"type":"MemberExpression","start":921,"end":958,"object":{"type":"MemberExpression","start":921,"end":947,"object":{"type":"Identifier","start":921,"end":933,"name":"pouchAdapter"},"property":{"type":"Identifier","start":934,"end":947,"name":"pouchSettings"},"computed":false,"optional":false},"property":{"type":"Identifier","start":948,"end":958,"name":"revs_limit"},"computed":false,"optional":false},"right":{"type":"Literal","start":961,"end":962,"value":0,"raw":"0"}},{"type":"AssignmentExpression","start":976,"end":1025,"operator":"=","left":{"type":"MemberExpression","start":976,"end":1018,"object":{"type":"MemberExpression","start":976,"end":1002,"object":{"type":"Identifier","start":976,"end":988,"name":"pouchAdapter"},"property":{"type":"Identifier","start":989,"end":1002,"name":"pouchSettings"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1003,"end":1018,"name":"auto_compaction"},"computed":false,"optional":false},"right":{"type":"Literal","start":1021,"end":1025,"value":true,"raw":"true"}}]}},{"type":"ExpressionStatement","start":1035,"end":1421,"expression":{"type":"AssignmentExpression","start":1035,"end":1420,"operator":"=","left":{"type":"MemberExpression","start":1035,"end":1044,"object":{"type":"ThisExpression","start":1035,"end":1039},"property":{"type":"Identifier","start":1040,"end":1044,"name":"_db$"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1047,"end":1420,"callee":{"type":"MemberExpression","start":1047,"end":1309,"object":{"type":"CallExpression","start":1047,"end":1304,"callee":{"type":"Identifier","start":1047,"end":1051,"name":"from"},"arguments":[{"type":"CallExpression","start":1052,"end":1303,"callee":{"type":"Identifier","start":1052,"end":1068,"name":"createRxDatabase"},"arguments":[{"type":"ObjectExpression","start":1069,"end":1302,"properties":[{"type":"Property","start":1083,"end":1096,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1083,"end":1087,"name":"name"},"value":{"type":"Literal","start":1089,"end":1096,"value":"pwadb","raw":"'pwadb'"},"kind":"init"},{"type":"Property","start":1110,"end":1131,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1110,"end":1117,"name":"storage"},"value":{"type":"Identifier","start":1119,"end":1131,"name":"pouchAdapter"},"kind":"init"},{"type":"Property","start":1145,"end":1189,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1145,"end":1153,"name":"password"},"value":{"type":"Literal","start":1155,"end":1189,"value":"ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF","raw":"'ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF'"},"kind":"init"},{"type":"Property","start":1203,"end":1222,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1203,"end":1216,"name":"multiInstance"},"value":{"type":"Literal","start":1218,"end":1222,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":1236,"end":1253,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1236,"end":1247,"name":"eventReduce"},"value":{"type":"Literal","start":1249,"end":1253,"value":true,"raw":"true"},"kind":"init"},{"type":"SpreadElement","start":1267,"end":1292,"argument":{"type":"MemberExpression","start":1270,"end":1292,"object":{"type":"MemberExpression","start":1270,"end":1282,"object":{"type":"ThisExpression","start":1270,"end":1274},"property":{"type":"Identifier","start":1275,"end":1282,"name":"_config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1283,"end":1292,"name":"dbCreator"},"computed":false,"optional":false}}]}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1305,"end":1309,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1310,"end":1394,"callee":{"type":"Identifier","start":1310,"end":1319,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":1320,"end":1393,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1321,"end":1323,"name":"db"}],"body":{"type":"CallExpression","start":1328,"end":1393,"callee":{"type":"MemberExpression","start":1328,"end":1361,"object":{"type":"CallExpression","start":1328,"end":1356,"callee":{"type":"Identifier","start":1328,"end":1332,"name":"from"},"arguments":[{"type":"CallExpression","start":1333,"end":1355,"callee":{"type":"MemberExpression","start":1333,"end":1353,"object":{"type":"Identifier","start":1333,"end":1335,"name":"db"},"property":{"type":"Identifier","start":1336,"end":1353,"name":"waitForLeadership"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1357,"end":1361,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1362,"end":1377,"callee":{"type":"Identifier","start":1362,"end":1371,"name":"startWith"},"arguments":[{"type":"Literal","start":1372,"end":1376,"value":null,"raw":"null"}],"optional":false},{"type":"CallExpression","start":1379,"end":1392,"callee":{"type":"Identifier","start":1379,"end":1382,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1383,"end":1391,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"Identifier","start":1389,"end":1391,"name":"db"}}],"optional":false}],"optional":false}}],"optional":false},{"type":"CallExpression","start":1396,"end":1410,"callee":{"type":"Identifier","start":1396,"end":1407,"name":"shareReplay"},"arguments":[{"type":"Literal","start":1408,"end":1409,"value":1,"raw":"1"}],"optional":false},{"type":"CallExpression","start":1412,"end":1419,"callee":{"type":"Identifier","start":1412,"end":1417,"name":"first"},"arguments":[],"optional":false}],"optional":false}}},{"type":"ReturnStatement","start":1430,"end":1447,"argument":{"type":"MemberExpression","start":1437,"end":1446,"object":{"type":"ThisExpression","start":1437,"end":1441},"property":{"type":"Identifier","start":1442,"end":1446,"name":"_db$"},"computed":false,"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWJhc2UucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvZGF0YWJhc2UucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBaUMsY0FBYyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3ZILE9BQU8sRUFBRSxJQUFJLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDeEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN4RSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUU3RCxjQUFjLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztBQVEvQyxNQUFNLE9BQU8sa0JBQWtCO0lBSzNCLFlBQW9CLE9BQTJCO1FBQTNCLFlBQU8sR0FBUCxPQUFPLENBQW9CO0lBQUcsQ0FBQztJQUVuRCxJQUFJLEdBQUc7UUFFSCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FBRTtRQUdwQyxXQUFXLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUdsQyxXQUFXLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUd0QyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUdoQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUVqQyxNQUFNLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5QyxZQUFZLENBQUMsYUFBYSxDQUFDLFVBQVUsR0FBUyxDQUFDO1lBQy9DLFlBQVksQ0FBQyxhQUFhLENBQUMsZUFBZSxHQUFJLElBQUksQ0FBQztRQUVuRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztZQUM5QixJQUFJLEVBQUUsT0FBTztZQUNiLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLFFBQVEsRUFBRSxrQ0FBa0M7WUFDNUMsYUFBYSxFQUFFLElBQUk7WUFDbkIsV0FBVyxFQUFFLElBQUk7WUFDakIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVM7U0FDNUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUVKLFNBQVMsQ0FBQyxDQUFDLEVBQU8sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUVwRCxTQUFTLENBQUMsSUFBSSxDQUFDLEVBRWYsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUNoQixDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUVkLEtBQUssRUFBRSxDQUVWLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFFckIsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUnhEYXRhYmFzZSwgYWRkUnhQbHVnaW4sIFJ4RGF0YWJhc2UsIFJ4RGF0YWJhc2VDcmVhdG9yLCBhZGRQb3VjaFBsdWdpbiwgZ2V0UnhTdG9yYWdlUG91Y2ggfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGZyb20sIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCwgc3dpdGNoTWFwLCBzdGFydFdpdGgsIHNoYXJlUmVwbGF5LCBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFJ4REJFbmNyeXB0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2VuY3J5cHRpb24nO1xuaW1wb3J0IHsgUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2xlYWRlci1lbGVjdGlvbic7XG5pbXBvcnQgeyBSeERCVmFsaWRhdGVQbHVnaW4gfSBmcm9tICdyeGRiL3BsdWdpbnMvdmFsaWRhdGUnO1xuaW1wb3J0IHsgUnhEQk1pZ3JhdGlvblBsdWdpbiB9IGZyb20gJ3J4ZGIvcGx1Z2lucy9taWdyYXRpb24nO1xuXG5hZGRQb3VjaFBsdWdpbihyZXF1aXJlKCdwb3VjaGRiLWFkYXB0ZXItaWRiJykpO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHdhRGF0YWJhc2VDcmVhdG9yIHtcbiAgICBkYkNyZWF0b3I6IFBhcnRpYWw8UnhEYXRhYmFzZUNyZWF0b3I+O1xufVxuXG5cbmV4cG9ydCBjbGFzcyBQd2FEYXRhYmFzZVNlcnZpY2U8VD4ge1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB2YXJpYWJsZS1uYW1lXG4gICAgcHJpdmF0ZSBfZGIkOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8VD4+O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfY29uZmlnOiBQd2FEYXRhYmFzZUNyZWF0b3IpIHt9XG5cbiAgICBnZXQgZGIkKCk6IE9ic2VydmFibGU8UnhEYXRhYmFzZTxUPj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9kYiQpIHsgcmV0dXJuIHRoaXMuX2RiJDsgfVxuXG4gICAgICAgIC8vIGFkZCBlbmNyeXB0aW9uIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCRW5jcnlwdGlvblBsdWdpbik7XG5cbiAgICAgICAgLy8gYWRkIGxlYWRlciBlbGVjdGlvbiBwbHVnaW5cbiAgICAgICAgYWRkUnhQbHVnaW4oUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luKTtcblxuICAgICAgICAvLyBhZGQgc2NoZW1hIHZhbGlkYXRlIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCVmFsaWRhdGVQbHVnaW4pO1xuXG4gICAgICAgIC8vIGFkZCBtaWdyYXRpb24gcGx1Z2luXG4gICAgICAgIGFkZFJ4UGx1Z2luKFJ4REJNaWdyYXRpb25QbHVnaW4pO1xuXG4gICAgICAgIGNvbnN0IHBvdWNoQWRhcHRlciA9IGdldFJ4U3RvcmFnZVBvdWNoKCdpZGInKTtcblxuICAgICAgICBwb3VjaEFkYXB0ZXIucG91Y2hTZXR0aW5ncy5yZXZzX2xpbWl0ICAgICAgID0gMCxcbiAgICAgICAgcG91Y2hBZGFwdGVyLnBvdWNoU2V0dGluZ3MuYXV0b19jb21wYWN0aW9uICA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZGIkID0gZnJvbShjcmVhdGVSeERhdGFiYXNlKHtcbiAgICAgICAgICAgIG5hbWU6ICdwd2FkYicsXG4gICAgICAgICAgICBzdG9yYWdlOiBwb3VjaEFkYXB0ZXIsXG4gICAgICAgICAgICBwYXNzd29yZDogJ3ViVDZMSUw3bmUyYmRwemUwVjFEYWVPR0tLcVlNV1ZGJyxcbiAgICAgICAgICAgIG11bHRpSW5zdGFuY2U6IHRydWUsXG4gICAgICAgICAgICBldmVudFJlZHVjZTogdHJ1ZSxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZy5kYkNyZWF0b3JcbiAgICAgICAgfSkpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoZGI6IGFueSkgPT4gZnJvbShkYi53YWl0Rm9yTGVhZGVyc2hpcCgpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKG51bGwpLFxuXG4gICAgICAgICAgICAgICAgbWFwKCgpID0+IGRiKSxcbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9kYiQ7XG5cbiAgICB9XG5cbn1cbiJdfQ==","start":1456,"end":6222}]},"code":"import { createRxDatabase, addRxPlugin, addPouchPlugin, getRxStoragePouch } from 'rxdb';\nimport { from } from 'rxjs';\nimport { map, switchMap, startWith, shareReplay, first } from 'rxjs/operators';\nimport { RxDBEncryptionPlugin } from 'rxdb/plugins/encryption';\nimport { RxDBLeaderElectionPlugin } from 'rxdb/plugins/leader-election';\nimport { RxDBValidatePlugin } from 'rxdb/plugins/validate';\nimport { RxDBMigrationPlugin } from 'rxdb/plugins/migration';\naddPouchPlugin(require('pouchdb-adapter-idb'));\nexport class PwaDatabaseService {\n    constructor(_config) {\n        this._config = _config;\n    }\n    get db$() {\n        if (this._db$) {\n            return this._db$;\n        }\n        addRxPlugin(RxDBEncryptionPlugin);\n        addRxPlugin(RxDBLeaderElectionPlugin);\n        addRxPlugin(RxDBValidatePlugin);\n        addRxPlugin(RxDBMigrationPlugin);\n        const pouchAdapter = getRxStoragePouch('idb');\n        pouchAdapter.pouchSettings.revs_limit = 0,\n            pouchAdapter.pouchSettings.auto_compaction = true;\n        this._db$ = from(createRxDatabase({\n            name: 'pwadb',\n            storage: pouchAdapter,\n            password: 'ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF',\n            multiInstance: true,\n            eventReduce: true,\n            ...this._config.dbCreator\n        })).pipe(switchMap((db) => from(db.waitForLeadership()).pipe(startWith(null), map(() => db))), shareReplay(1), first());\n        return this._db$;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWJhc2UucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvZGF0YWJhc2UucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBaUMsY0FBYyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3ZILE9BQU8sRUFBRSxJQUFJLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDeEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN4RSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUU3RCxjQUFjLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztBQVEvQyxNQUFNLE9BQU8sa0JBQWtCO0lBSzNCLFlBQW9CLE9BQTJCO1FBQTNCLFlBQU8sR0FBUCxPQUFPLENBQW9CO0lBQUcsQ0FBQztJQUVuRCxJQUFJLEdBQUc7UUFFSCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FBRTtRQUdwQyxXQUFXLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUdsQyxXQUFXLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUd0QyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUdoQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUVqQyxNQUFNLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5QyxZQUFZLENBQUMsYUFBYSxDQUFDLFVBQVUsR0FBUyxDQUFDO1lBQy9DLFlBQVksQ0FBQyxhQUFhLENBQUMsZUFBZSxHQUFJLElBQUksQ0FBQztRQUVuRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztZQUM5QixJQUFJLEVBQUUsT0FBTztZQUNiLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLFFBQVEsRUFBRSxrQ0FBa0M7WUFDNUMsYUFBYSxFQUFFLElBQUk7WUFDbkIsV0FBVyxFQUFFLElBQUk7WUFDakIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVM7U0FDNUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUVKLFNBQVMsQ0FBQyxDQUFDLEVBQU8sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUVwRCxTQUFTLENBQUMsSUFBSSxDQUFDLEVBRWYsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUNoQixDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUVkLEtBQUssRUFBRSxDQUVWLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFFckIsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUnhEYXRhYmFzZSwgYWRkUnhQbHVnaW4sIFJ4RGF0YWJhc2UsIFJ4RGF0YWJhc2VDcmVhdG9yLCBhZGRQb3VjaFBsdWdpbiwgZ2V0UnhTdG9yYWdlUG91Y2ggfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGZyb20sIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCwgc3dpdGNoTWFwLCBzdGFydFdpdGgsIHNoYXJlUmVwbGF5LCBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFJ4REJFbmNyeXB0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2VuY3J5cHRpb24nO1xuaW1wb3J0IHsgUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2xlYWRlci1lbGVjdGlvbic7XG5pbXBvcnQgeyBSeERCVmFsaWRhdGVQbHVnaW4gfSBmcm9tICdyeGRiL3BsdWdpbnMvdmFsaWRhdGUnO1xuaW1wb3J0IHsgUnhEQk1pZ3JhdGlvblBsdWdpbiB9IGZyb20gJ3J4ZGIvcGx1Z2lucy9taWdyYXRpb24nO1xuXG5hZGRQb3VjaFBsdWdpbihyZXF1aXJlKCdwb3VjaGRiLWFkYXB0ZXItaWRiJykpO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHdhRGF0YWJhc2VDcmVhdG9yIHtcbiAgICBkYkNyZWF0b3I6IFBhcnRpYWw8UnhEYXRhYmFzZUNyZWF0b3I+O1xufVxuXG5cbmV4cG9ydCBjbGFzcyBQd2FEYXRhYmFzZVNlcnZpY2U8VD4ge1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB2YXJpYWJsZS1uYW1lXG4gICAgcHJpdmF0ZSBfZGIkOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8VD4+O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfY29uZmlnOiBQd2FEYXRhYmFzZUNyZWF0b3IpIHt9XG5cbiAgICBnZXQgZGIkKCk6IE9ic2VydmFibGU8UnhEYXRhYmFzZTxUPj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9kYiQpIHsgcmV0dXJuIHRoaXMuX2RiJDsgfVxuXG4gICAgICAgIC8vIGFkZCBlbmNyeXB0aW9uIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCRW5jcnlwdGlvblBsdWdpbik7XG5cbiAgICAgICAgLy8gYWRkIGxlYWRlciBlbGVjdGlvbiBwbHVnaW5cbiAgICAgICAgYWRkUnhQbHVnaW4oUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luKTtcblxuICAgICAgICAvLyBhZGQgc2NoZW1hIHZhbGlkYXRlIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCVmFsaWRhdGVQbHVnaW4pO1xuXG4gICAgICAgIC8vIGFkZCBtaWdyYXRpb24gcGx1Z2luXG4gICAgICAgIGFkZFJ4UGx1Z2luKFJ4REJNaWdyYXRpb25QbHVnaW4pO1xuXG4gICAgICAgIGNvbnN0IHBvdWNoQWRhcHRlciA9IGdldFJ4U3RvcmFnZVBvdWNoKCdpZGInKTtcblxuICAgICAgICBwb3VjaEFkYXB0ZXIucG91Y2hTZXR0aW5ncy5yZXZzX2xpbWl0ICAgICAgID0gMCxcbiAgICAgICAgcG91Y2hBZGFwdGVyLnBvdWNoU2V0dGluZ3MuYXV0b19jb21wYWN0aW9uICA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZGIkID0gZnJvbShjcmVhdGVSeERhdGFiYXNlKHtcbiAgICAgICAgICAgIG5hbWU6ICdwd2FkYicsXG4gICAgICAgICAgICBzdG9yYWdlOiBwb3VjaEFkYXB0ZXIsXG4gICAgICAgICAgICBwYXNzd29yZDogJ3ViVDZMSUw3bmUyYmRwemUwVjFEYWVPR0tLcVlNV1ZGJyxcbiAgICAgICAgICAgIG11bHRpSW5zdGFuY2U6IHRydWUsXG4gICAgICAgICAgICBldmVudFJlZHVjZTogdHJ1ZSxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZy5kYkNyZWF0b3JcbiAgICAgICAgfSkpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoZGI6IGFueSkgPT4gZnJvbShkYi53YWl0Rm9yTGVhZGVyc2hpcCgpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKG51bGwpLFxuXG4gICAgICAgICAgICAgICAgbWFwKCgpID0+IGRiKSxcbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9kYiQ7XG5cbiAgICB9XG5cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["rxdb","rxjs","rxjs/operators","rxdb/plugins/encryption","rxdb/plugins/leader-election","rxdb/plugins/validate","rxdb/plugins/migration"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/database.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { createRxDatabase, addRxPlugin, addPouchPlugin, getRxStoragePouch } from 'rxdb';\nimport { from } from 'rxjs';\nimport { map, switchMap, startWith, shareReplay, first } from 'rxjs/operators';\nimport { RxDBEncryptionPlugin } from 'rxdb/plugins/encryption';\nimport { RxDBLeaderElectionPlugin } from 'rxdb/plugins/leader-election';\nimport { RxDBValidatePlugin } from 'rxdb/plugins/validate';\nimport { RxDBMigrationPlugin } from 'rxdb/plugins/migration';\naddPouchPlugin(require('pouchdb-adapter-idb'));\nexport class PwaDatabaseService {\n    constructor(_config) {\n        this._config = _config;\n    }\n    get db$() {\n        if (this._db$) {\n            return this._db$;\n        }\n        addRxPlugin(RxDBEncryptionPlugin);\n        addRxPlugin(RxDBLeaderElectionPlugin);\n        addRxPlugin(RxDBValidatePlugin);\n        addRxPlugin(RxDBMigrationPlugin);\n        const pouchAdapter = getRxStoragePouch('idb');\n        pouchAdapter.pouchSettings.revs_limit = 0,\n            pouchAdapter.pouchSettings.auto_compaction = true;\n        this._db$ = from(createRxDatabase({\n            name: 'pwadb',\n            storage: pouchAdapter,\n            password: 'ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF',\n            multiInstance: true,\n            eventReduce: true,\n            ...this._config.dbCreator\n        })).pipe(switchMap((db) => from(db.waitForLeadership()).pipe(startWith(null), map(() => db))), shareReplay(1), first());\n        return this._db$;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YWJhc2UucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvZGF0YWJhc2UucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGdCQUFnQixFQUFFLFdBQVcsRUFBaUMsY0FBYyxFQUFFLGlCQUFpQixFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3ZILE9BQU8sRUFBRSxJQUFJLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDeEMsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxLQUFLLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMvRSxPQUFPLEVBQUUsb0JBQW9CLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUMvRCxPQUFPLEVBQUUsd0JBQXdCLEVBQUUsTUFBTSw4QkFBOEIsQ0FBQztBQUN4RSxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUU3RCxjQUFjLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztBQVEvQyxNQUFNLE9BQU8sa0JBQWtCO0lBSzNCLFlBQW9CLE9BQTJCO1FBQTNCLFlBQU8sR0FBUCxPQUFPLENBQW9CO0lBQUcsQ0FBQztJQUVuRCxJQUFJLEdBQUc7UUFFSCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FBRTtRQUdwQyxXQUFXLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUdsQyxXQUFXLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUd0QyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUdoQyxXQUFXLENBQUMsbUJBQW1CLENBQUMsQ0FBQztRQUVqQyxNQUFNLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5QyxZQUFZLENBQUMsYUFBYSxDQUFDLFVBQVUsR0FBUyxDQUFDO1lBQy9DLFlBQVksQ0FBQyxhQUFhLENBQUMsZUFBZSxHQUFJLElBQUksQ0FBQztRQUVuRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztZQUM5QixJQUFJLEVBQUUsT0FBTztZQUNiLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLFFBQVEsRUFBRSxrQ0FBa0M7WUFDNUMsYUFBYSxFQUFFLElBQUk7WUFDbkIsV0FBVyxFQUFFLElBQUk7WUFDakIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVM7U0FDNUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUVKLFNBQVMsQ0FBQyxDQUFDLEVBQU8sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUVwRCxTQUFTLENBQUMsSUFBSSxDQUFDLEVBRWYsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUNoQixDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUVkLEtBQUssRUFBRSxDQUVWLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFFckIsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlUnhEYXRhYmFzZSwgYWRkUnhQbHVnaW4sIFJ4RGF0YWJhc2UsIFJ4RGF0YWJhc2VDcmVhdG9yLCBhZGRQb3VjaFBsdWdpbiwgZ2V0UnhTdG9yYWdlUG91Y2ggfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGZyb20sIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IG1hcCwgc3dpdGNoTWFwLCBzdGFydFdpdGgsIHNoYXJlUmVwbGF5LCBmaXJzdCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFJ4REJFbmNyeXB0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2VuY3J5cHRpb24nO1xuaW1wb3J0IHsgUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2xlYWRlci1lbGVjdGlvbic7XG5pbXBvcnQgeyBSeERCVmFsaWRhdGVQbHVnaW4gfSBmcm9tICdyeGRiL3BsdWdpbnMvdmFsaWRhdGUnO1xuaW1wb3J0IHsgUnhEQk1pZ3JhdGlvblBsdWdpbiB9IGZyb20gJ3J4ZGIvcGx1Z2lucy9taWdyYXRpb24nO1xuXG5hZGRQb3VjaFBsdWdpbihyZXF1aXJlKCdwb3VjaGRiLWFkYXB0ZXItaWRiJykpO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgUHdhRGF0YWJhc2VDcmVhdG9yIHtcbiAgICBkYkNyZWF0b3I6IFBhcnRpYWw8UnhEYXRhYmFzZUNyZWF0b3I+O1xufVxuXG5cbmV4cG9ydCBjbGFzcyBQd2FEYXRhYmFzZVNlcnZpY2U8VD4ge1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB2YXJpYWJsZS1uYW1lXG4gICAgcHJpdmF0ZSBfZGIkOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8VD4+O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBfY29uZmlnOiBQd2FEYXRhYmFzZUNyZWF0b3IpIHt9XG5cbiAgICBnZXQgZGIkKCk6IE9ic2VydmFibGU8UnhEYXRhYmFzZTxUPj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9kYiQpIHsgcmV0dXJuIHRoaXMuX2RiJDsgfVxuXG4gICAgICAgIC8vIGFkZCBlbmNyeXB0aW9uIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCRW5jcnlwdGlvblBsdWdpbik7XG5cbiAgICAgICAgLy8gYWRkIGxlYWRlciBlbGVjdGlvbiBwbHVnaW5cbiAgICAgICAgYWRkUnhQbHVnaW4oUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luKTtcblxuICAgICAgICAvLyBhZGQgc2NoZW1hIHZhbGlkYXRlIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCVmFsaWRhdGVQbHVnaW4pO1xuXG4gICAgICAgIC8vIGFkZCBtaWdyYXRpb24gcGx1Z2luXG4gICAgICAgIGFkZFJ4UGx1Z2luKFJ4REJNaWdyYXRpb25QbHVnaW4pO1xuXG4gICAgICAgIGNvbnN0IHBvdWNoQWRhcHRlciA9IGdldFJ4U3RvcmFnZVBvdWNoKCdpZGInKTtcblxuICAgICAgICBwb3VjaEFkYXB0ZXIucG91Y2hTZXR0aW5ncy5yZXZzX2xpbWl0ICAgICAgID0gMCxcbiAgICAgICAgcG91Y2hBZGFwdGVyLnBvdWNoU2V0dGluZ3MuYXV0b19jb21wYWN0aW9uICA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZGIkID0gZnJvbShjcmVhdGVSeERhdGFiYXNlKHtcbiAgICAgICAgICAgIG5hbWU6ICdwd2FkYicsXG4gICAgICAgICAgICBzdG9yYWdlOiBwb3VjaEFkYXB0ZXIsXG4gICAgICAgICAgICBwYXNzd29yZDogJ3ViVDZMSUw3bmUyYmRwemUwVjFEYWVPR0tLcVlNV1ZGJyxcbiAgICAgICAgICAgIG11bHRpSW5zdGFuY2U6IHRydWUsXG4gICAgICAgICAgICBldmVudFJlZHVjZTogdHJ1ZSxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZy5kYkNyZWF0b3JcbiAgICAgICAgfSkpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoZGI6IGFueSkgPT4gZnJvbShkYi53YWl0Rm9yTGVhZGVyc2hpcCgpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKG51bGwpLFxuXG4gICAgICAgICAgICAgICAgbWFwKCgpID0+IGRiKSxcbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9kYiQ7XG5cbiAgICB9XG5cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"database.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/database.resource.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[25,0,0,25],[27,0,0,27],[38,0,0,38],[40,0,0,71],[54,0,0,85],[56,0,0,87],[73,0,0,104],[75,0,0,106],[81,0,0,112],[87,0,0,118],[88,0,0,119]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[13,0,1,13],[15,0,1,27],[21,0,1,33],[27,0,1,39],[28,0,1,40]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[12,0,2,12],[14,0,2,14],[23,0,2,23],[25,0,2,25],[34,0,2,34],[36,0,2,36],[47,0,2,47],[49,0,2,49],[54,0,2,54],[56,0,2,56],[62,0,2,62],[78,0,2,78],[79,0,2,79]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[29,0,3,29],[31,0,3,31],[37,0,3,37],[62,0,3,62],[63,0,3,63]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[33,0,4,33],[35,0,4,35],[41,0,4,41],[71,0,4,71],[72,0,4,72]],[[0,0,5,0],[7,0,5,7],[9,0,5,9],[27,0,5,27],[29,0,5,29],[35,0,5,35],[58,0,5,58],[59,0,5,59]],[[0,0,6,0],[7,0,6,7],[9,0,6,9],[28,0,6,28],[30,0,6,30],[36,0,6,36],[60,0,6,60],[61,0,6,61]],[[0,0,8,0],[14,0,8,14],[15,0,8,15],[22,0,8,22],[23,0,8,23],[44,0,8,44],[45,0,8,45],[46,0,8,46],[47,0,8,47]],[[0,0,16,0],[6,0,16,6],[13,0,16,13],[31,0,16,31]],[[4,0,21,4],[16,0,21,24],[23,0,21,51]],[[8,0,21,24],[20,0,21,31],[23,0,21,24],[30,0,21,31],[31,0,21,51]],[[4,0,21,54],[5,0,21,55]],[[4,0,23,4],[8,0,23,8],[11,0,23,11]],[[8,0,25,8],[12,0,25,12],[16,0,25,16],[17,0,25,17],[21,0,25,21],[23,0,25,23]],[[12,0,25,25],[19,0,25,32],[23,0,25,36],[24,0,25,37],[28,0,25,41],[29,0,25,42]],[[9,0,25,44]],[[8,0,28,8],[19,0,28,19],[20,0,28,20],[40,0,28,40],[41,0,28,41],[42,0,28,42]],[[8,0,31,8],[19,0,31,19],[20,0,31,20],[44,0,31,44],[45,0,31,45],[46,0,31,46]],[[8,0,34,8],[19,0,34,19],[20,0,34,20],[38,0,34,38],[39,0,34,39],[40,0,34,40]],[[8,0,37,8],[19,0,37,19],[20,0,37,20],[39,0,37,39],[40,0,37,40],[41,0,37,41]],[[8,0,39,8],[14,0,39,14],[26,0,39,26],[29,0,39,29],[46,0,39,46],[47,0,39,47],[52,0,39,52],[53,0,39,53],[54,0,39,54]],[[8,0,41,8],[20,0,41,20],[21,0,41,21],[34,0,41,34],[35,0,41,35],[45,0,41,45],[48,0,41,54],[49,0,41,55]],[[12,0,42,8],[24,0,42,20],[25,0,42,21],[38,0,42,34],[39,0,42,35],[54,0,42,50],[57,0,42,54],[61,0,42,58],[62,0,42,59]],[[8,0,44,8],[12,0,44,12],[13,0,44,13],[17,0,44,17],[20,0,44,20],[24,0,44,24],[25,0,44,25],[41,0,44,41],[42,0,44,42]],[[12,0,45,12],[16,0,45,16],[18,0,45,18],[25,0,45,25]],[[12,0,46,12],[19,0,46,19],[21,0,46,21],[33,0,46,33]],[[12,0,47,12],[20,0,47,20],[22,0,47,22],[56,0,47,56]],[[12,0,48,12],[25,0,48,25],[27,0,48,27],[31,0,48,31]],[[12,0,49,12],[23,0,49,23],[25,0,49,25],[29,0,49,29]],[[12,0,50,12],[15,0,50,15],[19,0,50,19],[20,0,50,20],[27,0,50,27],[28,0,50,28],[37,0,50,37]],[[9,0,51,9],[10,0,51,10],[11,0,51,11],[12,0,51,12],[16,0,51,16],[17,0,53,12],[26,0,53,21],[27,0,53,22],[28,0,53,23],[30,0,53,30],[32,0,53,32],[34,0,53,34],[35,0,53,35],[39,0,53,39],[40,0,53,40],[42,0,53,42],[43,0,53,43],[60,0,53,60],[62,0,53,62],[63,0,53,63],[64,0,53,64],[68,0,53,68],[69,0,55,16],[78,0,55,25],[79,0,55,26],[83,0,55,30],[84,0,55,31],[86,0,57,16],[89,0,57,19],[90,0,57,20],[93,0,57,23],[95,0,57,25],[96,0,57,26],[98,0,57,28],[99,0,57,29],[100,0,58,13],[101,0,58,14],[103,0,60,12],[114,0,60,23],[115,0,60,24],[116,0,60,25],[117,0,60,26],[119,0,62,12],[124,0,62,17],[126,0,62,19],[127,0,64,9],[128,0,64,10]],[[8,0,66,8],[15,0,66,15],[19,0,66,19],[20,0,66,20],[24,0,66,24],[25,0,66,25]],[[4,0,68,4],[5,0,68,5]],[[1,0,70,1]]],"sourcesContent":["import { createRxDatabase, addRxPlugin, RxDatabase, RxDatabaseCreator, addPouchPlugin, getRxStoragePouch } from 'rxdb';\nimport { from, Observable } from 'rxjs';\nimport { map, switchMap, startWith, shareReplay, first } from 'rxjs/operators';\nimport { RxDBEncryptionPlugin } from 'rxdb/plugins/encryption';\nimport { RxDBLeaderElectionPlugin } from 'rxdb/plugins/leader-election';\nimport { RxDBValidatePlugin } from 'rxdb/plugins/validate';\nimport { RxDBMigrationPlugin } from 'rxdb/plugins/migration';\n\naddPouchPlugin(require('pouchdb-adapter-idb'));\n\n\nexport interface PwaDatabaseCreator {\n    dbCreator: Partial<RxDatabaseCreator>;\n}\n\n\nexport class PwaDatabaseService<T> {\n\n    // tslint:disable-next-line: variable-name\n    private _db$: Observable<RxDatabase<T>>;\n\n    constructor(private _config: PwaDatabaseCreator) {}\n\n    get db$(): Observable<RxDatabase<T>> {\n\n        if (this._db$) { return this._db$; }\n\n        // add encryption plugin\n        addRxPlugin(RxDBEncryptionPlugin);\n\n        // add leader election plugin\n        addRxPlugin(RxDBLeaderElectionPlugin);\n\n        // add schema validate plugin\n        addRxPlugin(RxDBValidatePlugin);\n\n        // add migration plugin\n        addRxPlugin(RxDBMigrationPlugin);\n\n        const pouchAdapter = getRxStoragePouch('idb');\n\n        pouchAdapter.pouchSettings.revs_limit       = 0,\n        pouchAdapter.pouchSettings.auto_compaction  = true;\n\n        this._db$ = from(createRxDatabase({\n            name: 'pwadb',\n            storage: pouchAdapter,\n            password: 'ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF',\n            multiInstance: true,\n            eventReduce: true,\n            ...this._config.dbCreator\n        })).pipe(\n\n            switchMap((db: any) => from(db.waitForLeadership()).pipe(\n\n                startWith(null),\n\n                map(() => db),\n            )),\n\n            shareReplay(1),\n\n            first(),\n\n        );\n\n        return this._db$;\n\n    }\n\n}\n"]},"resolvedIds":{"rxdb":{"external":true,"id":"rxdb","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxdb/plugins/encryption":{"external":true,"id":"rxdb/plugins/encryption","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxdb/plugins/leader-election":{"external":true,"id":"rxdb/plugins/leader-election","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxdb/plugins/validate":{"external":true,"id":"rxdb/plugins/validate","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxdb/plugins/migration":{"external":true,"id":"rxdb/plugins/migration","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":4882,"body":[{"type":"ImportDeclaration","start":0,"end":43,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}}],"source":{"type":"Literal","start":27,"end":42,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":44,"end":83,"specifiers":[{"type":"ImportSpecifier","start":53,"end":68,"imported":{"type":"Identifier","start":53,"end":68,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":53,"end":68,"name":"BehaviorSubject"}}],"source":{"type":"Literal","start":76,"end":82,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":84,"end":154,"specifiers":[{"type":"ImportSpecifier","start":93,"end":102,"imported":{"type":"Identifier","start":93,"end":102,"name":"auditTime"},"local":{"type":"Identifier","start":93,"end":102,"name":"auditTime"}},{"type":"ImportSpecifier","start":104,"end":124,"imported":{"type":"Identifier","start":104,"end":124,"name":"distinctUntilChanged"},"local":{"type":"Identifier","start":104,"end":124,"name":"distinctUntilChanged"}},{"type":"ImportSpecifier","start":126,"end":129,"imported":{"type":"Identifier","start":126,"end":129,"name":"map"},"local":{"type":"Identifier","start":126,"end":129,"name":"map"}}],"source":{"type":"Literal","start":137,"end":153,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":155,"end":204,"specifiers":[{"type":"ImportSpecifier","start":164,"end":173,"imported":{"type":"Identifier","start":164,"end":173,"name":"enterZone"},"local":{"type":"Identifier","start":164,"end":173,"name":"enterZone"}}],"source":{"type":"Literal","start":181,"end":203,"value":"./operators.resource","raw":"'./operators.resource'"}},{"type":"ImportDeclaration","start":205,"end":241,"specifiers":[{"type":"ImportNamespaceSpecifier","start":212,"end":219,"local":{"type":"Identifier","start":217,"end":219,"name":"i0"}}],"source":{"type":"Literal","start":225,"end":240,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":242,"end":941,"declaration":{"type":"ClassDeclaration","start":249,"end":941,"id":{"type":"Identifier","start":255,"end":273,"name":"ApiProgressService"},"superClass":null,"body":{"type":"ClassBody","start":274,"end":941,"body":[{"type":"MethodDefinition","start":280,"end":530,"static":false,"computed":false,"key":{"type":"Identifier","start":280,"end":291,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":291,"end":530,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":292,"end":296,"name":"zone"}],"body":{"type":"BlockStatement","start":298,"end":530,"body":[{"type":"ExpressionStatement","start":308,"end":325,"expression":{"type":"AssignmentExpression","start":308,"end":324,"operator":"=","left":{"type":"MemberExpression","start":308,"end":317,"object":{"type":"ThisExpression","start":308,"end":312},"property":{"type":"Identifier","start":313,"end":317,"name":"zone"},"computed":false,"optional":false},"right":{"type":"Identifier","start":320,"end":324,"name":"zone"}}},{"type":"ExpressionStatement","start":334,"end":374,"expression":{"type":"AssignmentExpression","start":334,"end":373,"operator":"=","left":{"type":"MemberExpression","start":334,"end":347,"object":{"type":"ThisExpression","start":334,"end":338},"property":{"type":"Identifier","start":339,"end":347,"name":"progress"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":350,"end":373,"callee":{"type":"Identifier","start":354,"end":369,"name":"BehaviorSubject"},"arguments":[{"type":"ArrayExpression","start":370,"end":372,"elements":[]}]}}},{"type":"ExpressionStatement","start":383,"end":524,"expression":{"type":"AssignmentExpression","start":383,"end":523,"operator":"=","left":{"type":"MemberExpression","start":383,"end":402,"object":{"type":"ThisExpression","start":383,"end":387},"property":{"type":"Identifier","start":388,"end":402,"name":"isProgressing$"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":405,"end":523,"callee":{"type":"MemberExpression","start":405,"end":438,"object":{"type":"CallExpression","start":405,"end":433,"callee":{"type":"MemberExpression","start":405,"end":431,"object":{"type":"MemberExpression","start":405,"end":418,"object":{"type":"ThisExpression","start":405,"end":409},"property":{"type":"Identifier","start":410,"end":418,"name":"progress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":419,"end":431,"name":"asObservable"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":434,"end":438,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":439,"end":459,"callee":{"type":"Identifier","start":439,"end":442,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":443,"end":458,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":443,"end":444,"name":"v"}],"body":{"type":"UnaryExpression","start":448,"end":458,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":449,"end":458,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":450,"end":458,"object":{"type":"Identifier","start":450,"end":451,"name":"v"},"property":{"type":"Identifier","start":452,"end":458,"name":"length"},"computed":false,"optional":false}}}}],"optional":false},{"type":"CallExpression","start":461,"end":483,"callee":{"type":"Identifier","start":461,"end":481,"name":"distinctUntilChanged"},"arguments":[],"optional":false},{"type":"CallExpression","start":485,"end":505,"callee":{"type":"Identifier","start":485,"end":494,"name":"auditTime"},"arguments":[{"type":"BinaryExpression","start":495,"end":504,"left":{"type":"Literal","start":495,"end":499,"value":1000,"raw":"1000"},"operator":"/","right":{"type":"Literal","start":502,"end":504,"value":60,"raw":"60"}}],"optional":false},{"type":"CallExpression","start":507,"end":522,"callee":{"type":"Identifier","start":507,"end":516,"name":"enterZone"},"arguments":[{"type":"Identifier","start":517,"end":521,"name":"zone"}],"optional":false}],"optional":false}}}]}}},{"type":"MethodDefinition","start":535,"end":670,"static":false,"computed":false,"key":{"type":"Identifier","start":535,"end":538,"name":"add"},"kind":"method","value":{"type":"FunctionExpression","start":538,"end":670,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":541,"end":670,"body":[{"type":"VariableDeclaration","start":551,"end":591,"declarations":[{"type":"VariableDeclarator","start":557,"end":590,"id":{"type":"Identifier","start":557,"end":568,"name":"newProgress"},"init":{"type":"MemberExpression","start":571,"end":590,"object":{"type":"MemberExpression","start":571,"end":584,"object":{"type":"ThisExpression","start":571,"end":575},"property":{"type":"Identifier","start":576,"end":584,"name":"progress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":585,"end":590,"name":"value"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":600,"end":623,"expression":{"type":"CallExpression","start":600,"end":622,"callee":{"type":"MemberExpression","start":600,"end":616,"object":{"type":"Identifier","start":600,"end":611,"name":"newProgress"},"property":{"type":"Identifier","start":612,"end":616,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":617,"end":621,"value":true,"raw":"true"}],"optional":false}},{"type":"ExpressionStatement","start":632,"end":664,"expression":{"type":"CallExpression","start":632,"end":663,"callee":{"type":"MemberExpression","start":632,"end":650,"object":{"type":"MemberExpression","start":632,"end":645,"object":{"type":"ThisExpression","start":632,"end":636},"property":{"type":"Identifier","start":637,"end":645,"name":"progress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":646,"end":650,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":651,"end":662,"name":"newProgress"}],"optional":false}}]}}},{"type":"MethodDefinition","start":675,"end":866,"static":false,"computed":false,"key":{"type":"Identifier","start":675,"end":681,"name":"remove"},"kind":"method","value":{"type":"FunctionExpression","start":681,"end":866,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":684,"end":866,"body":[{"type":"IfStatement","start":694,"end":860,"test":{"type":"CallExpression","start":698,"end":718,"callee":{"type":"MemberExpression","start":698,"end":716,"object":{"type":"ThisExpression","start":698,"end":702},"property":{"type":"Identifier","start":703,"end":716,"name":"isProgressing"},"computed":false,"optional":false},"arguments":[],"optional":false},"consequent":{"type":"BlockStatement","start":720,"end":860,"body":[{"type":"VariableDeclaration","start":734,"end":774,"declarations":[{"type":"VariableDeclarator","start":740,"end":773,"id":{"type":"Identifier","start":740,"end":751,"name":"newProgress"},"init":{"type":"MemberExpression","start":754,"end":773,"object":{"type":"MemberExpression","start":754,"end":767,"object":{"type":"ThisExpression","start":754,"end":758},"property":{"type":"Identifier","start":759,"end":767,"name":"progress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":768,"end":773,"name":"value"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":787,"end":805,"expression":{"type":"CallExpression","start":787,"end":804,"callee":{"type":"MemberExpression","start":787,"end":802,"object":{"type":"Identifier","start":787,"end":798,"name":"newProgress"},"property":{"type":"Identifier","start":799,"end":802,"name":"pop"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":818,"end":850,"expression":{"type":"CallExpression","start":818,"end":849,"callee":{"type":"MemberExpression","start":818,"end":836,"object":{"type":"MemberExpression","start":818,"end":831,"object":{"type":"ThisExpression","start":818,"end":822},"property":{"type":"Identifier","start":823,"end":831,"name":"progress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":832,"end":836,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":837,"end":848,"name":"newProgress"}],"optional":false}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":871,"end":939,"static":false,"computed":false,"key":{"type":"Identifier","start":871,"end":884,"name":"isProgressing"},"kind":"method","value":{"type":"FunctionExpression","start":884,"end":939,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":887,"end":939,"body":[{"type":"ReturnStatement","start":897,"end":933,"argument":{"type":"UnaryExpression","start":904,"end":932,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":905,"end":932,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":906,"end":932,"object":{"type":"MemberExpression","start":906,"end":925,"object":{"type":"MemberExpression","start":906,"end":919,"object":{"type":"ThisExpression","start":906,"end":910},"property":{"type":"Identifier","start":911,"end":919,"name":"progress"},"computed":false,"optional":false},"property":{"type":"Identifier","start":920,"end":925,"name":"value"},"computed":false,"optional":false},"property":{"type":"Identifier","start":926,"end":932,"name":"length"},"computed":false,"optional":false}}}}]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":942,"end":1073,"expression":{"type":"AssignmentExpression","start":942,"end":1072,"operator":"=","left":{"type":"MemberExpression","start":942,"end":965,"object":{"type":"Identifier","start":942,"end":960,"name":"ApiProgressService"},"property":{"type":"Identifier","start":961,"end":965,"name":"fac"},"computed":false,"optional":false},"right":{"type":"FunctionExpression","start":968,"end":1072,"id":{"type":"Identifier","start":977,"end":1003,"name":"ApiProgressService_Factory"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1004,"end":1005,"name":"t"}],"body":{"type":"BlockStatement","start":1007,"end":1072,"body":[{"type":"ReturnStatement","start":1009,"end":1070,"argument":{"type":"NewExpression","start":1016,"end":1069,"callee":{"type":"LogicalExpression","start":1021,"end":1044,"left":{"type":"Identifier","start":1021,"end":1022,"name":"t"},"operator":"||","right":{"type":"Identifier","start":1026,"end":1044,"name":"ApiProgressService"}},"arguments":[{"type":"CallExpression","start":1046,"end":1068,"callee":{"type":"MemberExpression","start":1046,"end":1057,"object":{"type":"Identifier","start":1046,"end":1048,"name":"i0"},"property":{"type":"Identifier","start":1049,"end":1057,"name":"inject"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":1058,"end":1067,"object":{"type":"Identifier","start":1058,"end":1060,"name":"i0"},"property":{"type":"Identifier","start":1061,"end":1067,"name":"NgZone"},"computed":false,"optional":false}],"optional":false}]}}]}}}},{"type":"ExpressionStatement","start":1074,"end":1208,"expression":{"type":"AssignmentExpression","start":1074,"end":1207,"operator":"=","left":{"type":"MemberExpression","start":1074,"end":1098,"object":{"type":"Identifier","start":1074,"end":1092,"name":"ApiProgressService"},"property":{"type":"Identifier","start":1093,"end":1098,"name":"prov"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1101,"end":1207,"callee":{"type":"MemberExpression","start":1101,"end":1122,"object":{"type":"Identifier","start":1101,"end":1103,"name":"i0"},"property":{"type":"Identifier","start":1104,"end":1122,"name":"defineInjectable"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":1123,"end":1206,"properties":[{"type":"Property","start":1125,"end":1150,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1125,"end":1130,"name":"token"},"value":{"type":"Identifier","start":1132,"end":1150,"name":"ApiProgressService"},"kind":"init"},{"type":"Property","start":1152,"end":1184,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1152,"end":1159,"name":"factory"},"value":{"type":"MemberExpression","start":1161,"end":1184,"object":{"type":"Identifier","start":1161,"end":1179,"name":"ApiProgressService"},"property":{"type":"Identifier","start":1180,"end":1184,"name":"fac"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":1186,"end":1204,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1186,"end":1196,"name":"providedIn"},"value":{"type":"Literal","start":1198,"end":1204,"value":"root","raw":"'root'"},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":1209,"end":1479,"expression":{"type":"CallExpression","start":1209,"end":1478,"callee":{"type":"FunctionExpression","start":1210,"end":1475,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1222,"end":1475,"body":[{"type":"ExpressionStatement","start":1224,"end":1473,"expression":{"type":"LogicalExpression","start":1224,"end":1472,"left":{"type":"LogicalExpression","start":1225,"end":1270,"left":{"type":"BinaryExpression","start":1225,"end":1257,"left":{"type":"UnaryExpression","start":1225,"end":1241,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":1232,"end":1241,"name":"ngDevMode"}},"operator":"===","right":{"type":"Literal","start":1246,"end":1257,"value":"undefined","raw":"\"undefined\""}},"operator":"||","right":{"type":"Identifier","start":1261,"end":1270,"name":"ngDevMode"}},"operator":"&&","right":{"type":"CallExpression","start":1275,"end":1472,"callee":{"type":"MemberExpression","start":1275,"end":1295,"object":{"type":"Identifier","start":1275,"end":1277,"name":"i0"},"property":{"type":"Identifier","start":1278,"end":1295,"name":"setClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1296,"end":1314,"name":"ApiProgressService"},{"type":"ArrayExpression","start":1316,"end":1418,"elements":[{"type":"ObjectExpression","start":1317,"end":1417,"properties":[{"type":"Property","start":1327,"end":1343,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1327,"end":1331,"name":"type"},"value":{"type":"Identifier","start":1333,"end":1343,"name":"Injectable"},"kind":"init"},{"type":"Property","start":1353,"end":1411,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1353,"end":1357,"name":"args"},"value":{"type":"ArrayExpression","start":1359,"end":1411,"elements":[{"type":"ObjectExpression","start":1360,"end":1410,"properties":[{"type":"Property","start":1378,"end":1396,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1378,"end":1388,"name":"providedIn"},"value":{"type":"Literal","start":1390,"end":1396,"value":"root","raw":"'root'"},"kind":"init"}]}]},"kind":"init"}]}]},{"type":"FunctionExpression","start":1420,"end":1465,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1432,"end":1465,"body":[{"type":"ReturnStatement","start":1434,"end":1463,"argument":{"type":"ArrayExpression","start":1441,"end":1462,"elements":[{"type":"ObjectExpression","start":1442,"end":1461,"properties":[{"type":"Property","start":1444,"end":1459,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1444,"end":1448,"name":"type"},"value":{"type":"MemberExpression","start":1450,"end":1459,"object":{"type":"Identifier","start":1450,"end":1452,"name":"i0"},"property":{"type":"Identifier","start":1453,"end":1459,"name":"NgZone"},"computed":false,"optional":false},"kind":"init"}]}]}}]}},{"type":"Literal","start":1467,"end":1471,"value":null,"raw":"null"}],"optional":false}}}]}},"arguments":[],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpUHJvZ3Jlc3MucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvYXBpUHJvZ3Jlc3MucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZUFBZSxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDOztBQUtqRCxNQUFNLE9BQU8sa0JBQWtCO0lBSzNCLFlBQW9CLElBQVk7UUFBWixTQUFJLEdBQUosSUFBSSxDQUFRO1FBRTVCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFeEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FFbkQsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFFcEIsb0JBQW9CLEVBQUUsRUFFdEIsU0FBUyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsRUFFcEIsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUNsQixDQUFDO0lBQ04sQ0FBQztJQUVELEdBQUc7UUFFQyxNQUFNLFdBQVcsR0FBZSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUVwRCxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXZCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxNQUFNO1FBRUYsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLEVBQUU7WUFFdEIsTUFBTSxXQUFXLEdBQWUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFFcEQsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBRWxCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ25DO0lBQ0wsQ0FBQztJQUVELGFBQWE7UUFFVCxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDeEMsQ0FBQzs7b0ZBN0NRLGtCQUFrQjswREFBbEIsa0JBQWtCLFdBQWxCLGtCQUFrQixtQkFGZixNQUFNO3VGQUVULGtCQUFrQjtjQUg5QixVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgZW50ZXJab25lIH0gZnJvbSAnLi9vcGVyYXRvcnMucmVzb3VyY2UnO1xuXG5ASW5qZWN0YWJsZSh7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEFwaVByb2dyZXNzU2VydmljZSB7XG5cbiAgICBpc1Byb2dyZXNzaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgICBwcml2YXRlIHByb2dyZXNzOiBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbltdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgem9uZTogTmdab25lKSB7XG5cbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG5ldyBCZWhhdmlvclN1YmplY3QoW10pO1xuXG4gICAgICAgIHRoaXMuaXNQcm9ncmVzc2luZyQgPSB0aGlzLnByb2dyZXNzLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIG1hcCh2ID0+ICEhdi5sZW5ndGgpLFxuXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuXG4gICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKSxcblxuICAgICAgICAgICAgZW50ZXJab25lKHpvbmUpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWRkKCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IG5ld1Byb2dyZXNzOiBib29sZWFuW10gPSAgdGhpcy5wcm9ncmVzcy52YWx1ZTtcblxuICAgICAgICBuZXdQcm9ncmVzcy5wdXNoKHRydWUpO1xuXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MubmV4dChuZXdQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKCk6IHZvaWQge1xuXG4gICAgICAgIGlmICh0aGlzLmlzUHJvZ3Jlc3NpbmcoKSkge1xuXG4gICAgICAgICAgICBjb25zdCBuZXdQcm9ncmVzczogYm9vbGVhbltdID0gIHRoaXMucHJvZ3Jlc3MudmFsdWU7XG5cbiAgICAgICAgICAgIG5ld1Byb2dyZXNzLnBvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzLm5leHQobmV3UHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNQcm9ncmVzc2luZygpOiBib29sZWFuIHtcblxuICAgICAgICByZXR1cm4gISF0aGlzLnByb2dyZXNzLnZhbHVlLmxlbmd0aDtcbiAgICB9XG59XG4iXX0=","start":1480,"end":4882}]},"code":"import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { auditTime, distinctUntilChanged, map } from 'rxjs/operators';\nimport { enterZone } from './operators.resource';\nimport * as i0 from \"@angular/core\";\nexport class ApiProgressService {\n    constructor(zone) {\n        this.zone = zone;\n        this.progress = new BehaviorSubject([]);\n        this.isProgressing$ = this.progress.asObservable().pipe(map(v => !!v.length), distinctUntilChanged(), auditTime(1000 / 60), enterZone(zone));\n    }\n    add() {\n        const newProgress = this.progress.value;\n        newProgress.push(true);\n        this.progress.next(newProgress);\n    }\n    remove() {\n        if (this.isProgressing()) {\n            const newProgress = this.progress.value;\n            newProgress.pop();\n            this.progress.next(newProgress);\n        }\n    }\n    isProgressing() {\n        return !!this.progress.value.length;\n    }\n}\nApiProgressService.fac = function ApiProgressService_Factory(t) { return new (t || ApiProgressService)(i0.inject(i0.NgZone)); };\nApiProgressService.prov = i0.defineInjectable({ token: ApiProgressService, factory: ApiProgressService.fac, providedIn: 'root' });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(ApiProgressService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: i0.NgZone }]; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpUHJvZ3Jlc3MucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvYXBpUHJvZ3Jlc3MucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZUFBZSxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDOztBQUtqRCxNQUFNLE9BQU8sa0JBQWtCO0lBSzNCLFlBQW9CLElBQVk7UUFBWixTQUFJLEdBQUosSUFBSSxDQUFRO1FBRTVCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFeEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FFbkQsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFFcEIsb0JBQW9CLEVBQUUsRUFFdEIsU0FBUyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsRUFFcEIsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUNsQixDQUFDO0lBQ04sQ0FBQztJQUVELEdBQUc7UUFFQyxNQUFNLFdBQVcsR0FBZSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUVwRCxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXZCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxNQUFNO1FBRUYsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLEVBQUU7WUFFdEIsTUFBTSxXQUFXLEdBQWUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFFcEQsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBRWxCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ25DO0lBQ0wsQ0FBQztJQUVELGFBQWE7UUFFVCxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDeEMsQ0FBQzs7b0ZBN0NRLGtCQUFrQjswREFBbEIsa0JBQWtCLFdBQWxCLGtCQUFrQixtQkFGZixNQUFNO3VGQUVULGtCQUFrQjtjQUg5QixVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgZW50ZXJab25lIH0gZnJvbSAnLi9vcGVyYXRvcnMucmVzb3VyY2UnO1xuXG5ASW5qZWN0YWJsZSh7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEFwaVByb2dyZXNzU2VydmljZSB7XG5cbiAgICBpc1Byb2dyZXNzaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgICBwcml2YXRlIHByb2dyZXNzOiBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbltdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgem9uZTogTmdab25lKSB7XG5cbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG5ldyBCZWhhdmlvclN1YmplY3QoW10pO1xuXG4gICAgICAgIHRoaXMuaXNQcm9ncmVzc2luZyQgPSB0aGlzLnByb2dyZXNzLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIG1hcCh2ID0+ICEhdi5sZW5ndGgpLFxuXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuXG4gICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKSxcblxuICAgICAgICAgICAgZW50ZXJab25lKHpvbmUpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWRkKCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IG5ld1Byb2dyZXNzOiBib29sZWFuW10gPSAgdGhpcy5wcm9ncmVzcy52YWx1ZTtcblxuICAgICAgICBuZXdQcm9ncmVzcy5wdXNoKHRydWUpO1xuXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MubmV4dChuZXdQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKCk6IHZvaWQge1xuXG4gICAgICAgIGlmICh0aGlzLmlzUHJvZ3Jlc3NpbmcoKSkge1xuXG4gICAgICAgICAgICBjb25zdCBuZXdQcm9ncmVzczogYm9vbGVhbltdID0gIHRoaXMucHJvZ3Jlc3MudmFsdWU7XG5cbiAgICAgICAgICAgIG5ld1Byb2dyZXNzLnBvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzLm5leHQobmV3UHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNQcm9ncmVzc2luZygpOiBib29sZWFuIHtcblxuICAgICAgICByZXR1cm4gISF0aGlzLnByb2dyZXNzLnZhbHVlLmxlbmd0aDtcbiAgICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":["@angular/core","rxjs","rxjs/operators","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/apiProgress.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { auditTime, distinctUntilChanged, map } from 'rxjs/operators';\nimport { enterZone } from './operators.resource';\nimport * as i0 from \"@angular/core\";\nexport class ApiProgressService {\n    constructor(zone) {\n        this.zone = zone;\n        this.progress = new BehaviorSubject([]);\n        this.isProgressing$ = this.progress.asObservable().pipe(map(v => !!v.length), distinctUntilChanged(), auditTime(1000 / 60), enterZone(zone));\n    }\n    add() {\n        const newProgress = this.progress.value;\n        newProgress.push(true);\n        this.progress.next(newProgress);\n    }\n    remove() {\n        if (this.isProgressing()) {\n            const newProgress = this.progress.value;\n            newProgress.pop();\n            this.progress.next(newProgress);\n        }\n    }\n    isProgressing() {\n        return !!this.progress.value.length;\n    }\n}\nApiProgressService.fac = function ApiProgressService_Factory(t) { return new (t || ApiProgressService)(i0.inject(i0.NgZone)); };\nApiProgressService.prov = i0.defineInjectable({ token: ApiProgressService, factory: ApiProgressService.fac, providedIn: 'root' });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.setClassMetadata(ApiProgressService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: i0.NgZone }]; }, null); })();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpUHJvZ3Jlc3MucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvYXBpUHJvZ3Jlc3MucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFVBQVUsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNuRCxPQUFPLEVBQUUsZUFBZSxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxTQUFTLEVBQUUsb0JBQW9CLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDdEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDOztBQUtqRCxNQUFNLE9BQU8sa0JBQWtCO0lBSzNCLFlBQW9CLElBQVk7UUFBWixTQUFJLEdBQUosSUFBSSxDQUFRO1FBRTVCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxlQUFlLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFeEMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FFbkQsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFFcEIsb0JBQW9CLEVBQUUsRUFFdEIsU0FBUyxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsRUFFcEIsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUNsQixDQUFDO0lBQ04sQ0FBQztJQUVELEdBQUc7UUFFQyxNQUFNLFdBQVcsR0FBZSxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQztRQUVwRCxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRXZCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRCxNQUFNO1FBRUYsSUFBSSxJQUFJLENBQUMsYUFBYSxFQUFFLEVBQUU7WUFFdEIsTUFBTSxXQUFXLEdBQWUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUM7WUFFcEQsV0FBVyxDQUFDLEdBQUcsRUFBRSxDQUFDO1lBRWxCLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ25DO0lBQ0wsQ0FBQztJQUVELGFBQWE7UUFFVCxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7SUFDeEMsQ0FBQzs7b0ZBN0NRLGtCQUFrQjswREFBbEIsa0JBQWtCLFdBQWxCLGtCQUFrQixtQkFGZixNQUFNO3VGQUVULGtCQUFrQjtjQUg5QixVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgZW50ZXJab25lIH0gZnJvbSAnLi9vcGVyYXRvcnMucmVzb3VyY2UnO1xuXG5ASW5qZWN0YWJsZSh7XG4gICAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIEFwaVByb2dyZXNzU2VydmljZSB7XG5cbiAgICBpc1Byb2dyZXNzaW5nJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgICBwcml2YXRlIHByb2dyZXNzOiBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbltdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgem9uZTogTmdab25lKSB7XG5cbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IG5ldyBCZWhhdmlvclN1YmplY3QoW10pO1xuXG4gICAgICAgIHRoaXMuaXNQcm9ncmVzc2luZyQgPSB0aGlzLnByb2dyZXNzLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIG1hcCh2ID0+ICEhdi5sZW5ndGgpLFxuXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuXG4gICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKSxcblxuICAgICAgICAgICAgZW50ZXJab25lKHpvbmUpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWRkKCk6IHZvaWQge1xuXG4gICAgICAgIGNvbnN0IG5ld1Byb2dyZXNzOiBib29sZWFuW10gPSAgdGhpcy5wcm9ncmVzcy52YWx1ZTtcblxuICAgICAgICBuZXdQcm9ncmVzcy5wdXNoKHRydWUpO1xuXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MubmV4dChuZXdQcm9ncmVzcyk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKCk6IHZvaWQge1xuXG4gICAgICAgIGlmICh0aGlzLmlzUHJvZ3Jlc3NpbmcoKSkge1xuXG4gICAgICAgICAgICBjb25zdCBuZXdQcm9ncmVzczogYm9vbGVhbltdID0gIHRoaXMucHJvZ3Jlc3MudmFsdWU7XG5cbiAgICAgICAgICAgIG5ld1Byb2dyZXNzLnBvcCgpO1xuXG4gICAgICAgICAgICB0aGlzLnByb2dyZXNzLm5leHQobmV3UHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNQcm9ncmVzc2luZygpOiBib29sZWFuIHtcblxuICAgICAgICByZXR1cm4gISF0aGlzLnByb2dyZXNzLnZhbHVlLmxlbmd0aDtcbiAgICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"apiProgress.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/apiProgress.resource.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,29],[27,0,0,35],[42,0,0,50],[43,0,0,51]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[24,0,1,24],[26,0,1,38],[32,0,1,44],[38,0,1,50],[39,0,1,51]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[18,0,2,18],[20,0,2,20],[40,0,2,40],[42,0,2,42],[45,0,2,45],[47,0,2,47],[53,0,2,53],[69,0,2,69],[70,0,2,70]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[18,0,3,18],[20,0,3,20],[26,0,3,26],[48,0,3,48],[49,0,3,49]],[],[[0,0,8,0],[6,0,8,6],[13,0,8,13],[31,0,8,31]],[[4,0,13,4],[16,0,13,24],[20,0,13,36]],[[8,0,13,24],[17,0,13,28],[20,0,13,24],[24,0,13,28],[25,0,13,36]],[[8,0,15,8],[12,0,15,12],[13,0,15,13],[21,0,15,21],[24,0,15,24],[28,0,15,28],[43,0,15,43],[44,0,15,44],[46,0,15,46],[47,0,15,47],[48,0,15,48]],[[8,0,17,8],[12,0,17,12],[13,0,17,13],[27,0,17,27],[30,0,17,30],[34,0,17,34],[35,0,17,35],[43,0,17,43],[44,0,17,44],[56,0,17,56],[58,0,17,58],[59,0,17,59],[63,0,17,63],[64,0,19,12],[67,0,19,15],[68,0,19,16],[69,0,19,17],[70,0,19,18],[72,0,19,20],[73,0,19,21],[74,0,19,22],[75,0,19,23],[76,0,19,24],[77,0,19,25],[83,0,19,31],[84,0,19,32],[86,0,21,12],[106,0,21,32],[108,0,21,34],[110,0,23,12],[119,0,23,21],[120,0,23,22],[124,0,23,26],[127,0,23,29],[129,0,23,31],[130,0,23,32],[132,0,25,12],[141,0,25,21],[142,0,25,22],[146,0,25,26],[147,0,25,27],[148,0,26,9],[149,0,26,10]],[[4,0,27,4],[5,0,27,5]],[[4,0,29,4],[7,0,29,7]],[[8,0,31,8],[14,0,31,14],[25,0,31,25],[28,0,31,40],[32,0,31,44],[33,0,31,45],[41,0,31,53],[42,0,31,54],[47,0,31,59],[48,0,31,60]],[[8,0,33,8],[19,0,33,19],[20,0,33,20],[24,0,33,24],[25,0,33,25],[29,0,33,29],[30,0,33,30],[31,0,33,31]],[[8,0,35,8],[12,0,35,12],[13,0,35,13],[21,0,35,21],[22,0,35,22],[26,0,35,26],[27,0,35,27],[38,0,35,38],[39,0,35,39],[40,0,35,40]],[[4,0,36,4],[5,0,36,5]],[[4,0,38,4],[10,0,38,10]],[[8,0,40,8],[12,0,40,12],[16,0,40,16],[17,0,40,17],[30,0,40,30],[32,0,40,32],[34,0,40,34]],[[12,0,42,12],[18,0,42,18],[29,0,42,29],[32,0,42,44],[36,0,42,48],[37,0,42,49],[45,0,42,57],[46,0,42,58],[51,0,42,63],[52,0,42,64]],[[12,0,44,12],[23,0,44,23],[24,0,44,24],[27,0,44,27],[29,0,44,29],[30,0,44,30]],[[12,0,46,12],[16,0,46,16],[17,0,46,17],[25,0,46,25],[26,0,46,26],[30,0,46,30],[31,0,46,31],[42,0,46,42],[43,0,46,43],[44,0,46,44]],[[9,0,47,9]],[[4,0,48,4],[5,0,48,5]],[[4,0,50,4],[17,0,50,17]],[[8,0,52,8],[15,0,52,15],[16,0,52,16],[17,0,52,17],[21,0,52,21],[22,0,52,22],[30,0,52,30],[31,0,52,31],[36,0,52,36],[37,0,52,37],[43,0,52,43],[44,0,52,44]],[[4,0,53,4],[5,0,53,5]],[],[[84,0,8,13],[102,0,8,31]],[[58,0,8,13],[76,0,8,31],[87,0,8,13],[105,0,8,31],[124,0,6,16],[130,0,6,22]],[[87,0,8,13],[105,0,8,31]],[[14,0,5,1],[24,0,5,11]],[[15,0,5,12]],[[16,0,6,4],[26,0,6,14],[28,0,6,16],[34,0,6,22]],[[13,0,7,1]]],"sourcesContent":["import { Injectable, NgZone } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { auditTime, distinctUntilChanged, map } from 'rxjs/operators';\nimport { enterZone } from './operators.resource';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ApiProgressService {\n\n    isProgressing$: Observable<boolean>;\n    private progress: BehaviorSubject<boolean[]>;\n\n    constructor(private zone: NgZone) {\n\n        this.progress = new BehaviorSubject([]);\n\n        this.isProgressing$ = this.progress.asObservable().pipe(\n\n            map(v => !!v.length),\n\n            distinctUntilChanged(),\n\n            auditTime(1000 / 60),\n\n            enterZone(zone)\n        );\n    }\n\n    add(): void {\n\n        const newProgress: boolean[] =  this.progress.value;\n\n        newProgress.push(true);\n\n        this.progress.next(newProgress);\n    }\n\n    remove(): void {\n\n        if (this.isProgressing()) {\n\n            const newProgress: boolean[] =  this.progress.value;\n\n            newProgress.pop();\n\n            this.progress.next(newProgress);\n        }\n    }\n\n    isProgressing(): boolean {\n\n        return !!this.progress.value.length;\n    }\n}\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./operators.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":1546,"body":[{"type":"ExportNamedDeclaration","start":0,"end":299,"declaration":{"type":"FunctionDeclaration","start":7,"end":299,"id":{"type":"Identifier","start":16,"end":23,"name":"flatten"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":24,"end":27,"name":"arr"},{"type":"AssignmentPattern","start":29,"end":40,"left":{"type":"Identifier","start":29,"end":35,"name":"result"},"right":{"type":"ArrayExpression","start":38,"end":40,"elements":[]}}],"body":{"type":"BlockStatement","start":42,"end":299,"body":[{"type":"ForStatement","start":48,"end":278,"init":{"type":"VariableDeclaration","start":53,"end":83,"declarations":[{"type":"VariableDeclarator","start":57,"end":62,"id":{"type":"Identifier","start":57,"end":58,"name":"i"},"init":{"type":"Literal","start":61,"end":62,"value":0,"raw":"0"}},{"type":"VariableDeclarator","start":64,"end":83,"id":{"type":"Identifier","start":64,"end":70,"name":"length"},"init":{"type":"MemberExpression","start":73,"end":83,"object":{"type":"Identifier","start":73,"end":76,"name":"arr"},"property":{"type":"Identifier","start":77,"end":83,"name":"length"},"computed":false,"optional":false}}],"kind":"let"},"test":{"type":"BinaryExpression","start":85,"end":95,"left":{"type":"Identifier","start":85,"end":86,"name":"i"},"operator":"<","right":{"type":"Identifier","start":89,"end":95,"name":"length"}},"update":{"type":"UpdateExpression","start":97,"end":100,"operator":"++","prefix":false,"argument":{"type":"Identifier","start":97,"end":98,"name":"i"}},"body":{"type":"BlockStatement","start":102,"end":278,"body":[{"type":"VariableDeclaration","start":112,"end":133,"declarations":[{"type":"VariableDeclarator","start":118,"end":132,"id":{"type":"Identifier","start":118,"end":123,"name":"value"},"init":{"type":"MemberExpression","start":126,"end":132,"object":{"type":"Identifier","start":126,"end":129,"name":"arr"},"property":{"type":"Identifier","start":130,"end":131,"name":"i"},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":142,"end":272,"test":{"type":"CallExpression","start":146,"end":166,"callee":{"type":"MemberExpression","start":146,"end":159,"object":{"type":"Identifier","start":146,"end":151,"name":"Array"},"property":{"type":"Identifier","start":152,"end":159,"name":"isArray"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":160,"end":165,"name":"value"}],"optional":false},"consequent":{"type":"BlockStatement","start":168,"end":215,"body":[{"type":"ExpressionStatement","start":182,"end":205,"expression":{"type":"CallExpression","start":182,"end":204,"callee":{"type":"Identifier","start":182,"end":189,"name":"flatten"},"arguments":[{"type":"Identifier","start":190,"end":195,"name":"value"},{"type":"Identifier","start":197,"end":203,"name":"result"}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":229,"end":272,"body":[{"type":"ExpressionStatement","start":243,"end":262,"expression":{"type":"CallExpression","start":243,"end":261,"callee":{"type":"MemberExpression","start":243,"end":254,"object":{"type":"Identifier","start":243,"end":249,"name":"result"},"property":{"type":"Identifier","start":250,"end":254,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":255,"end":260,"name":"value"}],"optional":false}}]}}]}},{"type":"ReturnStatement","start":283,"end":297,"argument":{"type":"Identifier","start":290,"end":296,"name":"result"}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlzYy5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9taXNjLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE1BQU0sVUFBVSxPQUFPLENBQUksR0FBUSxFQUFFLE1BQU0sR0FBRyxFQUFFO0lBRTVDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFFbEQsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXJCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUV0QixPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBRTFCO2FBQU07WUFFSCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3RCO0tBQ0o7SUFFRCxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbjxUPihhcnI6IFRbXSwgcmVzdWx0ID0gW10pOiBhbnlbXSB7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gYXJyLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhcnJbaV07XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cbiAgICAgICAgICAgIGZsYXR0ZW4odmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdfQ==","start":300,"end":1546}]},"code":"export function flatten(arr, result = []) {\n    for (let i = 0, length = arr.length; i < length; i++) {\n        const value = arr[i];\n        if (Array.isArray(value)) {\n            flatten(value, result);\n        }\n        else {\n            result.push(value);\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlzYy5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9taXNjLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE1BQU0sVUFBVSxPQUFPLENBQUksR0FBUSxFQUFFLE1BQU0sR0FBRyxFQUFFO0lBRTVDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFFbEQsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXJCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUV0QixPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBRTFCO2FBQU07WUFFSCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3RCO0tBQ0o7SUFFRCxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbjxUPihhcnI6IFRbXSwgcmVzdWx0ID0gW10pOiBhbnlbXSB7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gYXJyLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhcnJbaV07XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cbiAgICAgICAgICAgIGZsYXR0ZW4odmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdfQ==","customTransformCache":false,"dependencies":[],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export function flatten(arr, result = []) {\n    for (let i = 0, length = arr.length; i < length; i++) {\n        const value = arr[i];\n        if (Array.isArray(value)) {\n            flatten(value, result);\n        }\n        else {\n            result.push(value);\n        }\n    }\n    return result;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlzYy5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9taXNjLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE1BQU0sVUFBVSxPQUFPLENBQUksR0FBUSxFQUFFLE1BQU0sR0FBRyxFQUFFO0lBRTVDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFFbEQsTUFBTSxLQUFLLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRXJCLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtZQUV0QixPQUFPLENBQUMsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1NBRTFCO2FBQU07WUFFSCxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1NBQ3RCO0tBQ0o7SUFFRCxPQUFPLE1BQU0sQ0FBQztBQUNsQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbjxUPihhcnI6IFRbXSwgcmVzdWx0ID0gW10pOiBhbnlbXSB7XG5cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gYXJyLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgY29uc3QgdmFsdWUgPSBhcnJbaV07XG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG5cbiAgICAgICAgICAgIGZsYXR0ZW4odmFsdWUsIHJlc3VsdCk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"misc.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/misc.resource.ts"],"names":[],"mappings":[[[0,0,1,0],[6,0,1,6],[16,0,1,16],[23,0,1,23],[24,0,1,27],[27,0,1,35],[29,0,1,37],[35,0,1,43],[38,0,1,46],[40,0,1,48]],[[4,0,3,4],[9,0,3,9],[13,0,3,13],[14,0,3,14],[17,0,3,17],[18,0,3,18],[20,0,3,20],[26,0,3,26],[29,0,3,29],[32,0,3,32],[33,0,3,33],[39,0,3,39],[41,0,3,41],[42,0,3,42],[45,0,3,45],[51,0,3,51],[53,0,3,53],[54,0,3,54],[56,0,3,56],[58,0,3,58]],[[8,0,5,8],[14,0,5,14],[19,0,5,19],[22,0,5,22],[25,0,5,25],[26,0,5,26],[27,0,5,27],[28,0,5,28],[29,0,5,29]],[[8,0,7,8],[12,0,7,12],[17,0,7,17],[18,0,7,18],[25,0,7,25],[26,0,7,26],[31,0,7,31],[32,0,7,32],[34,0,7,34]],[[12,0,9,12],[19,0,9,19],[20,0,9,20],[25,0,9,25],[27,0,9,27],[33,0,9,33],[34,0,9,34],[35,0,9,35]],[[9,0,11,9]],[[13,0,11,15]],[[12,0,13,12],[18,0,13,18],[19,0,13,19],[23,0,13,23],[24,0,13,24],[29,0,13,29],[30,0,13,30],[31,0,13,31]],[[9,0,14,9]],[[5,0,15,5]],[[4,0,17,4],[11,0,17,11],[17,0,17,17],[18,0,17,18]],[[0,0,18,0],[1,0,18,1]]],"sourcesContent":["\nexport function flatten<T>(arr: T[], result = []): any[] {\n\n    for (let i = 0, length = arr.length; i < length; i++) {\n\n        const value = arr[i];\n\n        if (Array.isArray(value)) {\n\n            flatten(value, result);\n\n        } else {\n\n            result.push(value);\n        }\n    }\n\n    return result;\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":20995,"body":[{"type":"ImportDeclaration","start":0,"end":54,"specifiers":[{"type":"ImportSpecifier","start":9,"end":24,"imported":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"}},{"type":"ImportSpecifier","start":26,"end":39,"imported":{"type":"Identifier","start":26,"end":39,"name":"combineLatest"},"local":{"type":"Identifier","start":26,"end":39,"name":"combineLatest"}}],"source":{"type":"Literal","start":47,"end":53,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":55,"end":162,"specifiers":[{"type":"ImportSpecifier","start":64,"end":73,"imported":{"type":"Identifier","start":64,"end":73,"name":"switchMap"},"local":{"type":"Identifier","start":64,"end":73,"name":"switchMap"}},{"type":"ImportSpecifier","start":75,"end":78,"imported":{"type":"Identifier","start":75,"end":78,"name":"tap"},"local":{"type":"Identifier","start":75,"end":78,"name":"tap"}},{"type":"ImportSpecifier","start":80,"end":91,"imported":{"type":"Identifier","start":80,"end":91,"name":"shareReplay"},"local":{"type":"Identifier","start":80,"end":91,"name":"shareReplay"}},{"type":"ImportSpecifier","start":93,"end":96,"imported":{"type":"Identifier","start":93,"end":96,"name":"map"},"local":{"type":"Identifier","start":93,"end":96,"name":"map"}},{"type":"ImportSpecifier","start":98,"end":104,"imported":{"type":"Identifier","start":98,"end":104,"name":"filter"},"local":{"type":"Identifier","start":98,"end":104,"name":"filter"}},{"type":"ImportSpecifier","start":106,"end":115,"imported":{"type":"Identifier","start":106,"end":115,"name":"auditTime"},"local":{"type":"Identifier","start":106,"end":115,"name":"auditTime"}},{"type":"ImportSpecifier","start":117,"end":137,"imported":{"type":"Identifier","start":117,"end":137,"name":"distinctUntilChanged"},"local":{"type":"Identifier","start":117,"end":137,"name":"distinctUntilChanged"}}],"source":{"type":"Literal","start":145,"end":161,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":163,"end":212,"specifiers":[{"type":"ImportSpecifier","start":172,"end":181,"imported":{"type":"Identifier","start":172,"end":181,"name":"enterZone"},"local":{"type":"Identifier","start":172,"end":181,"name":"enterZone"}}],"source":{"type":"Literal","start":189,"end":211,"value":"./operators.resource","raw":"'./operators.resource'"}},{"type":"ImportDeclaration","start":213,"end":272,"specifiers":[{"type":"ImportSpecifier","start":222,"end":238,"imported":{"type":"Identifier","start":222,"end":238,"name":"CustomHttpParams"},"local":{"type":"Identifier","start":222,"end":238,"name":"CustomHttpParams"}}],"source":{"type":"Literal","start":246,"end":271,"value":"./customParams.resource","raw":"'./customParams.resource'"}},{"type":"ImportDeclaration","start":273,"end":315,"specifiers":[{"type":"ImportSpecifier","start":282,"end":289,"imported":{"type":"Identifier","start":282,"end":289,"name":"flatten"},"local":{"type":"Identifier","start":282,"end":289,"name":"flatten"}}],"source":{"type":"Literal","start":297,"end":314,"value":"./misc.resource","raw":"'./misc.resource'"}},{"type":"ExportNamedDeclaration","start":316,"end":2040,"declaration":{"type":"ClassDeclaration","start":323,"end":2040,"id":{"type":"Identifier","start":329,"end":341,"name":"BaseDatabase"},"superClass":null,"body":{"type":"ClassBody","start":342,"end":2040,"body":[{"type":"MethodDefinition","start":348,"end":755,"static":false,"computed":false,"key":{"type":"Identifier","start":348,"end":359,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":359,"end":755,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":360,"end":367,"name":"__limit"},{"type":"Identifier","start":369,"end":375,"name":"__zone"}],"body":{"type":"BlockStatement","start":377,"end":755,"body":[{"type":"ExpressionStatement","start":387,"end":410,"expression":{"type":"AssignmentExpression","start":387,"end":409,"operator":"=","left":{"type":"MemberExpression","start":387,"end":399,"object":{"type":"ThisExpression","start":387,"end":391},"property":{"type":"Identifier","start":392,"end":399,"name":"__limit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":402,"end":409,"name":"__limit"}}},{"type":"ExpressionStatement","start":419,"end":440,"expression":{"type":"AssignmentExpression","start":419,"end":439,"operator":"=","left":{"type":"MemberExpression","start":419,"end":430,"object":{"type":"ThisExpression","start":419,"end":423},"property":{"type":"Identifier","start":424,"end":430,"name":"__zone"},"computed":false,"optional":false},"right":{"type":"Identifier","start":433,"end":439,"name":"__zone"}}},{"type":"ExpressionStatement","start":449,"end":464,"expression":{"type":"AssignmentExpression","start":449,"end":463,"operator":"=","left":{"type":"MemberExpression","start":449,"end":458,"object":{"type":"ThisExpression","start":449,"end":453},"property":{"type":"Identifier","start":454,"end":458,"name":"data"},"computed":false,"optional":false},"right":{"type":"ArrayExpression","start":461,"end":463,"elements":[]}}},{"type":"ExpressionStatement","start":473,"end":516,"expression":{"type":"AssignmentExpression","start":473,"end":515,"operator":"=","left":{"type":"MemberExpression","start":473,"end":489,"object":{"type":"ThisExpression","start":473,"end":477},"property":{"type":"Identifier","start":478,"end":489,"name":"queueChange"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":492,"end":515,"callee":{"type":"Identifier","start":496,"end":511,"name":"BehaviorSubject"},"arguments":[{"type":"ArrayExpression","start":512,"end":514,"elements":[]}]}}},{"type":"ExpressionStatement","start":525,"end":576,"expression":{"type":"AssignmentExpression","start":525,"end":575,"operator":"=","left":{"type":"MemberExpression","start":525,"end":546,"object":{"type":"ThisExpression","start":525,"end":529},"property":{"type":"Identifier","start":530,"end":546,"name":"_isLoadingChange"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":549,"end":575,"callee":{"type":"Identifier","start":553,"end":568,"name":"BehaviorSubject"},"arguments":[{"type":"Literal","start":569,"end":574,"value":false,"raw":"false"}]}}},{"type":"ExpressionStatement","start":585,"end":627,"expression":{"type":"AssignmentExpression","start":585,"end":626,"operator":"=","left":{"type":"MemberExpression","start":585,"end":601,"object":{"type":"ThisExpression","start":585,"end":589},"property":{"type":"Identifier","start":590,"end":601,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":604,"end":626,"callee":{"type":"Identifier","start":608,"end":624,"name":"CustomHttpParams"},"arguments":[]}}},{"type":"ExpressionStatement","start":636,"end":749,"expression":{"type":"AssignmentExpression","start":636,"end":748,"operator":"=","left":{"type":"MemberExpression","start":636,"end":656,"object":{"type":"ThisExpression","start":636,"end":640},"property":{"type":"Identifier","start":641,"end":656,"name":"isLoadingChange"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":659,"end":748,"callee":{"type":"MemberExpression","start":659,"end":700,"object":{"type":"CallExpression","start":659,"end":695,"callee":{"type":"MemberExpression","start":659,"end":693,"object":{"type":"MemberExpression","start":659,"end":680,"object":{"type":"ThisExpression","start":659,"end":663},"property":{"type":"Identifier","start":664,"end":680,"name":"_isLoadingChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":681,"end":693,"name":"asObservable"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":696,"end":700,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":701,"end":723,"callee":{"type":"Identifier","start":701,"end":721,"name":"distinctUntilChanged"},"arguments":[],"optional":false},{"type":"CallExpression","start":725,"end":747,"callee":{"type":"Identifier","start":725,"end":734,"name":"enterZone"},"arguments":[{"type":"MemberExpression","start":735,"end":746,"object":{"type":"ThisExpression","start":735,"end":739},"property":{"type":"Identifier","start":740,"end":746,"name":"__zone"},"computed":false,"optional":false}],"optional":false}],"optional":false}}}]}}},{"type":"MethodDefinition","start":760,"end":805,"static":false,"computed":false,"key":{"type":"Identifier","start":764,"end":774,"name":"httpParams"},"kind":"get","value":{"type":"FunctionExpression","start":774,"end":805,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":777,"end":805,"body":[{"type":"ReturnStatement","start":779,"end":803,"argument":{"type":"MemberExpression","start":786,"end":802,"object":{"type":"ThisExpression","start":786,"end":790},"property":{"type":"Identifier","start":791,"end":802,"name":"_httpParams"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":810,"end":887,"static":false,"computed":false,"key":{"type":"Identifier","start":814,"end":824,"name":"httpParams"},"kind":"set","value":{"type":"FunctionExpression","start":824,"end":887,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":825,"end":826,"name":"v"}],"body":{"type":"BlockStatement","start":828,"end":887,"body":[{"type":"ExpressionStatement","start":838,"end":859,"expression":{"type":"AssignmentExpression","start":838,"end":858,"operator":"=","left":{"type":"MemberExpression","start":838,"end":854,"object":{"type":"ThisExpression","start":838,"end":842},"property":{"type":"Identifier","start":843,"end":854,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"Identifier","start":857,"end":858,"name":"v"}}},{"type":"ExpressionStatement","start":868,"end":881,"expression":{"type":"CallExpression","start":868,"end":880,"callee":{"type":"MemberExpression","start":868,"end":878,"object":{"type":"ThisExpression","start":868,"end":872},"property":{"type":"Identifier","start":873,"end":878,"name":"reset"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}},{"type":"MethodDefinition","start":892,"end":947,"static":false,"computed":false,"key":{"type":"Identifier","start":896,"end":905,"name":"isLoading"},"kind":"get","value":{"type":"FunctionExpression","start":905,"end":947,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":908,"end":947,"body":[{"type":"ReturnStatement","start":910,"end":945,"argument":{"type":"MemberExpression","start":917,"end":944,"object":{"type":"MemberExpression","start":917,"end":938,"object":{"type":"ThisExpression","start":917,"end":921},"property":{"type":"Identifier","start":922,"end":938,"name":"_isLoadingChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":939,"end":944,"name":"value"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":952,"end":993,"static":false,"computed":false,"key":{"type":"Identifier","start":956,"end":962,"name":"offset"},"kind":"get","value":{"type":"FunctionExpression","start":962,"end":993,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":965,"end":993,"body":[{"type":"ReturnStatement","start":967,"end":991,"argument":{"type":"MemberExpression","start":974,"end":990,"object":{"type":"MemberExpression","start":974,"end":983,"object":{"type":"ThisExpression","start":974,"end":978},"property":{"type":"Identifier","start":979,"end":983,"name":"data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":984,"end":990,"name":"length"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":998,"end":1047,"static":false,"computed":false,"key":{"type":"Identifier","start":1002,"end":1012,"name":"isLoadable"},"kind":"get","value":{"type":"FunctionExpression","start":1012,"end":1047,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1015,"end":1047,"body":[{"type":"ReturnStatement","start":1017,"end":1045,"argument":{"type":"UnaryExpression","start":1024,"end":1044,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":1025,"end":1044,"operator":"!","prefix":true,"argument":{"type":"ChainExpression","start":1026,"end":1044,"expression":{"type":"MemberExpression","start":1026,"end":1044,"object":{"type":"MemberExpression","start":1026,"end":1038,"object":{"type":"ThisExpression","start":1026,"end":1030},"property":{"type":"Identifier","start":1031,"end":1038,"name":"lastRes"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1040,"end":1044,"name":"next"},"computed":false,"optional":true}}}}}]}}},{"type":"MethodDefinition","start":1052,"end":1088,"static":false,"computed":false,"key":{"type":"Identifier","start":1056,"end":1061,"name":"limit"},"kind":"get","value":{"type":"FunctionExpression","start":1061,"end":1088,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1064,"end":1088,"body":[{"type":"ReturnStatement","start":1066,"end":1086,"argument":{"type":"MemberExpression","start":1073,"end":1085,"object":{"type":"ThisExpression","start":1073,"end":1077},"property":{"type":"Identifier","start":1078,"end":1085,"name":"__limit"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":1093,"end":1449,"static":false,"computed":false,"key":{"type":"Identifier","start":1093,"end":1098,"name":"reset"},"kind":"method","value":{"type":"FunctionExpression","start":1098,"end":1449,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1101,"end":1449,"body":[{"type":"ExpressionStatement","start":1111,"end":1163,"expression":{"type":"AssignmentExpression","start":1111,"end":1162,"operator":"=","left":{"type":"MemberExpression","start":1111,"end":1127,"object":{"type":"ThisExpression","start":1111,"end":1115},"property":{"type":"Identifier","start":1116,"end":1127,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1130,"end":1162,"callee":{"type":"MemberExpression","start":1130,"end":1152,"object":{"type":"MemberExpression","start":1130,"end":1145,"object":{"type":"ThisExpression","start":1130,"end":1134},"property":{"type":"Identifier","start":1135,"end":1145,"name":"httpParams"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1146,"end":1152,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1153,"end":1161,"value":"cursor","raw":"'cursor'"}],"optional":false}}},{"type":"ExpressionStatement","start":1172,"end":1226,"expression":{"type":"AssignmentExpression","start":1172,"end":1225,"operator":"=","left":{"type":"MemberExpression","start":1172,"end":1188,"object":{"type":"ThisExpression","start":1172,"end":1176},"property":{"type":"Identifier","start":1177,"end":1188,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1191,"end":1225,"callee":{"type":"MemberExpression","start":1191,"end":1210,"object":{"type":"MemberExpression","start":1191,"end":1206,"object":{"type":"ThisExpression","start":1191,"end":1195},"property":{"type":"Identifier","start":1196,"end":1206,"name":"httpParams"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1207,"end":1210,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1211,"end":1219,"value":"offset","raw":"'offset'"},{"type":"Literal","start":1221,"end":1224,"value":"0","raw":"'0'"}],"optional":false}}},{"type":"ExpressionStatement","start":1235,"end":1306,"expression":{"type":"AssignmentExpression","start":1235,"end":1305,"operator":"=","left":{"type":"MemberExpression","start":1235,"end":1251,"object":{"type":"ThisExpression","start":1235,"end":1239},"property":{"type":"Identifier","start":1240,"end":1251,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1254,"end":1305,"callee":{"type":"MemberExpression","start":1254,"end":1273,"object":{"type":"MemberExpression","start":1254,"end":1269,"object":{"type":"ThisExpression","start":1254,"end":1258},"property":{"type":"Identifier","start":1259,"end":1269,"name":"httpParams"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1270,"end":1273,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1274,"end":1281,"value":"limit","raw":"'limit'"},{"type":"CallExpression","start":1283,"end":1304,"callee":{"type":"MemberExpression","start":1283,"end":1302,"object":{"type":"MemberExpression","start":1283,"end":1293,"object":{"type":"ThisExpression","start":1283,"end":1287},"property":{"type":"Identifier","start":1288,"end":1293,"name":"limit"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1294,"end":1302,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}},{"type":"IfStatement","start":1315,"end":1443,"test":{"type":"UnaryExpression","start":1319,"end":1351,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1320,"end":1351,"callee":{"type":"MemberExpression","start":1320,"end":1339,"object":{"type":"MemberExpression","start":1320,"end":1335,"object":{"type":"ThisExpression","start":1320,"end":1324},"property":{"type":"Identifier","start":1325,"end":1335,"name":"httpParams"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1336,"end":1339,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1340,"end":1350,"value":"ordering","raw":"'ordering'"}],"optional":false}},"consequent":{"type":"BlockStatement","start":1353,"end":1443,"body":[{"type":"ExpressionStatement","start":1367,"end":1433,"expression":{"type":"AssignmentExpression","start":1367,"end":1432,"operator":"=","left":{"type":"MemberExpression","start":1367,"end":1383,"object":{"type":"ThisExpression","start":1367,"end":1371},"property":{"type":"Identifier","start":1372,"end":1383,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1386,"end":1432,"callee":{"type":"MemberExpression","start":1386,"end":1405,"object":{"type":"MemberExpression","start":1386,"end":1401,"object":{"type":"ThisExpression","start":1386,"end":1390},"property":{"type":"Identifier","start":1391,"end":1401,"name":"httpParams"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1402,"end":1405,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1406,"end":1416,"value":"ordering","raw":"'ordering'"},{"type":"Literal","start":1418,"end":1431,"value":"-created_at","raw":"'-created_at'"}],"optional":false}}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":1454,"end":2038,"static":false,"computed":false,"key":{"type":"Identifier","start":1454,"end":1462,"name":"loadMore"},"kind":"method","value":{"type":"FunctionExpression","start":1462,"end":2038,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":1465,"end":2038,"body":[{"type":"IfStatement","start":1475,"end":1870,"test":{"type":"ChainExpression","start":1479,"end":1497,"expression":{"type":"MemberExpression","start":1479,"end":1497,"object":{"type":"MemberExpression","start":1479,"end":1491,"object":{"type":"ThisExpression","start":1479,"end":1483},"property":{"type":"Identifier","start":1484,"end":1491,"name":"lastRes"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1493,"end":1497,"name":"next"},"computed":false,"optional":true}},"consequent":{"type":"BlockStatement","start":1499,"end":1870,"body":[{"type":"VariableDeclaration","start":1513,"end":1556,"declarations":[{"type":"VariableDeclarator","start":1519,"end":1555,"id":{"type":"Identifier","start":1519,"end":1524,"name":"split"},"init":{"type":"CallExpression","start":1527,"end":1555,"callee":{"type":"MemberExpression","start":1527,"end":1550,"object":{"type":"MemberExpression","start":1527,"end":1544,"object":{"type":"MemberExpression","start":1527,"end":1539,"object":{"type":"ThisExpression","start":1527,"end":1531},"property":{"type":"Identifier","start":1532,"end":1539,"name":"lastRes"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1540,"end":1544,"name":"next"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1545,"end":1550,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1551,"end":1554,"value":"?","raw":"'?'"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1569,"end":1860,"test":{"type":"BinaryExpression","start":1573,"end":1589,"left":{"type":"MemberExpression","start":1573,"end":1585,"object":{"type":"Identifier","start":1573,"end":1578,"name":"split"},"property":{"type":"Identifier","start":1579,"end":1585,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":1588,"end":1589,"value":1,"raw":"1"}},"consequent":{"type":"BlockStatement","start":1591,"end":1860,"body":[{"type":"ExpressionStatement","start":1609,"end":1846,"expression":{"type":"CallExpression","start":1609,"end":1845,"callee":{"type":"MemberExpression","start":1609,"end":1636,"object":{"type":"CallExpression","start":1609,"end":1628,"callee":{"type":"MemberExpression","start":1609,"end":1623,"object":{"type":"MemberExpression","start":1609,"end":1617,"object":{"type":"Identifier","start":1609,"end":1614,"name":"split"},"property":{"type":"Literal","start":1615,"end":1616,"value":1,"raw":"1"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1618,"end":1623,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1624,"end":1627,"value":"&","raw":"'&'"}],"optional":false},"property":{"type":"Identifier","start":1629,"end":1636,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1637,"end":1844,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1637,"end":1638,"name":"q"}],"body":{"type":"BlockStatement","start":1642,"end":1844,"body":[{"type":"VariableDeclaration","start":1664,"end":1696,"declarations":[{"type":"VariableDeclarator","start":1670,"end":1695,"id":{"type":"Identifier","start":1670,"end":1680,"name":"queryParam"},"init":{"type":"CallExpression","start":1683,"end":1695,"callee":{"type":"MemberExpression","start":1683,"end":1690,"object":{"type":"Identifier","start":1683,"end":1684,"name":"q"},"property":{"type":"Identifier","start":1685,"end":1690,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1691,"end":1694,"value":"=","raw":"'='"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":1717,"end":1826,"expression":{"type":"AssignmentExpression","start":1717,"end":1825,"operator":"=","left":{"type":"MemberExpression","start":1717,"end":1733,"object":{"type":"ThisExpression","start":1717,"end":1721},"property":{"type":"Identifier","start":1722,"end":1733,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1736,"end":1825,"callee":{"type":"MemberExpression","start":1736,"end":1755,"object":{"type":"MemberExpression","start":1736,"end":1751,"object":{"type":"ThisExpression","start":1736,"end":1740},"property":{"type":"Identifier","start":1741,"end":1751,"name":"httpParams"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1752,"end":1755,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1756,"end":1789,"callee":{"type":"Identifier","start":1756,"end":1774,"name":"decodeURIComponent"},"arguments":[{"type":"MemberExpression","start":1775,"end":1788,"object":{"type":"Identifier","start":1775,"end":1785,"name":"queryParam"},"property":{"type":"Literal","start":1786,"end":1787,"value":0,"raw":"0"},"computed":true,"optional":false}],"optional":false},{"type":"CallExpression","start":1791,"end":1824,"callee":{"type":"Identifier","start":1791,"end":1809,"name":"decodeURIComponent"},"arguments":[{"type":"MemberExpression","start":1810,"end":1823,"object":{"type":"Identifier","start":1810,"end":1820,"name":"queryParam"},"property":{"type":"Literal","start":1821,"end":1822,"value":1,"raw":"1"},"computed":true,"optional":false}],"optional":false}],"optional":false}}}]}}],"optional":false}}]},"alternate":null}]},"alternate":null},{"type":"ExpressionStatement","start":1879,"end":1952,"expression":{"type":"AssignmentExpression","start":1879,"end":1951,"operator":"=","left":{"type":"MemberExpression","start":1879,"end":1895,"object":{"type":"ThisExpression","start":1879,"end":1883},"property":{"type":"Identifier","start":1884,"end":1895,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1898,"end":1951,"callee":{"type":"MemberExpression","start":1898,"end":1917,"object":{"type":"MemberExpression","start":1898,"end":1913,"object":{"type":"ThisExpression","start":1898,"end":1902},"property":{"type":"Identifier","start":1903,"end":1913,"name":"httpParams"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1914,"end":1917,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1918,"end":1926,"value":"offset","raw":"'offset'"},{"type":"CallExpression","start":1928,"end":1950,"callee":{"type":"MemberExpression","start":1928,"end":1948,"object":{"type":"MemberExpression","start":1928,"end":1939,"object":{"type":"ThisExpression","start":1928,"end":1932},"property":{"type":"Identifier","start":1933,"end":1939,"name":"offset"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1940,"end":1948,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}},{"type":"ExpressionStatement","start":1961,"end":2032,"expression":{"type":"AssignmentExpression","start":1961,"end":2031,"operator":"=","left":{"type":"MemberExpression","start":1961,"end":1977,"object":{"type":"ThisExpression","start":1961,"end":1965},"property":{"type":"Identifier","start":1966,"end":1977,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1980,"end":2031,"callee":{"type":"MemberExpression","start":1980,"end":1999,"object":{"type":"MemberExpression","start":1980,"end":1995,"object":{"type":"ThisExpression","start":1980,"end":1984},"property":{"type":"Identifier","start":1985,"end":1995,"name":"httpParams"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1996,"end":1999,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2000,"end":2007,"value":"limit","raw":"'limit'"},{"type":"CallExpression","start":2009,"end":2030,"callee":{"type":"MemberExpression","start":2009,"end":2028,"object":{"type":"MemberExpression","start":2009,"end":2019,"object":{"type":"ThisExpression","start":2009,"end":2013},"property":{"type":"Identifier","start":2014,"end":2019,"name":"limit"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2020,"end":2028,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":2041,"end":3198,"declaration":{"type":"ClassDeclaration","start":2048,"end":3198,"id":{"type":"Identifier","start":2054,"end":2062,"name":"Database"},"superClass":{"type":"Identifier","start":2071,"end":2083,"name":"BaseDatabase"},"body":{"type":"ClassBody","start":2084,"end":3198,"body":[{"type":"MethodDefinition","start":2090,"end":2726,"static":false,"computed":false,"key":{"type":"Identifier","start":2090,"end":2101,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":2101,"end":2726,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2102,"end":2112,"name":"apiService"},{"type":"Identifier","start":2114,"end":2118,"name":"zone"},{"type":"AssignmentPattern","start":2120,"end":2131,"left":{"type":"Identifier","start":2120,"end":2126,"name":"_limit"},"right":{"type":"Literal","start":2129,"end":2131,"value":20,"raw":"20"}}],"body":{"type":"BlockStatement","start":2133,"end":2726,"body":[{"type":"ExpressionStatement","start":2143,"end":2163,"expression":{"type":"CallExpression","start":2143,"end":2162,"callee":{"type":"Super","start":2143,"end":2148},"arguments":[{"type":"Identifier","start":2149,"end":2155,"name":"_limit"},{"type":"Identifier","start":2157,"end":2161,"name":"zone"}],"optional":false}},{"type":"ExpressionStatement","start":2172,"end":2201,"expression":{"type":"AssignmentExpression","start":2172,"end":2200,"operator":"=","left":{"type":"MemberExpression","start":2172,"end":2187,"object":{"type":"ThisExpression","start":2172,"end":2176},"property":{"type":"Identifier","start":2177,"end":2187,"name":"apiService"},"computed":false,"optional":false},"right":{"type":"Identifier","start":2190,"end":2200,"name":"apiService"}}},{"type":"ExpressionStatement","start":2210,"end":2227,"expression":{"type":"AssignmentExpression","start":2210,"end":2226,"operator":"=","left":{"type":"MemberExpression","start":2210,"end":2219,"object":{"type":"ThisExpression","start":2210,"end":2214},"property":{"type":"Identifier","start":2215,"end":2219,"name":"zone"},"computed":false,"optional":false},"right":{"type":"Identifier","start":2222,"end":2226,"name":"zone"}}},{"type":"ExpressionStatement","start":2236,"end":2257,"expression":{"type":"AssignmentExpression","start":2236,"end":2256,"operator":"=","left":{"type":"MemberExpression","start":2236,"end":2247,"object":{"type":"ThisExpression","start":2236,"end":2240},"property":{"type":"Identifier","start":2241,"end":2247,"name":"_limit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":2250,"end":2256,"name":"_limit"}}},{"type":"ExpressionStatement","start":2266,"end":2720,"expression":{"type":"AssignmentExpression","start":2266,"end":2719,"operator":"=","left":{"type":"MemberExpression","start":2266,"end":2281,"object":{"type":"ThisExpression","start":2266,"end":2270},"property":{"type":"Identifier","start":2271,"end":2281,"name":"dataChange"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":2284,"end":2719,"callee":{"type":"MemberExpression","start":2284,"end":2320,"object":{"type":"CallExpression","start":2284,"end":2315,"callee":{"type":"MemberExpression","start":2284,"end":2313,"object":{"type":"MemberExpression","start":2284,"end":2300,"object":{"type":"ThisExpression","start":2284,"end":2288},"property":{"type":"Identifier","start":2289,"end":2300,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2301,"end":2313,"name":"asObservable"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":2316,"end":2320,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2321,"end":2387,"callee":{"type":"Identifier","start":2321,"end":2324,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":2325,"end":2386,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2325,"end":2326,"name":"v"}],"body":{"type":"BlockStatement","start":2330,"end":2386,"body":[{"type":"IfStatement","start":2332,"end":2384,"test":{"type":"UnaryExpression","start":2336,"end":2345,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2337,"end":2345,"object":{"type":"Identifier","start":2337,"end":2338,"name":"v"},"property":{"type":"Identifier","start":2339,"end":2345,"name":"length"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":2347,"end":2384,"body":[{"type":"ExpressionStatement","start":2361,"end":2374,"expression":{"type":"CallExpression","start":2361,"end":2373,"callee":{"type":"MemberExpression","start":2361,"end":2371,"object":{"type":"ThisExpression","start":2361,"end":2365},"property":{"type":"Identifier","start":2366,"end":2371,"name":"reset"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":2389,"end":2412,"callee":{"type":"Identifier","start":2389,"end":2395,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":2396,"end":2411,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2396,"end":2397,"name":"v"}],"body":{"type":"UnaryExpression","start":2401,"end":2411,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":2402,"end":2411,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":2403,"end":2411,"object":{"type":"Identifier","start":2403,"end":2404,"name":"v"},"property":{"type":"Identifier","start":2405,"end":2411,"name":"length"},"computed":false,"optional":false}}}}],"optional":false},{"type":"CallExpression","start":2414,"end":2457,"callee":{"type":"Identifier","start":2414,"end":2417,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":2418,"end":2456,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":2424,"end":2456,"callee":{"type":"MemberExpression","start":2424,"end":2450,"object":{"type":"MemberExpression","start":2424,"end":2445,"object":{"type":"ThisExpression","start":2424,"end":2428},"property":{"type":"Identifier","start":2429,"end":2445,"name":"_isLoadingChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2446,"end":2450,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2451,"end":2455,"value":true,"raw":"true"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":2459,"end":2491,"callee":{"type":"Identifier","start":2459,"end":2468,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":2469,"end":2490,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2469,"end":2470,"name":"v"}],"body":{"type":"CallExpression","start":2474,"end":2490,"callee":{"type":"Identifier","start":2474,"end":2487,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":2488,"end":2489,"name":"v"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":2493,"end":2513,"callee":{"type":"Identifier","start":2493,"end":2502,"name":"auditTime"},"arguments":[{"type":"BinaryExpression","start":2503,"end":2512,"left":{"type":"Literal","start":2503,"end":2507,"value":1000,"raw":"1000"},"operator":"/","right":{"type":"Literal","start":2510,"end":2512,"value":60,"raw":"60"}}],"optional":false},{"type":"CallExpression","start":2515,"end":2585,"callee":{"type":"Identifier","start":2515,"end":2518,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":2519,"end":2584,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2519,"end":2522,"name":"res"}],"body":{"type":"AssignmentExpression","start":2526,"end":2584,"operator":"=","left":{"type":"MemberExpression","start":2526,"end":2538,"object":{"type":"ThisExpression","start":2526,"end":2530},"property":{"type":"Identifier","start":2531,"end":2538,"name":"lastRes"},"computed":false,"optional":false},"right":{"type":"ConditionalExpression","start":2541,"end":2584,"test":{"type":"BinaryExpression","start":2541,"end":2555,"left":{"type":"MemberExpression","start":2541,"end":2551,"object":{"type":"Identifier","start":2541,"end":2544,"name":"res"},"property":{"type":"Identifier","start":2545,"end":2551,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":2554,"end":2555,"value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","start":2558,"end":2577,"object":{"type":"Identifier","start":2558,"end":2561,"name":"res"},"property":{"type":"BinaryExpression","start":2562,"end":2576,"left":{"type":"MemberExpression","start":2562,"end":2572,"object":{"type":"Identifier","start":2562,"end":2565,"name":"res"},"property":{"type":"Identifier","start":2566,"end":2572,"name":"length"},"computed":false,"optional":false},"operator":"-","right":{"type":"Literal","start":2575,"end":2576,"value":1,"raw":"1"}},"computed":true,"optional":false},"alternate":{"type":"Literal","start":2580,"end":2584,"value":null,"raw":"null"}}}}],"optional":false},{"type":"CallExpression","start":2587,"end":2631,"callee":{"type":"Identifier","start":2587,"end":2590,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":2591,"end":2630,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2591,"end":2594,"name":"res"}],"body":{"type":"CallExpression","start":2598,"end":2630,"callee":{"type":"Identifier","start":2598,"end":2605,"name":"flatten"},"arguments":[{"type":"CallExpression","start":2606,"end":2629,"callee":{"type":"MemberExpression","start":2606,"end":2613,"object":{"type":"Identifier","start":2606,"end":2609,"name":"res"},"property":{"type":"Identifier","start":2610,"end":2613,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2614,"end":2628,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2614,"end":2615,"name":"v"}],"body":{"type":"MemberExpression","start":2619,"end":2628,"object":{"type":"Identifier","start":2619,"end":2620,"name":"v"},"property":{"type":"Identifier","start":2621,"end":2628,"name":"results"},"computed":false,"optional":false}}],"optional":false}],"optional":false}}],"optional":false},{"type":"CallExpression","start":2633,"end":2656,"callee":{"type":"Identifier","start":2633,"end":2636,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":2637,"end":2655,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2637,"end":2638,"name":"v"}],"body":{"type":"AssignmentExpression","start":2642,"end":2655,"operator":"=","left":{"type":"MemberExpression","start":2642,"end":2651,"object":{"type":"ThisExpression","start":2642,"end":2646},"property":{"type":"Identifier","start":2647,"end":2651,"name":"data"},"computed":false,"optional":false},"right":{"type":"Identifier","start":2654,"end":2655,"name":"v"}}}],"optional":false},{"type":"CallExpression","start":2658,"end":2702,"callee":{"type":"Identifier","start":2658,"end":2661,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":2662,"end":2701,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":2668,"end":2701,"callee":{"type":"MemberExpression","start":2668,"end":2694,"object":{"type":"MemberExpression","start":2668,"end":2689,"object":{"type":"ThisExpression","start":2668,"end":2672},"property":{"type":"Identifier","start":2673,"end":2689,"name":"_isLoadingChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2690,"end":2694,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2695,"end":2700,"value":false,"raw":"false"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":2704,"end":2718,"callee":{"type":"Identifier","start":2704,"end":2715,"name":"shareReplay"},"arguments":[{"type":"Literal","start":2716,"end":2717,"value":1,"raw":"1"}],"optional":false}],"optional":false}}}]}}},{"type":"MethodDefinition","start":2731,"end":2829,"static":false,"computed":false,"key":{"type":"Identifier","start":2731,"end":2738,"name":"getView"},"kind":"method","value":{"type":"FunctionExpression","start":2738,"end":2829,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2739,"end":2749,"name":"httpParams"}],"body":{"type":"BlockStatement","start":2751,"end":2829,"body":[{"type":"ReturnStatement","start":2761,"end":2823,"argument":{"type":"CallExpression","start":2768,"end":2822,"callee":{"type":"MemberExpression","start":2768,"end":2806,"object":{"type":"CallExpression","start":2768,"end":2801,"callee":{"type":"MemberExpression","start":2768,"end":2789,"object":{"type":"MemberExpression","start":2768,"end":2783,"object":{"type":"ThisExpression","start":2768,"end":2772},"property":{"type":"Identifier","start":2773,"end":2783,"name":"apiService"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2784,"end":2789,"name":"fetch"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2790,"end":2800,"name":"httpParams"}],"optional":false},"property":{"type":"Identifier","start":2802,"end":2806,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2807,"end":2821,"callee":{"type":"Identifier","start":2807,"end":2818,"name":"shareReplay"},"arguments":[{"type":"Literal","start":2819,"end":2820,"value":1,"raw":"1"}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":2834,"end":2963,"static":false,"computed":false,"key":{"type":"Identifier","start":2834,"end":2839,"name":"reset"},"kind":"method","value":{"type":"FunctionExpression","start":2839,"end":2963,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2842,"end":2963,"body":[{"type":"ExpressionStatement","start":2852,"end":2866,"expression":{"type":"CallExpression","start":2852,"end":2865,"callee":{"type":"MemberExpression","start":2852,"end":2863,"object":{"type":"Super","start":2852,"end":2857},"property":{"type":"Identifier","start":2858,"end":2863,"name":"reset"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"VariableDeclaration","start":2875,"end":2918,"declarations":[{"type":"VariableDeclarator","start":2881,"end":2917,"id":{"type":"Identifier","start":2881,"end":2885,"name":"view"},"init":{"type":"CallExpression","start":2888,"end":2917,"callee":{"type":"MemberExpression","start":2888,"end":2900,"object":{"type":"ThisExpression","start":2888,"end":2892},"property":{"type":"Identifier","start":2893,"end":2900,"name":"getView"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":2901,"end":2916,"object":{"type":"ThisExpression","start":2901,"end":2905},"property":{"type":"Identifier","start":2906,"end":2916,"name":"httpParams"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2927,"end":2957,"expression":{"type":"CallExpression","start":2927,"end":2956,"callee":{"type":"MemberExpression","start":2927,"end":2948,"object":{"type":"MemberExpression","start":2927,"end":2943,"object":{"type":"ThisExpression","start":2927,"end":2931},"property":{"type":"Identifier","start":2932,"end":2943,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2944,"end":2948,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"ArrayExpression","start":2949,"end":2955,"elements":[{"type":"Identifier","start":2950,"end":2954,"name":"view"}]}],"optional":false}}]}}},{"type":"MethodDefinition","start":2968,"end":3196,"static":false,"computed":false,"key":{"type":"Identifier","start":2968,"end":2976,"name":"loadMore"},"kind":"method","value":{"type":"FunctionExpression","start":2976,"end":3196,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2979,"end":3196,"body":[{"type":"IfStatement","start":2989,"end":3040,"test":{"type":"MemberExpression","start":2993,"end":3007,"object":{"type":"ThisExpression","start":2993,"end":2997},"property":{"type":"Identifier","start":2998,"end":3007,"name":"isLoading"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":3009,"end":3040,"body":[{"type":"ReturnStatement","start":3023,"end":3030,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":3049,"end":3066,"expression":{"type":"CallExpression","start":3049,"end":3065,"callee":{"type":"MemberExpression","start":3049,"end":3063,"object":{"type":"Super","start":3049,"end":3054},"property":{"type":"Identifier","start":3055,"end":3063,"name":"loadMore"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"VariableDeclaration","start":3075,"end":3118,"declarations":[{"type":"VariableDeclarator","start":3081,"end":3117,"id":{"type":"Identifier","start":3081,"end":3085,"name":"view"},"init":{"type":"CallExpression","start":3088,"end":3117,"callee":{"type":"MemberExpression","start":3088,"end":3100,"object":{"type":"ThisExpression","start":3088,"end":3092},"property":{"type":"Identifier","start":3093,"end":3100,"name":"getView"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":3101,"end":3116,"object":{"type":"ThisExpression","start":3101,"end":3105},"property":{"type":"Identifier","start":3106,"end":3116,"name":"httpParams"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":3127,"end":3190,"expression":{"type":"CallExpression","start":3127,"end":3189,"callee":{"type":"MemberExpression","start":3127,"end":3148,"object":{"type":"MemberExpression","start":3127,"end":3143,"object":{"type":"ThisExpression","start":3127,"end":3131},"property":{"type":"Identifier","start":3132,"end":3143,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3144,"end":3148,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":3149,"end":3188,"callee":{"type":"Identifier","start":3149,"end":3156,"name":"flatten"},"arguments":[{"type":"ArrayExpression","start":3157,"end":3187,"elements":[{"type":"MemberExpression","start":3158,"end":3180,"object":{"type":"MemberExpression","start":3158,"end":3174,"object":{"type":"ThisExpression","start":3158,"end":3162},"property":{"type":"Identifier","start":3163,"end":3174,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3175,"end":3180,"name":"value"},"computed":false,"optional":false},{"type":"Identifier","start":3182,"end":3186,"name":"view"}]}],"optional":false}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":3199,"end":4372,"declaration":{"type":"ClassDeclaration","start":3206,"end":4372,"id":{"type":"Identifier","start":3212,"end":3228,"name":"ReactiveDatabase"},"superClass":{"type":"Identifier","start":3237,"end":3249,"name":"BaseDatabase"},"body":{"type":"ClassBody","start":3250,"end":4372,"body":[{"type":"MethodDefinition","start":3256,"end":3892,"static":false,"computed":false,"key":{"type":"Identifier","start":3256,"end":3267,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":3267,"end":3892,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3268,"end":3278,"name":"apiService"},{"type":"Identifier","start":3280,"end":3284,"name":"zone"},{"type":"AssignmentPattern","start":3286,"end":3297,"left":{"type":"Identifier","start":3286,"end":3292,"name":"_limit"},"right":{"type":"Literal","start":3295,"end":3297,"value":20,"raw":"20"}}],"body":{"type":"BlockStatement","start":3299,"end":3892,"body":[{"type":"ExpressionStatement","start":3309,"end":3329,"expression":{"type":"CallExpression","start":3309,"end":3328,"callee":{"type":"Super","start":3309,"end":3314},"arguments":[{"type":"Identifier","start":3315,"end":3321,"name":"_limit"},{"type":"Identifier","start":3323,"end":3327,"name":"zone"}],"optional":false}},{"type":"ExpressionStatement","start":3338,"end":3367,"expression":{"type":"AssignmentExpression","start":3338,"end":3366,"operator":"=","left":{"type":"MemberExpression","start":3338,"end":3353,"object":{"type":"ThisExpression","start":3338,"end":3342},"property":{"type":"Identifier","start":3343,"end":3353,"name":"apiService"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3356,"end":3366,"name":"apiService"}}},{"type":"ExpressionStatement","start":3376,"end":3393,"expression":{"type":"AssignmentExpression","start":3376,"end":3392,"operator":"=","left":{"type":"MemberExpression","start":3376,"end":3385,"object":{"type":"ThisExpression","start":3376,"end":3380},"property":{"type":"Identifier","start":3381,"end":3385,"name":"zone"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3388,"end":3392,"name":"zone"}}},{"type":"ExpressionStatement","start":3402,"end":3423,"expression":{"type":"AssignmentExpression","start":3402,"end":3422,"operator":"=","left":{"type":"MemberExpression","start":3402,"end":3413,"object":{"type":"ThisExpression","start":3402,"end":3406},"property":{"type":"Identifier","start":3407,"end":3413,"name":"_limit"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3416,"end":3422,"name":"_limit"}}},{"type":"ExpressionStatement","start":3432,"end":3886,"expression":{"type":"AssignmentExpression","start":3432,"end":3885,"operator":"=","left":{"type":"MemberExpression","start":3432,"end":3447,"object":{"type":"ThisExpression","start":3432,"end":3436},"property":{"type":"Identifier","start":3437,"end":3447,"name":"dataChange"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":3450,"end":3885,"callee":{"type":"MemberExpression","start":3450,"end":3486,"object":{"type":"CallExpression","start":3450,"end":3481,"callee":{"type":"MemberExpression","start":3450,"end":3479,"object":{"type":"MemberExpression","start":3450,"end":3466,"object":{"type":"ThisExpression","start":3450,"end":3454},"property":{"type":"Identifier","start":3455,"end":3466,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3467,"end":3479,"name":"asObservable"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":3482,"end":3486,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":3487,"end":3553,"callee":{"type":"Identifier","start":3487,"end":3490,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":3491,"end":3552,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3491,"end":3492,"name":"v"}],"body":{"type":"BlockStatement","start":3496,"end":3552,"body":[{"type":"IfStatement","start":3498,"end":3550,"test":{"type":"UnaryExpression","start":3502,"end":3511,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":3503,"end":3511,"object":{"type":"Identifier","start":3503,"end":3504,"name":"v"},"property":{"type":"Identifier","start":3505,"end":3511,"name":"length"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":3513,"end":3550,"body":[{"type":"ExpressionStatement","start":3527,"end":3540,"expression":{"type":"CallExpression","start":3527,"end":3539,"callee":{"type":"MemberExpression","start":3527,"end":3537,"object":{"type":"ThisExpression","start":3527,"end":3531},"property":{"type":"Identifier","start":3532,"end":3537,"name":"reset"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":null}]}}],"optional":false},{"type":"CallExpression","start":3555,"end":3578,"callee":{"type":"Identifier","start":3555,"end":3561,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":3562,"end":3577,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3562,"end":3563,"name":"v"}],"body":{"type":"UnaryExpression","start":3567,"end":3577,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":3568,"end":3577,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":3569,"end":3577,"object":{"type":"Identifier","start":3569,"end":3570,"name":"v"},"property":{"type":"Identifier","start":3571,"end":3577,"name":"length"},"computed":false,"optional":false}}}}],"optional":false},{"type":"CallExpression","start":3580,"end":3623,"callee":{"type":"Identifier","start":3580,"end":3583,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":3584,"end":3622,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":3590,"end":3622,"callee":{"type":"MemberExpression","start":3590,"end":3616,"object":{"type":"MemberExpression","start":3590,"end":3611,"object":{"type":"ThisExpression","start":3590,"end":3594},"property":{"type":"Identifier","start":3595,"end":3611,"name":"_isLoadingChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3612,"end":3616,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":3617,"end":3621,"value":true,"raw":"true"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3625,"end":3657,"callee":{"type":"Identifier","start":3625,"end":3634,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":3635,"end":3656,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3635,"end":3636,"name":"v"}],"body":{"type":"CallExpression","start":3640,"end":3656,"callee":{"type":"Identifier","start":3640,"end":3653,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":3654,"end":3655,"name":"v"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3659,"end":3679,"callee":{"type":"Identifier","start":3659,"end":3668,"name":"auditTime"},"arguments":[{"type":"BinaryExpression","start":3669,"end":3678,"left":{"type":"Literal","start":3669,"end":3673,"value":1000,"raw":"1000"},"operator":"/","right":{"type":"Literal","start":3676,"end":3678,"value":60,"raw":"60"}}],"optional":false},{"type":"CallExpression","start":3681,"end":3751,"callee":{"type":"Identifier","start":3681,"end":3684,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":3685,"end":3750,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3685,"end":3688,"name":"res"}],"body":{"type":"AssignmentExpression","start":3692,"end":3750,"operator":"=","left":{"type":"MemberExpression","start":3692,"end":3704,"object":{"type":"ThisExpression","start":3692,"end":3696},"property":{"type":"Identifier","start":3697,"end":3704,"name":"lastRes"},"computed":false,"optional":false},"right":{"type":"ConditionalExpression","start":3707,"end":3750,"test":{"type":"BinaryExpression","start":3707,"end":3721,"left":{"type":"MemberExpression","start":3707,"end":3717,"object":{"type":"Identifier","start":3707,"end":3710,"name":"res"},"property":{"type":"Identifier","start":3711,"end":3717,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":3720,"end":3721,"value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","start":3724,"end":3743,"object":{"type":"Identifier","start":3724,"end":3727,"name":"res"},"property":{"type":"BinaryExpression","start":3728,"end":3742,"left":{"type":"MemberExpression","start":3728,"end":3738,"object":{"type":"Identifier","start":3728,"end":3731,"name":"res"},"property":{"type":"Identifier","start":3732,"end":3738,"name":"length"},"computed":false,"optional":false},"operator":"-","right":{"type":"Literal","start":3741,"end":3742,"value":1,"raw":"1"}},"computed":true,"optional":false},"alternate":{"type":"Literal","start":3746,"end":3750,"value":null,"raw":"null"}}}}],"optional":false},{"type":"CallExpression","start":3753,"end":3797,"callee":{"type":"Identifier","start":3753,"end":3756,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":3757,"end":3796,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3757,"end":3760,"name":"res"}],"body":{"type":"CallExpression","start":3764,"end":3796,"callee":{"type":"Identifier","start":3764,"end":3771,"name":"flatten"},"arguments":[{"type":"CallExpression","start":3772,"end":3795,"callee":{"type":"MemberExpression","start":3772,"end":3779,"object":{"type":"Identifier","start":3772,"end":3775,"name":"res"},"property":{"type":"Identifier","start":3776,"end":3779,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":3780,"end":3794,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3780,"end":3781,"name":"v"}],"body":{"type":"MemberExpression","start":3785,"end":3794,"object":{"type":"Identifier","start":3785,"end":3786,"name":"v"},"property":{"type":"Identifier","start":3787,"end":3794,"name":"results"},"computed":false,"optional":false}}],"optional":false}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3799,"end":3822,"callee":{"type":"Identifier","start":3799,"end":3802,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":3803,"end":3821,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3803,"end":3804,"name":"v"}],"body":{"type":"AssignmentExpression","start":3808,"end":3821,"operator":"=","left":{"type":"MemberExpression","start":3808,"end":3817,"object":{"type":"ThisExpression","start":3808,"end":3812},"property":{"type":"Identifier","start":3813,"end":3817,"name":"data"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3820,"end":3821,"name":"v"}}}],"optional":false},{"type":"CallExpression","start":3824,"end":3868,"callee":{"type":"Identifier","start":3824,"end":3827,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":3828,"end":3867,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":3834,"end":3867,"callee":{"type":"MemberExpression","start":3834,"end":3860,"object":{"type":"MemberExpression","start":3834,"end":3855,"object":{"type":"ThisExpression","start":3834,"end":3838},"property":{"type":"Identifier","start":3839,"end":3855,"name":"_isLoadingChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3856,"end":3860,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":3861,"end":3866,"value":false,"raw":"false"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3870,"end":3884,"callee":{"type":"Identifier","start":3870,"end":3881,"name":"shareReplay"},"arguments":[{"type":"Literal","start":3882,"end":3883,"value":1,"raw":"1"}],"optional":false}],"optional":false}}}]}}},{"type":"MethodDefinition","start":3897,"end":4003,"static":false,"computed":false,"key":{"type":"Identifier","start":3897,"end":3904,"name":"getView"},"kind":"method","value":{"type":"FunctionExpression","start":3904,"end":4003,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3905,"end":3915,"name":"httpParams"}],"body":{"type":"BlockStatement","start":3917,"end":4003,"body":[{"type":"ReturnStatement","start":3927,"end":3997,"argument":{"type":"CallExpression","start":3934,"end":3996,"callee":{"type":"MemberExpression","start":3934,"end":3980,"object":{"type":"CallExpression","start":3934,"end":3975,"callee":{"type":"MemberExpression","start":3934,"end":3963,"object":{"type":"MemberExpression","start":3934,"end":3949,"object":{"type":"ThisExpression","start":3934,"end":3938},"property":{"type":"Identifier","start":3939,"end":3949,"name":"apiService"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3950,"end":3963,"name":"fetchReactive"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3964,"end":3974,"name":"httpParams"}],"optional":false},"property":{"type":"Identifier","start":3976,"end":3980,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":3981,"end":3995,"callee":{"type":"Identifier","start":3981,"end":3992,"name":"shareReplay"},"arguments":[{"type":"Literal","start":3993,"end":3994,"value":1,"raw":"1"}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":4008,"end":4137,"static":false,"computed":false,"key":{"type":"Identifier","start":4008,"end":4013,"name":"reset"},"kind":"method","value":{"type":"FunctionExpression","start":4013,"end":4137,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4016,"end":4137,"body":[{"type":"ExpressionStatement","start":4026,"end":4040,"expression":{"type":"CallExpression","start":4026,"end":4039,"callee":{"type":"MemberExpression","start":4026,"end":4037,"object":{"type":"Super","start":4026,"end":4031},"property":{"type":"Identifier","start":4032,"end":4037,"name":"reset"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"VariableDeclaration","start":4049,"end":4092,"declarations":[{"type":"VariableDeclarator","start":4055,"end":4091,"id":{"type":"Identifier","start":4055,"end":4059,"name":"view"},"init":{"type":"CallExpression","start":4062,"end":4091,"callee":{"type":"MemberExpression","start":4062,"end":4074,"object":{"type":"ThisExpression","start":4062,"end":4066},"property":{"type":"Identifier","start":4067,"end":4074,"name":"getView"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":4075,"end":4090,"object":{"type":"ThisExpression","start":4075,"end":4079},"property":{"type":"Identifier","start":4080,"end":4090,"name":"httpParams"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":4101,"end":4131,"expression":{"type":"CallExpression","start":4101,"end":4130,"callee":{"type":"MemberExpression","start":4101,"end":4122,"object":{"type":"MemberExpression","start":4101,"end":4117,"object":{"type":"ThisExpression","start":4101,"end":4105},"property":{"type":"Identifier","start":4106,"end":4117,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4118,"end":4122,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"ArrayExpression","start":4123,"end":4129,"elements":[{"type":"Identifier","start":4124,"end":4128,"name":"view"}]}],"optional":false}}]}}},{"type":"MethodDefinition","start":4142,"end":4370,"static":false,"computed":false,"key":{"type":"Identifier","start":4142,"end":4150,"name":"loadMore"},"kind":"method","value":{"type":"FunctionExpression","start":4150,"end":4370,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4153,"end":4370,"body":[{"type":"IfStatement","start":4163,"end":4214,"test":{"type":"MemberExpression","start":4167,"end":4181,"object":{"type":"ThisExpression","start":4167,"end":4171},"property":{"type":"Identifier","start":4172,"end":4181,"name":"isLoading"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":4183,"end":4214,"body":[{"type":"ReturnStatement","start":4197,"end":4204,"argument":null}]},"alternate":null},{"type":"ExpressionStatement","start":4223,"end":4240,"expression":{"type":"CallExpression","start":4223,"end":4239,"callee":{"type":"MemberExpression","start":4223,"end":4237,"object":{"type":"Super","start":4223,"end":4228},"property":{"type":"Identifier","start":4229,"end":4237,"name":"loadMore"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"VariableDeclaration","start":4249,"end":4292,"declarations":[{"type":"VariableDeclarator","start":4255,"end":4291,"id":{"type":"Identifier","start":4255,"end":4259,"name":"view"},"init":{"type":"CallExpression","start":4262,"end":4291,"callee":{"type":"MemberExpression","start":4262,"end":4274,"object":{"type":"ThisExpression","start":4262,"end":4266},"property":{"type":"Identifier","start":4267,"end":4274,"name":"getView"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":4275,"end":4290,"object":{"type":"ThisExpression","start":4275,"end":4279},"property":{"type":"Identifier","start":4280,"end":4290,"name":"httpParams"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":4301,"end":4364,"expression":{"type":"CallExpression","start":4301,"end":4363,"callee":{"type":"MemberExpression","start":4301,"end":4322,"object":{"type":"MemberExpression","start":4301,"end":4317,"object":{"type":"ThisExpression","start":4301,"end":4305},"property":{"type":"Identifier","start":4306,"end":4317,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4318,"end":4322,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":4323,"end":4362,"callee":{"type":"Identifier","start":4323,"end":4330,"name":"flatten"},"arguments":[{"type":"ArrayExpression","start":4331,"end":4361,"elements":[{"type":"MemberExpression","start":4332,"end":4354,"object":{"type":"MemberExpression","start":4332,"end":4348,"object":{"type":"ThisExpression","start":4332,"end":4336},"property":{"type":"Identifier","start":4337,"end":4348,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4349,"end":4354,"name":"value"},"computed":false,"optional":false},{"type":"Identifier","start":4356,"end":4360,"name":"view"}]}],"optional":false}],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvdGFibGUucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBYyxhQUFhLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFJbEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFM0csT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQThCMUMsTUFBTSxPQUFPLFlBQVk7SUF5QnJCLFlBQW9CLE9BQWUsRUFBVSxNQUFjO1FBQXZDLFlBQU8sR0FBUCxPQUFPLENBQVE7UUFBVSxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBRXZELElBQUksQ0FBQyxJQUFJLEdBQWlCLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsV0FBVyxHQUFVLElBQUksZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxnQkFBZ0IsR0FBSSxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVwRCxJQUFJLENBQUMsV0FBVyxHQUFVLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztRQUVqRCxJQUFJLENBQUMsZUFBZSxHQUFNLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBRS9ELG9CQUFvQixFQUFFLEVBRXRCLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQ3pCLENBQUM7SUFDTixDQUFDO0lBM0JELElB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T0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUczQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELFFBQVE7UUFFSixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFBRSxPQUFPO1NBQUU7UUFFL0IsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBR2pCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRzNDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRSxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUsIGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IERhdGF0eXBlLCBQd2FEb2N1bWVudCB9IGZyb20gJy4uL2RlZmluaXRpb25zL2RvY3VtZW50JztcbmltcG9ydCB7IEh0dHBQYXJhbXMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBQd2FMaXN0UmVzcG9uc2UgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9jb2xsZWN0aW9uJztcbmltcG9ydCB7IHN3aXRjaE1hcCwgdGFwLCBzaGFyZVJlcGxheSwgbWFwLCBmaWx0ZXIsIGF1ZGl0VGltZSwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGVudGVyWm9uZSB9IGZyb20gJy4vb3BlcmF0b3JzLnJlc291cmNlJztcbmltcG9ydCB7IEN1c3RvbUh0dHBQYXJhbXMgfSBmcm9tICcuL2N1c3RvbVBhcmFtcy5yZXNvdXJjZSc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi9taXNjLnJlc291cmNlJztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbnRlcmZhY2VzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZURhdGFiYXNlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiB7XG5cbiAgICBmZXRjaDogKHBhcmFtcz86IEh0dHBQYXJhbXMpID0+IE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PjtcblxuICAgIGZldGNoUmVhY3RpdmU6IChwYXJhbXM/OiBIdHRwUGFyYW1zKSA9PiBPYnNlcnZhYmxlPFB3YUxpc3RSZXNwb25zZTxUPj47XG5cbiAgICBnZXREYXRhYmFzZT86IChsaW1pdD86IG51bWJlcikgPT4gRGF0YWJhc2U8VD47XG5cbiAgICBnZXRSZWFjdGl2ZURhdGFiYXNlPzogKGxpbWl0PzogbnVtYmVyKSA9PiBSZWFjdGl2ZURhdGFiYXNlPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCYXNlRGF0YWJhc2Uge1xuICAgIHJlc2V0OiAoKSA9PiB2b2lkO1xuICAgIGxvYWRNb3JlOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlRGF0YVR5cGUgZXh0ZW5kcyBEYXRhdHlwZSB7XG4gICAgY3JlYXRlZF9hdD86IHN0cmluZztcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVGFibGVzXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBCYXNlRGF0YWJhc2U8VCBleHRlbmRzIFRhYmxlRGF0YVR5cGU+IGltcGxlbWVudHMgSUJhc2VEYXRhYmFzZSB7XG5cbiAgICBxdWV1ZUNoYW5nZTogQmVoYXZpb3JTdWJqZWN0PE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PltdPjtcbiAgICBkYXRhOiBQd2FEb2N1bWVudDxUPltdO1xuXG4gICAgX2lzTG9hZGluZ0NoYW5nZTogQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+O1xuICAgIGlzTG9hZGluZ0NoYW5nZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgICBsYXN0UmVzOiBQd2FMaXN0UmVzcG9uc2U8VD47XG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHZhcmlhYmxlLW5hbWVcbiAgICBwcml2YXRlIF9odHRwUGFyYW1zOiBIdHRwUGFyYW1zO1xuXG4gICAgZ2V0IGh0dHBQYXJhbXMoKSB7IHJldHVybiB0aGlzLl9odHRwUGFyYW1zOyB9XG4gICAgc2V0IGh0dHBQYXJhbXModjogSHR0cFBhcmFtcykge1xuXG4gICAgICAgIHRoaXMuX2h0dHBQYXJhbXMgPSB2O1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBnZXQgaXNMb2FkaW5nKCkgeyByZXR1cm4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLnZhbHVlOyB9XG4gICAgZ2V0IG9mZnNldCgpIHsgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7IH1cbiAgICBnZXQgaXNMb2FkYWJsZSgpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5sYXN0UmVzPy5uZXh0OyB9XG4gICAgZ2V0IGxpbWl0KCkgeyByZXR1cm4gdGhpcy5fX2xpbWl0OyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9fbGltaXQ6IG51bWJlciwgcHJpdmF0ZSBfX3pvbmU6IE5nWm9uZSkge1xuXG4gICAgICAgIHRoaXMuZGF0YSAgICAgICAgICAgICAgID0gW107XG4gICAgICAgIHRoaXMucXVldWVDaGFuZ2UgICAgICAgID0gbmV3IEJlaGF2aW9yU3ViamVjdChbXSk7XG4gICAgICAgIHRoaXMuX2lzTG9hZGluZ0NoYW5nZSBcdD0gbmV3IEJlaGF2aW9yU3ViamVjdChmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyAgICAgICAgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nQ2hhbmdlICAgID0gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG5cbiAgICAgICAgICAgIGVudGVyWm9uZSh0aGlzLl9fem9uZSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLmRlbGV0ZSgnY3Vyc29yJyk7XG4gICAgICAgIHRoaXMuX2h0dHBQYXJhbXMgPSB0aGlzLmh0dHBQYXJhbXMuc2V0KCdvZmZzZXQnLCAnMCcpO1xuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnbGltaXQnLCB0aGlzLmxpbWl0LnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIGlmICghdGhpcy5odHRwUGFyYW1zLmhhcygnb3JkZXJpbmcnKSkgeyB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnb3JkZXJpbmcnLCAnLWNyZWF0ZWRfYXQnKTsgfVxuICAgIH1cblxuICAgIGxvYWRNb3JlKCkge1xuXG4gICAgICAgIC8vIHNldCBxdWVyeXBhcmFtcyBmcm9tIG5leHQgdXJsXG4gICAgICAgIGlmICh0aGlzLmxhc3RSZXM/Lm5leHQpIHtcblxuICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSB0aGlzLmxhc3RSZXMubmV4dC5zcGxpdCgnPycpO1xuXG4gICAgICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID4gMSkge1xuXG4gICAgICAgICAgICAgICAgc3BsaXRbMV0uc3BsaXQoJyYnKS5mb3JFYWNoKHEgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW0gPSBxLnNwbGl0KCc9Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHRoaXMuaHR0cFBhcmFtcy5zZXQoZGVjb2RlVVJJQ29tcG9uZW50KHF1ZXJ5UGFyYW1bMF0pLCBkZWNvZGVVUklDb21wb25lbnQocXVlcnlQYXJhbVsxXSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHRoaXMuaHR0cFBhcmFtcy5zZXQoJ29mZnNldCcsIHRoaXMub2Zmc2V0LnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnbGltaXQnLCB0aGlzLmxpbWl0LnRvU3RyaW5nKCkpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2U8VCBleHRlbmRzIFRhYmxlRGF0YVR5cGU+IGV4dGVuZHMgQmFzZURhdGFiYXNlPFQ+IHtcblxuICAgIGRhdGFDaGFuZ2U6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD5bXT47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwaVNlcnZpY2U6IFRhYmxlRGF0YWJhc2U8VD4sIHByaXZhdGUgem9uZTogTmdab25lLCBwcml2YXRlIF9saW1pdCA9IDIwKSB7XG5cbiAgICAgICAgc3VwZXIoX2xpbWl0LCB6b25lKTtcblxuICAgICAgICB0aGlzLmRhdGFDaGFuZ2UgPSB0aGlzLnF1ZXVlQ2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIHRhcCh2ID0+IHsgaWYgKCF2Lmxlbmd0aCkgeyB0aGlzLnJlc2V0KCk7IH0gfSksXG5cbiAgICAgICAgICAgIGZpbHRlcih2ID0+ICEhdi5sZW5ndGgpLFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLm5leHQodHJ1ZSkpLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAodiA9PiBjb21iaW5lTGF0ZXN0KHYpKSxcblxuICAgICAgICAgICAgYXVkaXRUaW1lKDEwMDAgLyA2MCksXG5cbiAgICAgICAgICAgIHRhcChyZXMgPT4gdGhpcy5sYXN0UmVzID0gcmVzLmxlbmd0aCA+IDAgPyByZXNbcmVzLmxlbmd0aCAtIDFdIDogbnVsbCksXG5cbiAgICAgICAgICAgIG1hcChyZXMgPT4gZmxhdHRlbihyZXMubWFwKHYgPT4gdi5yZXN1bHRzKSkgYXMgUHdhRG9jdW1lbnQ8VD5bXSksXG5cbiAgICAgICAgICAgIHRhcCh2ID0+IHRoaXMuZGF0YSA9IHYpLFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLm5leHQoZmFsc2UpKSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+W10+O1xuICAgIH1cblxuICAgIGdldFZpZXcoaHR0cFBhcmFtczogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5mZXRjaChodHRwUGFyYW1zKS5waXBlKFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuXG4gICAgICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gbWFrZSB2aWV3XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmdldFZpZXcodGhpcy5odHRwUGFyYW1zKTtcblxuICAgICAgICAvLyBwdXNoIHRvIHF1ZXVlXG4gICAgICAgIHRoaXMucXVldWVDaGFuZ2UubmV4dChbdmlld10pO1xuICAgIH1cblxuICAgIGxvYWRNb3JlKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykgeyByZXR1cm47IH1cblxuICAgICAgICBzdXBlci5sb2FkTW9yZSgpO1xuXG4gICAgICAgIC8vIG1ha2Ugdmlld1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KHRoaXMuaHR0cFBhcmFtcyk7XG5cbiAgICAgICAgLy8gcHVzaCB0byBxdWV1ZVxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQoZmxhdHRlbihbdGhpcy5xdWV1ZUNoYW5nZS52YWx1ZSwgdmlld10pKTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgY2xhc3MgUmVhY3RpdmVEYXRhYmFzZTxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4gZXh0ZW5kcyBCYXNlRGF0YWJhc2U8VD4ge1xuXG4gICAgZGF0YUNoYW5nZTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPltdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogVGFibGVEYXRhYmFzZTxUPiwgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsIHByaXZhdGUgX2xpbWl0ID0gMjApIHtcblxuICAgICAgICBzdXBlcihfbGltaXQsIHpvbmUpO1xuXG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZSA9IHRoaXMucXVldWVDaGFuZ2UuYXNPYnNlcnZhYmxlKCkucGlwZShcblxuICAgICAgICAgICAgdGFwKHYgPT4geyBpZiAoIXYubGVuZ3RoKSB7IHRoaXMucmVzZXQoKTsgfSB9KSxcblxuICAgICAgICAgICAgZmlsdGVyKHYgPT4gISF2Lmxlbmd0aCksXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB0aGlzLl9pc0xvYWRpbmdDaGFuZ2UubmV4dCh0cnVlKSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCh2ID0+IGNvbWJpbmVMYXRlc3QodikpLFxuXG4gICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKSxcblxuICAgICAgICAgICAgdGFwKHJlcyA9PiB0aGlzLmxhc3RSZXMgPSByZXMubGVuZ3RoID4gMCA/IHJlc1tyZXMubGVuZ3RoIC0gMV0gOiBudWxsKSxcblxuICAgICAgICAgICAgbWFwKHJlcyA9PiBmbGF0dGVuKHJlcy5tYXAodiA9PiB2LnJlc3VsdHMpKSBhcyBQd2FEb2N1bWVudDxUPltdKSxcblxuICAgICAgICAgICAgdGFwKHYgPT4gdGhpcy5kYXRhID0gdiksXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB0aGlzLl9pc0xvYWRpbmdDaGFuZ2UubmV4dChmYWxzZSkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApIGFzIE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD5bXT47XG4gICAgfVxuXG4gICAgZ2V0VmlldyhodHRwUGFyYW1zOiBIdHRwUGFyYW1zKTogT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmZldGNoUmVhY3RpdmUoaHR0cFBhcmFtcykucGlwZShcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgICAgIC8vIG1ha2Ugdmlld1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KHRoaXMuaHR0cFBhcmFtcyk7XG5cbiAgICAgICAgLy8gcHVzaCB0byBxdWV1ZVxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQoW3ZpZXddKTtcbiAgICB9XG5cbiAgICBsb2FkTW9yZSgpIHtcblxuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgc3VwZXIubG9hZE1vcmUoKTtcblxuICAgICAgICAvLyBtYWtlIHZpZXdcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0Vmlldyh0aGlzLmh0dHBQYXJhbXMpO1xuXG4gICAgICAgIC8vIHB1c2ggdG8gcXVldWVcbiAgICAgICAgdGhpcy5xdWV1ZUNoYW5nZS5uZXh0KGZsYXR0ZW4oW3RoaXMucXVldWVDaGFuZ2UudmFsdWUsIHZpZXddKSk7XG4gICAgfVxufVxuIl19","start":4373,"end":20995}]},"code":"import { BehaviorSubject, combineLatest } from 'rxjs';\nimport { switchMap, tap, shareReplay, map, filter, auditTime, distinctUntilChanged } from 'rxjs/operators';\nimport { enterZone } from './operators.resource';\nimport { CustomHttpParams } from './customParams.resource';\nimport { flatten } from './misc.resource';\nexport class BaseDatabase {\n    constructor(__limit, __zone) {\n        this.__limit = __limit;\n        this.__zone = __zone;\n        this.data = [];\n        this.queueChange = new BehaviorSubject([]);\n        this._isLoadingChange = new BehaviorSubject(false);\n        this._httpParams = new CustomHttpParams();\n        this.isLoadingChange = this._isLoadingChange.asObservable().pipe(distinctUntilChanged(), enterZone(this.__zone));\n    }\n    get httpParams() { return this._httpParams; }\n    set httpParams(v) {\n        this._httpParams = v;\n        this.reset();\n    }\n    get isLoading() { return this._isLoadingChange.value; }\n    get offset() { return this.data.length; }\n    get isLoadable() { return !!this.lastRes?.next; }\n    get limit() { return this.__limit; }\n    reset() {\n        this._httpParams = this.httpParams.delete('cursor');\n        this._httpParams = this.httpParams.set('offset', '0');\n        this._httpParams = this.httpParams.set('limit', this.limit.toString());\n        if (!this.httpParams.has('ordering')) {\n            this._httpParams = this.httpParams.set('ordering', '-created_at');\n        }\n    }\n    loadMore() {\n        if (this.lastRes?.next) {\n            const split = this.lastRes.next.split('?');\n            if (split.length > 1) {\n                split[1].split('&').forEach(q => {\n                    const queryParam = q.split('=');\n                    this._httpParams = this.httpParams.set(decodeURIComponent(queryParam[0]), decodeURIComponent(queryParam[1]));\n                });\n            }\n        }\n        this._httpParams = this.httpParams.set('offset', this.offset.toString());\n        this._httpParams = this.httpParams.set('limit', this.limit.toString());\n    }\n}\nexport class Database extends BaseDatabase {\n    constructor(apiService, zone, _limit = 20) {\n        super(_limit, zone);\n        this.apiService = apiService;\n        this.zone = zone;\n        this._limit = _limit;\n        this.dataChange = this.queueChange.asObservable().pipe(tap(v => { if (!v.length) {\n            this.reset();\n        } }), filter(v => !!v.length), tap(() => this._isLoadingChange.next(true)), switchMap(v => combineLatest(v)), auditTime(1000 / 60), tap(res => this.lastRes = res.length > 0 ? res[res.length - 1] : null), map(res => flatten(res.map(v => v.results))), tap(v => this.data = v), tap(() => this._isLoadingChange.next(false)), shareReplay(1));\n    }\n    getView(httpParams) {\n        return this.apiService.fetch(httpParams).pipe(shareReplay(1));\n    }\n    reset() {\n        super.reset();\n        const view = this.getView(this.httpParams);\n        this.queueChange.next([view]);\n    }\n    loadMore() {\n        if (this.isLoading) {\n            return;\n        }\n        super.loadMore();\n        const view = this.getView(this.httpParams);\n        this.queueChange.next(flatten([this.queueChange.value, view]));\n    }\n}\nexport class ReactiveDatabase extends BaseDatabase {\n    constructor(apiService, zone, _limit = 20) {\n        super(_limit, zone);\n        this.apiService = apiService;\n        this.zone = zone;\n        this._limit = _limit;\n        this.dataChange = this.queueChange.asObservable().pipe(tap(v => { if (!v.length) {\n            this.reset();\n        } }), filter(v => !!v.length), tap(() => this._isLoadingChange.next(true)), switchMap(v => combineLatest(v)), auditTime(1000 / 60), tap(res => this.lastRes = res.length > 0 ? res[res.length - 1] : null), map(res => flatten(res.map(v => v.results))), tap(v => this.data = v), tap(() => this._isLoadingChange.next(false)), shareReplay(1));\n    }\n    getView(httpParams) {\n        return this.apiService.fetchReactive(httpParams).pipe(shareReplay(1));\n    }\n    reset() {\n        super.reset();\n        const view = this.getView(this.httpParams);\n        this.queueChange.next([view]);\n    }\n    loadMore() {\n        if (this.isLoading) {\n            return;\n        }\n        super.loadMore();\n        const view = this.getView(this.httpParams);\n        this.queueChange.next(flatten([this.queueChange.value, view]));\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvdGFibGUucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBYyxhQUFhLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFJbEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFM0csT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQThCMUMsTUFBTSxPQUFPLFlBQVk7SUF5QnJCLFlBQW9CLE9BQWUsRUFBVSxNQUFjO1FBQXZDLFlBQU8sR0FBUCxPQUFPLENBQVE7UUFBVSxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBRXZELElBQUksQ0FBQyxJQUFJLEdBQWlCLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsV0FBVyxHQUFVLElBQUksZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxnQkFBZ0IsR0FBSSxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVwRCxJQUFJLENBQUMsV0FBVyxHQUFVLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztRQUVqRCxJQUFJLENBQUMsZUFBZSxHQUFNLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBRS9ELG9CQUFvQixFQUFFLEVBRXRCLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQ3pCLENBQUM7SUFDTixDQUFDO0lBM0JELElB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T0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUczQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELFFBQVE7UUFFSixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFBRSxPQUFPO1NBQUU7UUFFL0IsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBR2pCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRzNDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRSxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUsIGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IERhdGF0eXBlLCBQd2FEb2N1bWVudCB9IGZyb20gJy4uL2RlZmluaXRpb25zL2RvY3VtZW50JztcbmltcG9ydCB7IEh0dHBQYXJhbXMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBQd2FMaXN0UmVzcG9uc2UgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9jb2xsZWN0aW9uJztcbmltcG9ydCB7IHN3aXRjaE1hcCwgdGFwLCBzaGFyZVJlcGxheSwgbWFwLCBmaWx0ZXIsIGF1ZGl0VGltZSwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGVudGVyWm9uZSB9IGZyb20gJy4vb3BlcmF0b3JzLnJlc291cmNlJztcbmltcG9ydCB7IEN1c3RvbUh0dHBQYXJhbXMgfSBmcm9tICcuL2N1c3RvbVBhcmFtcy5yZXNvdXJjZSc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi9taXNjLnJlc291cmNlJztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbnRlcmZhY2VzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZURhdGFiYXNlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiB7XG5cbiAgICBmZXRjaDogKHBhcmFtcz86IEh0dHBQYXJhbXMpID0+IE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PjtcblxuICAgIGZldGNoUmVhY3RpdmU6IChwYXJhbXM/OiBIdHRwUGFyYW1zKSA9PiBPYnNlcnZhYmxlPFB3YUxpc3RSZXNwb25zZTxUPj47XG5cbiAgICBnZXREYXRhYmFzZT86IChsaW1pdD86IG51bWJlcikgPT4gRGF0YWJhc2U8VD47XG5cbiAgICBnZXRSZWFjdGl2ZURhdGFiYXNlPzogKGxpbWl0PzogbnVtYmVyKSA9PiBSZWFjdGl2ZURhdGFiYXNlPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCYXNlRGF0YWJhc2Uge1xuICAgIHJlc2V0OiAoKSA9PiB2b2lkO1xuICAgIGxvYWRNb3JlOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlRGF0YVR5cGUgZXh0ZW5kcyBEYXRhdHlwZSB7XG4gICAgY3JlYXRlZF9hdD86IHN0cmluZztcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVGFibGVzXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBCYXNlRGF0YWJhc2U8VCBleHRlbmRzIFRhYmxlRGF0YVR5cGU+IGltcGxlbWVudHMgSUJhc2VEYXRhYmFzZSB7XG5cbiAgICBxdWV1ZUNoYW5nZTogQmVoYXZpb3JTdWJqZWN0PE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PltdPjtcbiAgICBkYXRhOiBQd2FEb2N1bWVudDxUPltdO1xuXG4gICAgX2lzTG9hZGluZ0NoYW5nZTogQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+O1xuICAgIGlzTG9hZGluZ0NoYW5nZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgICBsYXN0UmVzOiBQd2FMaXN0UmVzcG9uc2U8VD47XG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHZhcmlhYmxlLW5hbWVcbiAgICBwcml2YXRlIF9odHRwUGFyYW1zOiBIdHRwUGFyYW1zO1xuXG4gICAgZ2V0IGh0dHBQYXJhbXMoKSB7IHJldHVybiB0aGlzLl9odHRwUGFyYW1zOyB9XG4gICAgc2V0IGh0dHBQYXJhbXModjogSHR0cFBhcmFtcykge1xuXG4gICAgICAgIHRoaXMuX2h0dHBQYXJhbXMgPSB2O1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBnZXQgaXNMb2FkaW5nKCkgeyByZXR1cm4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLnZhbHVlOyB9XG4gICAgZ2V0IG9mZnNldCgpIHsgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7IH1cbiAgICBnZXQgaXNMb2FkYWJsZSgpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5sYXN0UmVzPy5uZXh0OyB9XG4gICAgZ2V0IGxpbWl0KCkgeyByZXR1cm4gdGhpcy5fX2xpbWl0OyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9fbGltaXQ6IG51bWJlciwgcHJpdmF0ZSBfX3pvbmU6IE5nWm9uZSkge1xuXG4gICAgICAgIHRoaXMuZGF0YSAgICAgICAgICAgICAgID0gW107XG4gICAgICAgIHRoaXMucXVldWVDaGFuZ2UgICAgICAgID0gbmV3IEJlaGF2aW9yU3ViamVjdChbXSk7XG4gICAgICAgIHRoaXMuX2lzTG9hZGluZ0NoYW5nZSBcdD0gbmV3IEJlaGF2aW9yU3ViamVjdChmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyAgICAgICAgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nQ2hhbmdlICAgID0gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG5cbiAgICAgICAgICAgIGVudGVyWm9uZSh0aGlzLl9fem9uZSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLmRlbGV0ZSgnY3Vyc29yJyk7XG4gICAgICAgIHRoaXMuX2h0dHBQYXJhbXMgPSB0aGlzLmh0dHBQYXJhbXMuc2V0KCdvZmZzZXQnLCAnMCcpO1xuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnbGltaXQnLCB0aGlzLmxpbWl0LnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIGlmICghdGhpcy5odHRwUGFyYW1zLmhhcygnb3JkZXJpbmcnKSkgeyB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnb3JkZXJpbmcnLCAnLWNyZWF0ZWRfYXQnKTsgfVxuICAgIH1cblxuICAgIGxvYWRNb3JlKCkge1xuXG4gICAgICAgIC8vIHNldCBxdWVyeXBhcmFtcyBmcm9tIG5leHQgdXJsXG4gICAgICAgIGlmICh0aGlzLmxhc3RSZXM/Lm5leHQpIHtcblxuICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSB0aGlzLmxhc3RSZXMubmV4dC5zcGxpdCgnPycpO1xuXG4gICAgICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID4gMSkge1xuXG4gICAgICAgICAgICAgICAgc3BsaXRbMV0uc3BsaXQoJyYnKS5mb3JFYWNoKHEgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW0gPSBxLnNwbGl0KCc9Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHRoaXMuaHR0cFBhcmFtcy5zZXQoZGVjb2RlVVJJQ29tcG9uZW50KHF1ZXJ5UGFyYW1bMF0pLCBkZWNvZGVVUklDb21wb25lbnQocXVlcnlQYXJhbVsxXSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHRoaXMuaHR0cFBhcmFtcy5zZXQoJ29mZnNldCcsIHRoaXMub2Zmc2V0LnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnbGltaXQnLCB0aGlzLmxpbWl0LnRvU3RyaW5nKCkpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2U8VCBleHRlbmRzIFRhYmxlRGF0YVR5cGU+IGV4dGVuZHMgQmFzZURhdGFiYXNlPFQ+IHtcblxuICAgIGRhdGFDaGFuZ2U6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD5bXT47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwaVNlcnZpY2U6IFRhYmxlRGF0YWJhc2U8VD4sIHByaXZhdGUgem9uZTogTmdab25lLCBwcml2YXRlIF9saW1pdCA9IDIwKSB7XG5cbiAgICAgICAgc3VwZXIoX2xpbWl0LCB6b25lKTtcblxuICAgICAgICB0aGlzLmRhdGFDaGFuZ2UgPSB0aGlzLnF1ZXVlQ2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIHRhcCh2ID0+IHsgaWYgKCF2Lmxlbmd0aCkgeyB0aGlzLnJlc2V0KCk7IH0gfSksXG5cbiAgICAgICAgICAgIGZpbHRlcih2ID0+ICEhdi5sZW5ndGgpLFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLm5leHQodHJ1ZSkpLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAodiA9PiBjb21iaW5lTGF0ZXN0KHYpKSxcblxuICAgICAgICAgICAgYXVkaXRUaW1lKDEwMDAgLyA2MCksXG5cbiAgICAgICAgICAgIHRhcChyZXMgPT4gdGhpcy5sYXN0UmVzID0gcmVzLmxlbmd0aCA+IDAgPyByZXNbcmVzLmxlbmd0aCAtIDFdIDogbnVsbCksXG5cbiAgICAgICAgICAgIG1hcChyZXMgPT4gZmxhdHRlbihyZXMubWFwKHYgPT4gdi5yZXN1bHRzKSkgYXMgUHdhRG9jdW1lbnQ8VD5bXSksXG5cbiAgICAgICAgICAgIHRhcCh2ID0+IHRoaXMuZGF0YSA9IHYpLFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLm5leHQoZmFsc2UpKSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+W10+O1xuICAgIH1cblxuICAgIGdldFZpZXcoaHR0cFBhcmFtczogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5mZXRjaChodHRwUGFyYW1zKS5waXBlKFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuXG4gICAgICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gbWFrZSB2aWV3XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmdldFZpZXcodGhpcy5odHRwUGFyYW1zKTtcblxuICAgICAgICAvLyBwdXNoIHRvIHF1ZXVlXG4gICAgICAgIHRoaXMucXVldWVDaGFuZ2UubmV4dChbdmlld10pO1xuICAgIH1cblxuICAgIGxvYWRNb3JlKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykgeyByZXR1cm47IH1cblxuICAgICAgICBzdXBlci5sb2FkTW9yZSgpO1xuXG4gICAgICAgIC8vIG1ha2Ugdmlld1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KHRoaXMuaHR0cFBhcmFtcyk7XG5cbiAgICAgICAgLy8gcHVzaCB0byBxdWV1ZVxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQoZmxhdHRlbihbdGhpcy5xdWV1ZUNoYW5nZS52YWx1ZSwgdmlld10pKTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgY2xhc3MgUmVhY3RpdmVEYXRhYmFzZTxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4gZXh0ZW5kcyBCYXNlRGF0YWJhc2U8VD4ge1xuXG4gICAgZGF0YUNoYW5nZTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPltdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogVGFibGVEYXRhYmFzZTxUPiwgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsIHByaXZhdGUgX2xpbWl0ID0gMjApIHtcblxuICAgICAgICBzdXBlcihfbGltaXQsIHpvbmUpO1xuXG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZSA9IHRoaXMucXVldWVDaGFuZ2UuYXNPYnNlcnZhYmxlKCkucGlwZShcblxuICAgICAgICAgICAgdGFwKHYgPT4geyBpZiAoIXYubGVuZ3RoKSB7IHRoaXMucmVzZXQoKTsgfSB9KSxcblxuICAgICAgICAgICAgZmlsdGVyKHYgPT4gISF2Lmxlbmd0aCksXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB0aGlzLl9pc0xvYWRpbmdDaGFuZ2UubmV4dCh0cnVlKSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCh2ID0+IGNvbWJpbmVMYXRlc3QodikpLFxuXG4gICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKSxcblxuICAgICAgICAgICAgdGFwKHJlcyA9PiB0aGlzLmxhc3RSZXMgPSByZXMubGVuZ3RoID4gMCA/IHJlc1tyZXMubGVuZ3RoIC0gMV0gOiBudWxsKSxcblxuICAgICAgICAgICAgbWFwKHJlcyA9PiBmbGF0dGVuKHJlcy5tYXAodiA9PiB2LnJlc3VsdHMpKSBhcyBQd2FEb2N1bWVudDxUPltdKSxcblxuICAgICAgICAgICAgdGFwKHYgPT4gdGhpcy5kYXRhID0gdiksXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB0aGlzLl9pc0xvYWRpbmdDaGFuZ2UubmV4dChmYWxzZSkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApIGFzIE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD5bXT47XG4gICAgfVxuXG4gICAgZ2V0VmlldyhodHRwUGFyYW1zOiBIdHRwUGFyYW1zKTogT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmZldGNoUmVhY3RpdmUoaHR0cFBhcmFtcykucGlwZShcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgICAgIC8vIG1ha2Ugdmlld1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KHRoaXMuaHR0cFBhcmFtcyk7XG5cbiAgICAgICAgLy8gcHVzaCB0byBxdWV1ZVxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQoW3ZpZXddKTtcbiAgICB9XG5cbiAgICBsb2FkTW9yZSgpIHtcblxuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgc3VwZXIubG9hZE1vcmUoKTtcblxuICAgICAgICAvLyBtYWtlIHZpZXdcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0Vmlldyh0aGlzLmh0dHBQYXJhbXMpO1xuXG4gICAgICAgIC8vIHB1c2ggdG8gcXVldWVcbiAgICAgICAgdGhpcy5xdWV1ZUNoYW5nZS5uZXh0KGZsYXR0ZW4oW3RoaXMucXVldWVDaGFuZ2UudmFsdWUsIHZpZXddKSk7XG4gICAgfVxufVxuIl19","customTransformCache":false,"dependencies":["rxjs","rxjs/operators","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/table.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { BehaviorSubject, combineLatest } from 'rxjs';\nimport { switchMap, tap, shareReplay, map, filter, auditTime, distinctUntilChanged } from 'rxjs/operators';\nimport { enterZone } from './operators.resource';\nimport { CustomHttpParams } from './customParams.resource';\nimport { flatten } from './misc.resource';\nexport class BaseDatabase {\n    constructor(__limit, __zone) {\n        this.__limit = __limit;\n        this.__zone = __zone;\n        this.data = [];\n        this.queueChange = new BehaviorSubject([]);\n        this._isLoadingChange = new BehaviorSubject(false);\n        this._httpParams = new CustomHttpParams();\n        this.isLoadingChange = this._isLoadingChange.asObservable().pipe(distinctUntilChanged(), enterZone(this.__zone));\n    }\n    get httpParams() { return this._httpParams; }\n    set httpParams(v) {\n        this._httpParams = v;\n        this.reset();\n    }\n    get isLoading() { return this._isLoadingChange.value; }\n    get offset() { return this.data.length; }\n    get isLoadable() { return !!this.lastRes?.next; }\n    get limit() { return this.__limit; }\n    reset() {\n        this._httpParams = this.httpParams.delete('cursor');\n        this._httpParams = this.httpParams.set('offset', '0');\n        this._httpParams = this.httpParams.set('limit', this.limit.toString());\n        if (!this.httpParams.has('ordering')) {\n            this._httpParams = this.httpParams.set('ordering', '-created_at');\n        }\n    }\n    loadMore() {\n        if (this.lastRes?.next) {\n            const split = this.lastRes.next.split('?');\n            if (split.length > 1) {\n                split[1].split('&').forEach(q => {\n                    const queryParam = q.split('=');\n                    this._httpParams = this.httpParams.set(decodeURIComponent(queryParam[0]), decodeURIComponent(queryParam[1]));\n                });\n            }\n        }\n        this._httpParams = this.httpParams.set('offset', this.offset.toString());\n        this._httpParams = this.httpParams.set('limit', this.limit.toString());\n    }\n}\nexport class Database extends BaseDatabase {\n    constructor(apiService, zone, _limit = 20) {\n        super(_limit, zone);\n        this.apiService = apiService;\n        this.zone = zone;\n        this._limit = _limit;\n        this.dataChange = this.queueChange.asObservable().pipe(tap(v => { if (!v.length) {\n            this.reset();\n        } }), filter(v => !!v.length), tap(() => this._isLoadingChange.next(true)), switchMap(v => combineLatest(v)), auditTime(1000 / 60), tap(res => this.lastRes = res.length > 0 ? res[res.length - 1] : null), map(res => flatten(res.map(v => v.results))), tap(v => this.data = v), tap(() => this._isLoadingChange.next(false)), shareReplay(1));\n    }\n    getView(httpParams) {\n        return this.apiService.fetch(httpParams).pipe(shareReplay(1));\n    }\n    reset() {\n        super.reset();\n        const view = this.getView(this.httpParams);\n        this.queueChange.next([view]);\n    }\n    loadMore() {\n        if (this.isLoading) {\n            return;\n        }\n        super.loadMore();\n        const view = this.getView(this.httpParams);\n        this.queueChange.next(flatten([this.queueChange.value, view]));\n    }\n}\nexport class ReactiveDatabase extends BaseDatabase {\n    constructor(apiService, zone, _limit = 20) {\n        super(_limit, zone);\n        this.apiService = apiService;\n        this.zone = zone;\n        this._limit = _limit;\n        this.dataChange = this.queueChange.asObservable().pipe(tap(v => { if (!v.length) {\n            this.reset();\n        } }), filter(v => !!v.length), tap(() => this._isLoadingChange.next(true)), switchMap(v => combineLatest(v)), auditTime(1000 / 60), tap(res => this.lastRes = res.length > 0 ? res[res.length - 1] : null), map(res => flatten(res.map(v => v.results))), tap(v => this.data = v), tap(() => this._isLoadingChange.next(false)), shareReplay(1));\n    }\n    getView(httpParams) {\n        return this.apiService.fetchReactive(httpParams).pipe(shareReplay(1));\n    }\n    reset() {\n        super.reset();\n        const view = this.getView(this.httpParams);\n        this.queueChange.next([view]);\n    }\n    loadMore() {\n        if (this.isLoading) {\n            return;\n        }\n        super.loadMore();\n        const view = this.getView(this.httpParams);\n        this.queueChange.next(flatten([this.queueChange.value, view]));\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFibGUucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvdGFibGUucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBYyxhQUFhLEVBQUUsTUFBTSxNQUFNLENBQUM7QUFJbEUsT0FBTyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLEdBQUcsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFM0csT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQThCMUMsTUFBTSxPQUFPLFlBQVk7SUF5QnJCLFlBQW9CLE9BQWUsRUFBVSxNQUFjO1FBQXZDLFlBQU8sR0FBUCxPQUFPLENBQVE7UUFBVSxXQUFNLEdBQU4sTUFBTSxDQUFRO1FBRXZELElBQUksQ0FBQyxJQUFJLEdBQWlCLEVBQUUsQ0FBQztRQUM3QixJQUFJLENBQUMsV0FBVyxHQUFVLElBQUksZUFBZSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ2xELElBQUksQ0FBQyxnQkFBZ0IsR0FBSSxJQUFJLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUVwRCxJQUFJLENBQUMsV0FBVyxHQUFVLElBQUksZ0JBQWdCLEVBQUUsQ0FBQztRQUVqRCxJQUFJLENBQUMsZUFBZSxHQUFNLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxJQUFJLENBRS9ELG9CQUFvQixFQUFFLEVBRXRCLFNBQVMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQ3pCLENBQUM7SUFDTixDQUFDO0lBM0JELElB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T0FBTyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUczQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUVELFFBQVE7UUFFSixJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUU7WUFBRSxPQUFPO1NBQUU7UUFFL0IsS0FBSyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBR2pCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBRzNDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRSxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUsIGNvbWJpbmVMYXRlc3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IERhdGF0eXBlLCBQd2FEb2N1bWVudCB9IGZyb20gJy4uL2RlZmluaXRpb25zL2RvY3VtZW50JztcbmltcG9ydCB7IEh0dHBQYXJhbXMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBQd2FMaXN0UmVzcG9uc2UgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9jb2xsZWN0aW9uJztcbmltcG9ydCB7IHN3aXRjaE1hcCwgdGFwLCBzaGFyZVJlcGxheSwgbWFwLCBmaWx0ZXIsIGF1ZGl0VGltZSwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGVudGVyWm9uZSB9IGZyb20gJy4vb3BlcmF0b3JzLnJlc291cmNlJztcbmltcG9ydCB7IEN1c3RvbUh0dHBQYXJhbXMgfSBmcm9tICcuL2N1c3RvbVBhcmFtcy5yZXNvdXJjZSc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi9taXNjLnJlc291cmNlJztcblxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbnRlcmZhY2VzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZURhdGFiYXNlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiB7XG5cbiAgICBmZXRjaDogKHBhcmFtcz86IEh0dHBQYXJhbXMpID0+IE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PjtcblxuICAgIGZldGNoUmVhY3RpdmU6IChwYXJhbXM/OiBIdHRwUGFyYW1zKSA9PiBPYnNlcnZhYmxlPFB3YUxpc3RSZXNwb25zZTxUPj47XG5cbiAgICBnZXREYXRhYmFzZT86IChsaW1pdD86IG51bWJlcikgPT4gRGF0YWJhc2U8VD47XG5cbiAgICBnZXRSZWFjdGl2ZURhdGFiYXNlPzogKGxpbWl0PzogbnVtYmVyKSA9PiBSZWFjdGl2ZURhdGFiYXNlPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElCYXNlRGF0YWJhc2Uge1xuICAgIHJlc2V0OiAoKSA9PiB2b2lkO1xuICAgIGxvYWRNb3JlOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRhYmxlRGF0YVR5cGUgZXh0ZW5kcyBEYXRhdHlwZSB7XG4gICAgY3JlYXRlZF9hdD86IHN0cmluZztcbn1cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVGFibGVzXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBjbGFzcyBCYXNlRGF0YWJhc2U8VCBleHRlbmRzIFRhYmxlRGF0YVR5cGU+IGltcGxlbWVudHMgSUJhc2VEYXRhYmFzZSB7XG5cbiAgICBxdWV1ZUNoYW5nZTogQmVoYXZpb3JTdWJqZWN0PE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PltdPjtcbiAgICBkYXRhOiBQd2FEb2N1bWVudDxUPltdO1xuXG4gICAgX2lzTG9hZGluZ0NoYW5nZTogQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+O1xuICAgIGlzTG9hZGluZ0NoYW5nZTogT2JzZXJ2YWJsZTxib29sZWFuPjtcbiAgICBsYXN0UmVzOiBQd2FMaXN0UmVzcG9uc2U8VD47XG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHZhcmlhYmxlLW5hbWVcbiAgICBwcml2YXRlIF9odHRwUGFyYW1zOiBIdHRwUGFyYW1zO1xuXG4gICAgZ2V0IGh0dHBQYXJhbXMoKSB7IHJldHVybiB0aGlzLl9odHRwUGFyYW1zOyB9XG4gICAgc2V0IGh0dHBQYXJhbXModjogSHR0cFBhcmFtcykge1xuXG4gICAgICAgIHRoaXMuX2h0dHBQYXJhbXMgPSB2O1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICBnZXQgaXNMb2FkaW5nKCkgeyByZXR1cm4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLnZhbHVlOyB9XG4gICAgZ2V0IG9mZnNldCgpIHsgcmV0dXJuIHRoaXMuZGF0YS5sZW5ndGg7IH1cbiAgICBnZXQgaXNMb2FkYWJsZSgpOiBib29sZWFuIHsgcmV0dXJuICEhdGhpcy5sYXN0UmVzPy5uZXh0OyB9XG4gICAgZ2V0IGxpbWl0KCkgeyByZXR1cm4gdGhpcy5fX2xpbWl0OyB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9fbGltaXQ6IG51bWJlciwgcHJpdmF0ZSBfX3pvbmU6IE5nWm9uZSkge1xuXG4gICAgICAgIHRoaXMuZGF0YSAgICAgICAgICAgICAgID0gW107XG4gICAgICAgIHRoaXMucXVldWVDaGFuZ2UgICAgICAgID0gbmV3IEJlaGF2aW9yU3ViamVjdChbXSk7XG4gICAgICAgIHRoaXMuX2lzTG9hZGluZ0NoYW5nZSBcdD0gbmV3IEJlaGF2aW9yU3ViamVjdChmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyAgICAgICAgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuXG4gICAgICAgIHRoaXMuaXNMb2FkaW5nQ2hhbmdlICAgID0gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG5cbiAgICAgICAgICAgIGVudGVyWm9uZSh0aGlzLl9fem9uZSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLmRlbGV0ZSgnY3Vyc29yJyk7XG4gICAgICAgIHRoaXMuX2h0dHBQYXJhbXMgPSB0aGlzLmh0dHBQYXJhbXMuc2V0KCdvZmZzZXQnLCAnMCcpO1xuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnbGltaXQnLCB0aGlzLmxpbWl0LnRvU3RyaW5nKCkpO1xuXG4gICAgICAgIGlmICghdGhpcy5odHRwUGFyYW1zLmhhcygnb3JkZXJpbmcnKSkgeyB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnb3JkZXJpbmcnLCAnLWNyZWF0ZWRfYXQnKTsgfVxuICAgIH1cblxuICAgIGxvYWRNb3JlKCkge1xuXG4gICAgICAgIC8vIHNldCBxdWVyeXBhcmFtcyBmcm9tIG5leHQgdXJsXG4gICAgICAgIGlmICh0aGlzLmxhc3RSZXM/Lm5leHQpIHtcblxuICAgICAgICAgICAgY29uc3Qgc3BsaXQgPSB0aGlzLmxhc3RSZXMubmV4dC5zcGxpdCgnPycpO1xuXG4gICAgICAgICAgICBpZiAoc3BsaXQubGVuZ3RoID4gMSkge1xuXG4gICAgICAgICAgICAgICAgc3BsaXRbMV0uc3BsaXQoJyYnKS5mb3JFYWNoKHEgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW0gPSBxLnNwbGl0KCc9Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHRoaXMuaHR0cFBhcmFtcy5zZXQoZGVjb2RlVVJJQ29tcG9uZW50KHF1ZXJ5UGFyYW1bMF0pLCBkZWNvZGVVUklDb21wb25lbnQocXVlcnlQYXJhbVsxXSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHRoaXMuaHR0cFBhcmFtcy5zZXQoJ29mZnNldCcsIHRoaXMub2Zmc2V0LnRvU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLl9odHRwUGFyYW1zID0gdGhpcy5odHRwUGFyYW1zLnNldCgnbGltaXQnLCB0aGlzLmxpbWl0LnRvU3RyaW5nKCkpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2U8VCBleHRlbmRzIFRhYmxlRGF0YVR5cGU+IGV4dGVuZHMgQmFzZURhdGFiYXNlPFQ+IHtcblxuICAgIGRhdGFDaGFuZ2U6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD5bXT47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwaVNlcnZpY2U6IFRhYmxlRGF0YWJhc2U8VD4sIHByaXZhdGUgem9uZTogTmdab25lLCBwcml2YXRlIF9saW1pdCA9IDIwKSB7XG5cbiAgICAgICAgc3VwZXIoX2xpbWl0LCB6b25lKTtcblxuICAgICAgICB0aGlzLmRhdGFDaGFuZ2UgPSB0aGlzLnF1ZXVlQ2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIHRhcCh2ID0+IHsgaWYgKCF2Lmxlbmd0aCkgeyB0aGlzLnJlc2V0KCk7IH0gfSksXG5cbiAgICAgICAgICAgIGZpbHRlcih2ID0+ICEhdi5sZW5ndGgpLFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLm5leHQodHJ1ZSkpLFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAodiA9PiBjb21iaW5lTGF0ZXN0KHYpKSxcblxuICAgICAgICAgICAgYXVkaXRUaW1lKDEwMDAgLyA2MCksXG5cbiAgICAgICAgICAgIHRhcChyZXMgPT4gdGhpcy5sYXN0UmVzID0gcmVzLmxlbmd0aCA+IDAgPyByZXNbcmVzLmxlbmd0aCAtIDFdIDogbnVsbCksXG5cbiAgICAgICAgICAgIG1hcChyZXMgPT4gZmxhdHRlbihyZXMubWFwKHYgPT4gdi5yZXN1bHRzKSkgYXMgUHdhRG9jdW1lbnQ8VD5bXSksXG5cbiAgICAgICAgICAgIHRhcCh2ID0+IHRoaXMuZGF0YSA9IHYpLFxuXG4gICAgICAgICAgICB0YXAoKCkgPT4gdGhpcy5faXNMb2FkaW5nQ2hhbmdlLm5leHQoZmFsc2UpKSxcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSksXG5cbiAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFB3YURvY3VtZW50PFQ+W10+O1xuICAgIH1cblxuICAgIGdldFZpZXcoaHR0cFBhcmFtczogSHR0cFBhcmFtcyk6IE9ic2VydmFibGU8UHdhTGlzdFJlc3BvbnNlPFQ+PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5mZXRjaChodHRwUGFyYW1zKS5waXBlKFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJlc2V0KCkge1xuXG4gICAgICAgIHN1cGVyLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gbWFrZSB2aWV3XG4gICAgICAgIGNvbnN0IHZpZXcgPSB0aGlzLmdldFZpZXcodGhpcy5odHRwUGFyYW1zKTtcblxuICAgICAgICAvLyBwdXNoIHRvIHF1ZXVlXG4gICAgICAgIHRoaXMucXVldWVDaGFuZ2UubmV4dChbdmlld10pO1xuICAgIH1cblxuICAgIGxvYWRNb3JlKCkge1xuXG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykgeyByZXR1cm47IH1cblxuICAgICAgICBzdXBlci5sb2FkTW9yZSgpO1xuXG4gICAgICAgIC8vIG1ha2Ugdmlld1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KHRoaXMuaHR0cFBhcmFtcyk7XG5cbiAgICAgICAgLy8gcHVzaCB0byBxdWV1ZVxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQoZmxhdHRlbihbdGhpcy5xdWV1ZUNoYW5nZS52YWx1ZSwgdmlld10pKTtcbiAgICB9XG5cbn1cblxuXG5leHBvcnQgY2xhc3MgUmVhY3RpdmVEYXRhYmFzZTxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4gZXh0ZW5kcyBCYXNlRGF0YWJhc2U8VD4ge1xuXG4gICAgZGF0YUNoYW5nZTogT2JzZXJ2YWJsZTxQd2FEb2N1bWVudDxUPltdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogVGFibGVEYXRhYmFzZTxUPiwgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsIHByaXZhdGUgX2xpbWl0ID0gMjApIHtcblxuICAgICAgICBzdXBlcihfbGltaXQsIHpvbmUpO1xuXG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZSA9IHRoaXMucXVldWVDaGFuZ2UuYXNPYnNlcnZhYmxlKCkucGlwZShcblxuICAgICAgICAgICAgdGFwKHYgPT4geyBpZiAoIXYubGVuZ3RoKSB7IHRoaXMucmVzZXQoKTsgfSB9KSxcblxuICAgICAgICAgICAgZmlsdGVyKHYgPT4gISF2Lmxlbmd0aCksXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB0aGlzLl9pc0xvYWRpbmdDaGFuZ2UubmV4dCh0cnVlKSksXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCh2ID0+IGNvbWJpbmVMYXRlc3QodikpLFxuXG4gICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKSxcblxuICAgICAgICAgICAgdGFwKHJlcyA9PiB0aGlzLmxhc3RSZXMgPSByZXMubGVuZ3RoID4gMCA/IHJlc1tyZXMubGVuZ3RoIC0gMV0gOiBudWxsKSxcblxuICAgICAgICAgICAgbWFwKHJlcyA9PiBmbGF0dGVuKHJlcy5tYXAodiA9PiB2LnJlc3VsdHMpKSBhcyBQd2FEb2N1bWVudDxUPltdKSxcblxuICAgICAgICAgICAgdGFwKHYgPT4gdGhpcy5kYXRhID0gdiksXG5cbiAgICAgICAgICAgIHRhcCgoKSA9PiB0aGlzLl9pc0xvYWRpbmdDaGFuZ2UubmV4dChmYWxzZSkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICApIGFzIE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8VD5bXT47XG4gICAgfVxuXG4gICAgZ2V0VmlldyhodHRwUGFyYW1zOiBIdHRwUGFyYW1zKTogT2JzZXJ2YWJsZTxQd2FMaXN0UmVzcG9uc2U8VD4+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmZldGNoUmVhY3RpdmUoaHR0cFBhcmFtcykucGlwZShcblxuICAgICAgICAgICAgc2hhcmVSZXBsYXkoMSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICBzdXBlci5yZXNldCgpO1xuXG4gICAgICAgIC8vIG1ha2Ugdmlld1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5nZXRWaWV3KHRoaXMuaHR0cFBhcmFtcyk7XG5cbiAgICAgICAgLy8gcHVzaCB0byBxdWV1ZVxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQoW3ZpZXddKTtcbiAgICB9XG5cbiAgICBsb2FkTW9yZSgpIHtcblxuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgc3VwZXIubG9hZE1vcmUoKTtcblxuICAgICAgICAvLyBtYWtlIHZpZXdcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0Vmlldyh0aGlzLmh0dHBQYXJhbXMpO1xuXG4gICAgICAgIC8vIHB1c2ggdG8gcXVldWVcbiAgICAgICAgdGhpcy5xdWV1ZUNoYW5nZS5uZXh0KGZsYXR0ZW4oW3RoaXMucXVldWVDaGFuZ2UudmFsdWUsIHZpZXddKSk7XG4gICAgfVxufVxuIl19","originalSourcemap":{"version":3,"file":"table.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/table.resource.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[24,0,0,24],[26,0,0,38],[39,0,0,51],[41,0,0,53],[47,0,0,59],[53,0,0,65],[54,0,0,66]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[18,0,4,18],[20,0,4,20],[23,0,4,23],[25,0,4,25],[36,0,4,36],[38,0,4,38],[41,0,4,41],[43,0,4,43],[49,0,4,49],[51,0,4,51],[60,0,4,60],[62,0,4,62],[82,0,4,82],[84,0,4,84],[90,0,4,90],[106,0,4,106],[107,0,4,107]],[[0,0,6,0],[7,0,6,7],[9,0,6,9],[18,0,6,18],[20,0,6,20],[26,0,6,26],[48,0,6,48],[49,0,6,49]],[[0,0,7,0],[7,0,7,7],[9,0,7,9],[25,0,7,25],[27,0,7,27],[33,0,7,33],[58,0,7,58],[59,0,7,59]],[[0,0,8,0],[7,0,8,7],[9,0,8,9],[16,0,8,16],[18,0,8,18],[24,0,8,24],[41,0,8,41],[42,0,8,42]],[[0,0,38,0],[6,0,38,6],[13,0,38,13],[25,0,38,25]],[[4,0,63,4],[16,0,63,24],[23,0,63,39],[25,0,63,49],[31,0,63,63]],[[8,0,63,24],[20,0,63,31],[23,0,63,24],[30,0,63,31],[31,0,63,39]],[[8,0,63,49],[19,0,63,55],[22,0,63,49],[28,0,63,55],[29,0,63,63]],[[8,0,65,8],[12,0,65,12],[13,0,65,13],[17,0,65,17],[20,0,65,34],[22,0,65,36],[23,0,65,37]],[[8,0,66,8],[12,0,66,12],[13,0,66,13],[24,0,66,24],[27,0,66,34],[31,0,66,38],[46,0,66,53],[47,0,66,54],[49,0,66,56],[50,0,66,57],[51,0,66,58]],[[8,0,67,8],[12,0,67,12],[13,0,67,13],[29,0,67,29],[32,0,67,33],[36,0,67,37],[51,0,67,52],[52,0,67,53],[57,0,67,58],[58,0,67,59],[59,0,67,60]],[[8,0,69,8],[12,0,69,12],[13,0,69,13],[24,0,69,24],[27,0,69,34],[31,0,69,38],[47,0,69,54],[49,0,69,56],[50,0,69,57]],[[8,0,71,8],[12,0,71,12],[13,0,71,13],[28,0,71,28],[31,0,71,34],[35,0,71,38],[36,0,71,39],[52,0,71,55],[53,0,71,56],[65,0,71,68],[67,0,71,70],[68,0,71,71],[72,0,71,75],[73,0,73,12],[93,0,73,32],[95,0,73,34],[97,0,75,12],[106,0,75,21],[107,0,75,22],[111,0,75,26],[112,0,75,27],[118,0,75,33],[119,0,75,34],[120,0,76,9],[121,0,76,10]],[[4,0,77,4],[5,0,77,5]],[[4,0,50,4],[8,0,50,8],[18,0,50,18],[23,0,50,23],[30,0,50,30],[34,0,50,34],[35,0,50,35],[46,0,50,46],[47,0,50,47],[48,0,50,48],[49,0,50,49]],[[4,0,51,4],[8,0,51,8],[18,0,51,18],[19,0,51,19],[20,0,51,32]],[[8,0,53,8],[12,0,53,12],[13,0,53,13],[24,0,53,24],[27,0,53,27],[28,0,53,28],[29,0,53,29]],[[8,0,55,8],[12,0,55,12],[13,0,55,13],[18,0,55,18],[20,0,55,20],[21,0,55,21]],[[4,0,56,4],[5,0,56,5]],[[4,0,58,4],[8,0,58,8],[17,0,58,17],[22,0,58,22],[29,0,58,29],[33,0,58,33],[34,0,58,34],[50,0,58,50],[51,0,58,51],[56,0,58,56],[57,0,58,57],[58,0,58,58],[59,0,58,59]],[[4,0,59,4],[8,0,59,8],[14,0,59,14],[19,0,59,19],[26,0,59,26],[30,0,59,30],[31,0,59,31],[35,0,59,35],[36,0,59,36],[42,0,59,42],[43,0,59,43],[44,0,59,44],[45,0,59,45]],[[4,0,60,4],[8,0,60,8],[18,0,60,18],[23,0,60,32],[30,0,60,39],[31,0,60,40],[32,0,60,41],[36,0,60,45],[37,0,60,46],[44,0,60,53],[46,0,60,55],[50,0,60,59],[51,0,60,60],[52,0,60,61],[53,0,60,62]],[[4,0,61,4],[8,0,61,8],[13,0,61,13],[18,0,61,18],[25,0,61,25],[29,0,61,29],[30,0,61,30],[37,0,61,37],[38,0,61,38],[39,0,61,39],[40,0,61,40]],[[4,0,79,4],[9,0,79,9]],[[8,0,81,8],[12,0,81,12],[13,0,81,13],[24,0,81,24],[27,0,81,27],[31,0,81,31],[32,0,81,32],[42,0,81,42],[43,0,81,43],[49,0,81,49],[50,0,81,50],[58,0,81,58],[59,0,81,59],[60,0,81,60]],[[8,0,82,8],[12,0,82,12],[13,0,82,13],[24,0,82,24],[27,0,82,27],[31,0,82,31],[32,0,82,32],[42,0,82,42],[43,0,82,43],[46,0,82,46],[47,0,82,47],[55,0,82,55],[57,0,82,57],[60,0,82,60],[61,0,82,61],[62,0,82,62]],[[8,0,83,8],[12,0,83,12],[13,0,83,13],[24,0,83,24],[27,0,83,27],[31,0,83,31],[32,0,83,32],[42,0,83,42],[43,0,83,43],[46,0,83,46],[47,0,83,47],[54,0,83,54],[56,0,83,56],[60,0,83,60],[61,0,83,61],[66,0,83,66],[67,0,83,67],[75,0,83,75],[77,0,83,77],[78,0,83,78],[79,0,83,79]],[[8,0,85,8],[12,0,85,12],[13,0,85,13],[17,0,85,17],[18,0,85,18],[28,0,85,28],[29,0,85,29],[32,0,85,32],[33,0,85,33],[43,0,85,43],[44,0,85,44],[46,0,85,46]],[[12,0,85,48],[16,0,85,52],[17,0,85,53],[28,0,85,64],[31,0,85,67],[35,0,85,71],[36,0,85,72],[46,0,85,82],[47,0,85,83],[50,0,85,86],[51,0,85,87],[61,0,85,97],[63,0,85,99],[76,0,85,112],[77,0,85,113],[78,0,85,114]],[[9,0,85,116]],[[4,0,86,4],[5,0,86,5]],[[4,0,88,4],[12,0,88,12]],[[8,0,91,8],[12,0,91,12],[16,0,91,16],[17,0,91,17],[24,0,91,24],[26,0,91,26],[30,0,91,30],[32,0,91,32]],[[12,0,93,12],[18,0,93,18],[23,0,93,23],[26,0,93,26],[30,0,93,30],[31,0,93,31],[38,0,93,38],[39,0,93,39],[43,0,93,43],[44,0,93,44],[49,0,93,49],[50,0,93,50],[53,0,93,53],[54,0,93,54],[55,0,93,55]],[[12,0,95,12],[16,0,95,16],[21,0,95,21],[22,0,95,22],[28,0,95,28],[31,0,95,31],[32,0,95,32],[34,0,95,34]],[[16,0,97,16],[21,0,97,21],[22,0,97,22],[23,0,97,23],[24,0,97,24],[25,0,97,25],[30,0,97,30],[31,0,97,31],[34,0,97,34],[35,0,97,35],[36,0,97,36],[43,0,97,43],[44,0,97,44],[45,0,97,45],[46,0,97,46],[48,0,97,48]],[[20,0,99,20],[26,0,99,26],[36,0,99,36],[39,0,99,39],[40,0,99,40],[41,0,99,41],[46,0,99,46],[47,0,99,47],[50,0,99,50],[51,0,99,51],[52,0,99,52]],[[20,0,101,20],[24,0,101,24],[25,0,101,25],[36,0,101,36],[39,0,101,39],[43,0,101,43],[44,0,101,44],[54,0,101,54],[55,0,101,55],[58,0,101,58],[59,0,101,59],[77,0,101,77],[78,0,101,78],[88,0,101,88],[89,0,101,89],[90,0,101,90],[91,0,101,91],[92,0,101,92],[94,0,101,94],[112,0,101,112],[113,0,101,113],[123,0,101,123],[124,0,101,124],[125,0,101,125],[126,0,101,126],[127,0,101,127],[128,0,101,128],[129,0,101,129]],[[16,0,102,16],[17,0,102,17],[18,0,102,18],[19,0,102,19]],[[13,0,103,13]],[[9,0,104,9]],[[8,0,106,8],[12,0,106,12],[13,0,106,13],[24,0,106,24],[27,0,106,27],[31,0,106,31],[32,0,106,32],[42,0,106,42],[43,0,106,43],[46,0,106,46],[47,0,106,47],[55,0,106,55],[57,0,106,57],[61,0,106,61],[62,0,106,62],[68,0,106,68],[69,0,106,69],[77,0,106,77],[79,0,106,79],[80,0,106,80],[81,0,106,81]],[[8,0,107,8],[12,0,107,12],[13,0,107,13],[24,0,107,24],[27,0,107,27],[31,0,107,31],[32,0,107,32],[42,0,107,42],[43,0,107,43],[46,0,107,46],[47,0,107,47],[54,0,107,54],[56,0,107,56],[60,0,107,60],[61,0,107,61],[66,0,107,66],[67,0,107,67],[75,0,107,75],[77,0,107,77],[78,0,107,78],[79,0,107,79]],[[4,0,108,4],[5,0,108,5]],[[1,0,110,1]],[[0,0,112,0],[6,0,112,6],[13,0,112,13],[21,0,112,47],[30,0,112,55],[42,0,112,70]],[[4,0,116,4],[16,0,116,24],[26,0,116,52],[28,0,116,62],[32,0,116,74],[34,0,116,84],[43,0,116,93],[45,0,116,95]],[[8,0,118,8],[13,0,118,13],[14,0,118,14],[20,0,118,20],[22,0,118,22],[26,0,118,26],[27,0,118,27],[28,0,118,28]],[[8,0,116,24],[23,0,116,34],[26,0,116,24],[36,0,116,34],[37,0,116,52]],[[8,0,116,62],[17,0,116,66],[20,0,116,62],[24,0,116,66],[25,0,116,74]],[[8,0,116,84],[19,0,116,90],[22,0,116,84],[28,0,116,90],[29,0,116,95]],[[8,0,120,8],[12,0,120,12],[13,0,120,13],[23,0,120,23],[26,0,120,26],[30,0,120,30],[31,0,120,31],[42,0,120,42],[43,0,120,43],[55,0,120,55],[57,0,120,57],[58,0,120,58],[62,0,120,62],[63,0,122,12],[66,0,122,15],[67,0,122,16],[68,0,122,17],[69,0,122,18],[71,0,122,20],[74,0,122,23],[78,0,122,27],[79,0,122,28],[80,0,122,29],[81,0,122,30],[87,0,122,36],[89,0,122,38]],[[12,0,122,40],[16,0,122,44],[17,0,122,45],[22,0,122,50],[24,0,122,52],[25,0,122,53]],[[9,0,122,55],[10,0,122,56],[11,0,122,57],[12,0,122,58],[14,0,124,12],[20,0,124,18],[21,0,124,19],[22,0,124,20],[23,0,124,21],[25,0,124,23],[26,0,124,24],[27,0,124,25],[28,0,124,26],[29,0,124,27],[30,0,124,28],[36,0,124,34],[37,0,124,35],[39,0,126,12],[42,0,126,15],[43,0,126,16],[46,0,126,19],[48,0,126,21],[49,0,126,22],[53,0,126,26],[54,0,126,27],[70,0,126,43],[71,0,126,44],[75,0,126,48],[76,0,126,49],[80,0,126,53],[81,0,126,54],[82,0,126,55],[84,0,128,12],[93,0,128,21],[94,0,128,22],[95,0,128,23],[96,0,128,24],[98,0,128,26],[99,0,128,27],[112,0,128,40],[113,0,128,41],[114,0,128,42],[115,0,128,43],[116,0,128,44],[118,0,130,12],[127,0,130,21],[128,0,130,22],[132,0,130,26],[135,0,130,29],[137,0,130,31],[138,0,130,32],[140,0,132,12],[143,0,132,15],[144,0,132,16],[147,0,132,19],[148,0,132,20],[150,0,132,22],[151,0,132,23],[155,0,132,27],[156,0,132,28],[163,0,132,35],[166,0,132,38],[169,0,132,41],[170,0,132,42],[176,0,132,48],[179,0,132,51],[180,0,132,52],[181,0,132,53],[182,0,132,54],[183,0,132,55],[186,0,132,58],[187,0,132,59],[190,0,132,62],[191,0,132,63],[197,0,132,69],[200,0,132,72],[201,0,132,73],[202,0,132,74],[203,0,132,75],[204,0,132,76],[205,0,132,77],[209,0,132,81],[210,0,132,82],[212,0,134,12],[215,0,134,15],[216,0,134,16],[219,0,134,19],[220,0,134,20],[222,0,134,22],[223,0,134,23],[230,0,134,30],[231,0,134,31],[234,0,134,34],[235,0,134,35],[238,0,134,38],[239,0,134,39],[240,0,134,40],[241,0,134,41],[243,0,134,43],[244,0,134,44],[245,0,134,45],[246,0,134,46],[253,0,134,53],[254,0,134,54],[255,0,134,75],[256,0,134,76],[258,0,136,12],[261,0,136,15],[262,0,136,16],[263,0,136,17],[264,0,136,18],[266,0,136,20],[267,0,136,21],[271,0,136,25],[272,0,136,26],[276,0,136,30],[279,0,136,33],[280,0,136,34],[281,0,136,35],[283,0,138,12],[286,0,138,15],[287,0,138,16],[290,0,138,19],[292,0,138,21],[293,0,138,22],[297,0,138,26],[298,0,138,27],[314,0,138,43],[315,0,138,44],[319,0,138,48],[320,0,138,49],[325,0,138,54],[326,0,138,55],[327,0,138,56],[329,0,140,12],[340,0,140,23],[341,0,140,24],[342,0,140,25],[343,0,140,26],[344,0,142,41],[345,0,142,42]],[[4,0,143,4],[5,0,143,5]],[[4,0,145,4],[11,0,145,11],[12,0,145,12],[22,0,145,34]],[[8,0,147,8],[15,0,147,15],[19,0,147,19],[20,0,147,20],[30,0,147,30],[31,0,147,31],[36,0,147,36],[37,0,147,37],[47,0,147,47],[48,0,147,48],[49,0,147,49],[53,0,147,53],[54,0,149,12],[65,0,149,23],[66,0,149,24],[67,0,149,25],[68,0,149,26],[69,0,150,9],[70,0,150,10]],[[4,0,151,4],[5,0,151,5]],[[4,0,153,4],[9,0,153,9]],[[8,0,155,8],[13,0,155,13],[14,0,155,14],[19,0,155,19],[21,0,155,21],[22,0,155,22]],[[8,0,158,8],[14,0,158,14],[18,0,158,18],[21,0,158,21],[25,0,158,25],[26,0,158,26],[33,0,158,33],[34,0,158,34],[38,0,158,38],[39,0,158,39],[49,0,158,49],[50,0,158,50],[51,0,158,51]],[[8,0,161,8],[12,0,161,12],[13,0,161,13],[24,0,161,24],[25,0,161,25],[29,0,161,29],[30,0,161,30],[31,0,161,31],[35,0,161,35],[36,0,161,36],[37,0,161,37],[38,0,161,38]],[[4,0,162,4],[5,0,162,5]],[[4,0,164,4],[12,0,164,12]],[[8,0,166,8],[12,0,166,12],[16,0,166,16],[17,0,166,17],[26,0,166,26],[28,0,166,28]],[[12,0,166,30],[19,0,166,37]],[[9,0,166,39]],[[8,0,168,8],[13,0,168,13],[14,0,168,14],[22,0,168,22],[24,0,168,24],[25,0,168,25]],[[8,0,171,8],[14,0,171,14],[18,0,171,18],[21,0,171,21],[25,0,171,25],[26,0,171,26],[33,0,171,33],[34,0,171,34],[38,0,171,38],[39,0,171,39],[49,0,171,49],[50,0,171,50],[51,0,171,51]],[[8,0,174,8],[12,0,174,12],[13,0,174,13],[24,0,174,24],[25,0,174,25],[29,0,174,29],[30,0,174,30],[37,0,174,37],[38,0,174,38],[39,0,174,39],[43,0,174,43],[44,0,174,44],[55,0,174,55],[56,0,174,56],[61,0,174,61],[63,0,174,63],[67,0,174,67],[68,0,174,68],[69,0,174,69],[70,0,174,70],[71,0,174,71]],[[4,0,175,4],[5,0,175,5]],[[1,0,177,1]],[[0,0,180,0],[6,0,180,6],[13,0,180,13],[29,0,180,55],[38,0,180,63],[50,0,180,78]],[[4,0,184,4],[16,0,184,24],[26,0,184,52],[28,0,184,62],[32,0,184,74],[34,0,184,84],[43,0,184,93],[45,0,184,95]],[[8,0,186,8],[13,0,186,13],[14,0,186,14],[20,0,186,20],[22,0,186,22],[26,0,186,26],[27,0,186,27],[28,0,186,28]],[[8,0,184,24],[23,0,184,34],[26,0,184,24],[36,0,184,34],[37,0,184,52]],[[8,0,184,62],[17,0,184,66],[20,0,184,62],[24,0,184,66],[25,0,184,74]],[[8,0,184,84],[19,0,184,90],[22,0,184,84],[28,0,184,90],[29,0,184,95]],[[8,0,188,8],[12,0,188,12],[13,0,188,13],[23,0,188,23],[26,0,188,26],[30,0,188,30],[31,0,188,31],[42,0,188,42],[43,0,188,43],[55,0,188,55],[57,0,188,57],[58,0,188,58],[62,0,188,62],[63,0,190,12],[66,0,190,15],[67,0,190,16],[68,0,190,17],[69,0,190,18],[71,0,190,20],[74,0,190,23],[78,0,190,27],[79,0,190,28],[80,0,190,29],[81,0,190,30],[87,0,190,36],[89,0,190,38]],[[12,0,190,40],[16,0,190,44],[17,0,190,45],[22,0,190,50],[24,0,190,52],[25,0,190,53]],[[9,0,190,55],[10,0,190,56],[11,0,190,57],[12,0,190,58],[14,0,192,12],[20,0,192,18],[21,0,192,19],[22,0,192,20],[23,0,192,21],[25,0,192,23],[26,0,192,24],[27,0,192,25],[28,0,192,26],[29,0,192,27],[30,0,192,28],[36,0,192,34],[37,0,192,35],[39,0,194,12],[42,0,194,15],[43,0,194,16],[46,0,194,19],[48,0,194,21],[49,0,194,22],[53,0,194,26],[54,0,194,27],[70,0,194,43],[71,0,194,44],[75,0,194,48],[76,0,194,49],[80,0,194,53],[81,0,194,54],[82,0,194,55],[84,0,196,12],[93,0,196,21],[94,0,196,22],[95,0,196,23],[96,0,196,24],[98,0,196,26],[99,0,196,27],[112,0,196,40],[113,0,196,41],[114,0,196,42],[115,0,196,43],[116,0,196,44],[118,0,198,12],[127,0,198,21],[128,0,198,22],[132,0,198,26],[135,0,198,29],[137,0,198,31],[138,0,198,32],[140,0,200,12],[143,0,200,15],[144,0,200,16],[147,0,200,19],[148,0,200,20],[150,0,200,22],[151,0,200,23],[155,0,200,27],[156,0,200,28],[163,0,200,35],[166,0,200,38],[169,0,200,41],[170,0,200,42],[176,0,200,48],[179,0,200,51],[180,0,200,52],[181,0,200,53],[182,0,200,54],[183,0,200,55],[186,0,200,58],[187,0,200,59],[190,0,200,62],[191,0,200,63],[197,0,200,69],[200,0,200,72],[201,0,200,73],[202,0,200,74],[203,0,200,75],[204,0,200,76],[205,0,200,77],[209,0,200,81],[210,0,200,82],[212,0,202,12],[215,0,202,15],[216,0,202,16],[219,0,202,19],[220,0,202,20],[222,0,202,22],[223,0,202,23],[230,0,202,30],[231,0,202,31],[234,0,202,34],[235,0,202,35],[238,0,202,38],[239,0,202,39],[240,0,202,40],[241,0,202,41],[243,0,202,43],[244,0,202,44],[245,0,202,45],[246,0,202,46],[253,0,202,53],[254,0,202,54],[255,0,202,75],[256,0,202,76],[258,0,204,12],[261,0,204,15],[262,0,204,16],[263,0,204,17],[264,0,204,18],[266,0,204,20],[267,0,204,21],[271,0,204,25],[272,0,204,26],[276,0,204,30],[279,0,204,33],[280,0,204,34],[281,0,204,35],[283,0,206,12],[286,0,206,15],[287,0,206,16],[290,0,206,19],[292,0,206,21],[293,0,206,22],[297,0,206,26],[298,0,206,27],[314,0,206,43],[315,0,206,44],[319,0,206,48],[320,0,206,49],[325,0,206,54],[326,0,206,55],[327,0,206,56],[329,0,208,12],[340,0,208,23],[341,0,208,24],[342,0,208,25],[343,0,208,26],[344,0,210,41],[345,0,210,42]],[[4,0,211,4],[5,0,211,5]],[[4,0,213,4],[11,0,213,11],[12,0,213,12],[22,0,213,34]],[[8,0,215,8],[15,0,215,15],[19,0,215,19],[20,0,215,20],[30,0,215,30],[31,0,215,31],[44,0,215,44],[45,0,215,45],[55,0,215,55],[56,0,215,56],[57,0,215,57],[61,0,215,61],[62,0,217,12],[73,0,217,23],[74,0,217,24],[75,0,217,25],[76,0,217,26],[77,0,218,9],[78,0,218,10]],[[4,0,219,4],[5,0,219,5]],[[4,0,221,4],[9,0,221,9]],[[8,0,223,8],[13,0,223,13],[14,0,223,14],[19,0,223,19],[21,0,223,21],[22,0,223,22]],[[8,0,226,8],[14,0,226,14],[18,0,226,18],[21,0,226,21],[25,0,226,25],[26,0,226,26],[33,0,226,33],[34,0,226,34],[38,0,226,38],[39,0,226,39],[49,0,226,49],[50,0,226,50],[51,0,226,51]],[[8,0,229,8],[12,0,229,12],[13,0,229,13],[24,0,229,24],[25,0,229,25],[29,0,229,29],[30,0,229,30],[31,0,229,31],[35,0,229,35],[36,0,229,36],[37,0,229,37],[38,0,229,38]],[[4,0,230,4],[5,0,230,5]],[[4,0,232,4],[12,0,232,12]],[[8,0,234,8],[12,0,234,12],[16,0,234,16],[17,0,234,17],[26,0,234,26],[28,0,234,28]],[[12,0,234,30],[19,0,234,37]],[[9,0,234,39]],[[8,0,236,8],[13,0,236,13],[14,0,236,14],[22,0,236,22],[24,0,236,24],[25,0,236,25]],[[8,0,239,8],[14,0,239,14],[18,0,239,18],[21,0,239,21],[25,0,239,25],[26,0,239,26],[33,0,239,33],[34,0,239,34],[38,0,239,38],[39,0,239,39],[49,0,239,49],[50,0,239,50],[51,0,239,51]],[[8,0,242,8],[12,0,242,12],[13,0,242,13],[24,0,242,24],[25,0,242,25],[29,0,242,29],[30,0,242,30],[37,0,242,37],[38,0,242,38],[39,0,242,39],[43,0,242,43],[44,0,242,44],[55,0,242,55],[56,0,242,56],[61,0,242,61],[63,0,242,63],[67,0,242,67],[68,0,242,68],[69,0,242,69],[70,0,242,70],[71,0,242,71]],[[4,0,243,4],[5,0,243,5]],[[1,0,244,1]]],"sourcesContent":["import { BehaviorSubject, Observable, combineLatest } from 'rxjs';\nimport { Datatype, PwaDocument } from '../definitions/document';\nimport { HttpParams } from '@angular/common/http';\nimport { PwaListResponse } from '../definitions/collection';\nimport { switchMap, tap, shareReplay, map, filter, auditTime, distinctUntilChanged } from 'rxjs/operators';\nimport { NgZone } from '@angular/core';\nimport { enterZone } from './operators.resource';\nimport { CustomHttpParams } from './customParams.resource';\nimport { flatten } from './misc.resource';\n\n/////////////////////\n// Interfaces\n/////////////////////\n\nexport interface TableDatabase<T extends TableDataType> {\n\n    fetch: (params?: HttpParams) => Observable<PwaListResponse<T>>;\n\n    fetchReactive: (params?: HttpParams) => Observable<PwaListResponse<T>>;\n\n    getDatabase?: (limit?: number) => Database<T>;\n\n    getReactiveDatabase?: (limit?: number) => ReactiveDatabase<T>;\n}\n\nexport interface IBaseDatabase {\n    reset: () => void;\n    loadMore: () => void;\n}\n\nexport interface TableDataType extends Datatype {\n    created_at?: string;\n}\n\n///////////////////\n// Tables\n///////////////////\n\nexport class BaseDatabase<T extends TableDataType> implements IBaseDatabase {\n\n    queueChange: BehaviorSubject<Observable<PwaListResponse<T>>[]>;\n    data: PwaDocument<T>[];\n\n    _isLoadingChange: BehaviorSubject<boolean>;\n    isLoadingChange: Observable<boolean>;\n    lastRes: PwaListResponse<T>;\n\n    // tslint:disable-next-line: variable-name\n    private _httpParams: HttpParams;\n\n    get httpParams() { return this._httpParams; }\n    set httpParams(v: HttpParams) {\n\n        this._httpParams = v;\n\n        this.reset();\n    }\n\n    get isLoading() { return this._isLoadingChange.value; }\n    get offset() { return this.data.length; }\n    get isLoadable(): boolean { return !!this.lastRes?.next; }\n    get limit() { return this.__limit; }\n\n    constructor(private __limit: number, private __zone: NgZone) {\n\n        this.data               = [];\n        this.queueChange        = new BehaviorSubject([]);\n        this._isLoadingChange \t= new BehaviorSubject(false);\n\n        this._httpParams        = new CustomHttpParams();\n\n        this.isLoadingChange    = this._isLoadingChange.asObservable().pipe(\n\n            distinctUntilChanged(),\n\n            enterZone(this.__zone)\n        );\n    }\n\n    reset() {\n\n        this._httpParams = this.httpParams.delete('cursor');\n        this._httpParams = this.httpParams.set('offset', '0');\n        this._httpParams = this.httpParams.set('limit', this.limit.toString());\n\n        if (!this.httpParams.has('ordering')) { this._httpParams = this.httpParams.set('ordering', '-created_at'); }\n    }\n\n    loadMore() {\n\n        // set queryparams from next url\n        if (this.lastRes?.next) {\n\n            const split = this.lastRes.next.split('?');\n\n            if (split.length > 1) {\n\n                split[1].split('&').forEach(q => {\n\n                    const queryParam = q.split('=');\n\n                    this._httpParams = this.httpParams.set(decodeURIComponent(queryParam[0]), decodeURIComponent(queryParam[1]));\n                });\n            }\n        }\n\n        this._httpParams = this.httpParams.set('offset', this.offset.toString());\n        this._httpParams = this.httpParams.set('limit', this.limit.toString());\n    }\n\n}\n\nexport class Database<T extends TableDataType> extends BaseDatabase<T> {\n\n    dataChange: Observable<PwaDocument<T>[]>;\n\n    constructor(private apiService: TableDatabase<T>, private zone: NgZone, private _limit = 20) {\n\n        super(_limit, zone);\n\n        this.dataChange = this.queueChange.asObservable().pipe(\n\n            tap(v => { if (!v.length) { this.reset(); } }),\n\n            filter(v => !!v.length),\n\n            tap(() => this._isLoadingChange.next(true)),\n\n            switchMap(v => combineLatest(v)),\n\n            auditTime(1000 / 60),\n\n            tap(res => this.lastRes = res.length > 0 ? res[res.length - 1] : null),\n\n            map(res => flatten(res.map(v => v.results)) as PwaDocument<T>[]),\n\n            tap(v => this.data = v),\n\n            tap(() => this._isLoadingChange.next(false)),\n\n            shareReplay(1),\n\n        ) as Observable<PwaDocument<T>[]>;\n    }\n\n    getView(httpParams: HttpParams): Observable<PwaListResponse<T>> {\n\n        return this.apiService.fetch(httpParams).pipe(\n\n            shareReplay(1)\n        );\n    }\n\n    reset() {\n\n        super.reset();\n\n        // make view\n        const view = this.getView(this.httpParams);\n\n        // push to queue\n        this.queueChange.next([view]);\n    }\n\n    loadMore() {\n\n        if (this.isLoading) { return; }\n\n        super.loadMore();\n\n        // make view\n        const view = this.getView(this.httpParams);\n\n        // push to queue\n        this.queueChange.next(flatten([this.queueChange.value, view]));\n    }\n\n}\n\n\nexport class ReactiveDatabase<T extends TableDataType> extends BaseDatabase<T> {\n\n    dataChange: Observable<PwaDocument<T>[]>;\n\n    constructor(private apiService: TableDatabase<T>, private zone: NgZone, private _limit = 20) {\n\n        super(_limit, zone);\n\n        this.dataChange = this.queueChange.asObservable().pipe(\n\n            tap(v => { if (!v.length) { this.reset(); } }),\n\n            filter(v => !!v.length),\n\n            tap(() => this._isLoadingChange.next(true)),\n\n            switchMap(v => combineLatest(v)),\n\n            auditTime(1000 / 60),\n\n            tap(res => this.lastRes = res.length > 0 ? res[res.length - 1] : null),\n\n            map(res => flatten(res.map(v => v.results)) as PwaDocument<T>[]),\n\n            tap(v => this.data = v),\n\n            tap(() => this._isLoadingChange.next(false)),\n\n            shareReplay(1),\n\n        ) as Observable<PwaDocument<T>[]>;\n    }\n\n    getView(httpParams: HttpParams): Observable<PwaListResponse<T>> {\n\n        return this.apiService.fetchReactive(httpParams).pipe(\n\n            shareReplay(1)\n        );\n    }\n\n    reset() {\n\n        super.reset();\n\n        // make view\n        const view = this.getView(this.httpParams);\n\n        // push to queue\n        this.queueChange.next([view]);\n    }\n\n    loadMore() {\n\n        if (this.isLoading) { return; }\n\n        super.loadMore();\n\n        // make view\n        const view = this.getView(this.httpParams);\n\n        // push to queue\n        this.queueChange.next(flatten([this.queueChange.value, view]));\n    }\n}\n"]},"resolvedIds":{"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./operators.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./customParams.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./misc.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":38142,"body":[{"type":"ImportDeclaration","start":0,"end":79,"specifiers":[{"type":"ImportSpecifier","start":9,"end":24,"imported":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"}},{"type":"ImportSpecifier","start":26,"end":39,"imported":{"type":"Identifier","start":26,"end":39,"name":"combineLatest"},"local":{"type":"Identifier","start":26,"end":39,"name":"combineLatest"}},{"type":"ImportSpecifier","start":41,"end":46,"imported":{"type":"Identifier","start":41,"end":46,"name":"merge"},"local":{"type":"Identifier","start":41,"end":46,"name":"merge"}},{"type":"ImportSpecifier","start":48,"end":50,"imported":{"type":"Identifier","start":48,"end":50,"name":"of"},"local":{"type":"Identifier","start":48,"end":50,"name":"of"}},{"type":"ImportSpecifier","start":52,"end":64,"imported":{"type":"Identifier","start":52,"end":64,"name":"Subscription"},"local":{"type":"Identifier","start":52,"end":64,"name":"Subscription"}}],"source":{"type":"Literal","start":72,"end":78,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":80,"end":170,"specifiers":[{"type":"ImportSpecifier","start":89,"end":98,"imported":{"type":"Identifier","start":89,"end":98,"name":"auditTime"},"local":{"type":"Identifier","start":89,"end":98,"name":"auditTime"}},{"type":"ImportSpecifier","start":100,"end":106,"imported":{"type":"Identifier","start":100,"end":106,"name":"filter"},"local":{"type":"Identifier","start":100,"end":106,"name":"filter"}},{"type":"ImportSpecifier","start":108,"end":111,"imported":{"type":"Identifier","start":108,"end":111,"name":"map"},"local":{"type":"Identifier","start":108,"end":111,"name":"map"}},{"type":"ImportSpecifier","start":113,"end":121,"imported":{"type":"Identifier","start":113,"end":121,"name":"mergeMap"},"local":{"type":"Identifier","start":113,"end":121,"name":"mergeMap"}},{"type":"ImportSpecifier","start":123,"end":134,"imported":{"type":"Identifier","start":123,"end":134,"name":"shareReplay"},"local":{"type":"Identifier","start":123,"end":134,"name":"shareReplay"}},{"type":"ImportSpecifier","start":136,"end":145,"imported":{"type":"Identifier","start":136,"end":145,"name":"switchMap"},"local":{"type":"Identifier","start":136,"end":145,"name":"switchMap"}}],"source":{"type":"Literal","start":153,"end":169,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":171,"end":230,"specifiers":[{"type":"ImportSpecifier","start":180,"end":196,"imported":{"type":"Identifier","start":180,"end":196,"name":"CustomHttpParams"},"local":{"type":"Identifier","start":180,"end":196,"name":"CustomHttpParams"}}],"source":{"type":"Literal","start":204,"end":229,"value":"./customParams.resource","raw":"'./customParams.resource'"}},{"type":"ImportDeclaration","start":231,"end":273,"specifiers":[{"type":"ImportSpecifier","start":240,"end":247,"imported":{"type":"Identifier","start":240,"end":247,"name":"flatten"},"local":{"type":"Identifier","start":240,"end":247,"name":"flatten"}}],"source":{"type":"Literal","start":255,"end":272,"value":"./misc.resource","raw":"'./misc.resource'"}},{"type":"ExportNamedDeclaration","start":274,"end":2925,"declaration":{"type":"ClassDeclaration","start":281,"end":2925,"id":{"type":"Identifier","start":287,"end":299,"name":"TreeDatabase"},"superClass":null,"body":{"type":"ClassBody","start":300,"end":2925,"body":[{"type":"MethodDefinition","start":306,"end":743,"static":false,"computed":false,"key":{"type":"Identifier","start":306,"end":317,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":317,"end":743,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":318,"end":326,"name":"treeInfo"}],"body":{"type":"BlockStatement","start":328,"end":743,"body":[{"type":"ExpressionStatement","start":338,"end":363,"expression":{"type":"AssignmentExpression","start":338,"end":362,"operator":"=","left":{"type":"MemberExpression","start":338,"end":351,"object":{"type":"ThisExpression","start":338,"end":342},"property":{"type":"Identifier","start":343,"end":351,"name":"treeInfo"},"computed":false,"optional":false},"right":{"type":"Identifier","start":354,"end":362,"name":"treeInfo"}}},{"type":"ExpressionStatement","start":372,"end":401,"expression":{"type":"AssignmentExpression","start":372,"end":400,"operator":"=","left":{"type":"MemberExpression","start":372,"end":388,"object":{"type":"ThisExpression","start":372,"end":376},"property":{"type":"Identifier","start":377,"end":388,"name":"databaseMap"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":391,"end":400,"callee":{"type":"Identifier","start":395,"end":398,"name":"Map"},"arguments":[]}}},{"type":"ExpressionStatement","start":410,"end":442,"expression":{"type":"AssignmentExpression","start":410,"end":441,"operator":"=","left":{"type":"MemberExpression","start":410,"end":429,"object":{"type":"ThisExpression","start":410,"end":414},"property":{"type":"Identifier","start":415,"end":429,"name":"databaseKeyMap"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":432,"end":441,"callee":{"type":"Identifier","start":436,"end":439,"name":"Map"},"arguments":[]}}},{"type":"ExpressionStatement","start":451,"end":481,"expression":{"type":"AssignmentExpression","start":451,"end":480,"operator":"=","left":{"type":"MemberExpression","start":451,"end":468,"object":{"type":"ThisExpression","start":451,"end":455},"property":{"type":"Identifier","start":456,"end":468,"name":"childTreeMap"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":471,"end":480,"callee":{"type":"Identifier","start":475,"end":478,"name":"Map"},"arguments":[]}}},{"type":"ExpressionStatement","start":490,"end":532,"expression":{"type":"AssignmentExpression","start":490,"end":531,"operator":"=","left":{"type":"MemberExpression","start":490,"end":506,"object":{"type":"ThisExpression","start":490,"end":494},"property":{"type":"Identifier","start":495,"end":506,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":509,"end":531,"callee":{"type":"Identifier","start":513,"end":529,"name":"CustomHttpParams"},"arguments":[]}}},{"type":"ExpressionStatement","start":541,"end":586,"expression":{"type":"AssignmentExpression","start":541,"end":585,"operator":"=","left":{"type":"MemberExpression","start":541,"end":557,"object":{"type":"ThisExpression","start":541,"end":545},"property":{"type":"Identifier","start":546,"end":557,"name":"queueChange"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":560,"end":585,"callee":{"type":"Identifier","start":564,"end":579,"name":"BehaviorSubject"},"arguments":[{"type":"Literal","start":580,"end":584,"value":true,"raw":"true"}]}}},{"type":"ExpressionStatement","start":595,"end":737,"expression":{"type":"AssignmentExpression","start":595,"end":736,"operator":"=","left":{"type":"MemberExpression","start":595,"end":610,"object":{"type":"ThisExpression","start":595,"end":599},"property":{"type":"Identifier","start":600,"end":610,"name":"dataChange"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":613,"end":736,"callee":{"type":"MemberExpression","start":613,"end":649,"object":{"type":"CallExpression","start":613,"end":644,"callee":{"type":"MemberExpression","start":613,"end":642,"object":{"type":"MemberExpression","start":613,"end":629,"object":{"type":"ThisExpression","start":613,"end":617},"property":{"type":"Identifier","start":618,"end":629,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":630,"end":642,"name":"asObservable"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":645,"end":649,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":650,"end":719,"callee":{"type":"Identifier","start":650,"end":659,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":660,"end":718,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":666,"end":718,"callee":{"type":"MemberExpression","start":666,"end":680,"object":{"type":"ThisExpression","start":666,"end":670},"property":{"type":"Identifier","start":671,"end":680,"name":"buildTree"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":681,"end":694,"object":{"type":"ThisExpression","start":681,"end":685},"property":{"type":"Identifier","start":686,"end":694,"name":"treeInfo"},"computed":false,"optional":false},{"type":"Literal","start":696,"end":700,"value":null,"raw":"null"},{"type":"MemberExpression","start":702,"end":717,"object":{"type":"ThisExpression","start":702,"end":706},"property":{"type":"Identifier","start":707,"end":717,"name":"httpParams"},"computed":false,"optional":false}],"optional":false}}],"optional":false},{"type":"CallExpression","start":721,"end":735,"callee":{"type":"Identifier","start":721,"end":732,"name":"shareReplay"},"arguments":[{"type":"Literal","start":733,"end":734,"value":1,"raw":"1"}],"optional":false}],"optional":false}}}]}}},{"type":"MethodDefinition","start":748,"end":793,"static":false,"computed":false,"key":{"type":"Identifier","start":752,"end":762,"name":"httpParams"},"kind":"get","value":{"type":"FunctionExpression","start":762,"end":793,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":765,"end":793,"body":[{"type":"ReturnStatement","start":767,"end":791,"argument":{"type":"MemberExpression","start":774,"end":790,"object":{"type":"ThisExpression","start":774,"end":778},"property":{"type":"Identifier","start":779,"end":790,"name":"_httpParams"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":798,"end":875,"static":false,"computed":false,"key":{"type":"Identifier","start":802,"end":812,"name":"httpParams"},"kind":"set","value":{"type":"FunctionExpression","start":812,"end":875,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":813,"end":814,"name":"v"}],"body":{"type":"BlockStatement","start":816,"end":875,"body":[{"type":"ExpressionStatement","start":826,"end":847,"expression":{"type":"AssignmentExpression","start":826,"end":846,"operator":"=","left":{"type":"MemberExpression","start":826,"end":842,"object":{"type":"ThisExpression","start":826,"end":830},"property":{"type":"Identifier","start":831,"end":842,"name":"_httpParams"},"computed":false,"optional":false},"right":{"type":"Identifier","start":845,"end":846,"name":"v"}}},{"type":"ExpressionStatement","start":856,"end":869,"expression":{"type":"CallExpression","start":856,"end":868,"callee":{"type":"MemberExpression","start":856,"end":866,"object":{"type":"ThisExpression","start":856,"end":860},"property":{"type":"Identifier","start":861,"end":866,"name":"reset"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}},{"type":"MethodDefinition","start":880,"end":2760,"static":false,"computed":false,"key":{"type":"Identifier","start":880,"end":889,"name":"buildTree"},"kind":"method","value":{"type":"FunctionExpression","start":889,"end":2760,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":890,"end":898,"name":"treeInfo"},{"type":"AssignmentPattern","start":900,"end":916,"left":{"type":"Identifier","start":900,"end":909,"name":"parentDoc"},"right":{"type":"Literal","start":912,"end":916,"value":null,"raw":"null"}},{"type":"AssignmentPattern","start":918,"end":955,"left":{"type":"Identifier","start":918,"end":930,"name":"parentParams"},"right":{"type":"NewExpression","start":933,"end":955,"callee":{"type":"Identifier","start":937,"end":953,"name":"CustomHttpParams"},"arguments":[]}},{"type":"AssignmentPattern","start":957,"end":973,"left":{"type":"Identifier","start":957,"end":966,"name":"parentKey"},"right":{"type":"Literal","start":969,"end":973,"value":null,"raw":"null"}}],"body":{"type":"BlockStatement","start":975,"end":2760,"body":[{"type":"VariableDeclaration","start":985,"end":2678,"declarations":[{"type":"VariableDeclarator","start":991,"end":2677,"id":{"type":"Identifier","start":991,"end":1000,"name":"treeNodes"},"init":{"type":"CallExpression","start":1003,"end":2677,"callee":{"type":"MemberExpression","start":1003,"end":1028,"object":{"type":"CallExpression","start":1003,"end":1024,"callee":{"type":"MemberExpression","start":1003,"end":1014,"object":{"type":"Identifier","start":1003,"end":1009,"name":"Object"},"property":{"type":"Identifier","start":1010,"end":1014,"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1015,"end":1023,"name":"treeInfo"}],"optional":false},"property":{"type":"Identifier","start":1025,"end":1028,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1029,"end":2676,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1029,"end":1032,"name":"key"}],"body":{"type":"BlockStatement","start":1036,"end":2676,"body":[{"type":"VariableDeclaration","start":1050,"end":1089,"declarations":[{"type":"VariableDeclarator","start":1056,"end":1088,"id":{"type":"Identifier","start":1056,"end":1058,"name":"db"},"init":{"type":"CallExpression","start":1061,"end":1088,"callee":{"type":"MemberExpression","start":1061,"end":1086,"object":{"type":"MemberExpression","start":1061,"end":1074,"object":{"type":"Identifier","start":1061,"end":1069,"name":"treeInfo"},"property":{"type":"Identifier","start":1070,"end":1073,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1075,"end":1086,"name":"getDatabase"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1102,"end":1209,"declarations":[{"type":"VariableDeclarator","start":1108,"end":1208,"id":{"type":"Identifier","start":1108,"end":1129,"name":"currentDatabaseMapKey"},"init":{"type":"ConditionalExpression","start":1132,"end":1208,"test":{"type":"LogicalExpression","start":1132,"end":1154,"left":{"type":"Identifier","start":1132,"end":1141,"name":"parentKey"},"operator":"&&","right":{"type":"Identifier","start":1145,"end":1154,"name":"parentDoc"}},"consequent":{"type":"TemplateLiteral","start":1157,"end":1202,"expressions":[{"type":"Identifier","start":1160,"end":1169,"name":"parentKey"},{"type":"MemberExpression","start":1173,"end":1192,"object":{"type":"Identifier","start":1173,"end":1182,"name":"parentDoc"},"property":{"type":"Identifier","start":1183,"end":1192,"name":"tenantUrl"},"computed":false,"optional":false},{"type":"Identifier","start":1197,"end":1200,"name":"key"}],"quasis":[{"type":"TemplateElement","start":1158,"end":1158,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":1170,"end":1171,"value":{"raw":"~","cooked":"~"},"tail":false},{"type":"TemplateElement","start":1193,"end":1195,"value":{"raw":"--","cooked":"--"},"tail":false},{"type":"TemplateElement","start":1201,"end":1201,"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"Identifier","start":1205,"end":1208,"name":"key"}}}],"kind":"const"},{"type":"ExpressionStatement","start":1222,"end":1273,"expression":{"type":"CallExpression","start":1222,"end":1272,"callee":{"type":"MemberExpression","start":1222,"end":1245,"object":{"type":"MemberExpression","start":1222,"end":1241,"object":{"type":"ThisExpression","start":1222,"end":1226},"property":{"type":"Identifier","start":1227,"end":1241,"name":"databaseKeyMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1242,"end":1245,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1246,"end":1267,"name":"currentDatabaseMapKey"},{"type":"Identifier","start":1269,"end":1271,"name":"db"}],"optional":false}},{"type":"VariableDeclaration","start":1286,"end":1376,"declarations":[{"type":"VariableDeclarator","start":1292,"end":1375,"id":{"type":"Identifier","start":1292,"end":1309,"name":"possibleParamKeys"},"init":{"type":"CallExpression","start":1312,"end":1375,"callee":{"type":"MemberExpression","start":1312,"end":1338,"object":{"type":"CallExpression","start":1312,"end":1331,"callee":{"type":"MemberExpression","start":1312,"end":1329,"object":{"type":"Identifier","start":1312,"end":1324,"name":"parentParams"},"property":{"type":"Identifier","start":1325,"end":1329,"name":"keys"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":1332,"end":1338,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1339,"end":1374,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1339,"end":1341,"name":"pk"}],"body":{"type":"LogicalExpression","start":1345,"end":1374,"left":{"type":"Identifier","start":1345,"end":1347,"name":"pk"},"operator":"&&","right":{"type":"CallExpression","start":1351,"end":1374,"callee":{"type":"MemberExpression","start":1351,"end":1362,"object":{"type":"Identifier","start":1351,"end":1353,"name":"pk"},"property":{"type":"Identifier","start":1354,"end":1362,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"TemplateLiteral","start":1363,"end":1373,"expressions":[{"type":"Identifier","start":1366,"end":1369,"name":"key"}],"quasis":[{"type":"TemplateElement","start":1364,"end":1364,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":1370,"end":1372,"value":{"raw":"--","cooked":"--"},"tail":true}]}],"optional":false}}}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":1389,"end":1432,"declarations":[{"type":"VariableDeclarator","start":1393,"end":1431,"id":{"type":"Identifier","start":1393,"end":1406,"name":"currentParams"},"init":{"type":"NewExpression","start":1409,"end":1431,"callee":{"type":"Identifier","start":1413,"end":1429,"name":"CustomHttpParams"},"arguments":[]}}],"kind":"let"},{"type":"ExpressionStatement","start":1445,"end":1708,"expression":{"type":"CallExpression","start":1445,"end":1707,"callee":{"type":"MemberExpression","start":1445,"end":1470,"object":{"type":"Identifier","start":1445,"end":1462,"name":"possibleParamKeys"},"property":{"type":"Identifier","start":1463,"end":1470,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1471,"end":1706,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1471,"end":1473,"name":"pk"}],"body":{"type":"BlockStatement","start":1477,"end":1706,"body":[{"type":"VariableDeclaration","start":1495,"end":1537,"declarations":[{"type":"VariableDeclarator","start":1501,"end":1536,"id":{"type":"Identifier","start":1501,"end":1510,"name":"paramName"},"init":{"type":"MemberExpression","start":1513,"end":1536,"object":{"type":"CallExpression","start":1513,"end":1533,"callee":{"type":"MemberExpression","start":1513,"end":1521,"object":{"type":"Identifier","start":1513,"end":1515,"name":"pk"},"property":{"type":"Identifier","start":1516,"end":1521,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"TemplateLiteral","start":1522,"end":1532,"expressions":[{"type":"Identifier","start":1525,"end":1528,"name":"key"}],"quasis":[{"type":"TemplateElement","start":1523,"end":1523,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":1529,"end":1531,"value":{"raw":"--","cooked":"--"},"tail":true}]}],"optional":false},"property":{"type":"Literal","start":1534,"end":1535,"value":1,"raw":"1"},"computed":true,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":1554,"end":1692,"test":{"type":"UnaryExpression","start":1558,"end":1583,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1559,"end":1583,"callee":{"type":"MemberExpression","start":1559,"end":1577,"object":{"type":"Identifier","start":1559,"end":1568,"name":"paramName"},"property":{"type":"Identifier","start":1569,"end":1577,"name":"includes"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":1578,"end":1582,"value":"--","raw":"'--'"}],"optional":false}},"consequent":{"type":"BlockStatement","start":1585,"end":1692,"body":[{"type":"ExpressionStatement","start":1607,"end":1674,"expression":{"type":"AssignmentExpression","start":1607,"end":1673,"operator":"=","left":{"type":"Identifier","start":1607,"end":1620,"name":"currentParams"},"right":{"type":"CallExpression","start":1623,"end":1673,"callee":{"type":"MemberExpression","start":1623,"end":1640,"object":{"type":"Identifier","start":1623,"end":1636,"name":"currentParams"},"property":{"type":"Identifier","start":1637,"end":1640,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1641,"end":1650,"name":"paramName"},{"type":"CallExpression","start":1652,"end":1672,"callee":{"type":"MemberExpression","start":1652,"end":1668,"object":{"type":"Identifier","start":1652,"end":1664,"name":"parentParams"},"property":{"type":"Identifier","start":1665,"end":1668,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1669,"end":1671,"name":"pk"}],"optional":false}],"optional":false}}}]},"alternate":null}]}}],"optional":false}},{"type":"ExpressionStatement","start":1721,"end":1845,"expression":{"type":"ConditionalExpression","start":1721,"end":1844,"test":{"type":"MemberExpression","start":1721,"end":1750,"object":{"type":"MemberExpression","start":1721,"end":1734,"object":{"type":"Identifier","start":1721,"end":1729,"name":"treeInfo"},"property":{"type":"Identifier","start":1730,"end":1733,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1735,"end":1750,"name":"onCreationSetup"},"computed":false,"optional":false},"consequent":{"type":"CallExpression","start":1753,"end":1812,"callee":{"type":"MemberExpression","start":1753,"end":1782,"object":{"type":"MemberExpression","start":1753,"end":1766,"object":{"type":"Identifier","start":1753,"end":1761,"name":"treeInfo"},"property":{"type":"Identifier","start":1762,"end":1765,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1767,"end":1782,"name":"onCreationSetup"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1783,"end":1792,"name":"parentDoc"},{"type":"Identifier","start":1794,"end":1796,"name":"db"},{"type":"Identifier","start":1798,"end":1811,"name":"currentParams"}],"optional":false},"alternate":{"type":"AssignmentExpression","start":1815,"end":1844,"operator":"=","left":{"type":"MemberExpression","start":1815,"end":1828,"object":{"type":"Identifier","start":1815,"end":1817,"name":"db"},"property":{"type":"Identifier","start":1818,"end":1828,"name":"httpParams"},"computed":false,"optional":false},"right":{"type":"Identifier","start":1831,"end":1844,"name":"currentParams"}}}},{"type":"ReturnStatement","start":1858,"end":2666,"argument":{"type":"CallExpression","start":1865,"end":2665,"callee":{"type":"MemberExpression","start":1865,"end":1883,"object":{"type":"MemberExpression","start":1865,"end":1878,"object":{"type":"Identifier","start":1865,"end":1867,"name":"db"},"property":{"type":"Identifier","start":1868,"end":1878,"name":"dataChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1879,"end":1883,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1884,"end":2664,"callee":{"type":"Identifier","start":1884,"end":1887,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1888,"end":2663,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1888,"end":1892,"name":"docs"}],"body":{"type":"BlockStatement","start":1896,"end":2663,"body":[{"type":"VariableDeclaration","start":1914,"end":2618,"declarations":[{"type":"VariableDeclarator","start":1920,"end":2617,"id":{"type":"Identifier","start":1920,"end":1926,"name":"obsArr"},"init":{"type":"CallExpression","start":1929,"end":2617,"callee":{"type":"MemberExpression","start":1929,"end":1937,"object":{"type":"Identifier","start":1929,"end":1933,"name":"docs"},"property":{"type":"Identifier","start":1934,"end":1937,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1938,"end":2616,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1938,"end":1941,"name":"doc"}],"body":{"type":"BlockStatement","start":1945,"end":2616,"body":[{"type":"IfStatement","start":1967,"end":2077,"test":{"type":"UnaryExpression","start":1971,"end":1997,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1972,"end":1997,"callee":{"type":"MemberExpression","start":1972,"end":1992,"object":{"type":"MemberExpression","start":1972,"end":1988,"object":{"type":"ThisExpression","start":1972,"end":1976},"property":{"type":"Identifier","start":1977,"end":1988,"name":"databaseMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1989,"end":1992,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1993,"end":1996,"name":"doc"}],"optional":false}},"consequent":{"type":"BlockStatement","start":1999,"end":2077,"body":[{"type":"ExpressionStatement","start":2025,"end":2055,"expression":{"type":"CallExpression","start":2025,"end":2054,"callee":{"type":"MemberExpression","start":2025,"end":2045,"object":{"type":"MemberExpression","start":2025,"end":2041,"object":{"type":"ThisExpression","start":2025,"end":2029},"property":{"type":"Identifier","start":2030,"end":2041,"name":"databaseMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2042,"end":2045,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2046,"end":2049,"name":"doc"},{"type":"Identifier","start":2051,"end":2053,"name":"db"}],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":2098,"end":2543,"test":{"type":"UnaryExpression","start":2102,"end":2129,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":2103,"end":2129,"callee":{"type":"MemberExpression","start":2103,"end":2124,"object":{"type":"MemberExpression","start":2103,"end":2120,"object":{"type":"ThisExpression","start":2103,"end":2107},"property":{"type":"Identifier","start":2108,"end":2120,"name":"childTreeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2121,"end":2124,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2125,"end":2128,"name":"doc"}],"optional":false}},"consequent":{"type":"BlockStatement","start":2131,"end":2543,"body":[{"type":"IfStatement","start":2157,"end":2288,"test":{"type":"MemberExpression","start":2161,"end":2186,"object":{"type":"MemberExpression","start":2161,"end":2174,"object":{"type":"Identifier","start":2161,"end":2169,"name":"treeInfo"},"property":{"type":"Identifier","start":2170,"end":2173,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2175,"end":2186,"name":"isRecursive"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":2188,"end":2288,"body":[{"type":"ExpressionStatement","start":2218,"end":2262,"expression":{"type":"AssignmentExpression","start":2218,"end":2261,"operator":"=","left":{"type":"MemberExpression","start":2218,"end":2245,"object":{"type":"MemberExpression","start":2218,"end":2240,"object":{"type":"MemberExpression","start":2218,"end":2231,"object":{"type":"Identifier","start":2218,"end":2226,"name":"treeInfo"},"property":{"type":"Identifier","start":2227,"end":2230,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2232,"end":2240,"name":"children"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2241,"end":2244,"name":"key"},"computed":true,"optional":false},"right":{"type":"MemberExpression","start":2248,"end":2261,"object":{"type":"Identifier","start":2248,"end":2256,"name":"treeInfo"},"property":{"type":"Identifier","start":2257,"end":2260,"name":"key"},"computed":true,"optional":false}}}]},"alternate":null},{"type":"VariableDeclaration","start":2313,"end":2433,"declarations":[{"type":"VariableDeclarator","start":2319,"end":2432,"id":{"type":"Identifier","start":2319,"end":2328,"name":"childTree"},"init":{"type":"CallExpression","start":2331,"end":2432,"callee":{"type":"MemberExpression","start":2331,"end":2416,"object":{"type":"CallExpression","start":2331,"end":2411,"callee":{"type":"MemberExpression","start":2331,"end":2345,"object":{"type":"ThisExpression","start":2331,"end":2335},"property":{"type":"Identifier","start":2336,"end":2345,"name":"buildTree"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":2346,"end":2368,"object":{"type":"MemberExpression","start":2346,"end":2359,"object":{"type":"Identifier","start":2346,"end":2354,"name":"treeInfo"},"property":{"type":"Identifier","start":2355,"end":2358,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":2360,"end":2368,"name":"children"},"computed":false,"optional":false},{"type":"Identifier","start":2370,"end":2373,"name":"doc"},{"type":"Identifier","start":2375,"end":2387,"name":"parentParams"},{"type":"Identifier","start":2389,"end":2410,"name":"currentDatabaseMapKey"}],"optional":false},"property":{"type":"Identifier","start":2412,"end":2416,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2417,"end":2431,"callee":{"type":"Identifier","start":2417,"end":2428,"name":"shareReplay"},"arguments":[{"type":"Literal","start":2429,"end":2430,"value":1,"raw":"1"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2458,"end":2521,"expression":{"type":"CallExpression","start":2458,"end":2520,"callee":{"type":"MemberExpression","start":2458,"end":2479,"object":{"type":"MemberExpression","start":2458,"end":2475,"object":{"type":"ThisExpression","start":2458,"end":2462},"property":{"type":"Identifier","start":2463,"end":2475,"name":"childTreeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2476,"end":2479,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2480,"end":2483,"name":"doc"},{"type":"ObjectExpression","start":2485,"end":2519,"properties":[{"type":"Property","start":2487,"end":2496,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2487,"end":2491,"name":"item"},"value":{"type":"Identifier","start":2493,"end":2496,"name":"doc"},"kind":"init"},{"type":"Property","start":2498,"end":2517,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2498,"end":2506,"name":"children"},"value":{"type":"Identifier","start":2508,"end":2517,"name":"childTree"},"kind":"init"}]}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":2564,"end":2598,"argument":{"type":"CallExpression","start":2571,"end":2597,"callee":{"type":"MemberExpression","start":2571,"end":2592,"object":{"type":"MemberExpression","start":2571,"end":2588,"object":{"type":"ThisExpression","start":2571,"end":2575},"property":{"type":"Identifier","start":2576,"end":2588,"name":"childTreeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2589,"end":2592,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2593,"end":2596,"name":"doc"}],"optional":false}}]}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":2635,"end":2649,"argument":{"type":"Identifier","start":2642,"end":2648,"name":"obsArr"}}]}}],"optional":false}],"optional":false}}]}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":2687,"end":2754,"argument":{"type":"CallExpression","start":2694,"end":2753,"callee":{"type":"MemberExpression","start":2694,"end":2723,"object":{"type":"CallExpression","start":2694,"end":2718,"callee":{"type":"Identifier","start":2694,"end":2707,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":2708,"end":2717,"name":"treeNodes"}],"optional":false},"property":{"type":"Identifier","start":2719,"end":2723,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2724,"end":2752,"callee":{"type":"Identifier","start":2724,"end":2727,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":2728,"end":2751,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2728,"end":2733,"name":"nodes"}],"body":{"type":"CallExpression","start":2737,"end":2751,"callee":{"type":"Identifier","start":2737,"end":2744,"name":"flatten"},"arguments":[{"type":"Identifier","start":2745,"end":2750,"name":"nodes"}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":2765,"end":2923,"static":false,"computed":false,"key":{"type":"Identifier","start":2765,"end":2770,"name":"reset"},"kind":"method","value":{"type":"FunctionExpression","start":2770,"end":2923,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":2773,"end":2923,"body":[{"type":"ExpressionStatement","start":2783,"end":2808,"expression":{"type":"CallExpression","start":2783,"end":2807,"callee":{"type":"MemberExpression","start":2783,"end":2805,"object":{"type":"MemberExpression","start":2783,"end":2799,"object":{"type":"ThisExpression","start":2783,"end":2787},"property":{"type":"Identifier","start":2788,"end":2799,"name":"databaseMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2800,"end":2805,"name":"clear"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2817,"end":2845,"expression":{"type":"CallExpression","start":2817,"end":2844,"callee":{"type":"MemberExpression","start":2817,"end":2842,"object":{"type":"MemberExpression","start":2817,"end":2836,"object":{"type":"ThisExpression","start":2817,"end":2821},"property":{"type":"Identifier","start":2822,"end":2836,"name":"databaseKeyMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2837,"end":2842,"name":"clear"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2854,"end":2880,"expression":{"type":"CallExpression","start":2854,"end":2879,"callee":{"type":"MemberExpression","start":2854,"end":2877,"object":{"type":"MemberExpression","start":2854,"end":2871,"object":{"type":"ThisExpression","start":2854,"end":2858},"property":{"type":"Identifier","start":2859,"end":2871,"name":"childTreeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2872,"end":2877,"name":"clear"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2889,"end":2917,"expression":{"type":"CallExpression","start":2889,"end":2916,"callee":{"type":"MemberExpression","start":2889,"end":2910,"object":{"type":"MemberExpression","start":2889,"end":2905,"object":{"type":"ThisExpression","start":2889,"end":2893},"property":{"type":"Identifier","start":2894,"end":2905,"name":"queueChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2906,"end":2910,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2911,"end":2915,"value":true,"raw":"true"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":2926,"end":3111,"declaration":{"type":"ClassDeclaration","start":2933,"end":3111,"id":{"type":"Identifier","start":2939,"end":2954,"name":"DynamicFlatNode"},"superClass":null,"body":{"type":"ClassBody","start":2955,"end":3111,"body":[{"type":"MethodDefinition","start":2961,"end":3109,"static":false,"computed":false,"key":{"type":"Identifier","start":2961,"end":2972,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":2972,"end":3109,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2973,"end":2977,"name":"item"},{"type":"AssignmentPattern","start":2979,"end":2988,"left":{"type":"Identifier","start":2979,"end":2984,"name":"level"},"right":{"type":"Literal","start":2987,"end":2988,"value":1,"raw":"1"}},{"type":"AssignmentPattern","start":2990,"end":3008,"left":{"type":"Identifier","start":2990,"end":3000,"name":"expandable"},"right":{"type":"Literal","start":3003,"end":3008,"value":false,"raw":"false"}}],"body":{"type":"BlockStatement","start":3010,"end":3109,"body":[{"type":"ExpressionStatement","start":3020,"end":3037,"expression":{"type":"AssignmentExpression","start":3020,"end":3036,"operator":"=","left":{"type":"MemberExpression","start":3020,"end":3029,"object":{"type":"ThisExpression","start":3020,"end":3024},"property":{"type":"Identifier","start":3025,"end":3029,"name":"item"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3032,"end":3036,"name":"item"}}},{"type":"ExpressionStatement","start":3046,"end":3065,"expression":{"type":"AssignmentExpression","start":3046,"end":3064,"operator":"=","left":{"type":"MemberExpression","start":3046,"end":3056,"object":{"type":"ThisExpression","start":3046,"end":3050},"property":{"type":"Identifier","start":3051,"end":3056,"name":"level"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3059,"end":3064,"name":"level"}}},{"type":"ExpressionStatement","start":3074,"end":3103,"expression":{"type":"AssignmentExpression","start":3074,"end":3102,"operator":"=","left":{"type":"MemberExpression","start":3074,"end":3089,"object":{"type":"ThisExpression","start":3074,"end":3078},"property":{"type":"Identifier","start":3079,"end":3089,"name":"expandable"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3092,"end":3102,"name":"expandable"}}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":3112,"end":5726,"declaration":{"type":"ClassDeclaration","start":3119,"end":5726,"id":{"type":"Identifier","start":3125,"end":3145,"name":"DynamicTreeFlattener"},"superClass":null,"body":{"type":"ClassBody","start":3146,"end":5726,"body":[{"type":"MethodDefinition","start":3152,"end":3517,"static":false,"computed":false,"key":{"type":"Identifier","start":3152,"end":3163,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":3163,"end":3517,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3164,"end":3181,"name":"transformFunction"},{"type":"Identifier","start":3183,"end":3191,"name":"getLevel"},{"type":"Identifier","start":3193,"end":3205,"name":"isExpandable"},{"type":"Identifier","start":3207,"end":3218,"name":"getChildren"}],"body":{"type":"BlockStatement","start":3220,"end":3517,"body":[{"type":"ExpressionStatement","start":3230,"end":3273,"expression":{"type":"AssignmentExpression","start":3230,"end":3272,"operator":"=","left":{"type":"MemberExpression","start":3230,"end":3252,"object":{"type":"ThisExpression","start":3230,"end":3234},"property":{"type":"Identifier","start":3235,"end":3252,"name":"transformFunction"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3255,"end":3272,"name":"transformFunction"}}},{"type":"ExpressionStatement","start":3282,"end":3307,"expression":{"type":"AssignmentExpression","start":3282,"end":3306,"operator":"=","left":{"type":"MemberExpression","start":3282,"end":3295,"object":{"type":"ThisExpression","start":3282,"end":3286},"property":{"type":"Identifier","start":3287,"end":3295,"name":"getLevel"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3298,"end":3306,"name":"getLevel"}}},{"type":"ExpressionStatement","start":3316,"end":3349,"expression":{"type":"AssignmentExpression","start":3316,"end":3348,"operator":"=","left":{"type":"MemberExpression","start":3316,"end":3333,"object":{"type":"ThisExpression","start":3316,"end":3320},"property":{"type":"Identifier","start":3321,"end":3333,"name":"isExpandable"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3336,"end":3348,"name":"isExpandable"}}},{"type":"ExpressionStatement","start":3358,"end":3389,"expression":{"type":"AssignmentExpression","start":3358,"end":3388,"operator":"=","left":{"type":"MemberExpression","start":3358,"end":3374,"object":{"type":"ThisExpression","start":3358,"end":3362},"property":{"type":"Identifier","start":3363,"end":3374,"name":"getChildren"},"computed":false,"optional":false},"right":{"type":"Identifier","start":3377,"end":3388,"name":"getChildren"}}},{"type":"ExpressionStatement","start":3398,"end":3427,"expression":{"type":"AssignmentExpression","start":3398,"end":3426,"operator":"=","left":{"type":"MemberExpression","start":3398,"end":3414,"object":{"type":"ThisExpression","start":3398,"end":3402},"property":{"type":"Identifier","start":3403,"end":3414,"name":"flatNodeMap"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":3417,"end":3426,"callee":{"type":"Identifier","start":3421,"end":3424,"name":"Map"},"arguments":[]}}},{"type":"ExpressionStatement","start":3436,"end":3471,"expression":{"type":"AssignmentExpression","start":3436,"end":3470,"operator":"=","left":{"type":"MemberExpression","start":3436,"end":3458,"object":{"type":"ThisExpression","start":3436,"end":3440},"property":{"type":"Identifier","start":3441,"end":3458,"name":"structuredNodeMap"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":3461,"end":3470,"callee":{"type":"Identifier","start":3465,"end":3468,"name":"Map"},"arguments":[]}}},{"type":"ExpressionStatement","start":3480,"end":3511,"expression":{"type":"AssignmentExpression","start":3480,"end":3510,"operator":"=","left":{"type":"MemberExpression","start":3480,"end":3498,"object":{"type":"ThisExpression","start":3480,"end":3484},"property":{"type":"Identifier","start":3485,"end":3498,"name":"parentNodeMap"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":3501,"end":3510,"callee":{"type":"Identifier","start":3505,"end":3508,"name":"Map"},"arguments":[]}}}]}}},{"type":"MethodDefinition","start":3522,"end":3823,"static":false,"computed":false,"key":{"type":"Identifier","start":3522,"end":3534,"name":"_flattenNode"},"kind":"method","value":{"type":"FunctionExpression","start":3534,"end":3823,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3535,"end":3539,"name":"node"},{"type":"Identifier","start":3541,"end":3546,"name":"level"}],"body":{"type":"BlockStatement","start":3548,"end":3823,"body":[{"type":"IfStatement","start":3558,"end":3774,"test":{"type":"UnaryExpression","start":3562,"end":3589,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":3563,"end":3589,"callee":{"type":"MemberExpression","start":3563,"end":3583,"object":{"type":"MemberExpression","start":3563,"end":3579,"object":{"type":"ThisExpression","start":3563,"end":3567},"property":{"type":"Identifier","start":3568,"end":3579,"name":"flatNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3580,"end":3583,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3584,"end":3588,"name":"node"}],"optional":false}},"consequent":{"type":"BlockStatement","start":3591,"end":3774,"body":[{"type":"VariableDeclaration","start":3605,"end":3658,"declarations":[{"type":"VariableDeclarator","start":3611,"end":3657,"id":{"type":"Identifier","start":3611,"end":3619,"name":"flatNode"},"init":{"type":"CallExpression","start":3622,"end":3657,"callee":{"type":"MemberExpression","start":3622,"end":3644,"object":{"type":"ThisExpression","start":3622,"end":3626},"property":{"type":"Identifier","start":3627,"end":3644,"name":"transformFunction"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3645,"end":3649,"name":"node"},{"type":"Identifier","start":3651,"end":3656,"name":"level"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":3671,"end":3708,"expression":{"type":"CallExpression","start":3671,"end":3707,"callee":{"type":"MemberExpression","start":3671,"end":3691,"object":{"type":"MemberExpression","start":3671,"end":3687,"object":{"type":"ThisExpression","start":3671,"end":3675},"property":{"type":"Identifier","start":3676,"end":3687,"name":"flatNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3688,"end":3691,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3692,"end":3696,"name":"node"},{"type":"Identifier","start":3698,"end":3706,"name":"flatNode"}],"optional":false}},{"type":"ExpressionStatement","start":3721,"end":3764,"expression":{"type":"CallExpression","start":3721,"end":3763,"callee":{"type":"MemberExpression","start":3721,"end":3747,"object":{"type":"MemberExpression","start":3721,"end":3743,"object":{"type":"ThisExpression","start":3721,"end":3725},"property":{"type":"Identifier","start":3726,"end":3743,"name":"structuredNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3744,"end":3747,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3748,"end":3756,"name":"flatNode"},{"type":"Identifier","start":3758,"end":3762,"name":"node"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":3783,"end":3817,"argument":{"type":"CallExpression","start":3790,"end":3816,"callee":{"type":"MemberExpression","start":3790,"end":3810,"object":{"type":"MemberExpression","start":3790,"end":3806,"object":{"type":"ThisExpression","start":3790,"end":3794},"property":{"type":"Identifier","start":3795,"end":3806,"name":"flatNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3807,"end":3810,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3811,"end":3815,"name":"node"}],"optional":false}}]}}},{"type":"MethodDefinition","start":3828,"end":4142,"static":false,"computed":false,"key":{"type":"Identifier","start":3828,"end":3851,"name":"insertChildrenFlatNodes"},"kind":"method","value":{"type":"FunctionExpression","start":3851,"end":4142,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3852,"end":3862,"name":"parentNode"},{"type":"Identifier","start":3864,"end":3872,"name":"children"},{"type":"Identifier","start":3874,"end":3885,"name":"resultNodes"}],"body":{"type":"BlockStatement","start":3887,"end":4142,"body":[{"type":"VariableDeclaration","start":3897,"end":3943,"declarations":[{"type":"VariableDeclarator","start":3903,"end":3942,"id":{"type":"Identifier","start":3903,"end":3908,"name":"index"},"init":{"type":"CallExpression","start":3911,"end":3942,"callee":{"type":"MemberExpression","start":3911,"end":3930,"object":{"type":"Identifier","start":3911,"end":3922,"name":"resultNodes"},"property":{"type":"Identifier","start":3923,"end":3930,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3931,"end":3941,"name":"parentNode"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":3952,"end":3998,"expression":{"type":"CallExpression","start":3952,"end":3997,"callee":{"type":"MemberExpression","start":3952,"end":3970,"object":{"type":"Identifier","start":3952,"end":3963,"name":"resultNodes"},"property":{"type":"Identifier","start":3964,"end":3970,"name":"splice"},"computed":false,"optional":false},"arguments":[{"type":"BinaryExpression","start":3971,"end":3980,"left":{"type":"Identifier","start":3971,"end":3976,"name":"index"},"operator":"+","right":{"type":"Literal","start":3979,"end":3980,"value":1,"raw":"1"}},{"type":"Literal","start":3982,"end":3983,"value":0,"raw":"0"},{"type":"SpreadElement","start":3985,"end":3996,"argument":{"type":"Identifier","start":3988,"end":3996,"name":"children"}}],"optional":false}},{"type":"ExpressionStatement","start":4007,"end":4108,"expression":{"type":"CallExpression","start":4007,"end":4107,"callee":{"type":"MemberExpression","start":4007,"end":4063,"object":{"type":"CallExpression","start":4007,"end":4055,"callee":{"type":"MemberExpression","start":4007,"end":4022,"object":{"type":"Identifier","start":4007,"end":4015,"name":"children"},"property":{"type":"Identifier","start":4016,"end":4022,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4023,"end":4054,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4023,"end":4024,"name":"c"}],"body":{"type":"UnaryExpression","start":4028,"end":4054,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":4029,"end":4054,"callee":{"type":"MemberExpression","start":4029,"end":4051,"object":{"type":"MemberExpression","start":4029,"end":4047,"object":{"type":"ThisExpression","start":4029,"end":4033},"property":{"type":"Identifier","start":4034,"end":4047,"name":"parentNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4048,"end":4051,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4052,"end":4053,"name":"c"}],"optional":false}}}],"optional":false},"property":{"type":"Identifier","start":4056,"end":4063,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4064,"end":4106,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4064,"end":4065,"name":"c"}],"body":{"type":"CallExpression","start":4069,"end":4106,"callee":{"type":"MemberExpression","start":4069,"end":4091,"object":{"type":"MemberExpression","start":4069,"end":4087,"object":{"type":"ThisExpression","start":4069,"end":4073},"property":{"type":"Identifier","start":4074,"end":4087,"name":"parentNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4088,"end":4091,"name":"set"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4092,"end":4093,"name":"c"},{"type":"Identifier","start":4095,"end":4105,"name":"parentNode"}],"optional":false}}],"optional":false}},{"type":"ReturnStatement","start":4117,"end":4136,"argument":{"type":"Identifier","start":4124,"end":4135,"name":"resultNodes"}}]}}},{"type":"MethodDefinition","start":4147,"end":4607,"static":false,"computed":false,"key":{"type":"Identifier","start":4147,"end":4170,"name":"removeChildrenFlatNodes"},"kind":"method","value":{"type":"FunctionExpression","start":4170,"end":4607,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4171,"end":4181,"name":"parentNode"},{"type":"Identifier","start":4183,"end":4194,"name":"resultNodes"}],"body":{"type":"BlockStatement","start":4196,"end":4607,"body":[{"type":"VariableDeclaration","start":4206,"end":4252,"declarations":[{"type":"VariableDeclarator","start":4212,"end":4251,"id":{"type":"Identifier","start":4212,"end":4217,"name":"index"},"init":{"type":"CallExpression","start":4220,"end":4251,"callee":{"type":"MemberExpression","start":4220,"end":4239,"object":{"type":"Identifier","start":4220,"end":4231,"name":"resultNodes"},"property":{"type":"Identifier","start":4232,"end":4239,"name":"indexOf"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4240,"end":4250,"name":"parentNode"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":4261,"end":4275,"declarations":[{"type":"VariableDeclarator","start":4265,"end":4274,"id":{"type":"Identifier","start":4265,"end":4270,"name":"count"},"init":{"type":"Literal","start":4273,"end":4274,"value":0,"raw":"0"}}],"kind":"let"},{"type":"ForStatement","start":4284,"end":4410,"init":{"type":"VariableDeclaration","start":4289,"end":4306,"declarations":[{"type":"VariableDeclarator","start":4293,"end":4306,"id":{"type":"Identifier","start":4293,"end":4294,"name":"i"},"init":{"type":"BinaryExpression","start":4297,"end":4306,"left":{"type":"Identifier","start":4297,"end":4302,"name":"index"},"operator":"+","right":{"type":"Literal","start":4305,"end":4306,"value":1,"raw":"1"}}}],"kind":"let"},"test":{"type":"LogicalExpression","start":4308,"end":4391,"left":{"type":"BinaryExpression","start":4308,"end":4330,"left":{"type":"Identifier","start":4308,"end":4309,"name":"i"},"operator":"<","right":{"type":"MemberExpression","start":4312,"end":4330,"object":{"type":"Identifier","start":4312,"end":4323,"name":"resultNodes"},"property":{"type":"Identifier","start":4324,"end":4330,"name":"length"},"computed":false,"optional":false}},"operator":"&&","right":{"type":"BinaryExpression","start":4334,"end":4391,"left":{"type":"CallExpression","start":4334,"end":4363,"callee":{"type":"MemberExpression","start":4334,"end":4347,"object":{"type":"ThisExpression","start":4334,"end":4338},"property":{"type":"Identifier","start":4339,"end":4347,"name":"getLevel"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":4348,"end":4362,"object":{"type":"Identifier","start":4348,"end":4359,"name":"resultNodes"},"property":{"type":"Identifier","start":4360,"end":4361,"name":"i"},"computed":true,"optional":false}],"optional":false},"operator":">","right":{"type":"CallExpression","start":4366,"end":4391,"callee":{"type":"MemberExpression","start":4366,"end":4379,"object":{"type":"ThisExpression","start":4366,"end":4370},"property":{"type":"Identifier","start":4371,"end":4379,"name":"getLevel"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4380,"end":4390,"name":"parentNode"}],"optional":false}}},"update":{"type":"SequenceExpression","start":4393,"end":4405,"expressions":[{"type":"UpdateExpression","start":4393,"end":4396,"operator":"++","prefix":false,"argument":{"type":"Identifier","start":4393,"end":4394,"name":"i"}},{"type":"UpdateExpression","start":4398,"end":4405,"operator":"++","prefix":false,"argument":{"type":"Identifier","start":4398,"end":4403,"name":"count"}}]},"body":{"type":"BlockStatement","start":4407,"end":4410,"body":[]}},{"type":"VariableDeclaration","start":4419,"end":4473,"declarations":[{"type":"VariableDeclarator","start":4425,"end":4472,"id":{"type":"Identifier","start":4425,"end":4433,"name":"children"},"init":{"type":"CallExpression","start":4436,"end":4472,"callee":{"type":"MemberExpression","start":4436,"end":4454,"object":{"type":"Identifier","start":4436,"end":4447,"name":"resultNodes"},"property":{"type":"Identifier","start":4448,"end":4454,"name":"splice"},"computed":false,"optional":false},"arguments":[{"type":"BinaryExpression","start":4455,"end":4464,"left":{"type":"Identifier","start":4455,"end":4460,"name":"index"},"operator":"+","right":{"type":"Literal","start":4463,"end":4464,"value":1,"raw":"1"}},{"type":"Identifier","start":4466,"end":4471,"name":"count"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":4482,"end":4573,"expression":{"type":"CallExpression","start":4482,"end":4572,"callee":{"type":"MemberExpression","start":4482,"end":4537,"object":{"type":"CallExpression","start":4482,"end":4529,"callee":{"type":"MemberExpression","start":4482,"end":4497,"object":{"type":"Identifier","start":4482,"end":4490,"name":"children"},"property":{"type":"Identifier","start":4491,"end":4497,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4498,"end":4528,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4498,"end":4499,"name":"c"}],"body":{"type":"CallExpression","start":4503,"end":4528,"callee":{"type":"MemberExpression","start":4503,"end":4525,"object":{"type":"MemberExpression","start":4503,"end":4521,"object":{"type":"ThisExpression","start":4503,"end":4507},"property":{"type":"Identifier","start":4508,"end":4521,"name":"parentNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4522,"end":4525,"name":"has"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4526,"end":4527,"name":"c"}],"optional":false}}],"optional":false},"property":{"type":"Identifier","start":4530,"end":4537,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4538,"end":4571,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4538,"end":4539,"name":"c"}],"body":{"type":"CallExpression","start":4543,"end":4571,"callee":{"type":"MemberExpression","start":4543,"end":4568,"object":{"type":"MemberExpression","start":4543,"end":4561,"object":{"type":"ThisExpression","start":4543,"end":4547},"property":{"type":"Identifier","start":4548,"end":4561,"name":"parentNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4562,"end":4568,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4569,"end":4570,"name":"c"}],"optional":false}}],"optional":false}},{"type":"ReturnStatement","start":4582,"end":4601,"argument":{"type":"Identifier","start":4589,"end":4600,"name":"resultNodes"}}]}}},{"type":"MethodDefinition","start":4612,"end":5612,"static":false,"computed":false,"key":{"type":"Identifier","start":4612,"end":4631,"name":"addChildrenFlatNode"},"kind":"method","value":{"type":"FunctionExpression","start":4631,"end":5612,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4632,"end":4646,"name":"parentFlatNode"},{"type":"Identifier","start":4648,"end":4659,"name":"resultNodes"}],"body":{"type":"BlockStatement","start":4661,"end":5612,"body":[{"type":"VariableDeclaration","start":4671,"end":4737,"declarations":[{"type":"VariableDeclarator","start":4677,"end":4736,"id":{"type":"Identifier","start":4677,"end":4691,"name":"structuredNode"},"init":{"type":"CallExpression","start":4694,"end":4736,"callee":{"type":"MemberExpression","start":4694,"end":4720,"object":{"type":"MemberExpression","start":4694,"end":4716,"object":{"type":"ThisExpression","start":4694,"end":4698},"property":{"type":"Identifier","start":4699,"end":4716,"name":"structuredNodeMap"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4717,"end":4720,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4721,"end":4735,"name":"parentFlatNode"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":4746,"end":4811,"declarations":[{"type":"VariableDeclarator","start":4752,"end":4810,"id":{"type":"Identifier","start":4752,"end":4775,"name":"structuredChildrenNodes"},"init":{"type":"CallExpression","start":4778,"end":4810,"callee":{"type":"MemberExpression","start":4778,"end":4794,"object":{"type":"ThisExpression","start":4778,"end":4782},"property":{"type":"Identifier","start":4783,"end":4794,"name":"getChildren"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4795,"end":4809,"name":"structuredNode"}],"optional":false}}],"kind":"const"},{"type":"IfStatement","start":4820,"end":5574,"test":{"type":"Identifier","start":4824,"end":4847,"name":"structuredChildrenNodes"},"consequent":{"type":"BlockStatement","start":4849,"end":5574,"body":[{"type":"IfStatement","start":4863,"end":5564,"test":{"type":"CallExpression","start":4867,"end":4905,"callee":{"type":"MemberExpression","start":4867,"end":4880,"object":{"type":"Identifier","start":4867,"end":4872,"name":"Array"},"property":{"type":"Identifier","start":4873,"end":4880,"name":"isArray"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4881,"end":4904,"name":"structuredChildrenNodes"}],"optional":false},"consequent":{"type":"BlockStatement","start":4907,"end":5150,"body":[{"type":"VariableDeclaration","start":4925,"end":5036,"declarations":[{"type":"VariableDeclarator","start":4931,"end":5035,"id":{"type":"Identifier","start":4931,"end":4943,"name":"flatChildren"},"init":{"type":"CallExpression","start":4946,"end":5035,"callee":{"type":"MemberExpression","start":4946,"end":4973,"object":{"type":"Identifier","start":4946,"end":4969,"name":"structuredChildrenNodes"},"property":{"type":"Identifier","start":4970,"end":4973,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4974,"end":5034,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4974,"end":4975,"name":"s"}],"body":{"type":"CallExpression","start":4979,"end":5034,"callee":{"type":"MemberExpression","start":4979,"end":4996,"object":{"type":"ThisExpression","start":4979,"end":4983},"property":{"type":"Identifier","start":4984,"end":4996,"name":"_flattenNode"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4997,"end":4998,"name":"s"},{"type":"BinaryExpression","start":5000,"end":5033,"left":{"type":"CallExpression","start":5000,"end":5029,"callee":{"type":"MemberExpression","start":5000,"end":5013,"object":{"type":"ThisExpression","start":5000,"end":5004},"property":{"type":"Identifier","start":5005,"end":5013,"name":"getLevel"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5014,"end":5028,"name":"parentFlatNode"}],"optional":false},"operator":"+","right":{"type":"Literal","start":5032,"end":5033,"value":1,"raw":"1"}}],"optional":false}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":5053,"end":5136,"argument":{"type":"CallExpression","start":5060,"end":5135,"callee":{"type":"Identifier","start":5060,"end":5062,"name":"of"},"arguments":[{"type":"CallExpression","start":5063,"end":5134,"callee":{"type":"MemberExpression","start":5063,"end":5091,"object":{"type":"ThisExpression","start":5063,"end":5067},"property":{"type":"Identifier","start":5068,"end":5091,"name":"insertChildrenFlatNodes"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5092,"end":5106,"name":"parentFlatNode"},{"type":"Identifier","start":5108,"end":5120,"name":"flatChildren"},{"type":"Identifier","start":5122,"end":5133,"name":"resultNodes"}],"optional":false}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":5168,"end":5564,"body":[{"type":"ReturnStatement","start":5186,"end":5550,"argument":{"type":"CallExpression","start":5193,"end":5549,"callee":{"type":"MemberExpression","start":5193,"end":5221,"object":{"type":"Identifier","start":5193,"end":5216,"name":"structuredChildrenNodes"},"property":{"type":"Identifier","start":5217,"end":5221,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":5222,"end":5313,"callee":{"type":"Identifier","start":5222,"end":5225,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":5226,"end":5312,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5226,"end":5234,"name":"children"}],"body":{"type":"CallExpression","start":5238,"end":5312,"callee":{"type":"MemberExpression","start":5238,"end":5250,"object":{"type":"Identifier","start":5238,"end":5246,"name":"children"},"property":{"type":"Identifier","start":5247,"end":5250,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5251,"end":5311,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5251,"end":5252,"name":"s"}],"body":{"type":"CallExpression","start":5256,"end":5311,"callee":{"type":"MemberExpression","start":5256,"end":5273,"object":{"type":"ThisExpression","start":5256,"end":5260},"property":{"type":"Identifier","start":5261,"end":5273,"name":"_flattenNode"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5274,"end":5275,"name":"s"},{"type":"BinaryExpression","start":5277,"end":5310,"left":{"type":"CallExpression","start":5277,"end":5306,"callee":{"type":"MemberExpression","start":5277,"end":5290,"object":{"type":"ThisExpression","start":5277,"end":5281},"property":{"type":"Identifier","start":5282,"end":5290,"name":"getLevel"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5291,"end":5305,"name":"parentFlatNode"}],"optional":false},"operator":"+","right":{"type":"Literal","start":5309,"end":5310,"value":1,"raw":"1"}}],"optional":false}}],"optional":false}}],"optional":false},{"type":"CallExpression","start":5315,"end":5548,"callee":{"type":"Identifier","start":5315,"end":5318,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":5319,"end":5547,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5319,"end":5331,"name":"flatChildren"}],"body":{"type":"BlockStatement","start":5335,"end":5547,"body":[{"type":"ExpressionStatement","start":5357,"end":5429,"expression":{"type":"AssignmentExpression","start":5357,"end":5428,"operator":"=","left":{"type":"Identifier","start":5357,"end":5368,"name":"resultNodes"},"right":{"type":"CallExpression","start":5371,"end":5428,"callee":{"type":"MemberExpression","start":5371,"end":5399,"object":{"type":"ThisExpression","start":5371,"end":5375},"property":{"type":"Identifier","start":5376,"end":5399,"name":"removeChildrenFlatNodes"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5400,"end":5414,"name":"parentFlatNode"},{"type":"Identifier","start":5416,"end":5427,"name":"resultNodes"}],"optional":false}}},{"type":"ReturnStatement","start":5450,"end":5529,"argument":{"type":"CallExpression","start":5457,"end":5528,"callee":{"type":"MemberExpression","start":5457,"end":5485,"object":{"type":"ThisExpression","start":5457,"end":5461},"property":{"type":"Identifier","start":5462,"end":5485,"name":"insertChildrenFlatNodes"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5486,"end":5500,"name":"parentFlatNode"},{"type":"Identifier","start":5502,"end":5514,"name":"flatChildren"},{"type":"Identifier","start":5516,"end":5527,"name":"resultNodes"}],"optional":false}}]}}],"optional":false}],"optional":false}}]}}]},"alternate":null},{"type":"ReturnStatement","start":5583,"end":5606,"argument":{"type":"CallExpression","start":5590,"end":5605,"callee":{"type":"Identifier","start":5590,"end":5592,"name":"of"},"arguments":[{"type":"Identifier","start":5593,"end":5604,"name":"resultNodes"}],"optional":false}}]}}},{"type":"MethodDefinition","start":5617,"end":5724,"static":false,"computed":false,"key":{"type":"Identifier","start":5617,"end":5629,"name":"flattenNodes"},"kind":"method","value":{"type":"FunctionExpression","start":5629,"end":5724,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5630,"end":5644,"name":"structuredData"}],"body":{"type":"BlockStatement","start":5646,"end":5724,"body":[{"type":"ReturnStatement","start":5656,"end":5718,"argument":{"type":"CallExpression","start":5663,"end":5717,"callee":{"type":"MemberExpression","start":5663,"end":5681,"object":{"type":"Identifier","start":5663,"end":5677,"name":"structuredData"},"property":{"type":"Identifier","start":5678,"end":5681,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5682,"end":5716,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5682,"end":5686,"name":"node"}],"body":{"type":"CallExpression","start":5690,"end":5716,"callee":{"type":"MemberExpression","start":5690,"end":5707,"object":{"type":"ThisExpression","start":5690,"end":5694},"property":{"type":"Identifier","start":5695,"end":5707,"name":"_flattenNode"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5708,"end":5712,"name":"node"},{"type":"Literal","start":5714,"end":5715,"value":0,"raw":"0"}],"optional":false}}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":5727,"end":8563,"declaration":{"type":"ClassDeclaration","start":5734,"end":8563,"id":{"type":"Identifier","start":5740,"end":5765,"name":"DynamicFlatTreeDataSource"},"superClass":null,"body":{"type":"ClassBody","start":5766,"end":8563,"body":[{"type":"MethodDefinition","start":5772,"end":6137,"static":false,"computed":false,"key":{"type":"Identifier","start":5772,"end":5783,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":5783,"end":6137,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5784,"end":5796,"name":"_treeControl"},{"type":"Identifier","start":5798,"end":5812,"name":"_treeFlattener"},{"type":"Identifier","start":5814,"end":5825,"name":"initialData"}],"body":{"type":"BlockStatement","start":5827,"end":6137,"body":[{"type":"ExpressionStatement","start":5837,"end":5870,"expression":{"type":"AssignmentExpression","start":5837,"end":5869,"operator":"=","left":{"type":"MemberExpression","start":5837,"end":5854,"object":{"type":"ThisExpression","start":5837,"end":5841},"property":{"type":"Identifier","start":5842,"end":5854,"name":"_treeControl"},"computed":false,"optional":false},"right":{"type":"Identifier","start":5857,"end":5869,"name":"_treeControl"}}},{"type":"ExpressionStatement","start":5879,"end":5916,"expression":{"type":"AssignmentExpression","start":5879,"end":5915,"operator":"=","left":{"type":"MemberExpression","start":5879,"end":5898,"object":{"type":"ThisExpression","start":5879,"end":5883},"property":{"type":"Identifier","start":5884,"end":5898,"name":"_treeFlattener"},"computed":false,"optional":false},"right":{"type":"Identifier","start":5901,"end":5915,"name":"_treeFlattener"}}},{"type":"ExpressionStatement","start":5925,"end":5971,"expression":{"type":"AssignmentExpression","start":5925,"end":5970,"operator":"=","left":{"type":"MemberExpression","start":5925,"end":5944,"object":{"type":"ThisExpression","start":5925,"end":5929},"property":{"type":"Identifier","start":5930,"end":5944,"name":"_flattenedData"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":5947,"end":5970,"callee":{"type":"Identifier","start":5951,"end":5966,"name":"BehaviorSubject"},"arguments":[{"type":"ArrayExpression","start":5967,"end":5969,"elements":[]}]}}},{"type":"ExpressionStatement","start":5980,"end":6017,"expression":{"type":"AssignmentExpression","start":5980,"end":6016,"operator":"=","left":{"type":"MemberExpression","start":5980,"end":5990,"object":{"type":"ThisExpression","start":5980,"end":5984},"property":{"type":"Identifier","start":5985,"end":5990,"name":"_data"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":5993,"end":6016,"callee":{"type":"Identifier","start":5997,"end":6012,"name":"BehaviorSubject"},"arguments":[{"type":"ArrayExpression","start":6013,"end":6015,"elements":[]}]}}},{"type":"ExpressionStatement","start":6026,"end":6057,"expression":{"type":"AssignmentExpression","start":6026,"end":6056,"operator":"=","left":{"type":"MemberExpression","start":6026,"end":6035,"object":{"type":"ThisExpression","start":6026,"end":6030},"property":{"type":"Identifier","start":6031,"end":6035,"name":"subs"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":6038,"end":6056,"callee":{"type":"Identifier","start":6042,"end":6054,"name":"Subscription"},"arguments":[]}}},{"type":"IfStatement","start":6066,"end":6131,"test":{"type":"Identifier","start":6070,"end":6081,"name":"initialData"},"consequent":{"type":"BlockStatement","start":6083,"end":6131,"body":[{"type":"ExpressionStatement","start":6097,"end":6121,"expression":{"type":"AssignmentExpression","start":6097,"end":6120,"operator":"=","left":{"type":"MemberExpression","start":6097,"end":6106,"object":{"type":"ThisExpression","start":6097,"end":6101},"property":{"type":"Identifier","start":6102,"end":6106,"name":"data"},"computed":false,"optional":false},"right":{"type":"Identifier","start":6109,"end":6120,"name":"initialData"}}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":6142,"end":6181,"static":false,"computed":false,"key":{"type":"Identifier","start":6146,"end":6150,"name":"data"},"kind":"get","value":{"type":"FunctionExpression","start":6150,"end":6181,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":6153,"end":6181,"body":[{"type":"ReturnStatement","start":6155,"end":6179,"argument":{"type":"MemberExpression","start":6162,"end":6178,"object":{"type":"MemberExpression","start":6162,"end":6172,"object":{"type":"ThisExpression","start":6162,"end":6166},"property":{"type":"Identifier","start":6167,"end":6172,"name":"_data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6173,"end":6178,"name":"value"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":6186,"end":6463,"static":false,"computed":false,"key":{"type":"Identifier","start":6190,"end":6194,"name":"data"},"kind":"set","value":{"type":"FunctionExpression","start":6194,"end":6463,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6195,"end":6200,"name":"value"}],"body":{"type":"BlockStatement","start":6202,"end":6463,"body":[{"type":"ExpressionStatement","start":6212,"end":6235,"expression":{"type":"CallExpression","start":6212,"end":6234,"callee":{"type":"MemberExpression","start":6212,"end":6227,"object":{"type":"MemberExpression","start":6212,"end":6222,"object":{"type":"ThisExpression","start":6212,"end":6216},"property":{"type":"Identifier","start":6217,"end":6222,"name":"_data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6223,"end":6227,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6228,"end":6233,"name":"value"}],"optional":false}},{"type":"VariableDeclaration","start":6244,"end":6310,"declarations":[{"type":"VariableDeclarator","start":6250,"end":6309,"id":{"type":"Identifier","start":6250,"end":6263,"name":"flattenedData"},"init":{"type":"CallExpression","start":6266,"end":6309,"callee":{"type":"MemberExpression","start":6266,"end":6298,"object":{"type":"MemberExpression","start":6266,"end":6285,"object":{"type":"ThisExpression","start":6266,"end":6270},"property":{"type":"Identifier","start":6271,"end":6285,"name":"_treeFlattener"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6286,"end":6298,"name":"flattenNodes"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":6299,"end":6308,"object":{"type":"ThisExpression","start":6299,"end":6303},"property":{"type":"Identifier","start":6304,"end":6308,"name":"data"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":6319,"end":6360,"expression":{"type":"CallExpression","start":6319,"end":6359,"callee":{"type":"MemberExpression","start":6319,"end":6357,"object":{"type":"MemberExpression","start":6319,"end":6351,"object":{"type":"MemberExpression","start":6319,"end":6336,"object":{"type":"ThisExpression","start":6319,"end":6323},"property":{"type":"Identifier","start":6324,"end":6336,"name":"_treeControl"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6337,"end":6351,"name":"expansionModel"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6352,"end":6357,"name":"clear"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":6369,"end":6413,"expression":{"type":"AssignmentExpression","start":6369,"end":6412,"operator":"=","left":{"type":"MemberExpression","start":6369,"end":6396,"object":{"type":"MemberExpression","start":6369,"end":6386,"object":{"type":"ThisExpression","start":6369,"end":6373},"property":{"type":"Identifier","start":6374,"end":6386,"name":"_treeControl"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6387,"end":6396,"name":"dataNodes"},"computed":false,"optional":false},"right":{"type":"Identifier","start":6399,"end":6412,"name":"flattenedData"}}},{"type":"ExpressionStatement","start":6422,"end":6457,"expression":{"type":"AssignmentExpression","start":6422,"end":6456,"operator":"=","left":{"type":"MemberExpression","start":6422,"end":6440,"object":{"type":"ThisExpression","start":6422,"end":6426},"property":{"type":"Identifier","start":6427,"end":6440,"name":"flattenedData"},"computed":false,"optional":false},"right":{"type":"Identifier","start":6443,"end":6456,"name":"flattenedData"}}}]}}},{"type":"MethodDefinition","start":6468,"end":6881,"static":false,"computed":false,"key":{"type":"Identifier","start":6468,"end":6477,"name":"mergeData"},"kind":"method","value":{"type":"FunctionExpression","start":6477,"end":6881,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6478,"end":6483,"name":"value"}],"body":{"type":"BlockStatement","start":6485,"end":6881,"body":[{"type":"ExpressionStatement","start":6495,"end":6518,"expression":{"type":"CallExpression","start":6495,"end":6517,"callee":{"type":"MemberExpression","start":6495,"end":6510,"object":{"type":"MemberExpression","start":6495,"end":6505,"object":{"type":"ThisExpression","start":6495,"end":6499},"property":{"type":"Identifier","start":6500,"end":6505,"name":"_data"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6506,"end":6510,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6511,"end":6516,"name":"value"}],"optional":false}},{"type":"VariableDeclaration","start":6527,"end":6593,"declarations":[{"type":"VariableDeclarator","start":6533,"end":6592,"id":{"type":"Identifier","start":6533,"end":6546,"name":"flattenedData"},"init":{"type":"CallExpression","start":6549,"end":6592,"callee":{"type":"MemberExpression","start":6549,"end":6581,"object":{"type":"MemberExpression","start":6549,"end":6568,"object":{"type":"ThisExpression","start":6549,"end":6553},"property":{"type":"Identifier","start":6554,"end":6568,"name":"_treeFlattener"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6569,"end":6581,"name":"flattenNodes"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":6582,"end":6591,"object":{"type":"ThisExpression","start":6582,"end":6586},"property":{"type":"Identifier","start":6587,"end":6591,"name":"data"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":6602,"end":6622,"declarations":[{"type":"VariableDeclarator","start":6608,"end":6621,"id":{"type":"Identifier","start":6608,"end":6616,"name":"mergeObj"},"init":{"type":"ObjectExpression","start":6619,"end":6621,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":6631,"end":6705,"expression":{"type":"CallExpression","start":6631,"end":6704,"callee":{"type":"MemberExpression","start":6631,"end":6679,"object":{"type":"CallExpression","start":6631,"end":6671,"callee":{"type":"MemberExpression","start":6631,"end":6656,"object":{"type":"MemberExpression","start":6631,"end":6649,"object":{"type":"ThisExpression","start":6631,"end":6635},"property":{"type":"Identifier","start":6636,"end":6649,"name":"flattenedData"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6650,"end":6656,"name":"concat"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6657,"end":6670,"name":"flattenedData"}],"optional":false},"property":{"type":"Identifier","start":6672,"end":6679,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6680,"end":6703,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":6680,"end":6681,"name":"f"}],"body":{"type":"AssignmentExpression","start":6685,"end":6703,"operator":"=","left":{"type":"MemberExpression","start":6685,"end":6699,"object":{"type":"Identifier","start":6685,"end":6693,"name":"mergeObj"},"property":{"type":"MemberExpression","start":6694,"end":6698,"object":{"type":"Identifier","start":6694,"end":6695,"name":"f"},"property":{"type":"Identifier","start":6696,"end":6698,"name":"id"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"Identifier","start":6702,"end":6703,"name":"f"}}}],"optional":false}},{"type":"VariableDeclaration","start":6714,"end":6766,"declarations":[{"type":"VariableDeclarator","start":6720,"end":6765,"id":{"type":"Identifier","start":6720,"end":6739,"name":"mergedFlattenedData"},"init":{"type":"CallExpression","start":6742,"end":6765,"callee":{"type":"MemberExpression","start":6742,"end":6755,"object":{"type":"Identifier","start":6742,"end":6748,"name":"Object"},"property":{"type":"Identifier","start":6749,"end":6755,"name":"values"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6756,"end":6764,"name":"mergeObj"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":6775,"end":6825,"expression":{"type":"AssignmentExpression","start":6775,"end":6824,"operator":"=","left":{"type":"MemberExpression","start":6775,"end":6802,"object":{"type":"MemberExpression","start":6775,"end":6792,"object":{"type":"ThisExpression","start":6775,"end":6779},"property":{"type":"Identifier","start":6780,"end":6792,"name":"_treeControl"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6793,"end":6802,"name":"dataNodes"},"computed":false,"optional":false},"right":{"type":"Identifier","start":6805,"end":6824,"name":"mergedFlattenedData"}}},{"type":"ExpressionStatement","start":6834,"end":6875,"expression":{"type":"AssignmentExpression","start":6834,"end":6874,"operator":"=","left":{"type":"MemberExpression","start":6834,"end":6852,"object":{"type":"ThisExpression","start":6834,"end":6838},"property":{"type":"Identifier","start":6839,"end":6852,"name":"flattenedData"},"computed":false,"optional":false},"right":{"type":"Identifier","start":6855,"end":6874,"name":"mergedFlattenedData"}}}]}}},{"type":"MethodDefinition","start":6886,"end":6943,"static":false,"computed":false,"key":{"type":"Identifier","start":6890,"end":6903,"name":"flattenedData"},"kind":"get","value":{"type":"FunctionExpression","start":6903,"end":6943,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":6906,"end":6943,"body":[{"type":"ReturnStatement","start":6908,"end":6941,"argument":{"type":"MemberExpression","start":6915,"end":6940,"object":{"type":"MemberExpression","start":6915,"end":6934,"object":{"type":"ThisExpression","start":6915,"end":6919},"property":{"type":"Identifier","start":6920,"end":6934,"name":"_flattenedData"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6935,"end":6940,"name":"value"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":6948,"end":7001,"static":false,"computed":false,"key":{"type":"Identifier","start":6952,"end":6965,"name":"flattenedData"},"kind":"set","value":{"type":"FunctionExpression","start":6965,"end":7001,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6966,"end":6967,"name":"v"}],"body":{"type":"BlockStatement","start":6969,"end":7001,"body":[{"type":"ExpressionStatement","start":6971,"end":6999,"expression":{"type":"CallExpression","start":6971,"end":6998,"callee":{"type":"MemberExpression","start":6971,"end":6995,"object":{"type":"MemberExpression","start":6971,"end":6990,"object":{"type":"ThisExpression","start":6971,"end":6975},"property":{"type":"Identifier","start":6976,"end":6990,"name":"_flattenedData"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6991,"end":6995,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6996,"end":6997,"name":"v"}],"optional":false}}]}}},{"type":"MethodDefinition","start":7006,"end":7422,"static":false,"computed":false,"key":{"type":"Identifier","start":7006,"end":7016,"name":"toggleNode"},"kind":"method","value":{"type":"FunctionExpression","start":7016,"end":7422,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7017,"end":7025,"name":"flatNode"},{"type":"Identifier","start":7027,"end":7033,"name":"expand"}],"body":{"type":"BlockStatement","start":7035,"end":7422,"body":[{"type":"IfStatement","start":7045,"end":7416,"test":{"type":"Identifier","start":7049,"end":7055,"name":"expand"},"consequent":{"type":"BlockStatement","start":7057,"end":7293,"body":[{"type":"IfStatement","start":7071,"end":7228,"test":{"type":"CallExpression","start":7075,"end":7117,"callee":{"type":"MemberExpression","start":7075,"end":7107,"object":{"type":"MemberExpression","start":7075,"end":7094,"object":{"type":"ThisExpression","start":7075,"end":7079},"property":{"type":"Identifier","start":7080,"end":7094,"name":"_treeFlattener"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7095,"end":7107,"name":"isExpandable"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7108,"end":7116,"name":"flatNode"}],"optional":false},"consequent":{"type":"BlockStatement","start":7119,"end":7228,"body":[{"type":"ReturnStatement","start":7137,"end":7214,"argument":{"type":"CallExpression","start":7144,"end":7213,"callee":{"type":"MemberExpression","start":7144,"end":7183,"object":{"type":"MemberExpression","start":7144,"end":7163,"object":{"type":"ThisExpression","start":7144,"end":7148},"property":{"type":"Identifier","start":7149,"end":7163,"name":"_treeFlattener"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7164,"end":7183,"name":"addChildrenFlatNode"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7184,"end":7192,"name":"flatNode"},{"type":"MemberExpression","start":7194,"end":7212,"object":{"type":"ThisExpression","start":7194,"end":7198},"property":{"type":"Identifier","start":7199,"end":7212,"name":"flattenedData"},"computed":false,"optional":false}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":7241,"end":7283,"argument":{"type":"CallExpression","start":7248,"end":7282,"callee":{"type":"MemberExpression","start":7248,"end":7280,"object":{"type":"MemberExpression","start":7248,"end":7267,"object":{"type":"ThisExpression","start":7248,"end":7252},"property":{"type":"Identifier","start":7253,"end":7267,"name":"_flattenedData"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7268,"end":7280,"name":"asObservable"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":{"type":"BlockStatement","start":7307,"end":7416,"body":[{"type":"ReturnStatement","start":7321,"end":7406,"argument":{"type":"CallExpression","start":7328,"end":7405,"callee":{"type":"Identifier","start":7328,"end":7330,"name":"of"},"arguments":[{"type":"CallExpression","start":7331,"end":7404,"callee":{"type":"MemberExpression","start":7331,"end":7374,"object":{"type":"MemberExpression","start":7331,"end":7350,"object":{"type":"ThisExpression","start":7331,"end":7335},"property":{"type":"Identifier","start":7336,"end":7350,"name":"_treeFlattener"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7351,"end":7374,"name":"removeChildrenFlatNodes"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7375,"end":7383,"name":"flatNode"},{"type":"MemberExpression","start":7385,"end":7403,"object":{"type":"ThisExpression","start":7385,"end":7389},"property":{"type":"Identifier","start":7390,"end":7403,"name":"flattenedData"},"computed":false,"optional":false}],"optional":false}],"optional":false}}]}}]}}},{"type":"MethodDefinition","start":7427,"end":7937,"static":false,"computed":false,"key":{"type":"Identifier","start":7427,"end":7444,"name":"handleTreeControl"},"kind":"method","value":{"type":"FunctionExpression","start":7444,"end":7937,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7445,"end":7451,"name":"change"}],"body":{"type":"BlockStatement","start":7453,"end":7937,"body":[{"type":"IfStatement","start":7463,"end":7681,"test":{"type":"MemberExpression","start":7467,"end":7479,"object":{"type":"Identifier","start":7467,"end":7473,"name":"change"},"property":{"type":"Identifier","start":7474,"end":7479,"name":"added"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":7481,"end":7681,"body":[{"type":"VariableDeclaration","start":7495,"end":7566,"declarations":[{"type":"VariableDeclarator","start":7501,"end":7565,"id":{"type":"Identifier","start":7501,"end":7509,"name":"obsArray"},"init":{"type":"CallExpression","start":7512,"end":7565,"callee":{"type":"MemberExpression","start":7512,"end":7528,"object":{"type":"MemberExpression","start":7512,"end":7524,"object":{"type":"Identifier","start":7512,"end":7518,"name":"change"},"property":{"type":"Identifier","start":7519,"end":7524,"name":"added"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7525,"end":7528,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7529,"end":7564,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7529,"end":7533,"name":"node"}],"body":{"type":"CallExpression","start":7537,"end":7564,"callee":{"type":"MemberExpression","start":7537,"end":7552,"object":{"type":"ThisExpression","start":7537,"end":7541},"property":{"type":"Identifier","start":7542,"end":7552,"name":"toggleNode"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7553,"end":7557,"name":"node"},{"type":"Literal","start":7559,"end":7563,"value":true,"raw":"true"}],"optional":false}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":7579,"end":7671,"argument":{"type":"CallExpression","start":7586,"end":7670,"callee":{"type":"MemberExpression","start":7586,"end":7614,"object":{"type":"CallExpression","start":7586,"end":7609,"callee":{"type":"Identifier","start":7586,"end":7599,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":7600,"end":7608,"name":"obsArray"}],"optional":false},"property":{"type":"Identifier","start":7610,"end":7614,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":7615,"end":7669,"callee":{"type":"Identifier","start":7615,"end":7618,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":7619,"end":7668,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7620,"end":7621,"name":"o"}],"body":{"type":"ConditionalExpression","start":7626,"end":7668,"test":{"type":"BinaryExpression","start":7626,"end":7638,"left":{"type":"MemberExpression","start":7626,"end":7634,"object":{"type":"Identifier","start":7626,"end":7627,"name":"o"},"property":{"type":"Identifier","start":7628,"end":7634,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":7637,"end":7638,"value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","start":7641,"end":7663,"object":{"type":"Identifier","start":7641,"end":7642,"name":"o"},"property":{"type":"BinaryExpression","start":7643,"end":7662,"left":{"type":"MemberExpression","start":7643,"end":7658,"object":{"type":"Identifier","start":7643,"end":7651,"name":"obsArray"},"property":{"type":"Identifier","start":7652,"end":7658,"name":"length"},"computed":false,"optional":false},"operator":"-","right":{"type":"Literal","start":7661,"end":7662,"value":1,"raw":"1"}},"computed":true,"optional":false},"alternate":{"type":"ArrayExpression","start":7666,"end":7668,"elements":[]}}}],"optional":false}],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":7690,"end":7931,"test":{"type":"MemberExpression","start":7694,"end":7708,"object":{"type":"Identifier","start":7694,"end":7700,"name":"change"},"property":{"type":"Identifier","start":7701,"end":7708,"name":"removed"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":7710,"end":7931,"body":[{"type":"VariableDeclaration","start":7724,"end":7816,"declarations":[{"type":"VariableDeclarator","start":7730,"end":7815,"id":{"type":"Identifier","start":7730,"end":7738,"name":"obsArray"},"init":{"type":"CallExpression","start":7741,"end":7815,"callee":{"type":"MemberExpression","start":7741,"end":7777,"object":{"type":"CallExpression","start":7741,"end":7773,"callee":{"type":"MemberExpression","start":7741,"end":7771,"object":{"type":"CallExpression","start":7741,"end":7763,"callee":{"type":"MemberExpression","start":7741,"end":7761,"object":{"type":"MemberExpression","start":7741,"end":7755,"object":{"type":"Identifier","start":7741,"end":7747,"name":"change"},"property":{"type":"Identifier","start":7748,"end":7755,"name":"removed"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7756,"end":7761,"name":"slice"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":7764,"end":7771,"name":"reverse"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":7774,"end":7777,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7778,"end":7814,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7778,"end":7782,"name":"node"}],"body":{"type":"CallExpression","start":7786,"end":7814,"callee":{"type":"MemberExpression","start":7786,"end":7801,"object":{"type":"ThisExpression","start":7786,"end":7790},"property":{"type":"Identifier","start":7791,"end":7801,"name":"toggleNode"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7802,"end":7806,"name":"node"},{"type":"Literal","start":7808,"end":7813,"value":false,"raw":"false"}],"optional":false}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":7829,"end":7921,"argument":{"type":"CallExpression","start":7836,"end":7920,"callee":{"type":"MemberExpression","start":7836,"end":7864,"object":{"type":"CallExpression","start":7836,"end":7859,"callee":{"type":"Identifier","start":7836,"end":7849,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":7850,"end":7858,"name":"obsArray"}],"optional":false},"property":{"type":"Identifier","start":7860,"end":7864,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":7865,"end":7919,"callee":{"type":"Identifier","start":7865,"end":7868,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":7869,"end":7918,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7870,"end":7871,"name":"o"}],"body":{"type":"ConditionalExpression","start":7876,"end":7918,"test":{"type":"BinaryExpression","start":7876,"end":7888,"left":{"type":"MemberExpression","start":7876,"end":7884,"object":{"type":"Identifier","start":7876,"end":7877,"name":"o"},"property":{"type":"Identifier","start":7878,"end":7884,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":7887,"end":7888,"value":0,"raw":"0"}},"consequent":{"type":"MemberExpression","start":7891,"end":7913,"object":{"type":"Identifier","start":7891,"end":7892,"name":"o"},"property":{"type":"BinaryExpression","start":7893,"end":7912,"left":{"type":"MemberExpression","start":7893,"end":7908,"object":{"type":"Identifier","start":7893,"end":7901,"name":"obsArray"},"property":{"type":"Identifier","start":7902,"end":7908,"name":"length"},"computed":false,"optional":false},"operator":"-","right":{"type":"Literal","start":7911,"end":7912,"value":1,"raw":"1"}},"computed":true,"optional":false},"alternate":{"type":"ArrayExpression","start":7916,"end":7918,"elements":[]}}}],"optional":false}],"optional":false}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":7942,"end":8487,"static":false,"computed":false,"key":{"type":"Identifier","start":7942,"end":7949,"name":"connect"},"kind":"method","value":{"type":"FunctionExpression","start":7949,"end":8487,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7950,"end":7966,"name":"collectionViewer"}],"body":{"type":"BlockStatement","start":7968,"end":8487,"body":[{"type":"VariableDeclaration","start":7978,"end":8186,"declarations":[{"type":"VariableDeclarator","start":7984,"end":8185,"id":{"type":"Identifier","start":7984,"end":7993,"name":"changeObs"},"init":{"type":"CallExpression","start":7996,"end":8185,"callee":{"type":"MemberExpression","start":7996,"end":8041,"object":{"type":"MemberExpression","start":7996,"end":8036,"object":{"type":"MemberExpression","start":7996,"end":8028,"object":{"type":"MemberExpression","start":7996,"end":8013,"object":{"type":"ThisExpression","start":7996,"end":8000},"property":{"type":"Identifier","start":8001,"end":8013,"name":"_treeControl"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8014,"end":8028,"name":"expansionModel"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8029,"end":8036,"name":"changed"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8037,"end":8041,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8042,"end":8110,"callee":{"type":"Identifier","start":8042,"end":8048,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":8049,"end":8109,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8049,"end":8055,"name":"change"}],"body":{"type":"LogicalExpression","start":8059,"end":8109,"left":{"type":"UnaryExpression","start":8059,"end":8081,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":8060,"end":8081,"operator":"!","prefix":true,"argument":{"type":"ChainExpression","start":8061,"end":8081,"expression":{"type":"MemberExpression","start":8061,"end":8081,"object":{"type":"MemberExpression","start":8061,"end":8073,"object":{"type":"Identifier","start":8061,"end":8067,"name":"change"},"property":{"type":"Identifier","start":8068,"end":8073,"name":"added"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8075,"end":8081,"name":"length"},"computed":false,"optional":true}}}},"operator":"||","right":{"type":"UnaryExpression","start":8085,"end":8109,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":8086,"end":8109,"operator":"!","prefix":true,"argument":{"type":"ChainExpression","start":8087,"end":8109,"expression":{"type":"MemberExpression","start":8087,"end":8109,"object":{"type":"MemberExpression","start":8087,"end":8101,"object":{"type":"Identifier","start":8087,"end":8093,"name":"change"},"property":{"type":"Identifier","start":8094,"end":8101,"name":"removed"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8103,"end":8109,"name":"length"},"computed":false,"optional":true}}}}}}],"optional":false},{"type":"CallExpression","start":8112,"end":8162,"callee":{"type":"Identifier","start":8112,"end":8120,"name":"mergeMap"},"arguments":[{"type":"ArrowFunctionExpression","start":8121,"end":8161,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8121,"end":8127,"name":"change"}],"body":{"type":"CallExpression","start":8131,"end":8161,"callee":{"type":"MemberExpression","start":8131,"end":8153,"object":{"type":"ThisExpression","start":8131,"end":8135},"property":{"type":"Identifier","start":8136,"end":8153,"name":"handleTreeControl"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8154,"end":8160,"name":"change"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":8164,"end":8184,"callee":{"type":"Identifier","start":8164,"end":8173,"name":"auditTime"},"arguments":[{"type":"BinaryExpression","start":8174,"end":8183,"left":{"type":"Literal","start":8174,"end":8178,"value":1000,"raw":"1000"},"operator":"/","right":{"type":"Literal","start":8181,"end":8183,"value":60,"raw":"60"}}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":8195,"end":8329,"declarations":[{"type":"VariableDeclarator","start":8201,"end":8328,"id":{"type":"Identifier","start":8201,"end":8205,"name":"subs"},"init":{"type":"CallExpression","start":8208,"end":8328,"callee":{"type":"MemberExpression","start":8208,"end":8227,"object":{"type":"Identifier","start":8208,"end":8217,"name":"changeObs"},"property":{"type":"Identifier","start":8218,"end":8227,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8228,"end":8327,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8229,"end":8230,"name":"v"}],"body":{"type":"BlockStatement","start":8235,"end":8327,"body":[{"type":"ExpressionStatement","start":8249,"end":8281,"expression":{"type":"AssignmentExpression","start":8249,"end":8280,"operator":"=","left":{"type":"MemberExpression","start":8249,"end":8276,"object":{"type":"MemberExpression","start":8249,"end":8266,"object":{"type":"ThisExpression","start":8249,"end":8253},"property":{"type":"Identifier","start":8254,"end":8266,"name":"_treeControl"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8267,"end":8276,"name":"dataNodes"},"computed":false,"optional":false},"right":{"type":"Identifier","start":8279,"end":8280,"name":"v"}}},{"type":"ExpressionStatement","start":8294,"end":8317,"expression":{"type":"AssignmentExpression","start":8294,"end":8316,"operator":"=","left":{"type":"MemberExpression","start":8294,"end":8312,"object":{"type":"ThisExpression","start":8294,"end":8298},"property":{"type":"Identifier","start":8299,"end":8312,"name":"flattenedData"},"computed":false,"optional":false},"right":{"type":"Identifier","start":8315,"end":8316,"name":"v"}}}]}}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":8338,"end":8358,"expression":{"type":"CallExpression","start":8338,"end":8357,"callee":{"type":"MemberExpression","start":8338,"end":8351,"object":{"type":"MemberExpression","start":8338,"end":8347,"object":{"type":"ThisExpression","start":8338,"end":8342},"property":{"type":"Identifier","start":8343,"end":8347,"name":"subs"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8348,"end":8351,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8352,"end":8356,"name":"subs"}],"optional":false}},{"type":"ReturnStatement","start":8367,"end":8481,"argument":{"type":"CallExpression","start":8374,"end":8480,"callee":{"type":"MemberExpression","start":8374,"end":8449,"object":{"type":"CallExpression","start":8374,"end":8444,"callee":{"type":"Identifier","start":8374,"end":8379,"name":"merge"},"arguments":[{"type":"MemberExpression","start":8380,"end":8407,"object":{"type":"Identifier","start":8380,"end":8396,"name":"collectionViewer"},"property":{"type":"Identifier","start":8397,"end":8407,"name":"viewChange"},"computed":false,"optional":false},{"type":"CallExpression","start":8409,"end":8443,"callee":{"type":"MemberExpression","start":8409,"end":8441,"object":{"type":"MemberExpression","start":8409,"end":8428,"object":{"type":"ThisExpression","start":8409,"end":8413},"property":{"type":"Identifier","start":8414,"end":8428,"name":"_flattenedData"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8429,"end":8441,"name":"asObservable"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false},"property":{"type":"Identifier","start":8445,"end":8449,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8450,"end":8479,"callee":{"type":"Identifier","start":8450,"end":8453,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":8454,"end":8478,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"MemberExpression","start":8460,"end":8478,"object":{"type":"ThisExpression","start":8460,"end":8464},"property":{"type":"Identifier","start":8465,"end":8478,"name":"flattenedData"},"computed":false,"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":8492,"end":8561,"static":false,"computed":false,"key":{"type":"Identifier","start":8492,"end":8502,"name":"disconnect"},"kind":"method","value":{"type":"FunctionExpression","start":8502,"end":8561,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8503,"end":8519,"name":"collectionViewer"}],"body":{"type":"BlockStatement","start":8521,"end":8561,"body":[{"type":"ExpressionStatement","start":8531,"end":8555,"expression":{"type":"CallExpression","start":8531,"end":8554,"callee":{"type":"MemberExpression","start":8531,"end":8552,"object":{"type":"MemberExpression","start":8531,"end":8540,"object":{"type":"ThisExpression","start":8531,"end":8535},"property":{"type":"Identifier","start":8536,"end":8540,"name":"subs"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8541,"end":8552,"name":"unsubscribe"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy90cmVlLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBYyxFQUFFLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzNGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBSzFGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQXlCMUMsTUFBTSxPQUFPLFlBQVk7SUFxQnJCLFlBQW9CLFFBQTRCO1FBQTVCLGFBQVEsR0FBUixRQUFRLENBQW9CO1FBRTVDLElBQUksQ0FBQyxXQUFXLEdBQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLFlBQVksR0FBSyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBRWhDLElBQUksQ0FBQyxXQUFXLEdBQUksSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO1FBQzNDLElBQUksQ0FBQyxXQUFXLEdBQUksSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFOUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FFbEQsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxD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QyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUVuQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7WUFFaEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVwQixPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDdEgsQ0FBQztJQUVELFVBQVUsQ0FBQyxnQkFBa0M7UUFFekMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM1QixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBtZXJnZSwgT2JzZXJ2YWJsZSwgb2YsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBmaWx0ZXIsIG1hcCwgbWVyZ2VNYXAsIHNoYXJlUmVwbGF5LCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBEYXRhdHlwZSwgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBEYXRhYmFzZSwgUmVhY3RpdmVEYXRhYmFzZSwgVGFibGVEYXRhVHlwZSB9IGZyb20gJy4vdGFibGUucmVzb3VyY2UnO1xuaW1wb3J0IHtDb2xsZWN0aW9uVmlld2VyLCBTZWxlY3Rpb25DaGFuZ2UsIERhdGFTb3VyY2V9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2xsZWN0aW9ucyc7XG5pbXBvcnQge0ZsYXRUcmVlQ29udHJvbH0gZnJvbSAnQGFuZ3VsYXIvY2RrL3RyZWUnO1xuaW1wb3J0IHsgQ3VzdG9tSHR0cFBhcmFtcyB9IGZyb20gJy4vY3VzdG9tUGFyYW1zLnJlc291cmNlJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuL21pc2MucmVzb3VyY2UnO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbnRlcmZhY2VzXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCB0eXBlIFRyZWVOb2RlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiA9IHtpdGVtOiBQd2FEb2N1bWVudDxUPiwgY2hpbGRyZW46IE9ic2VydmFibGU8VHJlZU5vZGU8YW55PltdPn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YWJhc2VJbmZvcm1hdGlvbjxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIGdldERhdGFiYXNlOiAobGltaXQ/OiBudW1iZXIpID0+IERhdGFiYXNlPFQ+IHwgUmVhY3RpdmVEYXRhYmFzZTxUPjtcbiAgICBvbkNyZWF0aW9uU2V0dXA/OiAocGFyZW50RG9jOiBQd2FEb2N1bWVudDxUPiB8IG51bGwsIGRiOiBEYXRhYmFzZTxUPiB8IFJlYWN0aXZlRGF0YWJhc2U8VD4sIHBhcmFtczogSHR0cFBhcmFtcykgPT4gdm9pZDtcbiAgICBpc1JlY3Vyc2l2ZTogYm9vbGVhbjtcbiAgICBjaGlsZHJlbjogVHJlZUluZm9ybWF0aW9uPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyZWVJbmZvcm1hdGlvbjxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIFtrZXk6IHN0cmluZ106IERhdGFiYXNlSW5mb3JtYXRpb248VD47XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVHJlZXNcbi8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5leHBvcnQgY2xhc3MgVHJlZURhdGFiYXNlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiB7XG5cbiAgICBjaGlsZFRyZWVNYXA6IE1hcDxQd2FEb2N1bWVudDxhbnk+LCBUcmVlTm9kZTxhbnk+PjtcbiAgICBkYXRhYmFzZU1hcDogTWFwPFB3YURvY3VtZW50PGFueT4sIERhdGFiYXNlPGFueT4gfCBSZWFjdGl2ZURhdGFiYXNlPGFueT4+O1xuXG4gICAgZGF0YWJhc2VLZXlNYXA6IE1hcDxzdHJpbmcsIERhdGFiYXNlPGFueT4gfCBSZWFjdGl2ZURhdGFiYXNlPGFueT4+O1xuXG4gICAgZGF0YUNoYW5nZTogT2JzZXJ2YWJsZTxUcmVlTm9kZTxUPltdPjtcblxuICAgIHByaXZhdGUgcXVldWVDaGFuZ2U6IEJlaGF2aW9yU3ViamVjdDxhbnk+O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogdmFyaWFibGUtbmFtZVxuICAgIHByaXZhdGUgX2h0dHBQYXJhbXM6IEh0dHBQYXJhbXM7XG5cbiAgICBnZXQgaHR0cFBhcmFtcygpIHsgcmV0dXJuIHRoaXMuX2h0dHBQYXJhbXM7IH1cbiAgICBzZXQgaHR0cFBhcmFtcyh2OiBIdHRwUGFyYW1zKSB7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHY7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJlZUluZm86IFRyZWVJbmZvcm1hdGlvbjxUPikge1xuXG4gICAgICAgIHRoaXMuZGF0YWJhc2VNYXAgICAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VLZXlNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY2hpbGRUcmVlTWFwICAgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyAgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlICA9IG5ldyBCZWhhdmlvclN1YmplY3QodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhQ2hhbmdlID0gdGhpcy5xdWV1ZUNoYW5nZS5hc09ic2VydmFibGUoKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5idWlsZFRyZWUodGhpcy50cmVlSW5mbywgbnVsbCwgdGhpcy5odHRwUGFyYW1zKSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYnVpbGRUcmVlKHRyZWVJbmZvOiBUcmVlSW5mb3JtYXRpb248VD4sIHBhcmVudERvYzogUHdhRG9jdW1lbnQ8VD4gPSBudWxsLCBwYXJlbnRQYXJhbXMgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpLCBwYXJlbnRLZXkgPSBudWxsKTogT2JzZXJ2YWJsZTxUcmVlTm9kZTxUPltdPiB7XG5cbiAgICAgICAgY29uc3QgdHJlZU5vZGVzID0gT2JqZWN0LmtleXModHJlZUluZm8pLm1hcChrZXkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBkYiA9IHRyZWVJbmZvW2tleV0uZ2V0RGF0YWJhc2UoKTtcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGFiYXNlTWFwS2V5ID0gcGFyZW50S2V5ICYmIHBhcmVudERvYyA/IGAke3BhcmVudEtleX1+JHtwYXJlbnREb2MudGVuYW50VXJsfS0tJHtrZXl9YCA6IGtleTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhYmFzZUtleU1hcC5zZXQoY3VycmVudERhdGFiYXNlTWFwS2V5LCBkYik7XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIGN1cnJlbnQgaHR0cFBhcmFtc1xuICAgICAgICAgICAgY29uc3QgcG9zc2libGVQYXJhbUtleXMgPSBwYXJlbnRQYXJhbXMua2V5cygpLmZpbHRlcihwayA9PiBwayAmJiBway5pbmNsdWRlcyhgJHtrZXl9LS1gKSk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgcGFyYW1zIGFzc29jaWF0ZWQgdG8gdGhpcyBkYXRhYmFzZVxuICAgICAgICAgICAgbGV0IGN1cnJlbnRQYXJhbXMgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuXG4gICAgICAgICAgICAvLyBleHRyYWN0IGNoaWxkUGFyYW1zXG4gICAgICAgICAgICBwb3NzaWJsZVBhcmFtS2V5cy5mb3JFYWNoKHBrID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtTmFtZSA9IHBrLnNwbGl0KGAke2tleX0tLWApWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8gb25seSBzZXQgcGFyYW0gYXNzb2NpYXRlZCB0byB0aGlzIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgJy0tJyB3b3VsZCBtZWFuIHBhcmFtcyB0byBuZXN0ZWQgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtTmFtZS5pbmNsdWRlcygnLS0nKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJhbXMgPSBjdXJyZW50UGFyYW1zLnNldChwYXJhbU5hbWUsIHBhcmVudFBhcmFtcy5nZXQocGspKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBydW4gY2FsbGJhY2tcbiAgICAgICAgICAgIHRyZWVJbmZvW2tleV0ub25DcmVhdGlvblNldHVwID8gdHJlZUluZm9ba2V5XS5vbkNyZWF0aW9uU2V0dXAocGFyZW50RG9jLCBkYiwgY3VycmVudFBhcmFtcykgOiBkYi5odHRwUGFyYW1zID0gY3VycmVudFBhcmFtcztcblxuICAgICAgICAgICAgcmV0dXJuIGRiLmRhdGFDaGFuZ2UucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcChkb2NzID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYnNBcnIgPSBkb2NzLm1hcChkb2MgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBNYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kYXRhYmFzZU1hcC5oYXMoZG9jKSkgeyB0aGlzLmRhdGFiYXNlTWFwLnNldChkb2MsIGRiKTsgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGlsZCBUcmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGlsZFRyZWVNYXAuaGFzKGRvYykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgY3VycmVudCB0cmVlSW5mbyBpbiBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGlzUmVjdXJzaXZlID09IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJlZUluZm9ba2V5XS5pc1JlY3Vyc2l2ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVJbmZvW2tleV0uY2hpbGRyZW5ba2V5XSA9IHRyZWVJbmZvW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFRyZWUgPSB0aGlzLmJ1aWxkVHJlZSh0cmVlSW5mb1trZXldLmNoaWxkcmVuLCBkb2MsIHBhcmVudFBhcmFtcywgY3VycmVudERhdGFiYXNlTWFwS2V5KS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFRyZWVOb2RlPGFueT5bXT47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkVHJlZU1hcC5zZXQoZG9jLCB7aXRlbTogZG9jLCBjaGlsZHJlbjogY2hpbGRUcmVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkVHJlZU1hcC5nZXQoZG9jKTtcblxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JzQXJyO1xuICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdCh0cmVlTm9kZXMpLnBpcGUoXG5cbiAgICAgICAgICAgIG1hcChub2RlcyA9PiBmbGF0dGVuKG5vZGVzKSksXG5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICB0aGlzLmRhdGFiYXNlTWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VLZXlNYXAuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jaGlsZFRyZWVNYXAuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQodHJ1ZSk7XG4gICAgfVxuXG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRGF0YVNvdXJjZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKiBGbGF0IG5vZGUgd2l0aCBleHBhbmRhYmxlIGFuZCBsZXZlbCBpbmZvcm1hdGlvbiAqL1xuZXhwb3J0IGNsYXNzIER5bmFtaWNGbGF0Tm9kZTxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgaXRlbTogUHdhRG9jdW1lbnQ8VD4gfCBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBsZXZlbCA9IDEsXG4gICAgICAgIHB1YmxpYyBleHBhbmRhYmxlID0gZmFsc2UsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgRHluYW1pY1RyZWVGbGF0dGVuZXI8VCwgRj4ge1xuXG4gICAgZmxhdE5vZGVNYXAgPSBuZXcgTWFwPFQsIEY+KCk7XG4gICAgc3RydWN0dXJlZE5vZGVNYXAgPSBuZXcgTWFwPEYsIFQ+KCk7XG4gICAgcGFyZW50Tm9kZU1hcCA9IG5ldyBNYXA8RiwgRj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB0cmFuc2Zvcm1GdW5jdGlvbjogKG5vZGU6IFQsIGxldmVsOiBudW1iZXIpID0+IEYsXG4gICAgICAgICAgICAgICAgcHVibGljIGdldExldmVsOiAobm9kZTogRikgPT4gbnVtYmVyLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBpc0V4cGFuZGFibGU6IChub2RlOiBGKSA9PiBib29sZWFuLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBnZXRDaGlsZHJlbjogKG5vZGU6IFQpID0+XG4gICAgICAgICAgICAgICAgICAgIE9ic2VydmFibGU8VFtdPiB8IFRbXSB8IHVuZGVmaW5lZCB8IG51bGwpIHt9XG5cbiAgICBfZmxhdHRlbk5vZGUobm9kZTogVCwgbGV2ZWw6IG51bWJlcik6IEYge1xuXG4gICAgICAgIGlmICghdGhpcy5mbGF0Tm9kZU1hcC5oYXMobm9kZSkpIHtcblxuICAgICAgICAgICAgY29uc3QgZmxhdE5vZGUgPSB0aGlzLnRyYW5zZm9ybUZ1bmN0aW9uKG5vZGUsIGxldmVsKTtcblxuICAgICAgICAgICAgdGhpcy5mbGF0Tm9kZU1hcC5zZXQobm9kZSwgZmxhdE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5zdHJ1Y3R1cmVkTm9kZU1hcC5zZXQoZmxhdE5vZGUsIG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdE5vZGVNYXAuZ2V0KG5vZGUpO1xuICAgIH1cblxuICAgIGluc2VydENoaWxkcmVuRmxhdE5vZGVzKHBhcmVudE5vZGU6IEYsIGNoaWxkcmVuOiBGW10sIHJlc3VsdE5vZGVzOiBGW10pOiBGW10ge1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcmVzdWx0Tm9kZXMuaW5kZXhPZihwYXJlbnROb2RlKTtcblxuICAgICAgICByZXN1bHROb2Rlcy5zcGxpY2UoaW5kZXggKyAxLCAwLCAuLi5jaGlsZHJlbik7XG5cbiAgICAgICAgY2hpbGRyZW4uZmlsdGVyKGMgPT4gIXRoaXMucGFyZW50Tm9kZU1hcC5oYXMoYykpLmZvckVhY2goYyA9PiB0aGlzLnBhcmVudE5vZGVNYXAuc2V0KGMsIHBhcmVudE5vZGUpKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0Tm9kZXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hpbGRyZW5GbGF0Tm9kZXMocGFyZW50Tm9kZTogRiwgcmVzdWx0Tm9kZXM6IEZbXSk6IEZbXSB7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSByZXN1bHROb2Rlcy5pbmRleE9mKHBhcmVudE5vZGUpO1xuXG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4ICsgMTsgaSA8IHJlc3VsdE5vZGVzLmxlbmd0aCAmJiB0aGlzLmdldExldmVsKHJlc3VsdE5vZGVzW2ldKSA+IHRoaXMuZ2V0TGV2ZWwocGFyZW50Tm9kZSk7IGkrKywgY291bnQrKykge31cblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHJlc3VsdE5vZGVzLnNwbGljZShpbmRleCArIDEsIGNvdW50KTtcblxuICAgICAgICBjaGlsZHJlbi5maWx0ZXIoYyA9PiB0aGlzLnBhcmVudE5vZGVNYXAuaGFzKGMpKS5mb3JFYWNoKGMgPT4gdGhpcy5wYXJlbnROb2RlTWFwLmRlbGV0ZShjKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdE5vZGVzO1xuICAgIH1cblxuICAgIGFkZENoaWxkcmVuRmxhdE5vZGUocGFyZW50RmxhdE5vZGU6IEYsIHJlc3VsdE5vZGVzOiBGW10pOiBPYnNlcnZhYmxlPEZbXT4ge1xuXG4gICAgICAgIC8vIGZldGNoIHN0cnVjdHVyZWROb2RlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBwYXJlbnRGbGF0Tm9kZVxuICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkTm9kZSA9IHRoaXMuc3RydWN0dXJlZE5vZGVNYXAuZ2V0KHBhcmVudEZsYXROb2RlKTtcblxuICAgICAgICAvLyBmZXRjaCBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBzdHJ1Y3R1cmVkTm9kZVxuICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlcyA9IHRoaXMuZ2V0Q2hpbGRyZW4oc3RydWN0dXJlZE5vZGUpO1xuXG4gICAgICAgIGlmIChzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2Rlcykge1xuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlcykpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZsYXRDaGlsZHJlbiA9IHN0cnVjdHVyZWRDaGlsZHJlbk5vZGVzLm1hcChzID0+IHRoaXMuX2ZsYXR0ZW5Ob2RlKHMsIHRoaXMuZ2V0TGV2ZWwocGFyZW50RmxhdE5vZGUpICsgMSkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKHRoaXMuaW5zZXJ0Q2hpbGRyZW5GbGF0Tm9kZXMocGFyZW50RmxhdE5vZGUsIGZsYXRDaGlsZHJlbiwgcmVzdWx0Tm9kZXMpKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2Rlcy5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIG1hcChjaGlsZHJlbiA9PiBjaGlsZHJlbi5tYXAocyA9PiB0aGlzLl9mbGF0dGVuTm9kZShzLCB0aGlzLmdldExldmVsKHBhcmVudEZsYXROb2RlKSArIDEpKSksXG5cbiAgICAgICAgICAgICAgICAgICAgbWFwKGZsYXRDaGlsZHJlbiA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE5vZGVzID0gdGhpcy5yZW1vdmVDaGlsZHJlbkZsYXROb2RlcyhwYXJlbnRGbGF0Tm9kZSwgcmVzdWx0Tm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRDaGlsZHJlbkZsYXROb2RlcyhwYXJlbnRGbGF0Tm9kZSwgZmxhdENoaWxkcmVuLCByZXN1bHROb2Rlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZihyZXN1bHROb2Rlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbiBhIGxpc3Qgb2Ygbm9kZSB0eXBlIFQgdG8gZmxhdHRlbmVkIHZlcnNpb24gb2Ygbm9kZSBGLlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgdHlwZSBUIG1heSBiZSBuZXN0ZWQsIGFuZCB0aGUgbGVuZ3RoIG9mIGBzdHJ1Y3R1cmVkRGF0YWAgbWF5IGJlIGRpZmZlcmVudFxuICAgICAqIGZyb20gdGhhdCBvZiByZXR1cm5lZCBsaXN0IGBGW11gLlxuICAgICAqL1xuICAgIGZsYXR0ZW5Ob2RlcyhzdHJ1Y3R1cmVkRGF0YTogVFtdKTogRltdIHtcblxuICAgICAgICByZXR1cm4gc3RydWN0dXJlZERhdGEubWFwKG5vZGUgPT4gdGhpcy5fZmxhdHRlbk5vZGUobm9kZSwgMCkpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgRHluYW1pY0ZsYXRUcmVlRGF0YVNvdXJjZTxULCBGIGV4dGVuZHMgRGF0YXR5cGU+IGltcGxlbWVudHMgRGF0YVNvdXJjZTxGPiB7XG5cbiAgICByZWFkb25seSBfZmxhdHRlbmVkRGF0YSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RltdPihbXSk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGF0YSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VFtdPihbXSk7XG5cbiAgICBzdWJzID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gICAgZ2V0IGRhdGEoKSB7IHJldHVybiB0aGlzLl9kYXRhLnZhbHVlOyB9XG5cbiAgICBzZXQgZGF0YSh2YWx1ZTogVFtdKSB7XG5cbiAgICAgICAgdGhpcy5fZGF0YS5uZXh0KHZhbHVlKTtcblxuICAgICAgICBjb25zdCBmbGF0dGVuZWREYXRhID0gdGhpcy5fdHJlZUZsYXR0ZW5lci5mbGF0dGVuTm9kZXModGhpcy5kYXRhKTtcblxuICAgICAgICB0aGlzLl90cmVlQ29udHJvbC5leHBhbnNpb25Nb2RlbC5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX3RyZWVDb250cm9sLmRhdGFOb2RlcyA9IGZsYXR0ZW5lZERhdGE7XG5cbiAgICAgICAgdGhpcy5mbGF0dGVuZWREYXRhID0gZmxhdHRlbmVkRGF0YTtcbiAgICB9XG5cbiAgICBtZXJnZURhdGEodmFsdWU6IFRbXSkge1xuXG4gICAgICAgIHRoaXMuX2RhdGEubmV4dCh2YWx1ZSk7XG5cbiAgICAgICAgY29uc3QgZmxhdHRlbmVkRGF0YSA9IHRoaXMuX3RyZWVGbGF0dGVuZXIuZmxhdHRlbk5vZGVzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VPYmo6IHtba2V5OiBzdHJpbmddOiBGfSA9IHt9O1xuXG4gICAgICAgIHRoaXMuZmxhdHRlbmVkRGF0YS5jb25jYXQoZmxhdHRlbmVkRGF0YSkuZm9yRWFjaChmID0+IG1lcmdlT2JqW2YuaWRdID0gZik7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VkRmxhdHRlbmVkRGF0YSA9IE9iamVjdC52YWx1ZXMobWVyZ2VPYmopO1xuXG4gICAgICAgIHRoaXMuX3RyZWVDb250cm9sLmRhdGFOb2RlcyA9IG1lcmdlZEZsYXR0ZW5lZERhdGE7XG5cbiAgICAgICAgdGhpcy5mbGF0dGVuZWREYXRhID0gbWVyZ2VkRmxhdHRlbmVkRGF0YTtcbiAgICB9XG5cbiAgICBnZXQgZmxhdHRlbmVkRGF0YSgpOiBGW10geyByZXR1cm4gdGhpcy5fZmxhdHRlbmVkRGF0YS52YWx1ZTsgfVxuICAgIHNldCBmbGF0dGVuZWREYXRhKHY6IEZbXSkgeyB0aGlzLl9mbGF0dGVuZWREYXRhLm5leHQodik7IH1cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBfdHJlZUNvbnRyb2w6IEZsYXRUcmVlQ29udHJvbDxGPiwgcHVibGljIF90cmVlRmxhdHRlbmVyOiBEeW5hbWljVHJlZUZsYXR0ZW5lcjxULCBGPiwgaW5pdGlhbERhdGE/OiBUW10pIHtcblxuICAgICAgICBpZiAoaW5pdGlhbERhdGEpIHtcbiAgICAgICAgICAgIC8vIEFzc2lnbiB0aGUgZGF0YSB0aHJvdWdoIHRoZSBjb25zdHJ1Y3RvciB0byBlbnN1cmUgdGhhdCBhbGwgb2YgdGhlIGxvZ2ljIGlzIGV4ZWN1dGVkLlxuICAgICAgICAgICAgdGhpcy5kYXRhID0gaW5pdGlhbERhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIG5vZGUsIHJlbW92ZSBmcm9tIGRpc3BsYXkgbGlzdFxuICAgICAqL1xuICAgIHRvZ2dsZU5vZGUoZmxhdE5vZGU6IEYsIGV4cGFuZDogYm9vbGVhbik6IE9ic2VydmFibGU8RltdPiB7XG5cbiAgICAgICAgaWYgKGV4cGFuZCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fdHJlZUZsYXR0ZW5lci5pc0V4cGFuZGFibGUoZmxhdE5vZGUpKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJlZUZsYXR0ZW5lci5hZGRDaGlsZHJlbkZsYXROb2RlKGZsYXROb2RlLCB0aGlzLmZsYXR0ZW5lZERhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhdHRlbmVkRGF0YS5hc09ic2VydmFibGUoKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICByZXR1cm4gb2YodGhpcy5fdHJlZUZsYXR0ZW5lci5yZW1vdmVDaGlsZHJlbkZsYXROb2RlcyhmbGF0Tm9kZSwgdGhpcy5mbGF0dGVuZWREYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogSGFuZGxlIGV4cGFuZC9jb2xsYXBzZSBiZWhhdmlvcnMgKi9cbiAgICBoYW5kbGVUcmVlQ29udHJvbChjaGFuZ2U6IFNlbGVjdGlvbkNoYW5nZTxGPik6IE9ic2VydmFibGU8RltdPiB7XG5cbiAgICAgICAgaWYgKGNoYW5nZS5hZGRlZCkge1xuXG4gICAgICAgICAgICBjb25zdCBvYnNBcnJheSA9IGNoYW5nZS5hZGRlZC5tYXAobm9kZSA9PiB0aGlzLnRvZ2dsZU5vZGUobm9kZSwgdHJ1ZSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChvYnNBcnJheSkucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcCgobykgPT4gby5sZW5ndGggPiAwID8gb1tvYnNBcnJheS5sZW5ndGggLSAxXSA6IFtdKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2UucmVtb3ZlZCkge1xuXG4gICAgICAgICAgICBjb25zdCBvYnNBcnJheSA9IGNoYW5nZS5yZW1vdmVkLnNsaWNlKCkucmV2ZXJzZSgpLm1hcChub2RlID0+IHRoaXMudG9nZ2xlTm9kZShub2RlLCBmYWxzZSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChvYnNBcnJheSkucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcCgobykgPT4gby5sZW5ndGggPiAwID8gb1tvYnNBcnJheS5sZW5ndGggLSAxXSA6IFtdKVxuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25uZWN0KGNvbGxlY3Rpb25WaWV3ZXI6IENvbGxlY3Rpb25WaWV3ZXIpOiBPYnNlcnZhYmxlPEZbXT4ge1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZU9icyA9IHRoaXMuX3RyZWVDb250cm9sLmV4cGFuc2lvbk1vZGVsLmNoYW5nZWQucGlwZShcblxuICAgICAgICAgICAgZmlsdGVyKGNoYW5nZSA9PiAhIShjaGFuZ2UgYXMgU2VsZWN0aW9uQ2hhbmdlPEY+KS5hZGRlZD8ubGVuZ3RoIHx8ICEhKGNoYW5nZSBhcyBTZWxlY3Rpb25DaGFuZ2U8Rj4pLnJlbW92ZWQ/Lmxlbmd0aCksXG5cbiAgICAgICAgICAgIG1lcmdlTWFwKGNoYW5nZSA9PiB0aGlzLmhhbmRsZVRyZWVDb250cm9sKGNoYW5nZSBhcyBTZWxlY3Rpb25DaGFuZ2U8Rj4pKSxcblxuICAgICAgICAgICAgYXVkaXRUaW1lKDEwMDAgLyA2MClcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzdWJzID0gY2hhbmdlT2JzLnN1YnNjcmliZSgodikgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLl90cmVlQ29udHJvbC5kYXRhTm9kZXMgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLmZsYXR0ZW5lZERhdGEgPSB2O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN1YnMuYWRkKHN1YnMpO1xuXG4gICAgICAgIHJldHVybiBtZXJnZShjb2xsZWN0aW9uVmlld2VyLnZpZXdDaGFuZ2UsIHRoaXMuX2ZsYXR0ZW5lZERhdGEuYXNPYnNlcnZhYmxlKCkpLnBpcGUobWFwKCgpID0+IHRoaXMuZmxhdHRlbmVkRGF0YSkpO1xuICAgIH1cblxuICAgIGRpc2Nvbm5lY3QoY29sbGVjdGlvblZpZXdlcjogQ29sbGVjdGlvblZpZXdlcik6IHZvaWQge1xuXG4gICAgICAgIHRoaXMuc3Vicy51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbiJdfQ==","start":8564,"end":38142}]},"code":"import { BehaviorSubject, combineLatest, merge, of, Subscription } from 'rxjs';\nimport { auditTime, filter, map, mergeMap, shareReplay, switchMap } from 'rxjs/operators';\nimport { CustomHttpParams } from './customParams.resource';\nimport { flatten } from './misc.resource';\nexport class TreeDatabase {\n    constructor(treeInfo) {\n        this.treeInfo = treeInfo;\n        this.databaseMap = new Map();\n        this.databaseKeyMap = new Map();\n        this.childTreeMap = new Map();\n        this._httpParams = new CustomHttpParams();\n        this.queueChange = new BehaviorSubject(true);\n        this.dataChange = this.queueChange.asObservable().pipe(switchMap(() => this.buildTree(this.treeInfo, null, this.httpParams)), shareReplay(1));\n    }\n    get httpParams() { return this._httpParams; }\n    set httpParams(v) {\n        this._httpParams = v;\n        this.reset();\n    }\n    buildTree(treeInfo, parentDoc = null, parentParams = new CustomHttpParams(), parentKey = null) {\n        const treeNodes = Object.keys(treeInfo).map(key => {\n            const db = treeInfo[key].getDatabase();\n            const currentDatabaseMapKey = parentKey && parentDoc ? `${parentKey}~${parentDoc.tenantUrl}--${key}` : key;\n            this.databaseKeyMap.set(currentDatabaseMapKey, db);\n            const possibleParamKeys = parentParams.keys().filter(pk => pk && pk.includes(`${key}--`));\n            let currentParams = new CustomHttpParams();\n            possibleParamKeys.forEach(pk => {\n                const paramName = pk.split(`${key}--`)[1];\n                if (!paramName.includes('--')) {\n                    currentParams = currentParams.set(paramName, parentParams.get(pk));\n                }\n            });\n            treeInfo[key].onCreationSetup ? treeInfo[key].onCreationSetup(parentDoc, db, currentParams) : db.httpParams = currentParams;\n            return db.dataChange.pipe(map(docs => {\n                const obsArr = docs.map(doc => {\n                    if (!this.databaseMap.has(doc)) {\n                        this.databaseMap.set(doc, db);\n                    }\n                    if (!this.childTreeMap.has(doc)) {\n                        if (treeInfo[key].isRecursive) {\n                            treeInfo[key].children[key] = treeInfo[key];\n                        }\n                        const childTree = this.buildTree(treeInfo[key].children, doc, parentParams, currentDatabaseMapKey).pipe(shareReplay(1));\n                        this.childTreeMap.set(doc, { item: doc, children: childTree });\n                    }\n                    return this.childTreeMap.get(doc);\n                });\n                return obsArr;\n            }));\n        });\n        return combineLatest(treeNodes).pipe(map(nodes => flatten(nodes)));\n    }\n    reset() {\n        this.databaseMap.clear();\n        this.databaseKeyMap.clear();\n        this.childTreeMap.clear();\n        this.queueChange.next(true);\n    }\n}\nexport class DynamicFlatNode {\n    constructor(item, level = 1, expandable = false) {\n        this.item = item;\n        this.level = level;\n        this.expandable = expandable;\n    }\n}\nexport class DynamicTreeFlattener {\n    constructor(transformFunction, getLevel, isExpandable, getChildren) {\n        this.transformFunction = transformFunction;\n        this.getLevel = getLevel;\n        this.isExpandable = isExpandable;\n        this.getChildren = getChildren;\n        this.flatNodeMap = new Map();\n        this.structuredNodeMap = new Map();\n        this.parentNodeMap = new Map();\n    }\n    _flattenNode(node, level) {\n        if (!this.flatNodeMap.has(node)) {\n            const flatNode = this.transformFunction(node, level);\n            this.flatNodeMap.set(node, flatNode);\n            this.structuredNodeMap.set(flatNode, node);\n        }\n        return this.flatNodeMap.get(node);\n    }\n    insertChildrenFlatNodes(parentNode, children, resultNodes) {\n        const index = resultNodes.indexOf(parentNode);\n        resultNodes.splice(index + 1, 0, ...children);\n        children.filter(c => !this.parentNodeMap.has(c)).forEach(c => this.parentNodeMap.set(c, parentNode));\n        return resultNodes;\n    }\n    removeChildrenFlatNodes(parentNode, resultNodes) {\n        const index = resultNodes.indexOf(parentNode);\n        let count = 0;\n        for (let i = index + 1; i < resultNodes.length && this.getLevel(resultNodes[i]) > this.getLevel(parentNode); i++, count++) { }\n        const children = resultNodes.splice(index + 1, count);\n        children.filter(c => this.parentNodeMap.has(c)).forEach(c => this.parentNodeMap.delete(c));\n        return resultNodes;\n    }\n    addChildrenFlatNode(parentFlatNode, resultNodes) {\n        const structuredNode = this.structuredNodeMap.get(parentFlatNode);\n        const structuredChildrenNodes = this.getChildren(structuredNode);\n        if (structuredChildrenNodes) {\n            if (Array.isArray(structuredChildrenNodes)) {\n                const flatChildren = structuredChildrenNodes.map(s => this._flattenNode(s, this.getLevel(parentFlatNode) + 1));\n                return of(this.insertChildrenFlatNodes(parentFlatNode, flatChildren, resultNodes));\n            }\n            else {\n                return structuredChildrenNodes.pipe(map(children => children.map(s => this._flattenNode(s, this.getLevel(parentFlatNode) + 1))), map(flatChildren => {\n                    resultNodes = this.removeChildrenFlatNodes(parentFlatNode, resultNodes);\n                    return this.insertChildrenFlatNodes(parentFlatNode, flatChildren, resultNodes);\n                }));\n            }\n        }\n        return of(resultNodes);\n    }\n    flattenNodes(structuredData) {\n        return structuredData.map(node => this._flattenNode(node, 0));\n    }\n}\nexport class DynamicFlatTreeDataSource {\n    constructor(_treeControl, _treeFlattener, initialData) {\n        this._treeControl = _treeControl;\n        this._treeFlattener = _treeFlattener;\n        this._flattenedData = new BehaviorSubject([]);\n        this._data = new BehaviorSubject([]);\n        this.subs = new Subscription();\n        if (initialData) {\n            this.data = initialData;\n        }\n    }\n    get data() { return this._data.value; }\n    set data(value) {\n        this._data.next(value);\n        const flattenedData = this._treeFlattener.flattenNodes(this.data);\n        this._treeControl.expansionModel.clear();\n        this._treeControl.dataNodes = flattenedData;\n        this.flattenedData = flattenedData;\n    }\n    mergeData(value) {\n        this._data.next(value);\n        const flattenedData = this._treeFlattener.flattenNodes(this.data);\n        const mergeObj = {};\n        this.flattenedData.concat(flattenedData).forEach(f => mergeObj[f.id] = f);\n        const mergedFlattenedData = Object.values(mergeObj);\n        this._treeControl.dataNodes = mergedFlattenedData;\n        this.flattenedData = mergedFlattenedData;\n    }\n    get flattenedData() { return this._flattenedData.value; }\n    set flattenedData(v) { this._flattenedData.next(v); }\n    toggleNode(flatNode, expand) {\n        if (expand) {\n            if (this._treeFlattener.isExpandable(flatNode)) {\n                return this._treeFlattener.addChildrenFlatNode(flatNode, this.flattenedData);\n            }\n            return this._flattenedData.asObservable();\n        }\n        else {\n            return of(this._treeFlattener.removeChildrenFlatNodes(flatNode, this.flattenedData));\n        }\n    }\n    handleTreeControl(change) {\n        if (change.added) {\n            const obsArray = change.added.map(node => this.toggleNode(node, true));\n            return combineLatest(obsArray).pipe(map((o) => o.length > 0 ? o[obsArray.length - 1] : []));\n        }\n        if (change.removed) {\n            const obsArray = change.removed.slice().reverse().map(node => this.toggleNode(node, false));\n            return combineLatest(obsArray).pipe(map((o) => o.length > 0 ? o[obsArray.length - 1] : []));\n        }\n    }\n    connect(collectionViewer) {\n        const changeObs = this._treeControl.expansionModel.changed.pipe(filter(change => !!change.added?.length || !!change.removed?.length), mergeMap(change => this.handleTreeControl(change)), auditTime(1000 / 60));\n        const subs = changeObs.subscribe((v) => {\n            this._treeControl.dataNodes = v;\n            this.flattenedData = v;\n        });\n        this.subs.add(subs);\n        return merge(collectionViewer.viewChange, this._flattenedData.asObservable()).pipe(map(() => this.flattenedData));\n    }\n    disconnect(collectionViewer) {\n        this.subs.unsubscribe();\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy90cmVlLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBYyxFQUFFLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzNGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBSzFGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQXlCMUMsTUFBTSxPQUFPLFlBQVk7SUFxQnJCLFlBQW9CLFFBQTRCO1FBQTVCLGFBQVEsR0FBUixRQUFRLENBQW9CO1FBRTVDLElBQUksQ0FBQyxXQUFXLEdBQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLFlBQVksR0FBSyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBRWhDLElBQUksQ0FBQyxXQUFXLEdBQUksSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO1FBQzNDLElBQUksQ0FBQyxXQUFXLEdBQUksSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFOUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FFbEQsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxD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QyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUVuQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7WUFFaEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVwQixPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDdEgsQ0FBQztJQUVELFVBQVUsQ0FBQyxnQkFBa0M7UUFFekMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM1QixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBtZXJnZSwgT2JzZXJ2YWJsZSwgb2YsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBmaWx0ZXIsIG1hcCwgbWVyZ2VNYXAsIHNoYXJlUmVwbGF5LCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBEYXRhdHlwZSwgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBEYXRhYmFzZSwgUmVhY3RpdmVEYXRhYmFzZSwgVGFibGVEYXRhVHlwZSB9IGZyb20gJy4vdGFibGUucmVzb3VyY2UnO1xuaW1wb3J0IHtDb2xsZWN0aW9uVmlld2VyLCBTZWxlY3Rpb25DaGFuZ2UsIERhdGFTb3VyY2V9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2xsZWN0aW9ucyc7XG5pbXBvcnQge0ZsYXRUcmVlQ29udHJvbH0gZnJvbSAnQGFuZ3VsYXIvY2RrL3RyZWUnO1xuaW1wb3J0IHsgQ3VzdG9tSHR0cFBhcmFtcyB9IGZyb20gJy4vY3VzdG9tUGFyYW1zLnJlc291cmNlJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuL21pc2MucmVzb3VyY2UnO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbnRlcmZhY2VzXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCB0eXBlIFRyZWVOb2RlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiA9IHtpdGVtOiBQd2FEb2N1bWVudDxUPiwgY2hpbGRyZW46IE9ic2VydmFibGU8VHJlZU5vZGU8YW55PltdPn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YWJhc2VJbmZvcm1hdGlvbjxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIGdldERhdGFiYXNlOiAobGltaXQ/OiBudW1iZXIpID0+IERhdGFiYXNlPFQ+IHwgUmVhY3RpdmVEYXRhYmFzZTxUPjtcbiAgICBvbkNyZWF0aW9uU2V0dXA/OiAocGFyZW50RG9jOiBQd2FEb2N1bWVudDxUPiB8IG51bGwsIGRiOiBEYXRhYmFzZTxUPiB8IFJlYWN0aXZlRGF0YWJhc2U8VD4sIHBhcmFtczogSHR0cFBhcmFtcykgPT4gdm9pZDtcbiAgICBpc1JlY3Vyc2l2ZTogYm9vbGVhbjtcbiAgICBjaGlsZHJlbjogVHJlZUluZm9ybWF0aW9uPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyZWVJbmZvcm1hdGlvbjxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIFtrZXk6IHN0cmluZ106IERhdGFiYXNlSW5mb3JtYXRpb248VD47XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVHJlZXNcbi8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5leHBvcnQgY2xhc3MgVHJlZURhdGFiYXNlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiB7XG5cbiAgICBjaGlsZFRyZWVNYXA6IE1hcDxQd2FEb2N1bWVudDxhbnk+LCBUcmVlTm9kZTxhbnk+PjtcbiAgICBkYXRhYmFzZU1hcDogTWFwPFB3YURvY3VtZW50PGFueT4sIERhdGFiYXNlPGFueT4gfCBSZWFjdGl2ZURhdGFiYXNlPGFueT4+O1xuXG4gICAgZGF0YWJhc2VLZXlNYXA6IE1hcDxzdHJpbmcsIERhdGFiYXNlPGFueT4gfCBSZWFjdGl2ZURhdGFiYXNlPGFueT4+O1xuXG4gICAgZGF0YUNoYW5nZTogT2JzZXJ2YWJsZTxUcmVlTm9kZTxUPltdPjtcblxuICAgIHByaXZhdGUgcXVldWVDaGFuZ2U6IEJlaGF2aW9yU3ViamVjdDxhbnk+O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogdmFyaWFibGUtbmFtZVxuICAgIHByaXZhdGUgX2h0dHBQYXJhbXM6IEh0dHBQYXJhbXM7XG5cbiAgICBnZXQgaHR0cFBhcmFtcygpIHsgcmV0dXJuIHRoaXMuX2h0dHBQYXJhbXM7IH1cbiAgICBzZXQgaHR0cFBhcmFtcyh2OiBIdHRwUGFyYW1zKSB7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHY7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJlZUluZm86IFRyZWVJbmZvcm1hdGlvbjxUPikge1xuXG4gICAgICAgIHRoaXMuZGF0YWJhc2VNYXAgICAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VLZXlNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY2hpbGRUcmVlTWFwICAgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyAgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlICA9IG5ldyBCZWhhdmlvclN1YmplY3QodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhQ2hhbmdlID0gdGhpcy5xdWV1ZUNoYW5nZS5hc09ic2VydmFibGUoKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5idWlsZFRyZWUodGhpcy50cmVlSW5mbywgbnVsbCwgdGhpcy5odHRwUGFyYW1zKSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYnVpbGRUcmVlKHRyZWVJbmZvOiBUcmVlSW5mb3JtYXRpb248VD4sIHBhcmVudERvYzogUHdhRG9jdW1lbnQ8VD4gPSBudWxsLCBwYXJlbnRQYXJhbXMgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpLCBwYXJlbnRLZXkgPSBudWxsKTogT2JzZXJ2YWJsZTxUcmVlTm9kZTxUPltdPiB7XG5cbiAgICAgICAgY29uc3QgdHJlZU5vZGVzID0gT2JqZWN0LmtleXModHJlZUluZm8pLm1hcChrZXkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBkYiA9IHRyZWVJbmZvW2tleV0uZ2V0RGF0YWJhc2UoKTtcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGFiYXNlTWFwS2V5ID0gcGFyZW50S2V5ICYmIHBhcmVudERvYyA/IGAke3BhcmVudEtleX1+JHtwYXJlbnREb2MudGVuYW50VXJsfS0tJHtrZXl9YCA6IGtleTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhYmFzZUtleU1hcC5zZXQoY3VycmVudERhdGFiYXNlTWFwS2V5LCBkYik7XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIGN1cnJlbnQgaHR0cFBhcmFtc1xuICAgICAgICAgICAgY29uc3QgcG9zc2libGVQYXJhbUtleXMgPSBwYXJlbnRQYXJhbXMua2V5cygpLmZpbHRlcihwayA9PiBwayAmJiBway5pbmNsdWRlcyhgJHtrZXl9LS1gKSk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgcGFyYW1zIGFzc29jaWF0ZWQgdG8gdGhpcyBkYXRhYmFzZVxuICAgICAgICAgICAgbGV0IGN1cnJlbnRQYXJhbXMgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuXG4gICAgICAgICAgICAvLyBleHRyYWN0IGNoaWxkUGFyYW1zXG4gICAgICAgICAgICBwb3NzaWJsZVBhcmFtS2V5cy5mb3JFYWNoKHBrID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtTmFtZSA9IHBrLnNwbGl0KGAke2tleX0tLWApWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8gb25seSBzZXQgcGFyYW0gYXNzb2NpYXRlZCB0byB0aGlzIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgJy0tJyB3b3VsZCBtZWFuIHBhcmFtcyB0byBuZXN0ZWQgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtTmFtZS5pbmNsdWRlcygnLS0nKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJhbXMgPSBjdXJyZW50UGFyYW1zLnNldChwYXJhbU5hbWUsIHBhcmVudFBhcmFtcy5nZXQocGspKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBydW4gY2FsbGJhY2tcbiAgICAgICAgICAgIHRyZWVJbmZvW2tleV0ub25DcmVhdGlvblNldHVwID8gdHJlZUluZm9ba2V5XS5vbkNyZWF0aW9uU2V0dXAocGFyZW50RG9jLCBkYiwgY3VycmVudFBhcmFtcykgOiBkYi5odHRwUGFyYW1zID0gY3VycmVudFBhcmFtcztcblxuICAgICAgICAgICAgcmV0dXJuIGRiLmRhdGFDaGFuZ2UucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcChkb2NzID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYnNBcnIgPSBkb2NzLm1hcChkb2MgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBNYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kYXRhYmFzZU1hcC5oYXMoZG9jKSkgeyB0aGlzLmRhdGFiYXNlTWFwLnNldChkb2MsIGRiKTsgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGlsZCBUcmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGlsZFRyZWVNYXAuaGFzKGRvYykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgY3VycmVudCB0cmVlSW5mbyBpbiBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGlzUmVjdXJzaXZlID09IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJlZUluZm9ba2V5XS5pc1JlY3Vyc2l2ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVJbmZvW2tleV0uY2hpbGRyZW5ba2V5XSA9IHRyZWVJbmZvW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFRyZWUgPSB0aGlzLmJ1aWxkVHJlZSh0cmVlSW5mb1trZXldLmNoaWxkcmVuLCBkb2MsIHBhcmVudFBhcmFtcywgY3VycmVudERhdGFiYXNlTWFwS2V5KS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFRyZWVOb2RlPGFueT5bXT47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkVHJlZU1hcC5zZXQoZG9jLCB7aXRlbTogZG9jLCBjaGlsZHJlbjogY2hpbGRUcmVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkVHJlZU1hcC5nZXQoZG9jKTtcblxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JzQXJyO1xuICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdCh0cmVlTm9kZXMpLnBpcGUoXG5cbiAgICAgICAgICAgIG1hcChub2RlcyA9PiBmbGF0dGVuKG5vZGVzKSksXG5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICB0aGlzLmRhdGFiYXNlTWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VLZXlNYXAuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jaGlsZFRyZWVNYXAuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQodHJ1ZSk7XG4gICAgfVxuXG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRGF0YVNvdXJjZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKiBGbGF0IG5vZGUgd2l0aCBleHBhbmRhYmxlIGFuZCBsZXZlbCBpbmZvcm1hdGlvbiAqL1xuZXhwb3J0IGNsYXNzIER5bmFtaWNGbGF0Tm9kZTxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgaXRlbTogUHdhRG9jdW1lbnQ8VD4gfCBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBsZXZlbCA9IDEsXG4gICAgICAgIHB1YmxpYyBleHBhbmRhYmxlID0gZmFsc2UsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgRHluYW1pY1RyZWVGbGF0dGVuZXI8VCwgRj4ge1xuXG4gICAgZmxhdE5vZGVNYXAgPSBuZXcgTWFwPFQsIEY+KCk7XG4gICAgc3RydWN0dXJlZE5vZGVNYXAgPSBuZXcgTWFwPEYsIFQ+KCk7XG4gICAgcGFyZW50Tm9kZU1hcCA9IG5ldyBNYXA8RiwgRj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB0cmFuc2Zvcm1GdW5jdGlvbjogKG5vZGU6IFQsIGxldmVsOiBudW1iZXIpID0+IEYsXG4gICAgICAgICAgICAgICAgcHVibGljIGdldExldmVsOiAobm9kZTogRikgPT4gbnVtYmVyLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBpc0V4cGFuZGFibGU6IChub2RlOiBGKSA9PiBib29sZWFuLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBnZXRDaGlsZHJlbjogKG5vZGU6IFQpID0+XG4gICAgICAgICAgICAgICAgICAgIE9ic2VydmFibGU8VFtdPiB8IFRbXSB8IHVuZGVmaW5lZCB8IG51bGwpIHt9XG5cbiAgICBfZmxhdHRlbk5vZGUobm9kZTogVCwgbGV2ZWw6IG51bWJlcik6IEYge1xuXG4gICAgICAgIGlmICghdGhpcy5mbGF0Tm9kZU1hcC5oYXMobm9kZSkpIHtcblxuICAgICAgICAgICAgY29uc3QgZmxhdE5vZGUgPSB0aGlzLnRyYW5zZm9ybUZ1bmN0aW9uKG5vZGUsIGxldmVsKTtcblxuICAgICAgICAgICAgdGhpcy5mbGF0Tm9kZU1hcC5zZXQobm9kZSwgZmxhdE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5zdHJ1Y3R1cmVkTm9kZU1hcC5zZXQoZmxhdE5vZGUsIG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdE5vZGVNYXAuZ2V0KG5vZGUpO1xuICAgIH1cblxuICAgIGluc2VydENoaWxkcmVuRmxhdE5vZGVzKHBhcmVudE5vZGU6IEYsIGNoaWxkcmVuOiBGW10sIHJlc3VsdE5vZGVzOiBGW10pOiBGW10ge1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcmVzdWx0Tm9kZXMuaW5kZXhPZihwYXJlbnROb2RlKTtcblxuICAgICAgICByZXN1bHROb2Rlcy5zcGxpY2UoaW5kZXggKyAxLCAwLCAuLi5jaGlsZHJlbik7XG5cbiAgICAgICAgY2hpbGRyZW4uZmlsdGVyKGMgPT4gIXRoaXMucGFyZW50Tm9kZU1hcC5oYXMoYykpLmZvckVhY2goYyA9PiB0aGlzLnBhcmVudE5vZGVNYXAuc2V0KGMsIHBhcmVudE5vZGUpKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0Tm9kZXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hpbGRyZW5GbGF0Tm9kZXMocGFyZW50Tm9kZTogRiwgcmVzdWx0Tm9kZXM6IEZbXSk6IEZbXSB7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSByZXN1bHROb2Rlcy5pbmRleE9mKHBhcmVudE5vZGUpO1xuXG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4ICsgMTsgaSA8IHJlc3VsdE5vZGVzLmxlbmd0aCAmJiB0aGlzLmdldExldmVsKHJlc3VsdE5vZGVzW2ldKSA+IHRoaXMuZ2V0TGV2ZWwocGFyZW50Tm9kZSk7IGkrKywgY291bnQrKykge31cblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHJlc3VsdE5vZGVzLnNwbGljZShpbmRleCArIDEsIGNvdW50KTtcblxuICAgICAgICBjaGlsZHJlbi5maWx0ZXIoYyA9PiB0aGlzLnBhcmVudE5vZGVNYXAuaGFzKGMpKS5mb3JFYWNoKGMgPT4gdGhpcy5wYXJlbnROb2RlTWFwLmRlbGV0ZShjKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdE5vZGVzO1xuICAgIH1cblxuICAgIGFkZENoaWxkcmVuRmxhdE5vZGUocGFyZW50RmxhdE5vZGU6IEYsIHJlc3VsdE5vZGVzOiBGW10pOiBPYnNlcnZhYmxlPEZbXT4ge1xuXG4gICAgICAgIC8vIGZldGNoIHN0cnVjdHVyZWROb2RlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBwYXJlbnRGbGF0Tm9kZVxuICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkTm9kZSA9IHRoaXMuc3RydWN0dXJlZE5vZGVNYXAuZ2V0KHBhcmVudEZsYXROb2RlKTtcblxuICAgICAgICAvLyBmZXRjaCBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBzdHJ1Y3R1cmVkTm9kZVxuICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlcyA9IHRoaXMuZ2V0Q2hpbGRyZW4oc3RydWN0dXJlZE5vZGUpO1xuXG4gICAgICAgIGlmIChzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2Rlcykge1xuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlcykpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZsYXRDaGlsZHJlbiA9IHN0cnVjdHVyZWRDaGlsZHJlbk5vZGVzLm1hcChzID0+IHRoaXMuX2ZsYXR0ZW5Ob2RlKHMsIHRoaXMuZ2V0TGV2ZWwocGFyZW50RmxhdE5vZGUpICsgMSkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKHRoaXMuaW5zZXJ0Q2hpbGRyZW5GbGF0Tm9kZXMocGFyZW50RmxhdE5vZGUsIGZsYXRDaGlsZHJlbiwgcmVzdWx0Tm9kZXMpKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2Rlcy5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIG1hcChjaGlsZHJlbiA9PiBjaGlsZHJlbi5tYXAocyA9PiB0aGlzLl9mbGF0dGVuTm9kZShzLCB0aGlzLmdldExldmVsKHBhcmVudEZsYXROb2RlKSArIDEpKSksXG5cbiAgICAgICAgICAgICAgICAgICAgbWFwKGZsYXRDaGlsZHJlbiA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE5vZGVzID0gdGhpcy5yZW1vdmVDaGlsZHJlbkZsYXROb2RlcyhwYXJlbnRGbGF0Tm9kZSwgcmVzdWx0Tm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRDaGlsZHJlbkZsYXROb2RlcyhwYXJlbnRGbGF0Tm9kZSwgZmxhdENoaWxkcmVuLCByZXN1bHROb2Rlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZihyZXN1bHROb2Rlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbiBhIGxpc3Qgb2Ygbm9kZSB0eXBlIFQgdG8gZmxhdHRlbmVkIHZlcnNpb24gb2Ygbm9kZSBGLlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgdHlwZSBUIG1heSBiZSBuZXN0ZWQsIGFuZCB0aGUgbGVuZ3RoIG9mIGBzdHJ1Y3R1cmVkRGF0YWAgbWF5IGJlIGRpZmZlcmVudFxuICAgICAqIGZyb20gdGhhdCBvZiByZXR1cm5lZCBsaXN0IGBGW11gLlxuICAgICAqL1xuICAgIGZsYXR0ZW5Ob2RlcyhzdHJ1Y3R1cmVkRGF0YTogVFtdKTogRltdIHtcblxuICAgICAgICByZXR1cm4gc3RydWN0dXJlZERhdGEubWFwKG5vZGUgPT4gdGhpcy5fZmxhdHRlbk5vZGUobm9kZSwgMCkpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgRHluYW1pY0ZsYXRUcmVlRGF0YVNvdXJjZTxULCBGIGV4dGVuZHMgRGF0YXR5cGU+IGltcGxlbWVudHMgRGF0YVNvdXJjZTxGPiB7XG5cbiAgICByZWFkb25seSBfZmxhdHRlbmVkRGF0YSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RltdPihbXSk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGF0YSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VFtdPihbXSk7XG5cbiAgICBzdWJzID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gICAgZ2V0IGRhdGEoKSB7IHJldHVybiB0aGlzLl9kYXRhLnZhbHVlOyB9XG5cbiAgICBzZXQgZGF0YSh2YWx1ZTogVFtdKSB7XG5cbiAgICAgICAgdGhpcy5fZGF0YS5uZXh0KHZhbHVlKTtcblxuICAgICAgICBjb25zdCBmbGF0dGVuZWREYXRhID0gdGhpcy5fdHJlZUZsYXR0ZW5lci5mbGF0dGVuTm9kZXModGhpcy5kYXRhKTtcblxuICAgICAgICB0aGlzLl90cmVlQ29udHJvbC5leHBhbnNpb25Nb2RlbC5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX3RyZWVDb250cm9sLmRhdGFOb2RlcyA9IGZsYXR0ZW5lZERhdGE7XG5cbiAgICAgICAgdGhpcy5mbGF0dGVuZWREYXRhID0gZmxhdHRlbmVkRGF0YTtcbiAgICB9XG5cbiAgICBtZXJnZURhdGEodmFsdWU6IFRbXSkge1xuXG4gICAgICAgIHRoaXMuX2RhdGEubmV4dCh2YWx1ZSk7XG5cbiAgICAgICAgY29uc3QgZmxhdHRlbmVkRGF0YSA9IHRoaXMuX3RyZWVGbGF0dGVuZXIuZmxhdHRlbk5vZGVzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VPYmo6IHtba2V5OiBzdHJpbmddOiBGfSA9IHt9O1xuXG4gICAgICAgIHRoaXMuZmxhdHRlbmVkRGF0YS5jb25jYXQoZmxhdHRlbmVkRGF0YSkuZm9yRWFjaChmID0+IG1lcmdlT2JqW2YuaWRdID0gZik7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VkRmxhdHRlbmVkRGF0YSA9IE9iamVjdC52YWx1ZXMobWVyZ2VPYmopO1xuXG4gICAgICAgIHRoaXMuX3RyZWVDb250cm9sLmRhdGFOb2RlcyA9IG1lcmdlZEZsYXR0ZW5lZERhdGE7XG5cbiAgICAgICAgdGhpcy5mbGF0dGVuZWREYXRhID0gbWVyZ2VkRmxhdHRlbmVkRGF0YTtcbiAgICB9XG5cbiAgICBnZXQgZmxhdHRlbmVkRGF0YSgpOiBGW10geyByZXR1cm4gdGhpcy5fZmxhdHRlbmVkRGF0YS52YWx1ZTsgfVxuICAgIHNldCBmbGF0dGVuZWREYXRhKHY6IEZbXSkgeyB0aGlzLl9mbGF0dGVuZWREYXRhLm5leHQodik7IH1cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBfdHJlZUNvbnRyb2w6IEZsYXRUcmVlQ29udHJvbDxGPiwgcHVibGljIF90cmVlRmxhdHRlbmVyOiBEeW5hbWljVHJlZUZsYXR0ZW5lcjxULCBGPiwgaW5pdGlhbERhdGE/OiBUW10pIHtcblxuICAgICAgICBpZiAoaW5pdGlhbERhdGEpIHtcbiAgICAgICAgICAgIC8vIEFzc2lnbiB0aGUgZGF0YSB0aHJvdWdoIHRoZSBjb25zdHJ1Y3RvciB0byBlbnN1cmUgdGhhdCBhbGwgb2YgdGhlIGxvZ2ljIGlzIGV4ZWN1dGVkLlxuICAgICAgICAgICAgdGhpcy5kYXRhID0gaW5pdGlhbERhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIG5vZGUsIHJlbW92ZSBmcm9tIGRpc3BsYXkgbGlzdFxuICAgICAqL1xuICAgIHRvZ2dsZU5vZGUoZmxhdE5vZGU6IEYsIGV4cGFuZDogYm9vbGVhbik6IE9ic2VydmFibGU8RltdPiB7XG5cbiAgICAgICAgaWYgKGV4cGFuZCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fdHJlZUZsYXR0ZW5lci5pc0V4cGFuZGFibGUoZmxhdE5vZGUpKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJlZUZsYXR0ZW5lci5hZGRDaGlsZHJlbkZsYXROb2RlKGZsYXROb2RlLCB0aGlzLmZsYXR0ZW5lZERhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhdHRlbmVkRGF0YS5hc09ic2VydmFibGUoKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICByZXR1cm4gb2YodGhpcy5fdHJlZUZsYXR0ZW5lci5yZW1vdmVDaGlsZHJlbkZsYXROb2RlcyhmbGF0Tm9kZSwgdGhpcy5mbGF0dGVuZWREYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogSGFuZGxlIGV4cGFuZC9jb2xsYXBzZSBiZWhhdmlvcnMgKi9cbiAgICBoYW5kbGVUcmVlQ29udHJvbChjaGFuZ2U6IFNlbGVjdGlvbkNoYW5nZTxGPik6IE9ic2VydmFibGU8RltdPiB7XG5cbiAgICAgICAgaWYgKGNoYW5nZS5hZGRlZCkge1xuXG4gICAgICAgICAgICBjb25zdCBvYnNBcnJheSA9IGNoYW5nZS5hZGRlZC5tYXAobm9kZSA9PiB0aGlzLnRvZ2dsZU5vZGUobm9kZSwgdHJ1ZSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChvYnNBcnJheSkucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcCgobykgPT4gby5sZW5ndGggPiAwID8gb1tvYnNBcnJheS5sZW5ndGggLSAxXSA6IFtdKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2UucmVtb3ZlZCkge1xuXG4gICAgICAgICAgICBjb25zdCBvYnNBcnJheSA9IGNoYW5nZS5yZW1vdmVkLnNsaWNlKCkucmV2ZXJzZSgpLm1hcChub2RlID0+IHRoaXMudG9nZ2xlTm9kZShub2RlLCBmYWxzZSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChvYnNBcnJheSkucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcCgobykgPT4gby5sZW5ndGggPiAwID8gb1tvYnNBcnJheS5sZW5ndGggLSAxXSA6IFtdKVxuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25uZWN0KGNvbGxlY3Rpb25WaWV3ZXI6IENvbGxlY3Rpb25WaWV3ZXIpOiBPYnNlcnZhYmxlPEZbXT4ge1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZU9icyA9IHRoaXMuX3RyZWVDb250cm9sLmV4cGFuc2lvbk1vZGVsLmNoYW5nZWQucGlwZShcblxuICAgICAgICAgICAgZmlsdGVyKGNoYW5nZSA9PiAhIShjaGFuZ2UgYXMgU2VsZWN0aW9uQ2hhbmdlPEY+KS5hZGRlZD8ubGVuZ3RoIHx8ICEhKGNoYW5nZSBhcyBTZWxlY3Rpb25DaGFuZ2U8Rj4pLnJlbW92ZWQ/Lmxlbmd0aCksXG5cbiAgICAgICAgICAgIG1lcmdlTWFwKGNoYW5nZSA9PiB0aGlzLmhhbmRsZVRyZWVDb250cm9sKGNoYW5nZSBhcyBTZWxlY3Rpb25DaGFuZ2U8Rj4pKSxcblxuICAgICAgICAgICAgYXVkaXRUaW1lKDEwMDAgLyA2MClcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzdWJzID0gY2hhbmdlT2JzLnN1YnNjcmliZSgodikgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLl90cmVlQ29udHJvbC5kYXRhTm9kZXMgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLmZsYXR0ZW5lZERhdGEgPSB2O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN1YnMuYWRkKHN1YnMpO1xuXG4gICAgICAgIHJldHVybiBtZXJnZShjb2xsZWN0aW9uVmlld2VyLnZpZXdDaGFuZ2UsIHRoaXMuX2ZsYXR0ZW5lZERhdGEuYXNPYnNlcnZhYmxlKCkpLnBpcGUobWFwKCgpID0+IHRoaXMuZmxhdHRlbmVkRGF0YSkpO1xuICAgIH1cblxuICAgIGRpc2Nvbm5lY3QoY29sbGVjdGlvblZpZXdlcjogQ29sbGVjdGlvblZpZXdlcik6IHZvaWQge1xuXG4gICAgICAgIHRoaXMuc3Vicy51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["rxjs","rxjs/operators","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/tree.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { BehaviorSubject, combineLatest, merge, of, Subscription } from 'rxjs';\nimport { auditTime, filter, map, mergeMap, shareReplay, switchMap } from 'rxjs/operators';\nimport { CustomHttpParams } from './customParams.resource';\nimport { flatten } from './misc.resource';\nexport class TreeDatabase {\n    constructor(treeInfo) {\n        this.treeInfo = treeInfo;\n        this.databaseMap = new Map();\n        this.databaseKeyMap = new Map();\n        this.childTreeMap = new Map();\n        this._httpParams = new CustomHttpParams();\n        this.queueChange = new BehaviorSubject(true);\n        this.dataChange = this.queueChange.asObservable().pipe(switchMap(() => this.buildTree(this.treeInfo, null, this.httpParams)), shareReplay(1));\n    }\n    get httpParams() { return this._httpParams; }\n    set httpParams(v) {\n        this._httpParams = v;\n        this.reset();\n    }\n    buildTree(treeInfo, parentDoc = null, parentParams = new CustomHttpParams(), parentKey = null) {\n        const treeNodes = Object.keys(treeInfo).map(key => {\n            const db = treeInfo[key].getDatabase();\n            const currentDatabaseMapKey = parentKey && parentDoc ? `${parentKey}~${parentDoc.tenantUrl}--${key}` : key;\n            this.databaseKeyMap.set(currentDatabaseMapKey, db);\n            const possibleParamKeys = parentParams.keys().filter(pk => pk && pk.includes(`${key}--`));\n            let currentParams = new CustomHttpParams();\n            possibleParamKeys.forEach(pk => {\n                const paramName = pk.split(`${key}--`)[1];\n                if (!paramName.includes('--')) {\n                    currentParams = currentParams.set(paramName, parentParams.get(pk));\n                }\n            });\n            treeInfo[key].onCreationSetup ? treeInfo[key].onCreationSetup(parentDoc, db, currentParams) : db.httpParams = currentParams;\n            return db.dataChange.pipe(map(docs => {\n                const obsArr = docs.map(doc => {\n                    if (!this.databaseMap.has(doc)) {\n                        this.databaseMap.set(doc, db);\n                    }\n                    if (!this.childTreeMap.has(doc)) {\n                        if (treeInfo[key].isRecursive) {\n                            treeInfo[key].children[key] = treeInfo[key];\n                        }\n                        const childTree = this.buildTree(treeInfo[key].children, doc, parentParams, currentDatabaseMapKey).pipe(shareReplay(1));\n                        this.childTreeMap.set(doc, { item: doc, children: childTree });\n                    }\n                    return this.childTreeMap.get(doc);\n                });\n                return obsArr;\n            }));\n        });\n        return combineLatest(treeNodes).pipe(map(nodes => flatten(nodes)));\n    }\n    reset() {\n        this.databaseMap.clear();\n        this.databaseKeyMap.clear();\n        this.childTreeMap.clear();\n        this.queueChange.next(true);\n    }\n}\nexport class DynamicFlatNode {\n    constructor(item, level = 1, expandable = false) {\n        this.item = item;\n        this.level = level;\n        this.expandable = expandable;\n    }\n}\nexport class DynamicTreeFlattener {\n    constructor(transformFunction, getLevel, isExpandable, getChildren) {\n        this.transformFunction = transformFunction;\n        this.getLevel = getLevel;\n        this.isExpandable = isExpandable;\n        this.getChildren = getChildren;\n        this.flatNodeMap = new Map();\n        this.structuredNodeMap = new Map();\n        this.parentNodeMap = new Map();\n    }\n    _flattenNode(node, level) {\n        if (!this.flatNodeMap.has(node)) {\n            const flatNode = this.transformFunction(node, level);\n            this.flatNodeMap.set(node, flatNode);\n            this.structuredNodeMap.set(flatNode, node);\n        }\n        return this.flatNodeMap.get(node);\n    }\n    insertChildrenFlatNodes(parentNode, children, resultNodes) {\n        const index = resultNodes.indexOf(parentNode);\n        resultNodes.splice(index + 1, 0, ...children);\n        children.filter(c => !this.parentNodeMap.has(c)).forEach(c => this.parentNodeMap.set(c, parentNode));\n        return resultNodes;\n    }\n    removeChildrenFlatNodes(parentNode, resultNodes) {\n        const index = resultNodes.indexOf(parentNode);\n        let count = 0;\n        for (let i = index + 1; i < resultNodes.length && this.getLevel(resultNodes[i]) > this.getLevel(parentNode); i++, count++) { }\n        const children = resultNodes.splice(index + 1, count);\n        children.filter(c => this.parentNodeMap.has(c)).forEach(c => this.parentNodeMap.delete(c));\n        return resultNodes;\n    }\n    addChildrenFlatNode(parentFlatNode, resultNodes) {\n        const structuredNode = this.structuredNodeMap.get(parentFlatNode);\n        const structuredChildrenNodes = this.getChildren(structuredNode);\n        if (structuredChildrenNodes) {\n            if (Array.isArray(structuredChildrenNodes)) {\n                const flatChildren = structuredChildrenNodes.map(s => this._flattenNode(s, this.getLevel(parentFlatNode) + 1));\n                return of(this.insertChildrenFlatNodes(parentFlatNode, flatChildren, resultNodes));\n            }\n            else {\n                return structuredChildrenNodes.pipe(map(children => children.map(s => this._flattenNode(s, this.getLevel(parentFlatNode) + 1))), map(flatChildren => {\n                    resultNodes = this.removeChildrenFlatNodes(parentFlatNode, resultNodes);\n                    return this.insertChildrenFlatNodes(parentFlatNode, flatChildren, resultNodes);\n                }));\n            }\n        }\n        return of(resultNodes);\n    }\n    flattenNodes(structuredData) {\n        return structuredData.map(node => this._flattenNode(node, 0));\n    }\n}\nexport class DynamicFlatTreeDataSource {\n    constructor(_treeControl, _treeFlattener, initialData) {\n        this._treeControl = _treeControl;\n        this._treeFlattener = _treeFlattener;\n        this._flattenedData = new BehaviorSubject([]);\n        this._data = new BehaviorSubject([]);\n        this.subs = new Subscription();\n        if (initialData) {\n            this.data = initialData;\n        }\n    }\n    get data() { return this._data.value; }\n    set data(value) {\n        this._data.next(value);\n        const flattenedData = this._treeFlattener.flattenNodes(this.data);\n        this._treeControl.expansionModel.clear();\n        this._treeControl.dataNodes = flattenedData;\n        this.flattenedData = flattenedData;\n    }\n    mergeData(value) {\n        this._data.next(value);\n        const flattenedData = this._treeFlattener.flattenNodes(this.data);\n        const mergeObj = {};\n        this.flattenedData.concat(flattenedData).forEach(f => mergeObj[f.id] = f);\n        const mergedFlattenedData = Object.values(mergeObj);\n        this._treeControl.dataNodes = mergedFlattenedData;\n        this.flattenedData = mergedFlattenedData;\n    }\n    get flattenedData() { return this._flattenedData.value; }\n    set flattenedData(v) { this._flattenedData.next(v); }\n    toggleNode(flatNode, expand) {\n        if (expand) {\n            if (this._treeFlattener.isExpandable(flatNode)) {\n                return this._treeFlattener.addChildrenFlatNode(flatNode, this.flattenedData);\n            }\n            return this._flattenedData.asObservable();\n        }\n        else {\n            return of(this._treeFlattener.removeChildrenFlatNodes(flatNode, this.flattenedData));\n        }\n    }\n    handleTreeControl(change) {\n        if (change.added) {\n            const obsArray = change.added.map(node => this.toggleNode(node, true));\n            return combineLatest(obsArray).pipe(map((o) => o.length > 0 ? o[obsArray.length - 1] : []));\n        }\n        if (change.removed) {\n            const obsArray = change.removed.slice().reverse().map(node => this.toggleNode(node, false));\n            return combineLatest(obsArray).pipe(map((o) => o.length > 0 ? o[obsArray.length - 1] : []));\n        }\n    }\n    connect(collectionViewer) {\n        const changeObs = this._treeControl.expansionModel.changed.pipe(filter(change => !!change.added?.length || !!change.removed?.length), mergeMap(change => this.handleTreeControl(change)), auditTime(1000 / 60));\n        const subs = changeObs.subscribe((v) => {\n            this._treeControl.dataNodes = v;\n            this.flattenedData = v;\n        });\n        this.subs.add(subs);\n        return merge(collectionViewer.viewChange, this._flattenedData.asObservable()).pipe(map(() => this.flattenedData));\n    }\n    disconnect(collectionViewer) {\n        this.subs.unsubscribe();\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJlZS5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy90cmVlLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLEtBQUssRUFBYyxFQUFFLEVBQUUsWUFBWSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQzNGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBSzFGLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLHlCQUF5QixDQUFDO0FBQzNELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQXlCMUMsTUFBTSxPQUFPLFlBQVk7SUFxQnJCLFlBQW9CLFFBQTRCO1FBQTVCLGFBQVEsR0FBUixRQUFRLENBQW9CO1FBRTVDLElBQUksQ0FBQyxXQUFXLEdBQU0sSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUNoQyxJQUFJLENBQUMsY0FBYyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDaEMsSUFBSSxDQUFDLFlBQVksR0FBSyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBRWhDLElBQUksQ0FBQyxXQUFXLEdBQUksSUFBSSxnQkFBZ0IsRUFBRSxDQUFDO1FBQzNDLElBQUksQ0FBQyxXQUFXLEdBQUksSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFOUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUksQ0FFbEQsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxD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QyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtZQUVuQyxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUM7WUFFaEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUM7UUFDM0IsQ0FBQyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVwQixPQUFPLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLGNBQWMsQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDdEgsQ0FBQztJQUVELFVBQVUsQ0FBQyxnQkFBa0M7UUFFekMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUM1QixDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdHRwUGFyYW1zIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBtZXJnZSwgT2JzZXJ2YWJsZSwgb2YsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBmaWx0ZXIsIG1hcCwgbWVyZ2VNYXAsIHNoYXJlUmVwbGF5LCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBEYXRhdHlwZSwgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBEYXRhYmFzZSwgUmVhY3RpdmVEYXRhYmFzZSwgVGFibGVEYXRhVHlwZSB9IGZyb20gJy4vdGFibGUucmVzb3VyY2UnO1xuaW1wb3J0IHtDb2xsZWN0aW9uVmlld2VyLCBTZWxlY3Rpb25DaGFuZ2UsIERhdGFTb3VyY2V9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2xsZWN0aW9ucyc7XG5pbXBvcnQge0ZsYXRUcmVlQ29udHJvbH0gZnJvbSAnQGFuZ3VsYXIvY2RrL3RyZWUnO1xuaW1wb3J0IHsgQ3VzdG9tSHR0cFBhcmFtcyB9IGZyb20gJy4vY3VzdG9tUGFyYW1zLnJlc291cmNlJztcbmltcG9ydCB7IGZsYXR0ZW4gfSBmcm9tICcuL21pc2MucmVzb3VyY2UnO1xuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBJbnRlcmZhY2VzXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCB0eXBlIFRyZWVOb2RlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiA9IHtpdGVtOiBQd2FEb2N1bWVudDxUPiwgY2hpbGRyZW46IE9ic2VydmFibGU8VHJlZU5vZGU8YW55PltdPn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YWJhc2VJbmZvcm1hdGlvbjxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIGdldERhdGFiYXNlOiAobGltaXQ/OiBudW1iZXIpID0+IERhdGFiYXNlPFQ+IHwgUmVhY3RpdmVEYXRhYmFzZTxUPjtcbiAgICBvbkNyZWF0aW9uU2V0dXA/OiAocGFyZW50RG9jOiBQd2FEb2N1bWVudDxUPiB8IG51bGwsIGRiOiBEYXRhYmFzZTxUPiB8IFJlYWN0aXZlRGF0YWJhc2U8VD4sIHBhcmFtczogSHR0cFBhcmFtcykgPT4gdm9pZDtcbiAgICBpc1JlY3Vyc2l2ZTogYm9vbGVhbjtcbiAgICBjaGlsZHJlbjogVHJlZUluZm9ybWF0aW9uPFQ+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyZWVJbmZvcm1hdGlvbjxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIFtrZXk6IHN0cmluZ106IERhdGFiYXNlSW5mb3JtYXRpb248VD47XG59XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gVHJlZXNcbi8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5leHBvcnQgY2xhc3MgVHJlZURhdGFiYXNlPFQgZXh0ZW5kcyBUYWJsZURhdGFUeXBlPiB7XG5cbiAgICBjaGlsZFRyZWVNYXA6IE1hcDxQd2FEb2N1bWVudDxhbnk+LCBUcmVlTm9kZTxhbnk+PjtcbiAgICBkYXRhYmFzZU1hcDogTWFwPFB3YURvY3VtZW50PGFueT4sIERhdGFiYXNlPGFueT4gfCBSZWFjdGl2ZURhdGFiYXNlPGFueT4+O1xuXG4gICAgZGF0YWJhc2VLZXlNYXA6IE1hcDxzdHJpbmcsIERhdGFiYXNlPGFueT4gfCBSZWFjdGl2ZURhdGFiYXNlPGFueT4+O1xuXG4gICAgZGF0YUNoYW5nZTogT2JzZXJ2YWJsZTxUcmVlTm9kZTxUPltdPjtcblxuICAgIHByaXZhdGUgcXVldWVDaGFuZ2U6IEJlaGF2aW9yU3ViamVjdDxhbnk+O1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogdmFyaWFibGUtbmFtZVxuICAgIHByaXZhdGUgX2h0dHBQYXJhbXM6IEh0dHBQYXJhbXM7XG5cbiAgICBnZXQgaHR0cFBhcmFtcygpIHsgcmV0dXJuIHRoaXMuX2h0dHBQYXJhbXM7IH1cbiAgICBzZXQgaHR0cFBhcmFtcyh2OiBIdHRwUGFyYW1zKSB7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyA9IHY7XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdHJlZUluZm86IFRyZWVJbmZvcm1hdGlvbjxUPikge1xuXG4gICAgICAgIHRoaXMuZGF0YWJhc2VNYXAgICAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VLZXlNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuY2hpbGRUcmVlTWFwICAgPSBuZXcgTWFwKCk7XG5cbiAgICAgICAgdGhpcy5faHR0cFBhcmFtcyAgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlICA9IG5ldyBCZWhhdmlvclN1YmplY3QodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhQ2hhbmdlID0gdGhpcy5xdWV1ZUNoYW5nZS5hc09ic2VydmFibGUoKS5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gdGhpcy5idWlsZFRyZWUodGhpcy50cmVlSW5mbywgbnVsbCwgdGhpcy5odHRwUGFyYW1zKSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYnVpbGRUcmVlKHRyZWVJbmZvOiBUcmVlSW5mb3JtYXRpb248VD4sIHBhcmVudERvYzogUHdhRG9jdW1lbnQ8VD4gPSBudWxsLCBwYXJlbnRQYXJhbXMgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpLCBwYXJlbnRLZXkgPSBudWxsKTogT2JzZXJ2YWJsZTxUcmVlTm9kZTxUPltdPiB7XG5cbiAgICAgICAgY29uc3QgdHJlZU5vZGVzID0gT2JqZWN0LmtleXModHJlZUluZm8pLm1hcChrZXkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBkYiA9IHRyZWVJbmZvW2tleV0uZ2V0RGF0YWJhc2UoKTtcblxuICAgICAgICAgICAgY29uc3QgY3VycmVudERhdGFiYXNlTWFwS2V5ID0gcGFyZW50S2V5ICYmIHBhcmVudERvYyA/IGAke3BhcmVudEtleX1+JHtwYXJlbnREb2MudGVuYW50VXJsfS0tJHtrZXl9YCA6IGtleTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhYmFzZUtleU1hcC5zZXQoY3VycmVudERhdGFiYXNlTWFwS2V5LCBkYik7XG5cbiAgICAgICAgICAgIC8vIGNoZWNrIGN1cnJlbnQgaHR0cFBhcmFtc1xuICAgICAgICAgICAgY29uc3QgcG9zc2libGVQYXJhbUtleXMgPSBwYXJlbnRQYXJhbXMua2V5cygpLmZpbHRlcihwayA9PiBwayAmJiBway5pbmNsdWRlcyhgJHtrZXl9LS1gKSk7XG5cbiAgICAgICAgICAgIC8vIGNyZWF0ZSBuZXcgcGFyYW1zIGFzc29jaWF0ZWQgdG8gdGhpcyBkYXRhYmFzZVxuICAgICAgICAgICAgbGV0IGN1cnJlbnRQYXJhbXMgPSBuZXcgQ3VzdG9tSHR0cFBhcmFtcygpO1xuXG4gICAgICAgICAgICAvLyBleHRyYWN0IGNoaWxkUGFyYW1zXG4gICAgICAgICAgICBwb3NzaWJsZVBhcmFtS2V5cy5mb3JFYWNoKHBrID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtTmFtZSA9IHBrLnNwbGl0KGAke2tleX0tLWApWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8gb25seSBzZXQgcGFyYW0gYXNzb2NpYXRlZCB0byB0aGlzIGRhdGFiYXNlXG4gICAgICAgICAgICAgICAgLy8gZXh0cmEgJy0tJyB3b3VsZCBtZWFuIHBhcmFtcyB0byBuZXN0ZWQgZGF0YWJhc2VcbiAgICAgICAgICAgICAgICBpZiAoIXBhcmFtTmFtZS5pbmNsdWRlcygnLS0nKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJhbXMgPSBjdXJyZW50UGFyYW1zLnNldChwYXJhbU5hbWUsIHBhcmVudFBhcmFtcy5nZXQocGspKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBydW4gY2FsbGJhY2tcbiAgICAgICAgICAgIHRyZWVJbmZvW2tleV0ub25DcmVhdGlvblNldHVwID8gdHJlZUluZm9ba2V5XS5vbkNyZWF0aW9uU2V0dXAocGFyZW50RG9jLCBkYiwgY3VycmVudFBhcmFtcykgOiBkYi5odHRwUGFyYW1zID0gY3VycmVudFBhcmFtcztcblxuICAgICAgICAgICAgcmV0dXJuIGRiLmRhdGFDaGFuZ2UucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcChkb2NzID0+IHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvYnNBcnIgPSBkb2NzLm1hcChkb2MgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEYXRhYmFzZSBNYXBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5kYXRhYmFzZU1hcC5oYXMoZG9jKSkgeyB0aGlzLmRhdGFiYXNlTWFwLnNldChkb2MsIGRiKTsgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGlsZCBUcmVlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGlsZFRyZWVNYXAuaGFzKGRvYykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgY3VycmVudCB0cmVlSW5mbyBpbiBjaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGlzUmVjdXJzaXZlID09IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJlZUluZm9ba2V5XS5pc1JlY3Vyc2l2ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVJbmZvW2tleV0uY2hpbGRyZW5ba2V5XSA9IHRyZWVJbmZvW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGlsZFRyZWUgPSB0aGlzLmJ1aWxkVHJlZSh0cmVlSW5mb1trZXldLmNoaWxkcmVuLCBkb2MsIHBhcmVudFBhcmFtcywgY3VycmVudERhdGFiYXNlTWFwS2V5KS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSBhcyBPYnNlcnZhYmxlPFRyZWVOb2RlPGFueT5bXT47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkVHJlZU1hcC5zZXQoZG9jLCB7aXRlbTogZG9jLCBjaGlsZHJlbjogY2hpbGRUcmVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkVHJlZU1hcC5nZXQoZG9jKTtcblxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JzQXJyO1xuICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdCh0cmVlTm9kZXMpLnBpcGUoXG5cbiAgICAgICAgICAgIG1hcChub2RlcyA9PiBmbGF0dGVuKG5vZGVzKSksXG5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcblxuICAgICAgICB0aGlzLmRhdGFiYXNlTWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VLZXlNYXAuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5jaGlsZFRyZWVNYXAuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlLm5leHQodHJ1ZSk7XG4gICAgfVxuXG59XG5cbi8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gRGF0YVNvdXJjZVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbi8qKiBGbGF0IG5vZGUgd2l0aCBleHBhbmRhYmxlIGFuZCBsZXZlbCBpbmZvcm1hdGlvbiAqL1xuZXhwb3J0IGNsYXNzIER5bmFtaWNGbGF0Tm9kZTxUIGV4dGVuZHMgVGFibGVEYXRhVHlwZT4ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgaXRlbTogUHdhRG9jdW1lbnQ8VD4gfCBzdHJpbmcsXG4gICAgICAgIHB1YmxpYyBsZXZlbCA9IDEsXG4gICAgICAgIHB1YmxpYyBleHBhbmRhYmxlID0gZmFsc2UsXG4gICAgKSB7fVxufVxuXG5leHBvcnQgY2xhc3MgRHluYW1pY1RyZWVGbGF0dGVuZXI8VCwgRj4ge1xuXG4gICAgZmxhdE5vZGVNYXAgPSBuZXcgTWFwPFQsIEY+KCk7XG4gICAgc3RydWN0dXJlZE5vZGVNYXAgPSBuZXcgTWFwPEYsIFQ+KCk7XG4gICAgcGFyZW50Tm9kZU1hcCA9IG5ldyBNYXA8RiwgRj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB0cmFuc2Zvcm1GdW5jdGlvbjogKG5vZGU6IFQsIGxldmVsOiBudW1iZXIpID0+IEYsXG4gICAgICAgICAgICAgICAgcHVibGljIGdldExldmVsOiAobm9kZTogRikgPT4gbnVtYmVyLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBpc0V4cGFuZGFibGU6IChub2RlOiBGKSA9PiBib29sZWFuLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBnZXRDaGlsZHJlbjogKG5vZGU6IFQpID0+XG4gICAgICAgICAgICAgICAgICAgIE9ic2VydmFibGU8VFtdPiB8IFRbXSB8IHVuZGVmaW5lZCB8IG51bGwpIHt9XG5cbiAgICBfZmxhdHRlbk5vZGUobm9kZTogVCwgbGV2ZWw6IG51bWJlcik6IEYge1xuXG4gICAgICAgIGlmICghdGhpcy5mbGF0Tm9kZU1hcC5oYXMobm9kZSkpIHtcblxuICAgICAgICAgICAgY29uc3QgZmxhdE5vZGUgPSB0aGlzLnRyYW5zZm9ybUZ1bmN0aW9uKG5vZGUsIGxldmVsKTtcblxuICAgICAgICAgICAgdGhpcy5mbGF0Tm9kZU1hcC5zZXQobm9kZSwgZmxhdE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5zdHJ1Y3R1cmVkTm9kZU1hcC5zZXQoZmxhdE5vZGUsIG5vZGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZmxhdE5vZGVNYXAuZ2V0KG5vZGUpO1xuICAgIH1cblxuICAgIGluc2VydENoaWxkcmVuRmxhdE5vZGVzKHBhcmVudE5vZGU6IEYsIGNoaWxkcmVuOiBGW10sIHJlc3VsdE5vZGVzOiBGW10pOiBGW10ge1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gcmVzdWx0Tm9kZXMuaW5kZXhPZihwYXJlbnROb2RlKTtcblxuICAgICAgICByZXN1bHROb2Rlcy5zcGxpY2UoaW5kZXggKyAxLCAwLCAuLi5jaGlsZHJlbik7XG5cbiAgICAgICAgY2hpbGRyZW4uZmlsdGVyKGMgPT4gIXRoaXMucGFyZW50Tm9kZU1hcC5oYXMoYykpLmZvckVhY2goYyA9PiB0aGlzLnBhcmVudE5vZGVNYXAuc2V0KGMsIHBhcmVudE5vZGUpKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0Tm9kZXM7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2hpbGRyZW5GbGF0Tm9kZXMocGFyZW50Tm9kZTogRiwgcmVzdWx0Tm9kZXM6IEZbXSk6IEZbXSB7XG5cbiAgICAgICAgY29uc3QgaW5kZXggPSByZXN1bHROb2Rlcy5pbmRleE9mKHBhcmVudE5vZGUpO1xuXG4gICAgICAgIGxldCBjb3VudCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IGluZGV4ICsgMTsgaSA8IHJlc3VsdE5vZGVzLmxlbmd0aCAmJiB0aGlzLmdldExldmVsKHJlc3VsdE5vZGVzW2ldKSA+IHRoaXMuZ2V0TGV2ZWwocGFyZW50Tm9kZSk7IGkrKywgY291bnQrKykge31cblxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IHJlc3VsdE5vZGVzLnNwbGljZShpbmRleCArIDEsIGNvdW50KTtcblxuICAgICAgICBjaGlsZHJlbi5maWx0ZXIoYyA9PiB0aGlzLnBhcmVudE5vZGVNYXAuaGFzKGMpKS5mb3JFYWNoKGMgPT4gdGhpcy5wYXJlbnROb2RlTWFwLmRlbGV0ZShjKSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdE5vZGVzO1xuICAgIH1cblxuICAgIGFkZENoaWxkcmVuRmxhdE5vZGUocGFyZW50RmxhdE5vZGU6IEYsIHJlc3VsdE5vZGVzOiBGW10pOiBPYnNlcnZhYmxlPEZbXT4ge1xuXG4gICAgICAgIC8vIGZldGNoIHN0cnVjdHVyZWROb2RlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBwYXJlbnRGbGF0Tm9kZVxuICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkTm9kZSA9IHRoaXMuc3RydWN0dXJlZE5vZGVNYXAuZ2V0KHBhcmVudEZsYXROb2RlKTtcblxuICAgICAgICAvLyBmZXRjaCBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlIGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBzdHJ1Y3R1cmVkTm9kZVxuICAgICAgICBjb25zdCBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlcyA9IHRoaXMuZ2V0Q2hpbGRyZW4oc3RydWN0dXJlZE5vZGUpO1xuXG4gICAgICAgIGlmIChzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2Rlcykge1xuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2RlcykpIHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZsYXRDaGlsZHJlbiA9IHN0cnVjdHVyZWRDaGlsZHJlbk5vZGVzLm1hcChzID0+IHRoaXMuX2ZsYXR0ZW5Ob2RlKHMsIHRoaXMuZ2V0TGV2ZWwocGFyZW50RmxhdE5vZGUpICsgMSkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9mKHRoaXMuaW5zZXJ0Q2hpbGRyZW5GbGF0Tm9kZXMocGFyZW50RmxhdE5vZGUsIGZsYXRDaGlsZHJlbiwgcmVzdWx0Tm9kZXMpKTtcblxuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzdHJ1Y3R1cmVkQ2hpbGRyZW5Ob2Rlcy5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIG1hcChjaGlsZHJlbiA9PiBjaGlsZHJlbi5tYXAocyA9PiB0aGlzLl9mbGF0dGVuTm9kZShzLCB0aGlzLmdldExldmVsKHBhcmVudEZsYXROb2RlKSArIDEpKSksXG5cbiAgICAgICAgICAgICAgICAgICAgbWFwKGZsYXRDaGlsZHJlbiA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE5vZGVzID0gdGhpcy5yZW1vdmVDaGlsZHJlbkZsYXROb2RlcyhwYXJlbnRGbGF0Tm9kZSwgcmVzdWx0Tm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRDaGlsZHJlbkZsYXROb2RlcyhwYXJlbnRGbGF0Tm9kZSwgZmxhdENoaWxkcmVuLCByZXN1bHROb2Rlcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZihyZXN1bHROb2Rlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmxhdHRlbiBhIGxpc3Qgb2Ygbm9kZSB0eXBlIFQgdG8gZmxhdHRlbmVkIHZlcnNpb24gb2Ygbm9kZSBGLlxuICAgICAqIFBsZWFzZSBub3RlIHRoYXQgdHlwZSBUIG1heSBiZSBuZXN0ZWQsIGFuZCB0aGUgbGVuZ3RoIG9mIGBzdHJ1Y3R1cmVkRGF0YWAgbWF5IGJlIGRpZmZlcmVudFxuICAgICAqIGZyb20gdGhhdCBvZiByZXR1cm5lZCBsaXN0IGBGW11gLlxuICAgICAqL1xuICAgIGZsYXR0ZW5Ob2RlcyhzdHJ1Y3R1cmVkRGF0YTogVFtdKTogRltdIHtcblxuICAgICAgICByZXR1cm4gc3RydWN0dXJlZERhdGEubWFwKG5vZGUgPT4gdGhpcy5fZmxhdHRlbk5vZGUobm9kZSwgMCkpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgRHluYW1pY0ZsYXRUcmVlRGF0YVNvdXJjZTxULCBGIGV4dGVuZHMgRGF0YXR5cGU+IGltcGxlbWVudHMgRGF0YVNvdXJjZTxGPiB7XG5cbiAgICByZWFkb25seSBfZmxhdHRlbmVkRGF0YSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RltdPihbXSk7XG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGF0YSA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VFtdPihbXSk7XG5cbiAgICBzdWJzID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuXG4gICAgZ2V0IGRhdGEoKSB7IHJldHVybiB0aGlzLl9kYXRhLnZhbHVlOyB9XG5cbiAgICBzZXQgZGF0YSh2YWx1ZTogVFtdKSB7XG5cbiAgICAgICAgdGhpcy5fZGF0YS5uZXh0KHZhbHVlKTtcblxuICAgICAgICBjb25zdCBmbGF0dGVuZWREYXRhID0gdGhpcy5fdHJlZUZsYXR0ZW5lci5mbGF0dGVuTm9kZXModGhpcy5kYXRhKTtcblxuICAgICAgICB0aGlzLl90cmVlQ29udHJvbC5leHBhbnNpb25Nb2RlbC5jbGVhcigpO1xuXG4gICAgICAgIHRoaXMuX3RyZWVDb250cm9sLmRhdGFOb2RlcyA9IGZsYXR0ZW5lZERhdGE7XG5cbiAgICAgICAgdGhpcy5mbGF0dGVuZWREYXRhID0gZmxhdHRlbmVkRGF0YTtcbiAgICB9XG5cbiAgICBtZXJnZURhdGEodmFsdWU6IFRbXSkge1xuXG4gICAgICAgIHRoaXMuX2RhdGEubmV4dCh2YWx1ZSk7XG5cbiAgICAgICAgY29uc3QgZmxhdHRlbmVkRGF0YSA9IHRoaXMuX3RyZWVGbGF0dGVuZXIuZmxhdHRlbk5vZGVzKHRoaXMuZGF0YSk7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VPYmo6IHtba2V5OiBzdHJpbmddOiBGfSA9IHt9O1xuXG4gICAgICAgIHRoaXMuZmxhdHRlbmVkRGF0YS5jb25jYXQoZmxhdHRlbmVkRGF0YSkuZm9yRWFjaChmID0+IG1lcmdlT2JqW2YuaWRdID0gZik7XG5cbiAgICAgICAgY29uc3QgbWVyZ2VkRmxhdHRlbmVkRGF0YSA9IE9iamVjdC52YWx1ZXMobWVyZ2VPYmopO1xuXG4gICAgICAgIHRoaXMuX3RyZWVDb250cm9sLmRhdGFOb2RlcyA9IG1lcmdlZEZsYXR0ZW5lZERhdGE7XG5cbiAgICAgICAgdGhpcy5mbGF0dGVuZWREYXRhID0gbWVyZ2VkRmxhdHRlbmVkRGF0YTtcbiAgICB9XG5cbiAgICBnZXQgZmxhdHRlbmVkRGF0YSgpOiBGW10geyByZXR1cm4gdGhpcy5fZmxhdHRlbmVkRGF0YS52YWx1ZTsgfVxuICAgIHNldCBmbGF0dGVuZWREYXRhKHY6IEZbXSkgeyB0aGlzLl9mbGF0dGVuZWREYXRhLm5leHQodik7IH1cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBfdHJlZUNvbnRyb2w6IEZsYXRUcmVlQ29udHJvbDxGPiwgcHVibGljIF90cmVlRmxhdHRlbmVyOiBEeW5hbWljVHJlZUZsYXR0ZW5lcjxULCBGPiwgaW5pdGlhbERhdGE/OiBUW10pIHtcblxuICAgICAgICBpZiAoaW5pdGlhbERhdGEpIHtcbiAgICAgICAgICAgIC8vIEFzc2lnbiB0aGUgZGF0YSB0aHJvdWdoIHRoZSBjb25zdHJ1Y3RvciB0byBlbnN1cmUgdGhhdCBhbGwgb2YgdGhlIGxvZ2ljIGlzIGV4ZWN1dGVkLlxuICAgICAgICAgICAgdGhpcy5kYXRhID0gaW5pdGlhbERhdGE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGUgdGhlIG5vZGUsIHJlbW92ZSBmcm9tIGRpc3BsYXkgbGlzdFxuICAgICAqL1xuICAgIHRvZ2dsZU5vZGUoZmxhdE5vZGU6IEYsIGV4cGFuZDogYm9vbGVhbik6IE9ic2VydmFibGU8RltdPiB7XG5cbiAgICAgICAgaWYgKGV4cGFuZCkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fdHJlZUZsYXR0ZW5lci5pc0V4cGFuZGFibGUoZmxhdE5vZGUpKSB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJlZUZsYXR0ZW5lci5hZGRDaGlsZHJlbkZsYXROb2RlKGZsYXROb2RlLCB0aGlzLmZsYXR0ZW5lZERhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmxhdHRlbmVkRGF0YS5hc09ic2VydmFibGUoKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICByZXR1cm4gb2YodGhpcy5fdHJlZUZsYXR0ZW5lci5yZW1vdmVDaGlsZHJlbkZsYXROb2RlcyhmbGF0Tm9kZSwgdGhpcy5mbGF0dGVuZWREYXRhKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogSGFuZGxlIGV4cGFuZC9jb2xsYXBzZSBiZWhhdmlvcnMgKi9cbiAgICBoYW5kbGVUcmVlQ29udHJvbChjaGFuZ2U6IFNlbGVjdGlvbkNoYW5nZTxGPik6IE9ic2VydmFibGU8RltdPiB7XG5cbiAgICAgICAgaWYgKGNoYW5nZS5hZGRlZCkge1xuXG4gICAgICAgICAgICBjb25zdCBvYnNBcnJheSA9IGNoYW5nZS5hZGRlZC5tYXAobm9kZSA9PiB0aGlzLnRvZ2dsZU5vZGUobm9kZSwgdHJ1ZSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChvYnNBcnJheSkucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcCgobykgPT4gby5sZW5ndGggPiAwID8gb1tvYnNBcnJheS5sZW5ndGggLSAxXSA6IFtdKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2UucmVtb3ZlZCkge1xuXG4gICAgICAgICAgICBjb25zdCBvYnNBcnJheSA9IGNoYW5nZS5yZW1vdmVkLnNsaWNlKCkucmV2ZXJzZSgpLm1hcChub2RlID0+IHRoaXMudG9nZ2xlTm9kZShub2RlLCBmYWxzZSkpO1xuXG4gICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChvYnNBcnJheSkucGlwZShcblxuICAgICAgICAgICAgICAgIG1hcCgobykgPT4gby5sZW5ndGggPiAwID8gb1tvYnNBcnJheS5sZW5ndGggLSAxXSA6IFtdKVxuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBjb25uZWN0KGNvbGxlY3Rpb25WaWV3ZXI6IENvbGxlY3Rpb25WaWV3ZXIpOiBPYnNlcnZhYmxlPEZbXT4ge1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZU9icyA9IHRoaXMuX3RyZWVDb250cm9sLmV4cGFuc2lvbk1vZGVsLmNoYW5nZWQucGlwZShcblxuICAgICAgICAgICAgZmlsdGVyKGNoYW5nZSA9PiAhIShjaGFuZ2UgYXMgU2VsZWN0aW9uQ2hhbmdlPEY+KS5hZGRlZD8ubGVuZ3RoIHx8ICEhKGNoYW5nZSBhcyBTZWxlY3Rpb25DaGFuZ2U8Rj4pLnJlbW92ZWQ/Lmxlbmd0aCksXG5cbiAgICAgICAgICAgIG1lcmdlTWFwKGNoYW5nZSA9PiB0aGlzLmhhbmRsZVRyZWVDb250cm9sKGNoYW5nZSBhcyBTZWxlY3Rpb25DaGFuZ2U8Rj4pKSxcblxuICAgICAgICAgICAgYXVkaXRUaW1lKDEwMDAgLyA2MClcbiAgICAgICAgKTtcblxuICAgICAgICBjb25zdCBzdWJzID0gY2hhbmdlT2JzLnN1YnNjcmliZSgodikgPT4ge1xuXG4gICAgICAgICAgICB0aGlzLl90cmVlQ29udHJvbC5kYXRhTm9kZXMgPSB2O1xuXG4gICAgICAgICAgICB0aGlzLmZsYXR0ZW5lZERhdGEgPSB2O1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN1YnMuYWRkKHN1YnMpO1xuXG4gICAgICAgIHJldHVybiBtZXJnZShjb2xsZWN0aW9uVmlld2VyLnZpZXdDaGFuZ2UsIHRoaXMuX2ZsYXR0ZW5lZERhdGEuYXNPYnNlcnZhYmxlKCkpLnBpcGUobWFwKCgpID0+IHRoaXMuZmxhdHRlbmVkRGF0YSkpO1xuICAgIH1cblxuICAgIGRpc2Nvbm5lY3QoY29sbGVjdGlvblZpZXdlcjogQ29sbGVjdGlvblZpZXdlcik6IHZvaWQge1xuXG4gICAgICAgIHRoaXMuc3Vicy51bnN1YnNjcmliZSgpO1xuICAgIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"tree.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/tree.resource.ts"],"names":[],"mappings":[[[0,0,1,0],[7,0,1,7],[9,0,1,9],[24,0,1,24],[26,0,1,26],[39,0,1,39],[41,0,1,41],[46,0,1,46],[48,0,1,60],[50,0,1,62],[52,0,1,64],[64,0,1,76],[66,0,1,78],[72,0,1,84],[78,0,1,90],[79,0,1,91]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[18,0,2,18],[20,0,2,20],[26,0,2,26],[28,0,2,28],[31,0,2,31],[33,0,2,33],[41,0,2,41],[43,0,2,43],[54,0,2,54],[56,0,2,56],[65,0,2,65],[67,0,2,67],[73,0,2,73],[89,0,2,89],[90,0,2,90]],[[0,0,7,0],[7,0,7,7],[9,0,7,9],[25,0,7,25],[27,0,7,27],[33,0,7,33],[58,0,7,58],[59,0,7,59]],[[0,0,8,0],[7,0,8,7],[9,0,8,9],[16,0,8,16],[18,0,8,18],[24,0,8,24],[41,0,8,41],[42,0,8,42]],[[0,0,33,0],[6,0,33,6],[13,0,33,13],[25,0,33,25]],[[4,0,54,4],[16,0,54,24],[24,0,54,52]],[[8,0,54,24],[21,0,54,32],[24,0,54,24],[32,0,54,32],[33,0,54,52]],[[8,0,56,8],[12,0,56,12],[13,0,56,13],[24,0,56,24],[27,0,56,30],[31,0,56,34],[34,0,56,37],[36,0,56,39],[37,0,56,40]],[[8,0,57,8],[12,0,57,12],[13,0,57,13],[27,0,57,27],[30,0,57,30],[34,0,57,34],[37,0,57,37],[39,0,57,39],[40,0,57,40]],[[8,0,58,8],[12,0,58,12],[13,0,58,13],[25,0,58,25],[28,0,58,30],[32,0,58,34],[35,0,58,37],[37,0,58,39],[38,0,58,40]],[[8,0,60,8],[12,0,60,12],[13,0,60,13],[24,0,60,24],[27,0,60,28],[31,0,60,32],[47,0,60,48],[49,0,60,50],[50,0,60,51]],[[8,0,61,8],[12,0,61,12],[13,0,61,13],[24,0,61,24],[27,0,61,28],[31,0,61,32],[46,0,61,47],[47,0,61,48],[51,0,61,52],[52,0,61,53],[53,0,61,54]],[[8,0,63,8],[12,0,63,12],[13,0,63,13],[23,0,63,23],[26,0,63,26],[30,0,63,30],[31,0,63,31],[42,0,63,42],[43,0,63,43],[55,0,63,55],[57,0,63,57],[58,0,63,58],[62,0,63,62],[63,0,65,12],[72,0,65,21],[73,0,65,22],[76,0,65,25],[78,0,65,27],[79,0,65,28],[83,0,65,32],[84,0,65,33],[93,0,65,42],[94,0,65,43],[98,0,65,47],[99,0,65,48],[107,0,65,56],[109,0,65,58],[113,0,65,62],[115,0,65,64],[119,0,65,68],[120,0,65,69],[130,0,65,79],[131,0,65,80],[132,0,65,81],[134,0,67,12],[145,0,67,23],[146,0,67,24],[147,0,67,25],[148,0,67,26],[149,0,69,9],[150,0,69,10]],[[4,0,70,4],[5,0,70,5]],[[4,0,46,4],[8,0,46,8],[18,0,46,18],[23,0,46,23],[30,0,46,30],[34,0,46,34],[35,0,46,35],[46,0,46,46],[47,0,46,47],[48,0,46,48],[49,0,46,49]],[[4,0,47,4],[8,0,47,8],[18,0,47,18],[19,0,47,19],[20,0,47,32]],[[8,0,49,8],[12,0,49,12],[13,0,49,13],[24,0,49,24],[27,0,49,27],[28,0,49,28],[29,0,49,29]],[[8,0,51,8],[12,0,51,12],[13,0,51,13],[18,0,51,18],[20,0,51,20],[21,0,51,21]],[[4,0,52,4],[5,0,52,5]],[[4,0,72,4],[13,0,72,13],[14,0,72,14],[22,0,72,42],[24,0,72,44],[36,0,72,72],[40,0,72,76],[42,0,72,78],[54,0,72,90],[57,0,72,93],[61,0,72,97],[77,0,72,113],[79,0,72,115],[81,0,72,117],[90,0,72,126],[93,0,72,129],[97,0,72,133]],[[8,0,74,8],[14,0,74,14],[23,0,74,23],[26,0,74,26],[32,0,74,32],[33,0,74,33],[37,0,74,37],[38,0,74,38],[46,0,74,46],[47,0,74,47],[48,0,74,48],[51,0,74,51],[52,0,74,52],[55,0,74,55],[56,0,74,56],[58,0,74,58]],[[12,0,76,12],[18,0,76,18],[20,0,76,20],[23,0,76,23],[31,0,76,31],[32,0,76,32],[35,0,76,35],[36,0,76,36],[37,0,76,37],[48,0,76,48],[50,0,76,50],[51,0,76,51]],[[12,0,78,12],[18,0,78,18],[39,0,78,39],[42,0,78,42],[51,0,78,51],[55,0,78,55],[64,0,78,64],[65,0,78,65],[66,0,78,66],[67,0,78,67],[70,0,78,70],[79,0,78,79],[83,0,78,83],[92,0,78,92],[93,0,78,93],[102,0,78,102],[107,0,78,107],[110,0,78,110],[112,0,78,112],[113,0,78,113],[114,0,78,114],[115,0,78,115],[118,0,78,118],[119,0,78,119]],[[12,0,80,12],[16,0,80,16],[17,0,80,17],[31,0,80,31],[32,0,80,32],[35,0,80,35],[36,0,80,36],[57,0,80,57],[59,0,80,59],[61,0,80,61],[62,0,80,62],[63,0,80,63]],[[12,0,83,12],[18,0,83,18],[35,0,83,35],[38,0,83,38],[50,0,83,50],[51,0,83,51],[55,0,83,55],[57,0,83,57],[58,0,83,58],[64,0,83,64],[65,0,83,65],[67,0,83,67],[68,0,83,68],[70,0,83,70],[71,0,83,71],[73,0,83,73],[77,0,83,77],[79,0,83,79],[80,0,83,80],[88,0,83,88],[89,0,83,89],[92,0,83,92],[95,0,83,95],[99,0,83,99],[100,0,83,100],[101,0,83,101],[102,0,83,102]],[[12,0,86,12],[16,0,86,16],[29,0,86,29],[32,0,86,32],[36,0,86,36],[52,0,86,52],[54,0,86,54],[55,0,86,55]],[[12,0,89,12],[29,0,89,29],[30,0,89,30],[37,0,89,37],[38,0,89,38],[40,0,89,40],[41,0,89,41],[43,0,89,43]],[[16,0,91,16],[22,0,91,22],[31,0,91,31],[34,0,91,34],[36,0,91,36],[37,0,91,37],[42,0,91,42],[43,0,91,43],[46,0,91,46],[49,0,91,49],[53,0,91,53],[54,0,91,54],[55,0,91,55],[56,0,91,56],[57,0,91,57],[58,0,91,58]],[[16,0,95,16],[20,0,95,20],[21,0,95,21],[30,0,95,30],[31,0,95,31],[39,0,95,39],[40,0,95,40],[44,0,95,44],[45,0,95,45],[47,0,95,47]],[[20,0,97,20],[33,0,97,33],[36,0,97,36],[49,0,97,49],[50,0,97,50],[53,0,97,53],[54,0,97,54],[63,0,97,63],[65,0,97,65],[77,0,97,77],[78,0,97,78],[81,0,97,81],[82,0,97,82],[84,0,97,84],[85,0,97,85],[86,0,97,86],[87,0,97,87]],[[17,0,98,17]],[[12,0,100,12],[13,0,100,13],[14,0,100,14],[15,0,100,15]],[[12,0,103,12],[20,0,103,20],[21,0,103,21],[24,0,103,24],[25,0,103,25],[26,0,103,26],[41,0,103,41],[42,0,103,42],[43,0,103,43],[44,0,103,44],[52,0,103,52],[53,0,103,53],[56,0,103,56],[57,0,103,57],[58,0,103,58],[73,0,103,73],[74,0,103,74],[83,0,103,83],[85,0,103,85],[87,0,103,87],[89,0,103,89],[102,0,103,102],[103,0,103,103],[104,0,103,104],[105,0,103,105],[106,0,103,106],[108,0,103,108],[109,0,103,109],[119,0,103,119],[122,0,103,122],[135,0,103,135],[136,0,103,136]],[[12,0,105,12],[19,0,105,19],[21,0,105,21],[22,0,105,22],[32,0,105,32],[33,0,105,33],[37,0,105,37],[38,0,107,16],[41,0,107,19],[42,0,107,20],[46,0,107,24],[47,0,107,25],[49,0,107,27]],[[16,0,109,20],[22,0,109,26],[28,0,109,32],[31,0,109,35],[35,0,109,39],[36,0,109,40],[39,0,109,43],[40,0,109,44],[43,0,109,47],[44,0,109,48],[46,0,109,50]],[[20,0,114,24],[24,0,114,28],[25,0,114,29],[29,0,114,33],[30,0,114,34],[41,0,114,45],[42,0,114,46],[45,0,114,49],[46,0,114,50],[49,0,114,53],[50,0,114,54],[52,0,114,56]],[[24,0,114,58],[28,0,114,62],[29,0,114,63],[40,0,114,74],[41,0,114,75],[44,0,114,78],[45,0,114,79],[48,0,114,82],[50,0,114,84],[52,0,114,86],[53,0,114,87],[54,0,114,88]],[[21,0,114,90]],[[20,0,120,24],[24,0,120,28],[25,0,120,29],[29,0,120,33],[30,0,120,34],[42,0,120,46],[43,0,120,47],[46,0,120,50],[47,0,120,51],[50,0,120,54],[51,0,120,55],[53,0,120,57]],[[24,0,124,28],[28,0,124,32],[36,0,124,40],[37,0,124,41],[40,0,124,44],[41,0,124,45],[42,0,124,46],[53,0,124,57],[55,0,124,59]],[[28,0,126,32],[36,0,126,40],[37,0,126,41],[40,0,126,44],[41,0,126,45],[42,0,126,46],[50,0,126,54],[51,0,126,55],[54,0,126,58],[55,0,126,59],[58,0,126,62],[66,0,126,70],[67,0,126,71],[70,0,126,74],[71,0,126,75],[72,0,126,76]],[[25,0,128,29]],[[24,0,130,28],[30,0,130,34],[39,0,130,43],[42,0,130,46],[46,0,130,50],[47,0,130,51],[56,0,130,60],[57,0,130,61],[65,0,130,69],[66,0,130,70],[69,0,130,73],[70,0,130,74],[71,0,130,75],[79,0,130,83],[81,0,130,85],[84,0,130,88],[86,0,130,90],[98,0,130,102],[100,0,130,104],[121,0,130,125],[122,0,130,126],[123,0,130,127],[127,0,130,131],[128,0,132,32],[139,0,132,43],[140,0,132,44],[141,0,132,45],[142,0,132,46],[143,0,134,60],[144,0,134,61]],[[24,0,136,28],[28,0,136,32],[29,0,136,33],[41,0,136,45],[42,0,136,46],[45,0,136,49],[46,0,136,50],[49,0,136,53],[51,0,136,55],[53,0,136,56],[57,0,136,60],[59,0,136,62],[62,0,136,65],[64,0,136,67],[72,0,136,75],[74,0,136,77],[83,0,136,86],[85,0,136,87],[86,0,136,88],[87,0,136,89]],[[21,0,137,25]],[[20,0,139,24],[27,0,139,31],[31,0,139,35],[32,0,139,36],[44,0,139,48],[45,0,139,49],[48,0,139,52],[49,0,139,53],[52,0,139,56],[53,0,139,57],[54,0,139,58]],[[16,0,141,20],[17,0,141,21],[18,0,141,22],[19,0,141,23]],[[16,0,143,20],[23,0,143,27],[29,0,143,33],[30,0,143,34]],[[12,0,144,16],[13,0,144,17],[14,0,144,18],[15,0,146,13],[16,0,146,14]],[[8,0,147,8],[9,0,147,9],[10,0,147,10],[11,0,147,11]],[[8,0,149,8],[15,0,149,15],[28,0,149,28],[29,0,149,29],[38,0,149,38],[39,0,149,39],[40,0,149,40],[44,0,149,44],[45,0,151,12],[48,0,151,15],[49,0,151,16],[54,0,151,21],[55,0,151,22],[57,0,151,24],[58,0,151,25],[65,0,151,32],[66,0,151,33],[71,0,151,38],[72,0,151,39],[73,0,151,40],[74,0,153,9],[75,0,153,10]],[[4,0,154,4],[5,0,154,5]],[[4,0,156,4],[9,0,156,9]],[[8,0,158,8],[12,0,158,12],[13,0,158,13],[24,0,158,24],[25,0,158,25],[30,0,158,30],[32,0,158,32],[33,0,158,33]],[[8,0,159,8],[12,0,159,12],[13,0,159,13],[27,0,159,27],[28,0,159,28],[33,0,159,33],[35,0,159,35],[36,0,159,36]],[[8,0,160,8],[12,0,160,12],[13,0,160,13],[25,0,160,25],[26,0,160,26],[31,0,160,31],[33,0,160,33],[34,0,160,34]],[[8,0,162,8],[12,0,162,12],[13,0,162,13],[24,0,162,24],[25,0,162,25],[29,0,162,29],[30,0,162,30],[34,0,162,34],[35,0,162,35],[36,0,162,36]],[[4,0,163,4],[5,0,163,5]],[[1,0,165,1]],[[0,0,172,0],[6,0,172,6],[13,0,172,13],[28,0,172,28]],[[4,0,173,4],[16,0,174,15],[20,0,174,44],[22,0,175,15],[30,0,175,23],[31,0,175,24],[33,0,176,15],[46,0,176,28],[51,0,176,33]],[[8,0,174,15],[17,0,174,19],[20,0,174,15],[24,0,174,19],[25,0,174,44]],[[8,0,175,15],[18,0,175,20],[21,0,175,15],[26,0,175,20],[27,0,175,24]],[[8,0,176,15],[23,0,176,25],[26,0,176,15],[36,0,176,25],[37,0,176,33]],[[4,0,177,7],[5,0,177,8]],[[1,0,178,1]],[[0,0,180,0],[6,0,180,6],[13,0,180,13],[33,0,180,33]],[[4,0,186,4],[16,0,186,23],[33,0,186,71],[35,0,187,23],[43,0,187,52],[45,0,188,23],[57,0,188,57],[59,0,189,23],[70,0,190,60]],[[8,0,186,23],[30,0,186,40],[33,0,186,23],[50,0,186,40],[51,0,186,71]],[[8,0,187,23],[21,0,187,31],[24,0,187,23],[32,0,187,31],[33,0,187,52]],[[8,0,188,23],[25,0,188,35],[28,0,188,23],[40,0,188,35],[41,0,188,57]],[[8,0,189,23],[24,0,189,34],[27,0,189,23],[38,0,189,34],[39,0,190,60]],[[8,0,182,4],[24,0,182,15],[27,0,182,18],[31,0,182,22],[34,0,182,25],[36,0,182,33],[37,0,182,34]],[[8,0,183,4],[30,0,183,21],[33,0,183,24],[37,0,183,28],[40,0,183,31],[42,0,183,39],[43,0,183,40]],[[8,0,184,4],[26,0,184,17],[29,0,184,20],[33,0,184,24],[36,0,184,27],[38,0,184,35],[39,0,184,36]],[[4,0,190,63],[5,0,190,64]],[[4,0,192,4],[16,0,192,16],[17,0,192,17],[21,0,192,24],[23,0,192,26],[28,0,192,39]],[[8,0,194,8],[12,0,194,12],[13,0,194,13],[17,0,194,17],[18,0,194,18],[29,0,194,29],[30,0,194,30],[33,0,194,33],[34,0,194,34],[38,0,194,38],[39,0,194,39],[41,0,194,41]],[[12,0,196,12],[18,0,196,18],[26,0,196,26],[29,0,196,29],[33,0,196,33],[34,0,196,34],[51,0,196,51],[52,0,196,52],[56,0,196,56],[58,0,196,58],[63,0,196,63],[64,0,196,64],[65,0,196,65]],[[12,0,198,12],[16,0,198,16],[17,0,198,17],[28,0,198,28],[29,0,198,29],[32,0,198,32],[33,0,198,33],[37,0,198,37],[39,0,198,39],[47,0,198,47],[48,0,198,48],[49,0,198,49]],[[12,0,199,12],[16,0,199,16],[17,0,199,17],[34,0,199,34],[35,0,199,35],[38,0,199,38],[39,0,199,39],[47,0,199,47],[49,0,199,49],[53,0,199,53],[54,0,199,54],[55,0,199,55]],[[9,0,200,9]],[[8,0,202,8],[15,0,202,15],[19,0,202,19],[20,0,202,20],[31,0,202,31],[32,0,202,32],[35,0,202,35],[36,0,202,36],[40,0,202,40],[41,0,202,41],[42,0,202,42]],[[4,0,203,4],[5,0,203,5]],[[4,0,205,4],[27,0,205,27],[28,0,205,28],[38,0,205,41],[40,0,205,43],[48,0,205,56],[50,0,205,58],[61,0,205,74]],[[8,0,207,8],[14,0,207,14],[19,0,207,19],[22,0,207,22],[33,0,207,33],[34,0,207,34],[41,0,207,41],[42,0,207,42],[52,0,207,52],[53,0,207,53],[54,0,207,54]],[[8,0,209,8],[19,0,209,19],[20,0,209,20],[26,0,209,26],[27,0,209,27],[32,0,209,32],[35,0,209,35],[36,0,209,36],[38,0,209,38],[39,0,209,39],[41,0,209,41],[44,0,209,44],[52,0,209,52],[53,0,209,53],[54,0,209,54]],[[8,0,211,8],[16,0,211,16],[17,0,211,17],[23,0,211,23],[24,0,211,24],[25,0,211,25],[26,0,211,26],[28,0,211,28],[29,0,211,29],[30,0,211,30],[34,0,211,34],[35,0,211,35],[48,0,211,48],[49,0,211,49],[52,0,211,52],[53,0,211,53],[54,0,211,54],[55,0,211,55],[56,0,211,56],[57,0,211,57],[64,0,211,64],[65,0,211,65],[66,0,211,66],[67,0,211,67],[69,0,211,69],[70,0,211,70],[74,0,211,74],[75,0,211,75],[88,0,211,88],[89,0,211,89],[92,0,211,92],[93,0,211,93],[94,0,211,94],[96,0,211,96],[106,0,211,106],[107,0,211,107],[108,0,211,108],[109,0,211,109]],[[8,0,213,8],[15,0,213,15],[26,0,213,26],[27,0,213,27]],[[4,0,214,4],[5,0,214,5]],[[4,0,216,4],[27,0,216,27],[28,0,216,28],[38,0,216,41],[40,0,216,43],[51,0,216,59]],[[8,0,218,8],[14,0,218,14],[19,0,218,19],[22,0,218,22],[33,0,218,33],[34,0,218,34],[41,0,218,41],[42,0,218,42],[52,0,218,52],[53,0,218,53],[54,0,218,54]],[[8,0,220,8],[12,0,220,12],[17,0,220,17],[20,0,220,20],[21,0,220,21],[22,0,220,22]],[[8,0,222,8],[13,0,222,13],[17,0,222,17],[18,0,222,18],[21,0,222,21],[26,0,222,26],[29,0,222,29],[30,0,222,30],[32,0,222,32],[33,0,222,33],[36,0,222,36],[47,0,222,47],[48,0,222,48],[54,0,222,54],[58,0,222,58],[62,0,222,62],[63,0,222,63],[71,0,222,71],[72,0,222,72],[83,0,222,83],[84,0,222,84],[85,0,222,85],[86,0,222,86],[87,0,222,87],[90,0,222,90],[94,0,222,94],[95,0,222,95],[103,0,222,103],[104,0,222,104],[114,0,222,114],[115,0,222,115],[117,0,222,117],[118,0,222,118],[120,0,222,120],[122,0,222,122],[127,0,222,127],[129,0,222,129],[131,0,222,131],[134,0,222,133]],[[8,0,224,8],[14,0,224,14],[22,0,224,22],[25,0,224,25],[36,0,224,36],[37,0,224,37],[43,0,224,43],[44,0,224,44],[49,0,224,49],[52,0,224,52],[53,0,224,53],[55,0,224,55],[60,0,224,60],[61,0,224,61],[62,0,224,62]],[[8,0,226,8],[16,0,226,16],[17,0,226,17],[23,0,226,23],[24,0,226,24],[25,0,226,25],[26,0,226,26],[28,0,226,28],[29,0,226,29],[33,0,226,33],[34,0,226,34],[47,0,226,47],[48,0,226,48],[51,0,226,51],[52,0,226,52],[53,0,226,53],[54,0,226,54],[55,0,226,55],[56,0,226,56],[63,0,226,63],[64,0,226,64],[65,0,226,65],[66,0,226,66],[68,0,226,68],[69,0,226,69],[73,0,226,73],[74,0,226,74],[87,0,226,87],[88,0,226,88],[94,0,226,94],[95,0,226,95],[96,0,226,96],[97,0,226,97],[98,0,226,98],[99,0,226,99]],[[8,0,228,8],[15,0,228,15],[26,0,228,26],[27,0,228,27]],[[4,0,229,4],[5,0,229,5]],[[4,0,231,4],[23,0,231,23],[24,0,231,24],[38,0,231,41],[40,0,231,43],[51,0,231,59]],[[8,0,234,8],[14,0,234,14],[28,0,234,28],[31,0,234,31],[35,0,234,35],[36,0,234,36],[53,0,234,53],[54,0,234,54],[57,0,234,57],[58,0,234,58],[72,0,234,72],[73,0,234,73],[74,0,234,74]],[[8,0,237,8],[14,0,237,14],[37,0,237,37],[40,0,237,40],[44,0,237,44],[45,0,237,45],[56,0,237,56],[57,0,237,57],[71,0,237,71],[72,0,237,72],[73,0,237,73]],[[8,0,239,8],[12,0,239,12],[35,0,239,35],[37,0,239,37]],[[12,0,241,12],[16,0,241,16],[21,0,241,21],[22,0,241,22],[29,0,241,29],[30,0,241,30],[53,0,241,53],[54,0,241,54],[56,0,241,56]],[[16,0,243,16],[22,0,243,22],[34,0,243,34],[37,0,243,37],[60,0,243,60],[61,0,243,61],[64,0,243,64],[65,0,243,65],[66,0,243,66],[67,0,243,67],[69,0,243,69],[70,0,243,70],[74,0,243,74],[75,0,243,75],[87,0,243,87],[88,0,243,88],[89,0,243,89],[91,0,243,91],[95,0,243,95],[96,0,243,96],[104,0,243,104],[105,0,243,105],[119,0,243,119],[120,0,243,120],[123,0,243,123],[124,0,243,124],[125,0,243,125],[126,0,243,126],[127,0,243,127]],[[16,0,245,16],[23,0,245,23],[25,0,245,25],[26,0,245,26],[30,0,245,30],[31,0,245,31],[54,0,245,54],[55,0,245,55],[69,0,245,69],[71,0,245,71],[83,0,245,83],[85,0,245,85],[96,0,245,96],[97,0,245,97],[98,0,245,98],[99,0,245,99]],[[13,0,247,13]],[[17,0,247,19]],[[16,0,249,16],[23,0,249,23],[46,0,249,46],[47,0,249,47],[51,0,249,51],[52,0,251,20],[55,0,251,23],[56,0,251,24],[64,0,251,32],[65,0,251,33],[67,0,251,35],[68,0,251,36],[76,0,251,44],[77,0,251,45],[80,0,251,48],[81,0,251,49],[82,0,251,50],[83,0,251,51],[85,0,251,53],[86,0,251,54],[90,0,251,58],[91,0,251,59],[103,0,251,71],[104,0,251,72],[105,0,251,73],[107,0,251,75],[111,0,251,79],[112,0,251,80],[120,0,251,88],[121,0,251,89],[135,0,251,103],[136,0,251,104],[139,0,251,107],[140,0,251,108],[141,0,251,109],[142,0,251,110],[143,0,251,111],[145,0,253,20],[148,0,253,23],[149,0,253,24],[161,0,253,36],[162,0,253,37],[164,0,253,39]],[[20,0,255,24],[31,0,255,35],[34,0,255,38],[38,0,255,42],[39,0,255,43],[62,0,255,66],[63,0,255,67],[77,0,255,81],[79,0,255,83],[90,0,255,94],[91,0,255,95],[92,0,255,96]],[[20,0,257,24],[27,0,257,31],[31,0,257,35],[32,0,257,36],[55,0,257,59],[56,0,257,60],[70,0,257,74],[72,0,257,76],[84,0,257,88],[86,0,257,90],[97,0,257,101],[98,0,257,102],[99,0,257,103]],[[16,0,258,20],[17,0,258,21],[18,0,258,22],[19,0,259,17],[20,0,259,18]],[[13,0,261,13]],[[9,0,262,9]],[[8,0,264,8],[15,0,264,15],[17,0,264,17],[18,0,264,18],[29,0,264,29],[30,0,264,30],[31,0,264,31]],[[4,0,265,4],[5,0,265,5]],[[4,0,272,4],[16,0,272,16],[17,0,272,17],[31,0,272,36]],[[8,0,274,8],[15,0,274,15],[29,0,274,29],[30,0,274,30],[33,0,274,33],[34,0,274,34],[38,0,274,38],[39,0,274,39],[41,0,274,41],[42,0,274,42],[46,0,274,46],[47,0,274,47],[59,0,274,59],[60,0,274,60],[64,0,274,64],[66,0,274,66],[67,0,274,67],[68,0,274,68],[69,0,274,69],[70,0,274,70]],[[4,0,275,4],[5,0,275,5]],[[1,0,277,1]],[[0,0,279,0],[6,0,279,6],[13,0,279,13],[38,0,279,38]],[[4,0,321,4],[16,0,321,23],[28,0,321,55],[30,0,321,64],[44,0,321,106],[46,0,321,108],[57,0,321,125]],[[8,0,321,23],[25,0,321,35],[28,0,321,23],[40,0,321,35],[41,0,321,55]],[[8,0,321,64],[27,0,321,78],[30,0,321,64],[44,0,321,78],[45,0,321,106]],[[8,0,281,13],[27,0,281,27],[30,0,281,30],[34,0,281,34],[49,0,281,49],[50,0,281,55],[52,0,281,57],[53,0,281,58],[54,0,281,59]],[[8,0,282,21],[18,0,282,26],[21,0,282,29],[25,0,282,33],[40,0,282,48],[41,0,282,54],[43,0,282,56],[44,0,282,57],[45,0,282,58]],[[8,0,284,4],[17,0,284,8],[20,0,284,11],[24,0,284,15],[36,0,284,27],[38,0,284,29],[39,0,284,30]],[[8,0,323,8],[12,0,323,12],[23,0,323,23],[25,0,323,25]],[[12,0,325,12],[16,0,325,16],[17,0,325,17],[21,0,325,21],[24,0,325,24],[35,0,325,35],[36,0,325,36]],[[9,0,326,9]],[[4,0,327,4],[5,0,327,5]],[[4,0,286,4],[8,0,286,8],[12,0,286,12],[17,0,286,17],[24,0,286,24],[28,0,286,28],[29,0,286,29],[34,0,286,34],[35,0,286,35],[40,0,286,40],[41,0,286,41],[42,0,286,42],[43,0,286,43]],[[4,0,288,4],[8,0,288,8],[12,0,288,12],[13,0,288,13],[18,0,288,23]],[[8,0,290,8],[12,0,290,12],[13,0,290,13],[18,0,290,18],[19,0,290,19],[23,0,290,23],[24,0,290,24],[29,0,290,29],[30,0,290,30],[31,0,290,31]],[[8,0,292,8],[14,0,292,14],[27,0,292,27],[30,0,292,30],[34,0,292,34],[35,0,292,35],[49,0,292,49],[50,0,292,50],[62,0,292,62],[63,0,292,63],[67,0,292,67],[68,0,292,68],[72,0,292,72],[73,0,292,73],[74,0,292,74]],[[8,0,294,8],[12,0,294,12],[13,0,294,13],[25,0,294,25],[26,0,294,26],[40,0,294,40],[41,0,294,41],[46,0,294,46],[48,0,294,48],[49,0,294,49]],[[8,0,296,8],[12,0,296,12],[13,0,296,13],[25,0,296,25],[26,0,296,26],[35,0,296,35],[38,0,296,38],[51,0,296,51],[52,0,296,52]],[[8,0,298,8],[12,0,298,12],[13,0,298,13],[26,0,298,26],[29,0,298,29],[42,0,298,42],[43,0,298,43]],[[4,0,299,4],[5,0,299,5]],[[4,0,301,4],[13,0,301,13],[14,0,301,14],[19,0,301,24]],[[8,0,303,8],[12,0,303,12],[13,0,303,13],[18,0,303,18],[19,0,303,19],[23,0,303,23],[24,0,303,24],[29,0,303,29],[30,0,303,30],[31,0,303,31]],[[8,0,305,8],[14,0,305,14],[27,0,305,27],[30,0,305,30],[34,0,305,34],[35,0,305,35],[49,0,305,49],[50,0,305,50],[62,0,305,62],[63,0,305,63],[67,0,305,67],[68,0,305,68],[72,0,305,72],[73,0,305,73],[74,0,305,74]],[[8,0,307,8],[14,0,307,14],[22,0,307,22],[25,0,307,45],[27,0,307,47],[28,0,307,48]],[[8,0,309,8],[12,0,309,12],[13,0,309,13],[26,0,309,26],[27,0,309,27],[33,0,309,33],[34,0,309,34],[47,0,309,47],[48,0,309,48],[49,0,309,49],[56,0,309,56],[57,0,309,57],[58,0,309,58],[59,0,309,59],[61,0,309,61],[62,0,309,62],[70,0,309,70],[71,0,309,71],[72,0,309,72],[73,0,309,73],[75,0,309,75],[76,0,309,76],[79,0,309,79],[80,0,309,80],[81,0,309,81],[82,0,309,82]],[[8,0,311,8],[14,0,311,14],[33,0,311,33],[36,0,311,36],[42,0,311,42],[43,0,311,43],[49,0,311,49],[50,0,311,50],[58,0,311,58],[59,0,311,59],[60,0,311,60]],[[8,0,313,8],[12,0,313,12],[13,0,313,13],[25,0,313,25],[26,0,313,26],[35,0,313,35],[38,0,313,38],[57,0,313,57],[58,0,313,58]],[[8,0,315,8],[12,0,315,12],[13,0,315,13],[26,0,315,26],[29,0,315,29],[48,0,315,48],[49,0,315,49]],[[4,0,316,4],[5,0,316,5]],[[4,0,318,4],[8,0,318,8],[21,0,318,21],[26,0,318,31],[33,0,318,38],[37,0,318,42],[38,0,318,43],[52,0,318,57],[53,0,318,58],[58,0,318,63],[59,0,318,64],[60,0,318,65],[61,0,318,66]],[[4,0,319,4],[8,0,319,8],[21,0,319,21],[22,0,319,22],[23,0,319,28],[27,0,319,32],[31,0,319,36],[32,0,319,37],[46,0,319,51],[47,0,319,52],[51,0,319,56],[52,0,319,57],[53,0,319,58],[54,0,319,59],[55,0,319,60],[56,0,319,61],[57,0,319,62]],[[4,0,332,4],[14,0,332,14],[15,0,332,15],[23,0,332,26],[25,0,332,28],[31,0,332,43]],[[8,0,334,8],[12,0,334,12],[18,0,334,18],[20,0,334,20]],[[12,0,336,12],[16,0,336,16],[20,0,336,20],[21,0,336,21],[35,0,336,35],[36,0,336,36],[48,0,336,48],[49,0,336,49],[57,0,336,57],[58,0,336,58],[60,0,336,60]],[[16,0,338,16],[23,0,338,23],[27,0,338,27],[28,0,338,28],[42,0,338,42],[43,0,338,43],[62,0,338,62],[63,0,338,63],[71,0,338,71],[73,0,338,73],[77,0,338,77],[78,0,338,78],[91,0,338,91],[92,0,338,92],[93,0,338,93]],[[13,0,339,13]],[[12,0,341,12],[19,0,341,19],[23,0,341,23],[24,0,341,24],[38,0,341,38],[39,0,341,39],[51,0,341,51],[53,0,341,53],[54,0,341,54]],[[9,0,343,9]],[[13,0,343,15]],[[12,0,345,12],[19,0,345,19],[21,0,345,21],[22,0,345,22],[26,0,345,26],[27,0,345,27],[41,0,345,41],[42,0,345,42],[65,0,345,65],[66,0,345,66],[74,0,345,74],[76,0,345,76],[80,0,345,80],[81,0,345,81],[94,0,345,94],[95,0,345,95],[96,0,345,96],[97,0,345,97]],[[9,0,346,9]],[[4,0,347,4],[5,0,347,5]],[[4,0,350,4],[21,0,350,21],[22,0,350,22],[28,0,350,48]],[[8,0,352,8],[12,0,352,12],[18,0,352,18],[19,0,352,19],[24,0,352,24],[26,0,352,26]],[[12,0,354,12],[18,0,354,18],[26,0,354,26],[29,0,354,29],[35,0,354,35],[36,0,354,36],[41,0,354,41],[42,0,354,42],[45,0,354,45],[46,0,354,46],[50,0,354,50],[51,0,354,51],[53,0,354,53],[54,0,354,54],[58,0,354,58],[59,0,354,59],[69,0,354,69],[70,0,354,70],[74,0,354,74],[76,0,354,76],[80,0,354,80],[81,0,354,81],[82,0,354,82],[83,0,354,83]],[[12,0,356,12],[19,0,356,19],[32,0,356,32],[33,0,356,33],[41,0,356,41],[42,0,356,42],[43,0,356,43],[47,0,356,47],[48,0,358,16],[51,0,358,19],[52,0,358,20],[53,0,358,21],[54,0,358,22],[56,0,358,24],[58,0,358,26],[59,0,358,27],[60,0,358,28],[61,0,358,29],[67,0,358,35],[70,0,358,38],[71,0,358,39],[72,0,358,40],[73,0,358,41],[74,0,358,42],[75,0,358,43],[76,0,358,44],[84,0,358,52],[85,0,358,53],[91,0,358,59],[94,0,358,62],[95,0,358,63],[96,0,358,64],[97,0,358,65],[98,0,358,66],[99,0,358,67],[101,0,358,69],[102,0,358,70],[103,0,359,13],[104,0,359,14]],[[9,0,360,9]],[[8,0,362,8],[12,0,362,12],[18,0,362,18],[19,0,362,19],[26,0,362,26],[28,0,362,28]],[[12,0,364,12],[18,0,364,18],[26,0,364,26],[29,0,364,29],[35,0,364,35],[36,0,364,36],[43,0,364,43],[44,0,364,44],[49,0,364,49],[51,0,364,51],[52,0,364,52],[59,0,364,59],[61,0,364,61],[62,0,364,62],[65,0,364,65],[66,0,364,66],[70,0,364,70],[71,0,364,71],[73,0,364,73],[74,0,364,74],[78,0,364,78],[79,0,364,79],[89,0,364,89],[90,0,364,90],[94,0,364,94],[96,0,364,96],[101,0,364,101],[102,0,364,102],[103,0,364,103],[104,0,364,104]],[[12,0,366,12],[19,0,366,19],[32,0,366,32],[33,0,366,33],[41,0,366,41],[42,0,366,42],[43,0,366,43],[47,0,366,47],[48,0,368,16],[51,0,368,19],[52,0,368,20],[53,0,368,21],[54,0,368,22],[56,0,368,24],[58,0,368,26],[59,0,368,27],[60,0,368,28],[61,0,368,29],[67,0,368,35],[70,0,368,38],[71,0,368,39],[72,0,368,40],[73,0,368,41],[74,0,368,42],[75,0,368,43],[76,0,368,44],[84,0,368,52],[85,0,368,53],[91,0,368,59],[94,0,368,62],[95,0,368,63],[96,0,368,64],[97,0,368,65],[98,0,368,66],[99,0,368,67],[101,0,368,69],[102,0,368,70],[103,0,370,13],[104,0,370,14]],[[9,0,371,9]],[[4,0,373,4],[5,0,373,5]],[[4,0,375,4],[11,0,375,11],[12,0,375,12],[28,0,375,46]],[[8,0,377,8],[14,0,377,14],[23,0,377,23],[26,0,377,26],[30,0,377,30],[31,0,377,31],[43,0,377,43],[44,0,377,44],[58,0,377,58],[59,0,377,59],[66,0,377,66],[67,0,377,67],[71,0,377,71],[72,0,379,12],[78,0,379,18],[79,0,379,19],[85,0,379,25],[86,0,379,26],[88,0,379,28],[89,0,379,29],[90,0,379,30],[91,0,379,32],[97,0,379,61],[98,0,379,62],[103,0,379,67],[105,0,379,69],[111,0,379,75],[115,0,379,79],[116,0,379,80],[117,0,379,82],[123,0,379,111],[124,0,379,112],[131,0,379,119],[133,0,379,121],[139,0,379,127],[140,0,379,128],[142,0,381,12],[150,0,381,20],[151,0,381,21],[157,0,381,27],[158,0,381,28],[160,0,381,30],[161,0,381,31],[165,0,381,35],[166,0,381,36],[183,0,381,53],[184,0,381,54],[190,0,381,82],[191,0,381,83],[192,0,381,84],[194,0,383,12],[203,0,383,21],[204,0,383,22],[208,0,383,26],[211,0,383,29],[213,0,383,31],[214,0,383,32],[215,0,384,9],[216,0,384,10]],[[8,0,386,8],[14,0,386,14],[18,0,386,18],[21,0,386,21],[30,0,386,30],[31,0,386,31],[40,0,386,40],[41,0,386,41],[42,0,386,42],[43,0,386,43],[45,0,386,45],[47,0,386,47]],[[12,0,388,12],[16,0,388,16],[17,0,388,17],[29,0,388,29],[30,0,388,30],[39,0,388,39],[42,0,388,42],[43,0,388,43],[44,0,388,44]],[[12,0,390,12],[16,0,390,16],[17,0,390,17],[30,0,390,30],[33,0,390,33],[34,0,390,34],[35,0,390,35]],[[8,0,391,8],[9,0,391,9],[10,0,391,10],[11,0,391,11]],[[8,0,393,8],[12,0,393,12],[13,0,393,13],[17,0,393,17],[18,0,393,18],[21,0,393,21],[22,0,393,22],[26,0,393,26],[27,0,393,27],[28,0,393,28]],[[8,0,395,8],[15,0,395,15],[20,0,395,20],[21,0,395,21],[37,0,395,37],[38,0,395,38],[48,0,395,48],[50,0,395,50],[54,0,395,54],[55,0,395,55],[69,0,395,69],[70,0,395,70],[82,0,395,82],[84,0,395,84],[85,0,395,85],[86,0,395,86],[90,0,395,90],[91,0,395,91],[94,0,395,94],[95,0,395,95],[98,0,395,98],[100,0,395,100],[101,0,395,101],[105,0,395,105],[106,0,395,106],[119,0,395,119],[120,0,395,120],[121,0,395,121],[122,0,395,122]],[[4,0,396,4],[5,0,396,5]],[[4,0,398,4],[14,0,398,14],[15,0,398,15],[31,0,398,49]],[[8,0,400,8],[12,0,400,12],[13,0,400,13],[17,0,400,17],[18,0,400,18],[29,0,400,29],[31,0,400,31],[32,0,400,32]],[[4,0,401,4],[5,0,401,5]],[[1,0,402,1]]],"sourcesContent":["import { HttpParams } from '@angular/common/http';\nimport { BehaviorSubject, combineLatest, merge, Observable, of, Subscription } from 'rxjs';\nimport { auditTime, filter, map, mergeMap, shareReplay, switchMap } from 'rxjs/operators';\nimport { Datatype, PwaDocument } from '../definitions/document';\nimport { Database, ReactiveDatabase, TableDataType } from './table.resource';\nimport {CollectionViewer, SelectionChange, DataSource} from '@angular/cdk/collections';\nimport {FlatTreeControl} from '@angular/cdk/tree';\nimport { CustomHttpParams } from './customParams.resource';\nimport { flatten } from './misc.resource';\n\n///////////////////\n// Interfaces\n///////////////////\n\nexport type TreeNode<T extends TableDataType> = {item: PwaDocument<T>, children: Observable<TreeNode<any>[]>};\n\nexport interface DatabaseInformation<T extends TableDataType> {\n    getDatabase: (limit?: number) => Database<T> | ReactiveDatabase<T>;\n    onCreationSetup?: (parentDoc: PwaDocument<T> | null, db: Database<T> | ReactiveDatabase<T>, params: HttpParams) => void;\n    isRecursive: boolean;\n    children: TreeInformation<T>;\n}\n\nexport interface TreeInformation<T extends TableDataType> {\n    [key: string]: DatabaseInformation<T>;\n}\n\n\n///////////////////\n// Trees\n///////////////////\n\n\nexport class TreeDatabase<T extends TableDataType> {\n\n    childTreeMap: Map<PwaDocument<any>, TreeNode<any>>;\n    databaseMap: Map<PwaDocument<any>, Database<any> | ReactiveDatabase<any>>;\n\n    databaseKeyMap: Map<string, Database<any> | ReactiveDatabase<any>>;\n\n    dataChange: Observable<TreeNode<T>[]>;\n\n    private queueChange: BehaviorSubject<any>;\n    // tslint:disable-next-line: variable-name\n    private _httpParams: HttpParams;\n\n    get httpParams() { return this._httpParams; }\n    set httpParams(v: HttpParams) {\n\n        this._httpParams = v;\n\n        this.reset();\n    }\n\n    constructor(private treeInfo: TreeInformation<T>) {\n\n        this.databaseMap    = new Map();\n        this.databaseKeyMap = new Map();\n        this.childTreeMap   = new Map();\n\n        this._httpParams  = new CustomHttpParams();\n        this.queueChange  = new BehaviorSubject(true);\n\n        this.dataChange = this.queueChange.asObservable().pipe(\n\n            switchMap(() => this.buildTree(this.treeInfo, null, this.httpParams)),\n\n            shareReplay(1),\n\n        );\n    }\n\n    buildTree(treeInfo: TreeInformation<T>, parentDoc: PwaDocument<T> = null, parentParams = new CustomHttpParams(), parentKey = null): Observable<TreeNode<T>[]> {\n\n        const treeNodes = Object.keys(treeInfo).map(key => {\n\n            const db = treeInfo[key].getDatabase();\n\n            const currentDatabaseMapKey = parentKey && parentDoc ? `${parentKey}~${parentDoc.tenantUrl}--${key}` : key;\n\n            this.databaseKeyMap.set(currentDatabaseMapKey, db);\n\n            // check current httpParams\n            const possibleParamKeys = parentParams.keys().filter(pk => pk && pk.includes(`${key}--`));\n\n            // create new params associated to this database\n            let currentParams = new CustomHttpParams();\n\n            // extract childParams\n            possibleParamKeys.forEach(pk => {\n\n                const paramName = pk.split(`${key}--`)[1];\n\n                // only set param associated to this database\n                // extra '--' would mean params to nested database\n                if (!paramName.includes('--')) {\n\n                    currentParams = currentParams.set(paramName, parentParams.get(pk));\n                }\n\n            });\n\n            // run callback\n            treeInfo[key].onCreationSetup ? treeInfo[key].onCreationSetup(parentDoc, db, currentParams) : db.httpParams = currentParams;\n\n            return db.dataChange.pipe(\n\n                map(docs => {\n\n                    const obsArr = docs.map(doc => {\n\n                        ///////////////////\n                        // Database Map\n                        ///////////////////\n                        if (!this.databaseMap.has(doc)) { this.databaseMap.set(doc, db); }\n\n                        ///////////////////\n                        // Child Tree\n                        ///////////////////\n\n                        if (!this.childTreeMap.has(doc)) {\n\n                            // add the current treeInfo in children\n                            // if isRecursive == true\n                            if (treeInfo[key].isRecursive) {\n\n                                treeInfo[key].children[key] = treeInfo[key];\n\n                            }\n\n                            const childTree = this.buildTree(treeInfo[key].children, doc, parentParams, currentDatabaseMapKey).pipe(\n\n                                shareReplay(1),\n\n                            ) as Observable<TreeNode<any>[]>;\n\n                            this.childTreeMap.set(doc, {item: doc, children: childTree});\n                        }\n\n                        return this.childTreeMap.get(doc);\n\n                    });\n\n                    return obsArr;\n                }),\n\n            );\n        });\n\n        return combineLatest(treeNodes).pipe(\n\n            map(nodes => flatten(nodes)),\n\n        );\n    }\n\n    reset() {\n\n        this.databaseMap.clear();\n        this.databaseKeyMap.clear();\n        this.childTreeMap.clear();\n\n        this.queueChange.next(true);\n    }\n\n}\n\n/////////////////////\n// DataSource\n/////////////////////\n\n/** Flat node with expandable and level information */\nexport class DynamicFlatNode<T extends TableDataType> {\n    constructor(\n        public item: PwaDocument<T> | string,\n        public level = 1,\n        public expandable = false,\n    ) {}\n}\n\nexport class DynamicTreeFlattener<T, F> {\n\n    flatNodeMap = new Map<T, F>();\n    structuredNodeMap = new Map<F, T>();\n    parentNodeMap = new Map<F, F>();\n\n    constructor(public transformFunction: (node: T, level: number) => F,\n                public getLevel: (node: F) => number,\n                public isExpandable: (node: F) => boolean,\n                public getChildren: (node: T) =>\n                    Observable<T[]> | T[] | undefined | null) {}\n\n    _flattenNode(node: T, level: number): F {\n\n        if (!this.flatNodeMap.has(node)) {\n\n            const flatNode = this.transformFunction(node, level);\n\n            this.flatNodeMap.set(node, flatNode);\n            this.structuredNodeMap.set(flatNode, node);\n        }\n\n        return this.flatNodeMap.get(node);\n    }\n\n    insertChildrenFlatNodes(parentNode: F, children: F[], resultNodes: F[]): F[] {\n\n        const index = resultNodes.indexOf(parentNode);\n\n        resultNodes.splice(index + 1, 0, ...children);\n\n        children.filter(c => !this.parentNodeMap.has(c)).forEach(c => this.parentNodeMap.set(c, parentNode));\n\n        return resultNodes;\n    }\n\n    removeChildrenFlatNodes(parentNode: F, resultNodes: F[]): F[] {\n\n        const index = resultNodes.indexOf(parentNode);\n\n        let count = 0;\n\n        for (let i = index + 1; i < resultNodes.length && this.getLevel(resultNodes[i]) > this.getLevel(parentNode); i++, count++) {}\n\n        const children = resultNodes.splice(index + 1, count);\n\n        children.filter(c => this.parentNodeMap.has(c)).forEach(c => this.parentNodeMap.delete(c));\n\n        return resultNodes;\n    }\n\n    addChildrenFlatNode(parentFlatNode: F, resultNodes: F[]): Observable<F[]> {\n\n        // fetch structuredNode corresponding to this parentFlatNode\n        const structuredNode = this.structuredNodeMap.get(parentFlatNode);\n\n        // fetch structuredChildrenNode corresponding to this structuredNode\n        const structuredChildrenNodes = this.getChildren(structuredNode);\n\n        if (structuredChildrenNodes) {\n\n            if (Array.isArray(structuredChildrenNodes)) {\n\n                const flatChildren = structuredChildrenNodes.map(s => this._flattenNode(s, this.getLevel(parentFlatNode) + 1));\n\n                return of(this.insertChildrenFlatNodes(parentFlatNode, flatChildren, resultNodes));\n\n            } else {\n\n                return structuredChildrenNodes.pipe(\n\n                    map(children => children.map(s => this._flattenNode(s, this.getLevel(parentFlatNode) + 1))),\n\n                    map(flatChildren => {\n\n                        resultNodes = this.removeChildrenFlatNodes(parentFlatNode, resultNodes);\n\n                        return this.insertChildrenFlatNodes(parentFlatNode, flatChildren, resultNodes);\n                    }),\n                );\n\n            }\n        }\n\n        return of(resultNodes);\n    }\n\n    /**\n     * Flatten a list of node type T to flattened version of node F.\n     * Please note that type T may be nested, and the length of `structuredData` may be different\n     * from that of returned list `F[]`.\n     */\n    flattenNodes(structuredData: T[]): F[] {\n\n        return structuredData.map(node => this._flattenNode(node, 0));\n    }\n\n}\n\nexport class DynamicFlatTreeDataSource<T, F extends Datatype> implements DataSource<F> {\n\n    readonly _flattenedData = new BehaviorSubject<F[]>([]);\n    private readonly _data = new BehaviorSubject<T[]>([]);\n\n    subs = new Subscription();\n\n    get data() { return this._data.value; }\n\n    set data(value: T[]) {\n\n        this._data.next(value);\n\n        const flattenedData = this._treeFlattener.flattenNodes(this.data);\n\n        this._treeControl.expansionModel.clear();\n\n        this._treeControl.dataNodes = flattenedData;\n\n        this.flattenedData = flattenedData;\n    }\n\n    mergeData(value: T[]) {\n\n        this._data.next(value);\n\n        const flattenedData = this._treeFlattener.flattenNodes(this.data);\n\n        const mergeObj: {[key: string]: F} = {};\n\n        this.flattenedData.concat(flattenedData).forEach(f => mergeObj[f.id] = f);\n\n        const mergedFlattenedData = Object.values(mergeObj);\n\n        this._treeControl.dataNodes = mergedFlattenedData;\n\n        this.flattenedData = mergedFlattenedData;\n    }\n\n    get flattenedData(): F[] { return this._flattenedData.value; }\n    set flattenedData(v: F[]) { this._flattenedData.next(v); }\n\n    constructor(public _treeControl: FlatTreeControl<F>, public _treeFlattener: DynamicTreeFlattener<T, F>, initialData?: T[]) {\n\n        if (initialData) {\n            // Assign the data through the constructor to ensure that all of the logic is executed.\n            this.data = initialData;\n        }\n    }\n\n    /**\n     * Toggle the node, remove from display list\n     */\n    toggleNode(flatNode: F, expand: boolean): Observable<F[]> {\n\n        if (expand) {\n\n            if (this._treeFlattener.isExpandable(flatNode)) {\n\n                return this._treeFlattener.addChildrenFlatNode(flatNode, this.flattenedData);\n            }\n\n            return this._flattenedData.asObservable();\n\n        } else {\n\n            return of(this._treeFlattener.removeChildrenFlatNodes(flatNode, this.flattenedData));\n        }\n    }\n\n    /** Handle expand/collapse behaviors */\n    handleTreeControl(change: SelectionChange<F>): Observable<F[]> {\n\n        if (change.added) {\n\n            const obsArray = change.added.map(node => this.toggleNode(node, true));\n\n            return combineLatest(obsArray).pipe(\n\n                map((o) => o.length > 0 ? o[obsArray.length - 1] : [])\n            );\n        }\n\n        if (change.removed) {\n\n            const obsArray = change.removed.slice().reverse().map(node => this.toggleNode(node, false));\n\n            return combineLatest(obsArray).pipe(\n\n                map((o) => o.length > 0 ? o[obsArray.length - 1] : [])\n\n            );\n        }\n\n    }\n\n    connect(collectionViewer: CollectionViewer): Observable<F[]> {\n\n        const changeObs = this._treeControl.expansionModel.changed.pipe(\n\n            filter(change => !!(change as SelectionChange<F>).added?.length || !!(change as SelectionChange<F>).removed?.length),\n\n            mergeMap(change => this.handleTreeControl(change as SelectionChange<F>)),\n\n            auditTime(1000 / 60)\n        );\n\n        const subs = changeObs.subscribe((v) => {\n\n            this._treeControl.dataNodes = v;\n\n            this.flattenedData = v;\n        });\n\n        this.subs.add(subs);\n\n        return merge(collectionViewer.viewChange, this._flattenedData.asObservable()).pipe(map(() => this.flattenedData));\n    }\n\n    disconnect(collectionViewer: CollectionViewer): void {\n\n        this.subs.unsubscribe();\n    }\n}\n"]},"resolvedIds":{"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./customParams.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./misc.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":50989,"body":[{"type":"ImportDeclaration","start":0,"end":76,"specifiers":[{"type":"ImportSpecifier","start":9,"end":24,"imported":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"},"local":{"type":"Identifier","start":9,"end":24,"name":"BehaviorSubject"}},{"type":"ImportSpecifier","start":26,"end":39,"imported":{"type":"Identifier","start":26,"end":39,"name":"combineLatest"},"local":{"type":"Identifier","start":26,"end":39,"name":"combineLatest"}},{"type":"ImportSpecifier","start":41,"end":45,"imported":{"type":"Identifier","start":41,"end":45,"name":"from"},"local":{"type":"Identifier","start":41,"end":45,"name":"from"}},{"type":"ImportSpecifier","start":47,"end":49,"imported":{"type":"Identifier","start":47,"end":49,"name":"of"},"local":{"type":"Identifier","start":47,"end":49,"name":"of"}},{"type":"ImportSpecifier","start":51,"end":61,"imported":{"type":"Identifier","start":51,"end":61,"name":"throwError"},"local":{"type":"Identifier","start":51,"end":61,"name":"throwError"}}],"source":{"type":"Literal","start":69,"end":75,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":77,"end":202,"specifiers":[{"type":"ImportSpecifier","start":86,"end":95,"imported":{"type":"Identifier","start":86,"end":95,"name":"auditTime"},"local":{"type":"Identifier","start":86,"end":95,"name":"auditTime"}},{"type":"ImportSpecifier","start":97,"end":107,"imported":{"type":"Identifier","start":97,"end":107,"name":"catchError"},"local":{"type":"Identifier","start":97,"end":107,"name":"catchError"}},{"type":"ImportSpecifier","start":109,"end":118,"imported":{"type":"Identifier","start":109,"end":118,"name":"concatMap"},"local":{"type":"Identifier","start":109,"end":118,"name":"concatMap"}},{"type":"ImportSpecifier","start":120,"end":126,"imported":{"type":"Identifier","start":120,"end":126,"name":"filter"},"local":{"type":"Identifier","start":120,"end":126,"name":"filter"}},{"type":"ImportSpecifier","start":128,"end":136,"imported":{"type":"Identifier","start":128,"end":136,"name":"finalize"},"local":{"type":"Identifier","start":128,"end":136,"name":"finalize"}},{"type":"ImportSpecifier","start":138,"end":143,"imported":{"type":"Identifier","start":138,"end":143,"name":"first"},"local":{"type":"Identifier","start":138,"end":143,"name":"first"}},{"type":"ImportSpecifier","start":145,"end":148,"imported":{"type":"Identifier","start":145,"end":148,"name":"map"},"local":{"type":"Identifier","start":145,"end":148,"name":"map"}},{"type":"ImportSpecifier","start":150,"end":161,"imported":{"type":"Identifier","start":150,"end":161,"name":"shareReplay"},"local":{"type":"Identifier","start":150,"end":161,"name":"shareReplay"}},{"type":"ImportSpecifier","start":163,"end":172,"imported":{"type":"Identifier","start":163,"end":172,"name":"switchMap"},"local":{"type":"Identifier","start":163,"end":172,"name":"switchMap"}},{"type":"ImportSpecifier","start":174,"end":177,"imported":{"type":"Identifier","start":174,"end":177,"name":"tap"},"local":{"type":"Identifier","start":174,"end":177,"name":"tap"}}],"source":{"type":"Literal","start":185,"end":201,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":203,"end":290,"specifiers":[{"type":"ImportSpecifier","start":212,"end":232,"imported":{"type":"Identifier","start":212,"end":232,"name":"getCollectionCreator"},"local":{"type":"Identifier","start":212,"end":232,"name":"getCollectionCreator"}},{"type":"ImportSpecifier","start":234,"end":254,"imported":{"type":"Identifier","start":234,"end":254,"name":"pwaCollectionMethods"},"local":{"type":"Identifier","start":234,"end":254,"name":"pwaCollectionMethods"}}],"source":{"type":"Literal","start":262,"end":289,"value":"../definitions/collection","raw":"'../definitions/collection'"}},{"type":"ImportDeclaration","start":291,"end":347,"specifiers":[{"type":"ImportSpecifier","start":300,"end":313,"imported":{"type":"Identifier","start":300,"end":313,"name":"pwaDocMethods"},"local":{"type":"Identifier","start":300,"end":313,"name":"pwaDocMethods"}}],"source":{"type":"Literal","start":321,"end":346,"value":"../definitions/document","raw":"'../definitions/document'"}},{"type":"ImportDeclaration","start":348,"end":466,"specifiers":[{"type":"ImportSpecifier","start":357,"end":388,"imported":{"type":"Identifier","start":357,"end":388,"name":"getSynchroniseCollectionCreator"},"local":{"type":"Identifier","start":357,"end":388,"name":"getSynchroniseCollectionCreator"}},{"type":"ImportSpecifier","start":390,"end":418,"imported":{"type":"Identifier","start":390,"end":418,"name":"synchroniseCollectionMethods"},"local":{"type":"Identifier","start":390,"end":418,"name":"synchroniseCollectionMethods"}}],"source":{"type":"Literal","start":426,"end":465,"value":"../definitions/synchronise-collection","raw":"'../definitions/synchronise-collection'"}},{"type":"ImportDeclaration","start":467,"end":543,"specifiers":[{"type":"ImportSpecifier","start":476,"end":497,"imported":{"type":"Identifier","start":476,"end":497,"name":"synchroniseDocMethods"},"local":{"type":"Identifier","start":476,"end":497,"name":"synchroniseDocMethods"}}],"source":{"type":"Literal","start":505,"end":542,"value":"../definitions/synchronise-document","raw":"'../definitions/synchronise-document'"}},{"type":"ImportDeclaration","start":544,"end":593,"specifiers":[{"type":"ImportSpecifier","start":553,"end":562,"imported":{"type":"Identifier","start":553,"end":562,"name":"enterZone"},"local":{"type":"Identifier","start":553,"end":562,"name":"enterZone"}}],"source":{"type":"Literal","start":570,"end":592,"value":"./operators.resource","raw":"'./operators.resource'"}},{"type":"ImportDeclaration","start":594,"end":651,"specifiers":[{"type":"ImportSpecifier","start":603,"end":621,"imported":{"type":"Identifier","start":603,"end":621,"name":"PwaDatabaseService"},"local":{"type":"Identifier","start":603,"end":621,"name":"PwaDatabaseService"}}],"source":{"type":"Literal","start":629,"end":650,"value":"./database.resource","raw":"'./database.resource'"}},{"type":"ImportDeclaration","start":652,"end":694,"specifiers":[{"type":"ImportSpecifier","start":661,"end":668,"imported":{"type":"Identifier","start":661,"end":668,"name":"flatten"},"local":{"type":"Identifier","start":661,"end":668,"name":"flatten"}}],"source":{"type":"Literal","start":676,"end":693,"value":"./misc.resource","raw":"'./misc.resource'"}},{"type":"ExportNamedDeclaration","start":695,"end":9847,"declaration":{"type":"ClassDeclaration","start":702,"end":9847,"id":{"type":"Identifier","start":708,"end":729,"name":"SyncCollectionService"},"superClass":null,"body":{"type":"ClassBody","start":730,"end":9847,"body":[{"type":"MethodDefinition","start":736,"end":3374,"static":false,"computed":false,"key":{"type":"Identifier","start":736,"end":747,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":747,"end":3374,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":748,"end":755,"name":"_config"}],"body":{"type":"BlockStatement","start":757,"end":3374,"body":[{"type":"ExpressionStatement","start":767,"end":790,"expression":{"type":"AssignmentExpression","start":767,"end":789,"operator":"=","left":{"type":"MemberExpression","start":767,"end":779,"object":{"type":"ThisExpression","start":767,"end":771},"property":{"type":"Identifier","start":772,"end":779,"name":"_config"},"computed":false,"optional":false},"right":{"type":"Identifier","start":782,"end":789,"name":"_config"}}},{"type":"ExpressionStatement","start":799,"end":1071,"expression":{"type":"AssignmentExpression","start":799,"end":1070,"operator":"=","left":{"type":"MemberExpression","start":799,"end":810,"object":{"type":"ThisExpression","start":799,"end":803},"property":{"type":"Identifier","start":804,"end":810,"name":"config"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":813,"end":1070,"properties":[{"type":"Property","start":827,"end":858,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":827,"end":831,"name":"name"},"value":{"type":"Literal","start":833,"end":858,"value":"no_name_sync_collection","raw":"'no_name_sync_collection'"},"kind":"init"},{"type":"Property","start":872,"end":881,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":872,"end":875,"name":"db$"},"value":{"type":"CallExpression","start":877,"end":881,"callee":{"type":"Identifier","start":877,"end":879,"name":"of"},"arguments":[],"optional":false},"kind":"init"},{"type":"Property","start":895,"end":910,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":895,"end":906,"name":"attachments"},"value":{"type":"ObjectExpression","start":908,"end":910,"properties":[]},"kind":"init"},{"type":"Property","start":924,"end":935,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":924,"end":931,"name":"options"},"value":{"type":"ObjectExpression","start":933,"end":935,"properties":[]},"kind":"init"},{"type":"Property","start":949,"end":972,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":949,"end":968,"name":"migrationStrategies"},"value":{"type":"ObjectExpression","start":970,"end":972,"properties":[]},"kind":"init"},{"type":"Property","start":986,"end":1003,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":986,"end":997,"name":"autoMigrate"},"value":{"type":"Literal","start":999,"end":1003,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":1017,"end":1029,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1017,"end":1023,"name":"ngZone"},"value":{"type":"Literal","start":1025,"end":1029,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":1043,"end":1059,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1043,"end":1053,"name":"httpClient"},"value":{"type":"Literal","start":1055,"end":1059,"value":null,"raw":"null"},"kind":"init"}]}}},{"type":"ExpressionStatement","start":1080,"end":1162,"expression":{"type":"AssignmentExpression","start":1080,"end":1161,"operator":"=","left":{"type":"MemberExpression","start":1080,"end":1091,"object":{"type":"ThisExpression","start":1080,"end":1084},"property":{"type":"Identifier","start":1085,"end":1091,"name":"config"},"computed":false,"optional":false},"right":{"type":"ObjectExpression","start":1094,"end":1161,"properties":[{"type":"SpreadElement","start":1108,"end":1122,"argument":{"type":"MemberExpression","start":1111,"end":1122,"object":{"type":"ThisExpression","start":1111,"end":1115},"property":{"type":"Identifier","start":1116,"end":1122,"name":"config"},"computed":false,"optional":false}},{"type":"SpreadElement","start":1136,"end":1151,"argument":{"type":"MemberExpression","start":1139,"end":1151,"object":{"type":"ThisExpression","start":1139,"end":1143},"property":{"type":"Identifier","start":1144,"end":1151,"name":"_config"},"computed":false,"optional":false}}]}}},{"type":"ExpressionStatement","start":1171,"end":1216,"expression":{"type":"AssignmentExpression","start":1171,"end":1215,"operator":"=","left":{"type":"MemberExpression","start":1171,"end":1187,"object":{"type":"ThisExpression","start":1171,"end":1175},"property":{"type":"Identifier","start":1176,"end":1187,"name":"retryChange"},"computed":false,"optional":false},"right":{"type":"NewExpression","start":1190,"end":1215,"callee":{"type":"Identifier","start":1194,"end":1209,"name":"BehaviorSubject"},"arguments":[{"type":"Literal","start":1210,"end":1214,"value":true,"raw":"true"}]}}},{"type":"ExpressionStatement","start":1225,"end":3368,"expression":{"type":"AssignmentExpression","start":1225,"end":3367,"operator":"=","left":{"type":"MemberExpression","start":1225,"end":1247,"object":{"type":"ThisExpression","start":1225,"end":1229},"property":{"type":"Identifier","start":1230,"end":1247,"name":"storedCollections"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":1250,"end":3367,"callee":{"type":"MemberExpression","start":1250,"end":1271,"object":{"type":"MemberExpression","start":1250,"end":1266,"object":{"type":"ThisExpression","start":1250,"end":1254},"property":{"type":"Identifier","start":1255,"end":1266,"name":"collection$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1267,"end":1271,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1272,"end":1302,"callee":{"type":"Identifier","start":1272,"end":1281,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":1282,"end":1301,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1282,"end":1285,"name":"col"}],"body":{"type":"MemberExpression","start":1289,"end":1301,"object":{"type":"CallExpression","start":1289,"end":1299,"callee":{"type":"MemberExpression","start":1289,"end":1297,"object":{"type":"Identifier","start":1289,"end":1292,"name":"col"},"property":{"type":"Identifier","start":1293,"end":1297,"name":"find"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":1300,"end":1301,"name":"$"},"computed":false,"optional":false}}],"optional":false},{"type":"CallExpression","start":1304,"end":1342,"callee":{"type":"Identifier","start":1304,"end":1307,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1308,"end":1341,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1308,"end":1312,"name":"docs"}],"body":{"type":"CallExpression","start":1316,"end":1341,"callee":{"type":"MemberExpression","start":1316,"end":1324,"object":{"type":"Identifier","start":1316,"end":1320,"name":"docs"},"property":{"type":"Identifier","start":1321,"end":1324,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1325,"end":1340,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1325,"end":1326,"name":"d"}],"body":{"type":"CallExpression","start":1330,"end":1340,"callee":{"type":"MemberExpression","start":1330,"end":1338,"object":{"type":"Identifier","start":1330,"end":1331,"name":"d"},"property":{"type":"Identifier","start":1332,"end":1338,"name":"toJSON"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"optional":false}}],"optional":false},{"type":"CallExpression","start":1344,"end":2004,"callee":{"type":"Identifier","start":1344,"end":1347,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1348,"end":2003,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1348,"end":1356,"name":"docTypes"}],"body":{"type":"BlockStatement","start":1360,"end":2003,"body":[{"type":"VariableDeclaration","start":1374,"end":1401,"declarations":[{"type":"VariableDeclarator","start":1380,"end":1400,"id":{"type":"Identifier","start":1380,"end":1395,"name":"databasesSchema"},"init":{"type":"ObjectExpression","start":1398,"end":1400,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1414,"end":1600,"expression":{"type":"CallExpression","start":1414,"end":1599,"callee":{"type":"MemberExpression","start":1414,"end":1430,"object":{"type":"Identifier","start":1414,"end":1422,"name":"docTypes"},"property":{"type":"Identifier","start":1423,"end":1430,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1431,"end":1598,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1431,"end":1432,"name":"d"}],"body":{"type":"BlockStatement","start":1436,"end":1598,"body":[{"type":"VariableDeclaration","start":1454,"end":1484,"declarations":[{"type":"VariableDeclarator","start":1460,"end":1483,"id":{"type":"Identifier","start":1460,"end":1463,"name":"key"},"init":{"type":"MemberExpression","start":1466,"end":1483,"object":{"type":"Identifier","start":1466,"end":1467,"name":"d"},"property":{"type":"Identifier","start":1468,"end":1483,"name":"databaseOptions"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":1501,"end":1584,"expression":{"type":"ConditionalExpression","start":1501,"end":1583,"test":{"type":"BinaryExpression","start":1501,"end":1523,"left":{"type":"Identifier","start":1501,"end":1504,"name":"key"},"operator":"in","right":{"type":"Identifier","start":1508,"end":1523,"name":"databasesSchema"}},"consequent":{"type":"CallExpression","start":1526,"end":1554,"callee":{"type":"MemberExpression","start":1526,"end":1551,"object":{"type":"MemberExpression","start":1526,"end":1546,"object":{"type":"Identifier","start":1526,"end":1541,"name":"databasesSchema"},"property":{"type":"Identifier","start":1542,"end":1545,"name":"key"},"computed":true,"optional":false},"property":{"type":"Identifier","start":1547,"end":1551,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1552,"end":1553,"name":"d"}],"optional":false},"alternate":{"type":"AssignmentExpression","start":1557,"end":1583,"operator":"=","left":{"type":"MemberExpression","start":1557,"end":1577,"object":{"type":"Identifier","start":1557,"end":1572,"name":"databasesSchema"},"property":{"type":"Identifier","start":1573,"end":1576,"name":"key"},"computed":true,"optional":false},"right":{"type":"ArrayExpression","start":1580,"end":1583,"elements":[{"type":"Identifier","start":1581,"end":1582,"name":"d"}]}}}}]}}],"optional":false}},{"type":"VariableDeclaration","start":1613,"end":1637,"declarations":[{"type":"VariableDeclarator","start":1619,"end":1636,"id":{"type":"Identifier","start":1619,"end":1631,"name":"databasesMap"},"init":{"type":"ArrayExpression","start":1634,"end":1636,"elements":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":1650,"end":1960,"expression":{"type":"CallExpression","start":1650,"end":1959,"callee":{"type":"MemberExpression","start":1650,"end":1686,"object":{"type":"CallExpression","start":1650,"end":1678,"callee":{"type":"MemberExpression","start":1650,"end":1661,"object":{"type":"Identifier","start":1650,"end":1656,"name":"Object"},"property":{"type":"Identifier","start":1657,"end":1661,"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1662,"end":1677,"name":"databasesSchema"}],"optional":false},"property":{"type":"Identifier","start":1679,"end":1686,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1687,"end":1958,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1687,"end":1693,"name":"schema"}],"body":{"type":"BlockStatement","start":1697,"end":1958,"body":[{"type":"VariableDeclaration","start":1715,"end":1830,"declarations":[{"type":"VariableDeclarator","start":1721,"end":1829,"id":{"type":"Identifier","start":1721,"end":1739,"name":"pwaDatabaseService"},"init":{"type":"NewExpression","start":1742,"end":1829,"callee":{"type":"Identifier","start":1746,"end":1764,"name":"PwaDatabaseService"},"arguments":[{"type":"ObjectExpression","start":1765,"end":1828,"properties":[{"type":"Property","start":1767,"end":1826,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1767,"end":1776,"name":"dbCreator"},"value":{"type":"ObjectExpression","start":1778,"end":1826,"properties":[{"type":"SpreadElement","start":1780,"end":1801,"argument":{"type":"CallExpression","start":1783,"end":1801,"callee":{"type":"MemberExpression","start":1783,"end":1793,"object":{"type":"Identifier","start":1783,"end":1787,"name":"JSON"},"property":{"type":"Identifier","start":1788,"end":1793,"name":"parse"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1794,"end":1800,"name":"schema"}],"optional":false}},{"type":"Property","start":1803,"end":1824,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1803,"end":1818,"name":"ignoreDuplicate"},"value":{"type":"Literal","start":1820,"end":1824,"value":true,"raw":"true"},"kind":"init"}]},"kind":"init"}]}]}}],"kind":"const"},{"type":"ExpressionStatement","start":1847,"end":1944,"expression":{"type":"CallExpression","start":1847,"end":1943,"callee":{"type":"MemberExpression","start":1847,"end":1864,"object":{"type":"Identifier","start":1847,"end":1859,"name":"databasesMap"},"property":{"type":"Identifier","start":1860,"end":1864,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":1865,"end":1942,"properties":[{"type":"Property","start":1867,"end":1899,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1867,"end":1875,"name":"database"},"value":{"type":"MemberExpression","start":1877,"end":1899,"object":{"type":"Identifier","start":1877,"end":1895,"name":"pwaDatabaseService"},"property":{"type":"Identifier","start":1896,"end":1899,"name":"db$"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":1901,"end":1940,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1901,"end":1915,"name":"collectionInfo"},"value":{"type":"MemberExpression","start":1917,"end":1940,"object":{"type":"Identifier","start":1917,"end":1932,"name":"databasesSchema"},"property":{"type":"Identifier","start":1933,"end":1939,"name":"schema"},"computed":true,"optional":false},"kind":"init"}]}],"optional":false}}]}}],"optional":false}},{"type":"ReturnStatement","start":1973,"end":1993,"argument":{"type":"Identifier","start":1980,"end":1992,"name":"databasesMap"}}]}}],"optional":false},{"type":"CallExpression","start":2006,"end":3002,"callee":{"type":"Identifier","start":2006,"end":2015,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":2016,"end":3001,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2016,"end":2028,"name":"databasesMap"}],"body":{"type":"CallExpression","start":2032,"end":3001,"callee":{"type":"Identifier","start":2032,"end":2045,"name":"combineLatest"},"arguments":[{"type":"CallExpression","start":2046,"end":3000,"callee":{"type":"MemberExpression","start":2046,"end":2062,"object":{"type":"Identifier","start":2046,"end":2058,"name":"databasesMap"},"property":{"type":"Identifier","start":2059,"end":2062,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2063,"end":2999,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2063,"end":2064,"name":"m"}],"body":{"type":"BlockStatement","start":2068,"end":2999,"body":[{"type":"ReturnStatement","start":2082,"end":2989,"argument":{"type":"CallExpression","start":2089,"end":2988,"callee":{"type":"MemberExpression","start":2089,"end":2104,"object":{"type":"MemberExpression","start":2089,"end":2099,"object":{"type":"Identifier","start":2089,"end":2090,"name":"m"},"property":{"type":"Identifier","start":2091,"end":2099,"name":"database"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2100,"end":2104,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2105,"end":2987,"callee":{"type":"Identifier","start":2105,"end":2114,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":2115,"end":2986,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2115,"end":2117,"name":"db"}],"body":{"type":"BlockStatement","start":2121,"end":2986,"body":[{"type":"VariableDeclaration","start":2139,"end":2316,"declarations":[{"type":"VariableDeclarator","start":2145,"end":2315,"id":{"type":"Identifier","start":2145,"end":2167,"name":"collectionInfoKeyValue"},"init":{"type":"CallExpression","start":2170,"end":2315,"callee":{"type":"MemberExpression","start":2170,"end":2193,"object":{"type":"MemberExpression","start":2170,"end":2186,"object":{"type":"Identifier","start":2170,"end":2171,"name":"m"},"property":{"type":"Identifier","start":2172,"end":2186,"name":"collectionInfo"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2187,"end":2193,"name":"reduce"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2194,"end":2310,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2195,"end":2198,"name":"cur"},{"type":"Identifier","start":2200,"end":2203,"name":"acc"}],"body":{"type":"BlockStatement","start":2208,"end":2310,"body":[{"type":"ExpressionStatement","start":2230,"end":2260,"expression":{"type":"AssignmentExpression","start":2230,"end":2259,"operator":"=","left":{"type":"MemberExpression","start":2230,"end":2253,"object":{"type":"Identifier","start":2230,"end":2233,"name":"acc"},"property":{"type":"MemberExpression","start":2234,"end":2252,"object":{"type":"Identifier","start":2234,"end":2237,"name":"cur"},"property":{"type":"Identifier","start":2238,"end":2252,"name":"collectionName"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"Identifier","start":2256,"end":2259,"name":"cur"}}},{"type":"ReturnStatement","start":2281,"end":2292,"argument":{"type":"Identifier","start":2288,"end":2291,"name":"acc"}}]}},{"type":"ObjectExpression","start":2312,"end":2314,"properties":[]}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":2333,"end":2356,"declarations":[{"type":"VariableDeclarator","start":2339,"end":2355,"id":{"type":"Identifier","start":2339,"end":2350,"name":"collections"},"init":{"type":"ObjectExpression","start":2353,"end":2355,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":2373,"end":2760,"expression":{"type":"CallExpression","start":2373,"end":2759,"callee":{"type":"MemberExpression","start":2373,"end":2397,"object":{"type":"MemberExpression","start":2373,"end":2389,"object":{"type":"Identifier","start":2373,"end":2374,"name":"m"},"property":{"type":"Identifier","start":2375,"end":2389,"name":"collectionInfo"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2390,"end":2397,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2398,"end":2758,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2398,"end":2399,"name":"i"}],"body":{"type":"BlockStatement","start":2403,"end":2758,"body":[{"type":"VariableDeclaration","start":2425,"end":2483,"declarations":[{"type":"VariableDeclarator","start":2431,"end":2482,"id":{"type":"Identifier","start":2431,"end":2448,"name":"collectionOptions"},"init":{"type":"CallExpression","start":2451,"end":2482,"callee":{"type":"MemberExpression","start":2451,"end":2461,"object":{"type":"Identifier","start":2451,"end":2455,"name":"JSON"},"property":{"type":"Identifier","start":2456,"end":2461,"name":"parse"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":2462,"end":2481,"object":{"type":"Identifier","start":2462,"end":2463,"name":"i"},"property":{"type":"Identifier","start":2464,"end":2481,"name":"collectionOptions"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2504,"end":2740,"expression":{"type":"AssignmentExpression","start":2504,"end":2739,"operator":"=","left":{"type":"MemberExpression","start":2504,"end":2533,"object":{"type":"Identifier","start":2504,"end":2515,"name":"collections"},"property":{"type":"MemberExpression","start":2516,"end":2532,"object":{"type":"Identifier","start":2516,"end":2517,"name":"i"},"property":{"type":"Identifier","start":2518,"end":2532,"name":"collectionName"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"CallExpression","start":2536,"end":2739,"callee":{"type":"Identifier","start":2536,"end":2556,"name":"getCollectionCreator"},"arguments":[{"type":"MemberExpression","start":2557,"end":2573,"object":{"type":"Identifier","start":2557,"end":2558,"name":"i"},"property":{"type":"Identifier","start":2559,"end":2573,"name":"collectionName"},"computed":false,"optional":false},{"type":"Identifier","start":2575,"end":2595,"name":"pwaCollectionMethods"},{"type":"Identifier","start":2597,"end":2610,"name":"pwaDocMethods"},{"type":"MemberExpression","start":2612,"end":2641,"object":{"type":"Identifier","start":2612,"end":2629,"name":"collectionOptions"},"property":{"type":"Identifier","start":2630,"end":2641,"name":"attachments"},"computed":false,"optional":false},{"type":"MemberExpression","start":2643,"end":2668,"object":{"type":"Identifier","start":2643,"end":2660,"name":"collectionOptions"},"property":{"type":"Identifier","start":2661,"end":2668,"name":"options"},"computed":false,"optional":false},{"type":"MemberExpression","start":2670,"end":2707,"object":{"type":"Identifier","start":2670,"end":2687,"name":"collectionOptions"},"property":{"type":"Identifier","start":2688,"end":2707,"name":"migrationStrategies"},"computed":false,"optional":false},{"type":"MemberExpression","start":2709,"end":2738,"object":{"type":"Identifier","start":2709,"end":2726,"name":"collectionOptions"},"property":{"type":"Identifier","start":2727,"end":2738,"name":"autoMigrate"},"computed":false,"optional":false}],"optional":false}}}]}}],"optional":false}},{"type":"ReturnStatement","start":2777,"end":2972,"argument":{"type":"CallExpression","start":2784,"end":2971,"callee":{"type":"MemberExpression","start":2784,"end":2825,"object":{"type":"CallExpression","start":2784,"end":2820,"callee":{"type":"Identifier","start":2784,"end":2788,"name":"from"},"arguments":[{"type":"CallExpression","start":2789,"end":2819,"callee":{"type":"MemberExpression","start":2789,"end":2806,"object":{"type":"Identifier","start":2789,"end":2791,"name":"db"},"property":{"type":"Identifier","start":2792,"end":2806,"name":"addCollections"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2807,"end":2818,"name":"collections"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":2821,"end":2825,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":2826,"end":2970,"callee":{"type":"Identifier","start":2826,"end":2829,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":2830,"end":2969,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2830,"end":2831,"name":"v"}],"body":{"type":"CallExpression","start":2835,"end":2969,"callee":{"type":"MemberExpression","start":2835,"end":2853,"object":{"type":"CallExpression","start":2835,"end":2849,"callee":{"type":"MemberExpression","start":2835,"end":2846,"object":{"type":"Identifier","start":2835,"end":2841,"name":"Object"},"property":{"type":"Identifier","start":2842,"end":2846,"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2847,"end":2848,"name":"v"}],"optional":false},"property":{"type":"Identifier","start":2850,"end":2853,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2854,"end":2968,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2854,"end":2855,"name":"k"}],"body":{"type":"ObjectExpression","start":2860,"end":2967,"properties":[{"type":"Property","start":2882,"end":2898,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":2882,"end":2892,"name":"collection"},"value":{"type":"MemberExpression","start":2894,"end":2898,"object":{"type":"Identifier","start":2894,"end":2895,"name":"v"},"property":{"type":"Identifier","start":2896,"end":2897,"name":"k"},"computed":true,"optional":false},"kind":"init"},{"type":"SpreadElement","start":2920,"end":2948,"argument":{"type":"MemberExpression","start":2923,"end":2948,"object":{"type":"Identifier","start":2923,"end":2945,"name":"collectionInfoKeyValue"},"property":{"type":"Identifier","start":2946,"end":2947,"name":"k"},"computed":true,"optional":false}}]}}],"optional":false}}],"optional":false}],"optional":false}}]}}],"optional":false}],"optional":false}}]}}],"optional":false}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3004,"end":3024,"callee":{"type":"Identifier","start":3004,"end":3007,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":3008,"end":3023,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3008,"end":3009,"name":"v"}],"body":{"type":"CallExpression","start":3013,"end":3023,"callee":{"type":"Identifier","start":3013,"end":3020,"name":"flatten"},"arguments":[{"type":"Identifier","start":3021,"end":3022,"name":"v"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3026,"end":3350,"callee":{"type":"Identifier","start":3026,"end":3029,"name":"tap"},"arguments":[{"type":"ArrowFunctionExpression","start":3030,"end":3349,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3031,"end":3032,"name":"v"}],"body":{"type":"BlockStatement","start":3037,"end":3349,"body":[{"type":"ExpressionStatement","start":3051,"end":3339,"expression":{"type":"CallExpression","start":3051,"end":3338,"callee":{"type":"MemberExpression","start":3051,"end":3060,"object":{"type":"Identifier","start":3051,"end":3052,"name":"v"},"property":{"type":"Identifier","start":3053,"end":3060,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":3061,"end":3337,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3061,"end":3068,"name":"docType"}],"body":{"type":"BlockStatement","start":3072,"end":3337,"body":[{"type":"ExpressionStatement","start":3090,"end":3323,"expression":{"type":"CallExpression","start":3090,"end":3322,"callee":{"type":"MemberExpression","start":3090,"end":3116,"object":{"type":"MemberExpression","start":3090,"end":3108,"object":{"type":"Identifier","start":3090,"end":3097,"name":"docType"},"property":{"type":"Identifier","start":3098,"end":3108,"name":"collection"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3109,"end":3116,"name":"preSave"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":3117,"end":3314,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3118,"end":3127,"name":"plainData"},{"type":"Identifier","start":3129,"end":3139,"name":"rxDocument"}],"body":{"type":"BlockStatement","start":3144,"end":3314,"body":[{"type":"ExpressionStatement","start":3166,"end":3232,"expression":{"type":"AssignmentExpression","start":3166,"end":3231,"operator":"=","left":{"type":"MemberExpression","start":3166,"end":3185,"object":{"type":"Identifier","start":3166,"end":3175,"name":"plainData"},"property":{"type":"Identifier","start":3176,"end":3185,"name":"createdAt"},"computed":false,"optional":false},"right":{"type":"LogicalExpression","start":3188,"end":3231,"left":{"type":"MemberExpression","start":3188,"end":3207,"object":{"type":"Identifier","start":3188,"end":3197,"name":"plainData"},"property":{"type":"Identifier","start":3198,"end":3207,"name":"createdAt"},"computed":false,"optional":false},"operator":"||","right":{"type":"CallExpression","start":3211,"end":3231,"callee":{"type":"MemberExpression","start":3211,"end":3229,"object":{"type":"NewExpression","start":3211,"end":3221,"callee":{"type":"Identifier","start":3215,"end":3219,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":3222,"end":3229,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false}}}},{"type":"ExpressionStatement","start":3253,"end":3296,"expression":{"type":"AssignmentExpression","start":3253,"end":3295,"operator":"=","left":{"type":"MemberExpression","start":3253,"end":3272,"object":{"type":"Identifier","start":3253,"end":3262,"name":"plainData"},"property":{"type":"Identifier","start":3263,"end":3272,"name":"updatedAt"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":3275,"end":3295,"callee":{"type":"MemberExpression","start":3275,"end":3293,"object":{"type":"NewExpression","start":3275,"end":3285,"callee":{"type":"Identifier","start":3279,"end":3283,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":3286,"end":3293,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false}}}]}},{"type":"Literal","start":3316,"end":3321,"value":false,"raw":"false"}],"optional":false}}]}}],"optional":false}}]}}],"optional":false},{"type":"CallExpression","start":3352,"end":3366,"callee":{"type":"Identifier","start":3352,"end":3363,"name":"shareReplay"},"arguments":[{"type":"Literal","start":3364,"end":3365,"value":1,"raw":"1"}],"optional":false}],"optional":false}}}]}}},{"type":"MethodDefinition","start":3379,"end":3995,"static":false,"computed":false,"key":{"type":"Identifier","start":3383,"end":3394,"name":"collection$"},"kind":"get","value":{"type":"FunctionExpression","start":3394,"end":3995,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":3397,"end":3995,"body":[{"type":"IfStatement","start":3407,"end":3479,"test":{"type":"MemberExpression","start":3411,"end":3428,"object":{"type":"ThisExpression","start":3411,"end":3415},"property":{"type":"Identifier","start":3416,"end":3428,"name":"_collection$"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":3430,"end":3479,"body":[{"type":"ReturnStatement","start":3444,"end":3469,"argument":{"type":"MemberExpression","start":3451,"end":3468,"object":{"type":"ThisExpression","start":3451,"end":3455},"property":{"type":"Identifier","start":3456,"end":3468,"name":"_collection$"},"computed":false,"optional":false}}]},"alternate":null},{"type":"VariableDeclaration","start":3488,"end":3516,"declarations":[{"type":"VariableDeclarator","start":3494,"end":3515,"id":{"type":"Identifier","start":3494,"end":3510,"name":"collectionSchema"},"init":{"type":"ObjectExpression","start":3513,"end":3515,"properties":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":3525,"end":3769,"expression":{"type":"AssignmentExpression","start":3525,"end":3768,"operator":"=","left":{"type":"MemberExpression","start":3525,"end":3559,"object":{"type":"Identifier","start":3525,"end":3541,"name":"collectionSchema"},"property":{"type":"MemberExpression","start":3542,"end":3558,"object":{"type":"MemberExpression","start":3542,"end":3553,"object":{"type":"ThisExpression","start":3542,"end":3546},"property":{"type":"Identifier","start":3547,"end":3553,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3554,"end":3558,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false},"right":{"type":"CallExpression","start":3562,"end":3768,"callee":{"type":"Identifier","start":3562,"end":3593,"name":"getSynchroniseCollectionCreator"},"arguments":[{"type":"MemberExpression","start":3594,"end":3610,"object":{"type":"MemberExpression","start":3594,"end":3605,"object":{"type":"ThisExpression","start":3594,"end":3598},"property":{"type":"Identifier","start":3599,"end":3605,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3606,"end":3610,"name":"name"},"computed":false,"optional":false},{"type":"Identifier","start":3612,"end":3640,"name":"synchroniseCollectionMethods"},{"type":"Identifier","start":3642,"end":3663,"name":"synchroniseDocMethods"},{"type":"MemberExpression","start":3665,"end":3688,"object":{"type":"MemberExpression","start":3665,"end":3676,"object":{"type":"ThisExpression","start":3665,"end":3669},"property":{"type":"Identifier","start":3670,"end":3676,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3677,"end":3688,"name":"attachments"},"computed":false,"optional":false},{"type":"MemberExpression","start":3690,"end":3709,"object":{"type":"MemberExpression","start":3690,"end":3701,"object":{"type":"ThisExpression","start":3690,"end":3694},"property":{"type":"Identifier","start":3695,"end":3701,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3702,"end":3709,"name":"options"},"computed":false,"optional":false},{"type":"MemberExpression","start":3711,"end":3742,"object":{"type":"MemberExpression","start":3711,"end":3722,"object":{"type":"ThisExpression","start":3711,"end":3715},"property":{"type":"Identifier","start":3716,"end":3722,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3723,"end":3742,"name":"migrationStrategies"},"computed":false,"optional":false},{"type":"MemberExpression","start":3744,"end":3767,"object":{"type":"MemberExpression","start":3744,"end":3755,"object":{"type":"ThisExpression","start":3744,"end":3748},"property":{"type":"Identifier","start":3749,"end":3755,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3756,"end":3767,"name":"autoMigrate"},"computed":false,"optional":false}],"optional":false}}},{"type":"ExpressionStatement","start":3778,"end":3955,"expression":{"type":"AssignmentExpression","start":3778,"end":3954,"operator":"=","left":{"type":"MemberExpression","start":3778,"end":3795,"object":{"type":"ThisExpression","start":3778,"end":3782},"property":{"type":"Identifier","start":3783,"end":3795,"name":"_collection$"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":3798,"end":3954,"callee":{"type":"MemberExpression","start":3798,"end":3818,"object":{"type":"MemberExpression","start":3798,"end":3813,"object":{"type":"MemberExpression","start":3798,"end":3809,"object":{"type":"ThisExpression","start":3798,"end":3802},"property":{"type":"Identifier","start":3803,"end":3809,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3810,"end":3813,"name":"db$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3814,"end":3818,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":3819,"end":3877,"callee":{"type":"Identifier","start":3819,"end":3828,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":3829,"end":3876,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3829,"end":3831,"name":"db"}],"body":{"type":"CallExpression","start":3835,"end":3876,"callee":{"type":"Identifier","start":3835,"end":3839,"name":"from"},"arguments":[{"type":"CallExpression","start":3840,"end":3875,"callee":{"type":"MemberExpression","start":3840,"end":3857,"object":{"type":"Identifier","start":3840,"end":3842,"name":"db"},"property":{"type":"Identifier","start":3843,"end":3857,"name":"addCollections"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3858,"end":3874,"name":"collectionSchema"}],"optional":false}],"optional":false}}],"optional":false},{"type":"CallExpression","start":3879,"end":3928,"callee":{"type":"Identifier","start":3879,"end":3882,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":3883,"end":3927,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3883,"end":3894,"name":"collections"}],"body":{"type":"MemberExpression","start":3898,"end":3927,"object":{"type":"Identifier","start":3898,"end":3909,"name":"collections"},"property":{"type":"MemberExpression","start":3910,"end":3926,"object":{"type":"MemberExpression","start":3910,"end":3921,"object":{"type":"ThisExpression","start":3910,"end":3914},"property":{"type":"Identifier","start":3915,"end":3921,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3922,"end":3926,"name":"name"},"computed":false,"optional":false},"computed":true,"optional":false}}],"optional":false},{"type":"CallExpression","start":3930,"end":3944,"callee":{"type":"Identifier","start":3930,"end":3941,"name":"shareReplay"},"arguments":[{"type":"Literal","start":3942,"end":3943,"value":1,"raw":"1"}],"optional":false},{"type":"CallExpression","start":3946,"end":3953,"callee":{"type":"Identifier","start":3946,"end":3951,"name":"first"},"arguments":[],"optional":false}],"optional":false}}},{"type":"ReturnStatement","start":3964,"end":3989,"argument":{"type":"MemberExpression","start":3971,"end":3988,"object":{"type":"ThisExpression","start":3971,"end":3975},"property":{"type":"Identifier","start":3976,"end":3988,"name":"_collection$"},"computed":false,"optional":false}}]}}},{"type":"MethodDefinition","start":4000,"end":4116,"static":false,"computed":false,"key":{"type":"Identifier","start":4000,"end":4022,"name":"addSynchroniseDocument"},"kind":"method","value":{"type":"FunctionExpression","start":4022,"end":4116,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4023,"end":4027,"name":"data"}],"body":{"type":"BlockStatement","start":4029,"end":4116,"body":[{"type":"ReturnStatement","start":4039,"end":4110,"argument":{"type":"CallExpression","start":4046,"end":4109,"callee":{"type":"MemberExpression","start":4046,"end":4067,"object":{"type":"MemberExpression","start":4046,"end":4062,"object":{"type":"ThisExpression","start":4046,"end":4050},"property":{"type":"Identifier","start":4051,"end":4062,"name":"collection$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4063,"end":4067,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":4068,"end":4108,"callee":{"type":"Identifier","start":4068,"end":4077,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":4078,"end":4107,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4078,"end":4081,"name":"col"}],"body":{"type":"CallExpression","start":4085,"end":4107,"callee":{"type":"MemberExpression","start":4085,"end":4101,"object":{"type":"Identifier","start":4085,"end":4088,"name":"col"},"property":{"type":"Identifier","start":4089,"end":4101,"name":"atomicUpsert"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4102,"end":4106,"name":"data"}],"optional":false}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":4121,"end":4177,"static":false,"computed":false,"key":{"type":"Identifier","start":4121,"end":4130,"name":"startSync"},"kind":"method","value":{"type":"FunctionExpression","start":4130,"end":4177,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4133,"end":4177,"body":[{"type":"ExpressionStatement","start":4143,"end":4171,"expression":{"type":"CallExpression","start":4143,"end":4170,"callee":{"type":"MemberExpression","start":4143,"end":4164,"object":{"type":"MemberExpression","start":4143,"end":4159,"object":{"type":"ThisExpression","start":4143,"end":4147},"property":{"type":"Identifier","start":4148,"end":4159,"name":"retryChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4160,"end":4164,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":4165,"end":4169,"value":true,"raw":"true"}],"optional":false}}]}}},{"type":"MethodDefinition","start":4182,"end":4238,"static":false,"computed":false,"key":{"type":"Identifier","start":4182,"end":4190,"name":"stopSync"},"kind":"method","value":{"type":"FunctionExpression","start":4190,"end":4238,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":4193,"end":4238,"body":[{"type":"ExpressionStatement","start":4203,"end":4232,"expression":{"type":"CallExpression","start":4203,"end":4231,"callee":{"type":"MemberExpression","start":4203,"end":4224,"object":{"type":"MemberExpression","start":4203,"end":4219,"object":{"type":"ThisExpression","start":4203,"end":4207},"property":{"type":"Identifier","start":4208,"end":4219,"name":"retryChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4220,"end":4224,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":4225,"end":4230,"value":false,"raw":"false"}],"optional":false}}]}}},{"type":"MethodDefinition","start":4243,"end":4957,"static":false,"computed":false,"key":{"type":"Identifier","start":4243,"end":4257,"name":"unsynchronised"},"kind":"method","value":{"type":"FunctionExpression","start":4257,"end":4957,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4258,"end":4264,"name":"tenant"},{"type":"AssignmentPattern","start":4266,"end":4279,"left":{"type":"Identifier","start":4266,"end":4271,"name":"order"},"right":{"type":"Literal","start":4274,"end":4279,"value":"asc","raw":"'asc'"}}],"body":{"type":"BlockStatement","start":4281,"end":4957,"body":[{"type":"ReturnStatement","start":4291,"end":4951,"argument":{"type":"CallExpression","start":4298,"end":4950,"callee":{"type":"MemberExpression","start":4298,"end":4325,"object":{"type":"MemberExpression","start":4298,"end":4320,"object":{"type":"ThisExpression","start":4298,"end":4302},"property":{"type":"Identifier","start":4303,"end":4320,"name":"storedCollections"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4321,"end":4325,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":4326,"end":4777,"callee":{"type":"Identifier","start":4326,"end":4335,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":4336,"end":4776,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4337,"end":4352,"name":"collectionsInfo"}],"body":{"type":"BlockStatement","start":4357,"end":4776,"body":[{"type":"VariableDeclaration","start":4371,"end":4560,"declarations":[{"type":"VariableDeclarator","start":4377,"end":4559,"id":{"type":"Identifier","start":4377,"end":4382,"name":"query"},"init":{"type":"ObjectExpression","start":4385,"end":4559,"properties":[{"type":"Property","start":4403,"end":4545,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4403,"end":4411,"name":"selector"},"value":{"type":"ObjectExpression","start":4413,"end":4545,"properties":[{"type":"Property","start":4435,"end":4483,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4435,"end":4443,"name":"matchUrl"},"value":{"type":"ObjectExpression","start":4445,"end":4483,"properties":[{"type":"Property","start":4447,"end":4481,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4447,"end":4453,"name":"$regex"},"value":{"type":"NewExpression","start":4455,"end":4481,"callee":{"type":"Identifier","start":4459,"end":4465,"name":"RegExp"},"arguments":[{"type":"TemplateLiteral","start":4466,"end":4480,"expressions":[{"type":"Identifier","start":4470,"end":4476,"name":"tenant"}],"quasis":[{"type":"TemplateElement","start":4467,"end":4468,"value":{"raw":"^","cooked":"^"},"tail":false},{"type":"TemplateElement","start":4477,"end":4479,"value":{"raw":".*","cooked":".*"},"tail":true}]}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":4505,"end":4527,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4505,"end":4511,"name":"method"},"value":{"type":"ObjectExpression","start":4513,"end":4527,"properties":[{"type":"Property","start":4515,"end":4525,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":4515,"end":4518,"name":"$ne"},"value":{"type":"Literal","start":4520,"end":4525,"value":"GET","raw":"'GET'"},"kind":"init"}]},"kind":"init"}]},"kind":"init"}]}}],"kind":"const"},{"type":"VariableDeclaration","start":4573,"end":4719,"declarations":[{"type":"VariableDeclarator","start":4579,"end":4718,"id":{"type":"Identifier","start":4579,"end":4590,"name":"sortedDocs$"},"init":{"type":"CallExpression","start":4593,"end":4718,"callee":{"type":"MemberExpression","start":4593,"end":4612,"object":{"type":"Identifier","start":4593,"end":4608,"name":"collectionsInfo"},"property":{"type":"Identifier","start":4609,"end":4612,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4613,"end":4717,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4613,"end":4614,"name":"k"}],"body":{"type":"BlockStatement","start":4618,"end":4717,"body":[{"type":"ReturnStatement","start":4636,"end":4703,"argument":{"type":"CallExpression","start":4643,"end":4702,"callee":{"type":"Identifier","start":4643,"end":4647,"name":"from"},"arguments":[{"type":"CallExpression","start":4648,"end":4701,"callee":{"type":"MemberExpression","start":4648,"end":4679,"object":{"type":"MemberExpression","start":4648,"end":4674,"object":{"type":"CallExpression","start":4648,"end":4672,"callee":{"type":"MemberExpression","start":4648,"end":4665,"object":{"type":"MemberExpression","start":4648,"end":4660,"object":{"type":"Identifier","start":4648,"end":4649,"name":"k"},"property":{"type":"Identifier","start":4650,"end":4660,"name":"collection"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4661,"end":4665,"name":"find"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4666,"end":4671,"name":"query"}],"optional":false},"property":{"type":"Identifier","start":4673,"end":4674,"name":"$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4675,"end":4679,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":4680,"end":4700,"callee":{"type":"Identifier","start":4680,"end":4689,"name":"auditTime"},"arguments":[{"type":"BinaryExpression","start":4690,"end":4699,"left":{"type":"Literal","start":4690,"end":4694,"value":1000,"raw":"1000"},"operator":"/","right":{"type":"Literal","start":4697,"end":4699,"value":60,"raw":"60"}}],"optional":false}],"optional":false}],"optional":false}}]}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":4732,"end":4766,"argument":{"type":"CallExpression","start":4739,"end":4765,"callee":{"type":"Identifier","start":4739,"end":4752,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":4753,"end":4764,"name":"sortedDocs$"}],"optional":false}}]}}],"optional":false},{"type":"CallExpression","start":4779,"end":4817,"callee":{"type":"Identifier","start":4779,"end":4782,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":4783,"end":4816,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4783,"end":4793,"name":"sortedDocs"}],"body":{"type":"CallExpression","start":4797,"end":4816,"callee":{"type":"Identifier","start":4797,"end":4804,"name":"flatten"},"arguments":[{"type":"Identifier","start":4805,"end":4815,"name":"sortedDocs"}],"optional":false}}],"optional":false},{"type":"CallExpression","start":4819,"end":4918,"callee":{"type":"Identifier","start":4819,"end":4822,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":4823,"end":4917,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4824,"end":4834,"name":"sortedDocs"}],"body":{"type":"CallExpression","start":4839,"end":4917,"callee":{"type":"MemberExpression","start":4839,"end":4854,"object":{"type":"Identifier","start":4839,"end":4849,"name":"sortedDocs"},"property":{"type":"Identifier","start":4850,"end":4854,"name":"sort"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4855,"end":4916,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4856,"end":4857,"name":"a"},{"type":"Identifier","start":4859,"end":4860,"name":"b"}],"body":{"type":"ConditionalExpression","start":4865,"end":4916,"test":{"type":"BinaryExpression","start":4865,"end":4880,"left":{"type":"Identifier","start":4865,"end":4870,"name":"order"},"operator":"===","right":{"type":"Literal","start":4875,"end":4880,"value":"asc","raw":"'asc'"}},"consequent":{"type":"BinaryExpression","start":4883,"end":4898,"left":{"type":"MemberExpression","start":4883,"end":4889,"object":{"type":"Identifier","start":4883,"end":4884,"name":"a"},"property":{"type":"Identifier","start":4885,"end":4889,"name":"time"},"computed":false,"optional":false},"operator":"-","right":{"type":"MemberExpression","start":4892,"end":4898,"object":{"type":"Identifier","start":4892,"end":4893,"name":"b"},"property":{"type":"Identifier","start":4894,"end":4898,"name":"time"},"computed":false,"optional":false}},"alternate":{"type":"BinaryExpression","start":4901,"end":4916,"left":{"type":"MemberExpression","start":4901,"end":4907,"object":{"type":"Identifier","start":4901,"end":4902,"name":"b"},"property":{"type":"Identifier","start":4903,"end":4907,"name":"time"},"computed":false,"optional":false},"operator":"-","right":{"type":"MemberExpression","start":4910,"end":4916,"object":{"type":"Identifier","start":4910,"end":4911,"name":"a"},"property":{"type":"Identifier","start":4912,"end":4916,"name":"time"},"computed":false,"optional":false}}}}],"optional":false}}],"optional":false},{"type":"CallExpression","start":4920,"end":4949,"callee":{"type":"Identifier","start":4920,"end":4929,"name":"enterZone"},"arguments":[{"type":"MemberExpression","start":4930,"end":4948,"object":{"type":"MemberExpression","start":4930,"end":4941,"object":{"type":"ThisExpression","start":4930,"end":4934},"property":{"type":"Identifier","start":4935,"end":4941,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4942,"end":4948,"name":"ngZone"},"computed":false,"optional":false}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":4962,"end":8410,"static":false,"computed":false,"key":{"type":"Identifier","start":4962,"end":4973,"name":"synchronise"},"kind":"method","value":{"type":"FunctionExpression","start":4973,"end":8410,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4974,"end":4980,"name":"tenant"}],"body":{"type":"BlockStatement","start":4982,"end":8410,"body":[{"type":"VariableDeclaration","start":4992,"end":5123,"declarations":[{"type":"VariableDeclarator","start":4998,"end":5122,"id":{"type":"Identifier","start":4998,"end":5001,"name":"pop"},"init":{"type":"CallExpression","start":5004,"end":5122,"callee":{"type":"MemberExpression","start":5004,"end":5043,"object":{"type":"CallExpression","start":5004,"end":5038,"callee":{"type":"MemberExpression","start":5004,"end":5023,"object":{"type":"ThisExpression","start":5004,"end":5008},"property":{"type":"Identifier","start":5009,"end":5023,"name":"unsynchronised"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5024,"end":5030,"name":"tenant"},{"type":"Literal","start":5032,"end":5037,"value":"asc","raw":"'asc'"}],"optional":false},"property":{"type":"Identifier","start":5039,"end":5043,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":5044,"end":5087,"callee":{"type":"Identifier","start":5044,"end":5050,"name":"filter"},"arguments":[{"type":"ArrowFunctionExpression","start":5051,"end":5086,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5051,"end":5061,"name":"sortedDocs"}],"body":{"type":"BinaryExpression","start":5065,"end":5086,"left":{"type":"MemberExpression","start":5065,"end":5082,"object":{"type":"Identifier","start":5065,"end":5075,"name":"sortedDocs"},"property":{"type":"Identifier","start":5076,"end":5082,"name":"length"},"computed":false,"optional":false},"operator":">","right":{"type":"Literal","start":5085,"end":5086,"value":0,"raw":"0"}}}],"optional":false},{"type":"CallExpression","start":5089,"end":5121,"callee":{"type":"Identifier","start":5089,"end":5092,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":5093,"end":5120,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":5093,"end":5103,"name":"sortedDocs"}],"body":{"type":"MemberExpression","start":5107,"end":5120,"object":{"type":"Identifier","start":5107,"end":5117,"name":"sortedDocs"},"property":{"type":"Literal","start":5118,"end":5119,"value":0,"raw":"0"},"computed":true,"optional":false}}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":5132,"end":8307,"declarations":[{"type":"VariableDeclarator","start":5138,"end":8306,"id":{"type":"Identifier","start":5138,"end":5141,"name":"hit"},"init":{"type":"CallExpression","start":5144,"end":8306,"callee":{"type":"MemberExpression","start":5144,"end":5152,"object":{"type":"Identifier","start":5144,"end":5147,"name":"pop"},"property":{"type":"Identifier","start":5148,"end":5152,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":5153,"end":8305,"callee":{"type":"Identifier","start":5153,"end":5162,"name":"concatMap"},"arguments":[{"type":"ArrowFunctionExpression","start":5163,"end":8304,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5163,"end":5166,"name":"doc"}],"body":{"type":"BlockStatement","start":5170,"end":8304,"body":[{"type":"IfStatement","start":5184,"end":8180,"test":{"type":"BinaryExpression","start":5188,"end":5209,"left":{"type":"MemberExpression","start":5188,"end":5198,"object":{"type":"Identifier","start":5188,"end":5191,"name":"doc"},"property":{"type":"Identifier","start":5192,"end":5198,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":5203,"end":5209,"value":"POST","raw":"'POST'"}},"consequent":{"type":"BlockStatement","start":5211,"end":6546,"body":[{"type":"VariableDeclaration","start":5229,"end":5283,"declarations":[{"type":"VariableDeclarator","start":5235,"end":5282,"id":{"type":"Identifier","start":5235,"end":5238,"name":"url"},"init":{"type":"CallExpression","start":5241,"end":5282,"callee":{"type":"MemberExpression","start":5241,"end":5277,"object":{"type":"MemberExpression","start":5241,"end":5271,"object":{"type":"CallExpression","start":5241,"end":5268,"callee":{"type":"MemberExpression","start":5241,"end":5260,"object":{"type":"MemberExpression","start":5241,"end":5254,"object":{"type":"Identifier","start":5241,"end":5244,"name":"doc"},"property":{"type":"Identifier","start":5245,"end":5254,"name":"tenantUrl"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5255,"end":5260,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5261,"end":5267,"value":"____","raw":"'____'"}],"optional":false},"property":{"type":"Literal","start":5269,"end":5270,"value":1,"raw":"1"},"computed":true,"optional":false},"property":{"type":"Identifier","start":5272,"end":5277,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":5278,"end":5281,"value":"/","raw":"'/'"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":5300,"end":5330,"expression":{"type":"CallExpression","start":5300,"end":5329,"callee":{"type":"MemberExpression","start":5300,"end":5310,"object":{"type":"Identifier","start":5300,"end":5303,"name":"url"},"property":{"type":"Identifier","start":5304,"end":5310,"name":"splice"},"computed":false,"optional":false},"arguments":[{"type":"BinaryExpression","start":5311,"end":5325,"left":{"type":"MemberExpression","start":5311,"end":5321,"object":{"type":"Identifier","start":5311,"end":5314,"name":"url"},"property":{"type":"Identifier","start":5315,"end":5321,"name":"length"},"computed":false,"optional":false},"operator":"-","right":{"type":"Literal","start":5324,"end":5325,"value":1,"raw":"1"}},{"type":"Literal","start":5327,"end":5328,"value":1,"raw":"1"}],"optional":false}},{"type":"VariableDeclaration","start":5347,"end":5360,"declarations":[{"type":"VariableDeclarator","start":5351,"end":5359,"id":{"type":"Identifier","start":5351,"end":5359,"name":"formData"},"init":null}],"kind":"let"},{"type":"IfStatement","start":5377,"end":6075,"test":{"type":"MemberExpression","start":5381,"end":5402,"object":{"type":"MemberExpression","start":5381,"end":5395,"object":{"type":"Identifier","start":5381,"end":5384,"name":"doc"},"property":{"type":"Identifier","start":5385,"end":5395,"name":"fileFields"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5396,"end":5402,"name":"length"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":5404,"end":5984,"body":[{"type":"ExpressionStatement","start":5426,"end":5471,"expression":{"type":"AssignmentExpression","start":5426,"end":5470,"operator":"=","left":{"type":"Identifier","start":5426,"end":5434,"name":"formData"},"right":{"type":"CallExpression","start":5437,"end":5470,"callee":{"type":"Identifier","start":5437,"end":5451,"name":"createFormData"},"arguments":[{"type":"MemberExpression","start":5452,"end":5469,"object":{"type":"CallExpression","start":5452,"end":5464,"callee":{"type":"MemberExpression","start":5452,"end":5462,"object":{"type":"Identifier","start":5452,"end":5455,"name":"doc"},"property":{"type":"Identifier","start":5456,"end":5462,"name":"toJSON"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":5465,"end":5469,"name":"data"},"computed":false,"optional":false}],"optional":false}}},{"type":"ExpressionStatement","start":5492,"end":5966,"expression":{"type":"CallExpression","start":5492,"end":5965,"callee":{"type":"MemberExpression","start":5492,"end":5514,"object":{"type":"MemberExpression","start":5492,"end":5506,"object":{"type":"Identifier","start":5492,"end":5495,"name":"doc"},"property":{"type":"Identifier","start":5496,"end":5506,"name":"fileFields"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5507,"end":5514,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5515,"end":5964,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5515,"end":5516,"name":"k"}],"body":{"type":"BlockStatement","start":5520,"end":5964,"body":[{"type":"ExpressionStatement","start":5546,"end":5575,"expression":{"type":"CallExpression","start":5546,"end":5574,"callee":{"type":"MemberExpression","start":5546,"end":5561,"object":{"type":"Identifier","start":5546,"end":5554,"name":"formData"},"property":{"type":"Identifier","start":5555,"end":5561,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":5562,"end":5573,"object":{"type":"Identifier","start":5562,"end":5563,"name":"k"},"property":{"type":"Identifier","start":5564,"end":5573,"name":"fileField"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":5600,"end":5633,"expression":{"type":"CallExpression","start":5600,"end":5632,"callee":{"type":"MemberExpression","start":5600,"end":5615,"object":{"type":"Identifier","start":5600,"end":5608,"name":"formData"},"property":{"type":"Identifier","start":5609,"end":5615,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":5616,"end":5631,"object":{"type":"Identifier","start":5616,"end":5617,"name":"k"},"property":{"type":"Identifier","start":5618,"end":5631,"name":"fileNameField"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":5658,"end":5686,"expression":{"type":"CallExpression","start":5658,"end":5685,"callee":{"type":"MemberExpression","start":5658,"end":5673,"object":{"type":"Identifier","start":5658,"end":5666,"name":"formData"},"property":{"type":"Identifier","start":5667,"end":5673,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":5674,"end":5684,"object":{"type":"Identifier","start":5674,"end":5675,"name":"k"},"property":{"type":"Identifier","start":5676,"end":5684,"name":"fileType"},"computed":false,"optional":false}],"optional":false}},{"type":"IfStatement","start":5711,"end":5942,"test":{"type":"LogicalExpression","start":5715,"end":5758,"left":{"type":"LogicalExpression","start":5715,"end":5744,"left":{"type":"MemberExpression","start":5715,"end":5729,"object":{"type":"Identifier","start":5715,"end":5716,"name":"k"},"property":{"type":"Identifier","start":5717,"end":5729,"name":"fileKeyField"},"computed":false,"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":5733,"end":5744,"object":{"type":"Identifier","start":5733,"end":5734,"name":"k"},"property":{"type":"Identifier","start":5735,"end":5744,"name":"fileField"},"computed":false,"optional":false}},"operator":"&&","right":{"type":"MemberExpression","start":5748,"end":5758,"object":{"type":"Identifier","start":5748,"end":5749,"name":"k"},"property":{"type":"Identifier","start":5750,"end":5758,"name":"fileType"},"computed":false,"optional":false}},"consequent":{"type":"ExpressionStatement","start":5788,"end":5942,"expression":{"type":"CallExpression","start":5788,"end":5941,"callee":{"type":"MemberExpression","start":5788,"end":5803,"object":{"type":"Identifier","start":5788,"end":5796,"name":"formData"},"property":{"type":"Identifier","start":5797,"end":5803,"name":"append"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":5804,"end":5818,"object":{"type":"Identifier","start":5804,"end":5805,"name":"k"},"property":{"type":"Identifier","start":5806,"end":5818,"name":"fileKeyField"},"computed":false,"optional":false},{"type":"NewExpression","start":5820,"end":5940,"callee":{"type":"Identifier","start":5824,"end":5828,"name":"File"},"arguments":[{"type":"ArrayExpression","start":5829,"end":5887,"elements":[{"type":"MemberExpression","start":5830,"end":5886,"object":{"type":"NewExpression","start":5830,"end":5879,"callee":{"type":"Identifier","start":5834,"end":5844,"name":"Uint8Array"},"arguments":[{"type":"CallExpression","start":5845,"end":5878,"callee":{"type":"MemberExpression","start":5845,"end":5855,"object":{"type":"Identifier","start":5845,"end":5849,"name":"JSON"},"property":{"type":"Identifier","start":5850,"end":5855,"name":"parse"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":5856,"end":5877,"object":{"type":"MemberExpression","start":5856,"end":5864,"object":{"type":"Identifier","start":5856,"end":5859,"name":"doc"},"property":{"type":"Identifier","start":5860,"end":5864,"name":"data"},"computed":false,"optional":false},"property":{"type":"MemberExpression","start":5865,"end":5876,"object":{"type":"Identifier","start":5865,"end":5866,"name":"k"},"property":{"type":"Identifier","start":5867,"end":5876,"name":"fileField"},"computed":false,"optional":false},"computed":true,"optional":false}],"optional":false}]},"property":{"type":"Identifier","start":5880,"end":5886,"name":"buffer"},"computed":false,"optional":false}]},{"type":"LogicalExpression","start":5889,"end":5917,"left":{"type":"MemberExpression","start":5889,"end":5904,"object":{"type":"Identifier","start":5889,"end":5890,"name":"k"},"property":{"type":"Identifier","start":5891,"end":5904,"name":"fileNameField"},"computed":false,"optional":false},"operator":"||","right":{"type":"Literal","start":5908,"end":5917,"value":"Unknown","raw":"'Unknown'"}},{"type":"ObjectExpression","start":5919,"end":5939,"properties":[{"type":"Property","start":5921,"end":5937,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":5921,"end":5925,"name":"type"},"value":{"type":"MemberExpression","start":5927,"end":5937,"object":{"type":"Identifier","start":5927,"end":5928,"name":"k"},"property":{"type":"Identifier","start":5929,"end":5937,"name":"fileType"},"computed":false,"optional":false},"kind":"init"}]}]}],"optional":false}},"alternate":null}]}}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":6006,"end":6075,"body":[{"type":"ExpressionStatement","start":6028,"end":6057,"expression":{"type":"AssignmentExpression","start":6028,"end":6056,"operator":"=","left":{"type":"Identifier","start":6028,"end":6036,"name":"formData"},"right":{"type":"MemberExpression","start":6039,"end":6056,"object":{"type":"CallExpression","start":6039,"end":6051,"callee":{"type":"MemberExpression","start":6039,"end":6049,"object":{"type":"Identifier","start":6039,"end":6042,"name":"doc"},"property":{"type":"Identifier","start":6043,"end":6049,"name":"toJSON"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":6052,"end":6056,"name":"data"},"computed":false,"optional":false}}}]}},{"type":"ReturnStatement","start":6092,"end":6532,"argument":{"type":"CallExpression","start":6099,"end":6531,"callee":{"type":"MemberExpression","start":6099,"end":6156,"object":{"type":"CallExpression","start":6099,"end":6151,"callee":{"type":"MemberExpression","start":6099,"end":6126,"object":{"type":"MemberExpression","start":6099,"end":6121,"object":{"type":"MemberExpression","start":6099,"end":6110,"object":{"type":"ThisExpression","start":6099,"end":6103},"property":{"type":"Identifier","start":6104,"end":6110,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6111,"end":6121,"name":"httpClient"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6122,"end":6126,"name":"post"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":6127,"end":6140,"callee":{"type":"MemberExpression","start":6127,"end":6135,"object":{"type":"Identifier","start":6127,"end":6130,"name":"url"},"property":{"type":"Identifier","start":6131,"end":6135,"name":"join"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":6136,"end":6139,"value":"/","raw":"'/'"}],"optional":false},{"type":"Identifier","start":6142,"end":6150,"name":"formData"}],"optional":false},"property":{"type":"Identifier","start":6152,"end":6156,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":6157,"end":6357,"callee":{"type":"Identifier","start":6157,"end":6166,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":6167,"end":6356,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":6167,"end":6170,"name":"res"}],"body":{"type":"CallExpression","start":6174,"end":6356,"callee":{"type":"MemberExpression","start":6174,"end":6189,"object":{"type":"Identifier","start":6174,"end":6177,"name":"doc"},"property":{"type":"Identifier","start":6178,"end":6189,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":6190,"end":6355,"properties":[{"type":"Property","start":6212,"end":6225,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6212,"end":6218,"name":"method"},"value":{"type":"Literal","start":6220,"end":6225,"value":"GET","raw":"'GET'"},"kind":"init"},{"type":"Property","start":6247,"end":6256,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6247,"end":6251,"name":"data"},"value":{"type":"Identifier","start":6253,"end":6256,"name":"res"},"kind":"init"},{"type":"Property","start":6278,"end":6289,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6278,"end":6283,"name":"error"},"value":{"type":"Literal","start":6285,"end":6289,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":6311,"end":6337,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6311,"end":6315,"name":"time"},"value":{"type":"CallExpression","start":6317,"end":6337,"callee":{"type":"MemberExpression","start":6317,"end":6335,"object":{"type":"NewExpression","start":6317,"end":6327,"callee":{"type":"Identifier","start":6321,"end":6325,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":6328,"end":6335,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"kind":"init"}]}],"optional":false}}],"optional":false},{"type":"CallExpression","start":6359,"end":6530,"callee":{"type":"Identifier","start":6359,"end":6369,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":6370,"end":6529,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6370,"end":6373,"name":"err"}],"body":{"type":"BlockStatement","start":6377,"end":6529,"body":[{"type":"ReturnStatement","start":6399,"end":6511,"argument":{"type":"CallExpression","start":6406,"end":6510,"callee":{"type":"MemberExpression","start":6406,"end":6464,"object":{"type":"CallExpression","start":6406,"end":6459,"callee":{"type":"Identifier","start":6406,"end":6410,"name":"from"},"arguments":[{"type":"CallExpression","start":6411,"end":6458,"callee":{"type":"MemberExpression","start":6411,"end":6426,"object":{"type":"Identifier","start":6411,"end":6414,"name":"doc"},"property":{"type":"Identifier","start":6415,"end":6426,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":6427,"end":6457,"properties":[{"type":"Property","start":6429,"end":6455,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":6429,"end":6434,"name":"error"},"value":{"type":"CallExpression","start":6436,"end":6455,"callee":{"type":"MemberExpression","start":6436,"end":6450,"object":{"type":"Identifier","start":6436,"end":6440,"name":"JSON"},"property":{"type":"Identifier","start":6441,"end":6450,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6451,"end":6454,"name":"err"}],"optional":false},"kind":"init"}]}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":6460,"end":6464,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":6465,"end":6509,"callee":{"type":"Identifier","start":6465,"end":6473,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":6474,"end":6508,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":6480,"end":6508,"callee":{"type":"MemberExpression","start":6480,"end":6501,"object":{"type":"MemberExpression","start":6480,"end":6496,"object":{"type":"ThisExpression","start":6480,"end":6484},"property":{"type":"Identifier","start":6485,"end":6496,"name":"retryChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6497,"end":6501,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":6502,"end":6507,"value":false,"raw":"false"}],"optional":false}}],"optional":false}],"optional":false}}]}}],"optional":false}],"optional":false}}]},"alternate":{"type":"IfStatement","start":6564,"end":8180,"test":{"type":"BinaryExpression","start":6568,"end":6588,"left":{"type":"MemberExpression","start":6568,"end":6578,"object":{"type":"Identifier","start":6568,"end":6571,"name":"doc"},"property":{"type":"Identifier","start":6572,"end":6578,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":6583,"end":6588,"value":"PUT","raw":"'PUT'"}},"consequent":{"type":"BlockStatement","start":6590,"end":7823,"body":[{"type":"VariableDeclaration","start":6608,"end":6621,"declarations":[{"type":"VariableDeclarator","start":6612,"end":6620,"id":{"type":"Identifier","start":6612,"end":6620,"name":"formData"},"init":null}],"kind":"let"},{"type":"IfStatement","start":6638,"end":7336,"test":{"type":"MemberExpression","start":6642,"end":6663,"object":{"type":"MemberExpression","start":6642,"end":6656,"object":{"type":"Identifier","start":6642,"end":6645,"name":"doc"},"property":{"type":"Identifier","start":6646,"end":6656,"name":"fileFields"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6657,"end":6663,"name":"length"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":6665,"end":7245,"body":[{"type":"ExpressionStatement","start":6687,"end":6732,"expression":{"type":"AssignmentExpression","start":6687,"end":6731,"operator":"=","left":{"type":"Identifier","start":6687,"end":6695,"name":"formData"},"right":{"type":"CallExpression","start":6698,"end":6731,"callee":{"type":"Identifier","start":6698,"end":6712,"name":"createFormData"},"arguments":[{"type":"MemberExpression","start":6713,"end":6730,"object":{"type":"CallExpression","start":6713,"end":6725,"callee":{"type":"MemberExpression","start":6713,"end":6723,"object":{"type":"Identifier","start":6713,"end":6716,"name":"doc"},"property":{"type":"Identifier","start":6717,"end":6723,"name":"toJSON"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":6726,"end":6730,"name":"data"},"computed":false,"optional":false}],"optional":false}}},{"type":"ExpressionStatement","start":6753,"end":7227,"expression":{"type":"CallExpression","start":6753,"end":7226,"callee":{"type":"MemberExpression","start":6753,"end":6775,"object":{"type":"MemberExpression","start":6753,"end":6767,"object":{"type":"Identifier","start":6753,"end":6756,"name":"doc"},"property":{"type":"Identifier","start":6757,"end":6767,"name":"fileFields"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6768,"end":6775,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6776,"end":7225,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6776,"end":6777,"name":"k"}],"body":{"type":"BlockStatement","start":6781,"end":7225,"body":[{"type":"ExpressionStatement","start":6807,"end":6836,"expression":{"type":"CallExpression","start":6807,"end":6835,"callee":{"type":"MemberExpression","start":6807,"end":6822,"object":{"type":"Identifier","start":6807,"end":6815,"name":"formData"},"property":{"type":"Identifier","start":6816,"end":6822,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":6823,"end":6834,"object":{"type":"Identifier","start":6823,"end":6824,"name":"k"},"property":{"type":"Identifier","start":6825,"end":6834,"name":"fileField"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":6861,"end":6894,"expression":{"type":"CallExpression","start":6861,"end":6893,"callee":{"type":"MemberExpression","start":6861,"end":6876,"object":{"type":"Identifier","start":6861,"end":6869,"name":"formData"},"property":{"type":"Identifier","start":6870,"end":6876,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":6877,"end":6892,"object":{"type":"Identifier","start":6877,"end":6878,"name":"k"},"property":{"type":"Identifier","start":6879,"end":6892,"name":"fileNameField"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":6919,"end":6947,"expression":{"type":"CallExpression","start":6919,"end":6946,"callee":{"type":"MemberExpression","start":6919,"end":6934,"object":{"type":"Identifier","start":6919,"end":6927,"name":"formData"},"property":{"type":"Identifier","start":6928,"end":6934,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":6935,"end":6945,"object":{"type":"Identifier","start":6935,"end":6936,"name":"k"},"property":{"type":"Identifier","start":6937,"end":6945,"name":"fileType"},"computed":false,"optional":false}],"optional":false}},{"type":"IfStatement","start":6972,"end":7203,"test":{"type":"LogicalExpression","start":6976,"end":7019,"left":{"type":"LogicalExpression","start":6976,"end":7005,"left":{"type":"MemberExpression","start":6976,"end":6990,"object":{"type":"Identifier","start":6976,"end":6977,"name":"k"},"property":{"type":"Identifier","start":6978,"end":6990,"name":"fileKeyField"},"computed":false,"optional":false},"operator":"&&","right":{"type":"MemberExpression","start":6994,"end":7005,"object":{"type":"Identifier","start":6994,"end":6995,"name":"k"},"property":{"type":"Identifier","start":6996,"end":7005,"name":"fileField"},"computed":false,"optional":false}},"operator":"&&","right":{"type":"MemberExpression","start":7009,"end":7019,"object":{"type":"Identifier","start":7009,"end":7010,"name":"k"},"property":{"type":"Identifier","start":7011,"end":7019,"name":"fileType"},"computed":false,"optional":false}},"consequent":{"type":"ExpressionStatement","start":7049,"end":7203,"expression":{"type":"CallExpression","start":7049,"end":7202,"callee":{"type":"MemberExpression","start":7049,"end":7064,"object":{"type":"Identifier","start":7049,"end":7057,"name":"formData"},"property":{"type":"Identifier","start":7058,"end":7064,"name":"append"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":7065,"end":7079,"object":{"type":"Identifier","start":7065,"end":7066,"name":"k"},"property":{"type":"Identifier","start":7067,"end":7079,"name":"fileKeyField"},"computed":false,"optional":false},{"type":"NewExpression","start":7081,"end":7201,"callee":{"type":"Identifier","start":7085,"end":7089,"name":"File"},"arguments":[{"type":"ArrayExpression","start":7090,"end":7148,"elements":[{"type":"MemberExpression","start":7091,"end":7147,"object":{"type":"NewExpression","start":7091,"end":7140,"callee":{"type":"Identifier","start":7095,"end":7105,"name":"Uint8Array"},"arguments":[{"type":"CallExpression","start":7106,"end":7139,"callee":{"type":"MemberExpression","start":7106,"end":7116,"object":{"type":"Identifier","start":7106,"end":7110,"name":"JSON"},"property":{"type":"Identifier","start":7111,"end":7116,"name":"parse"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":7117,"end":7138,"object":{"type":"MemberExpression","start":7117,"end":7125,"object":{"type":"Identifier","start":7117,"end":7120,"name":"doc"},"property":{"type":"Identifier","start":7121,"end":7125,"name":"data"},"computed":false,"optional":false},"property":{"type":"MemberExpression","start":7126,"end":7137,"object":{"type":"Identifier","start":7126,"end":7127,"name":"k"},"property":{"type":"Identifier","start":7128,"end":7137,"name":"fileField"},"computed":false,"optional":false},"computed":true,"optional":false}],"optional":false}]},"property":{"type":"Identifier","start":7141,"end":7147,"name":"buffer"},"computed":false,"optional":false}]},{"type":"LogicalExpression","start":7150,"end":7178,"left":{"type":"MemberExpression","start":7150,"end":7165,"object":{"type":"Identifier","start":7150,"end":7151,"name":"k"},"property":{"type":"Identifier","start":7152,"end":7165,"name":"fileNameField"},"computed":false,"optional":false},"operator":"||","right":{"type":"Literal","start":7169,"end":7178,"value":"Unknown","raw":"'Unknown'"}},{"type":"ObjectExpression","start":7180,"end":7200,"properties":[{"type":"Property","start":7182,"end":7198,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7182,"end":7186,"name":"type"},"value":{"type":"MemberExpression","start":7188,"end":7198,"object":{"type":"Identifier","start":7188,"end":7189,"name":"k"},"property":{"type":"Identifier","start":7190,"end":7198,"name":"fileType"},"computed":false,"optional":false},"kind":"init"}]}]}],"optional":false}},"alternate":null}]}}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":7267,"end":7336,"body":[{"type":"ExpressionStatement","start":7289,"end":7318,"expression":{"type":"AssignmentExpression","start":7289,"end":7317,"operator":"=","left":{"type":"Identifier","start":7289,"end":7297,"name":"formData"},"right":{"type":"MemberExpression","start":7300,"end":7317,"object":{"type":"CallExpression","start":7300,"end":7312,"callee":{"type":"MemberExpression","start":7300,"end":7310,"object":{"type":"Identifier","start":7300,"end":7303,"name":"doc"},"property":{"type":"Identifier","start":7304,"end":7310,"name":"toJSON"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":7313,"end":7317,"name":"data"},"computed":false,"optional":false}}}]}},{"type":"ReturnStatement","start":7353,"end":7809,"argument":{"type":"CallExpression","start":7360,"end":7808,"callee":{"type":"MemberExpression","start":7360,"end":7433,"object":{"type":"CallExpression","start":7360,"end":7428,"callee":{"type":"MemberExpression","start":7360,"end":7386,"object":{"type":"MemberExpression","start":7360,"end":7382,"object":{"type":"MemberExpression","start":7360,"end":7371,"object":{"type":"ThisExpression","start":7360,"end":7364},"property":{"type":"Identifier","start":7365,"end":7371,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7372,"end":7382,"name":"httpClient"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7383,"end":7386,"name":"put"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":7387,"end":7417,"object":{"type":"CallExpression","start":7387,"end":7414,"callee":{"type":"MemberExpression","start":7387,"end":7406,"object":{"type":"MemberExpression","start":7387,"end":7400,"object":{"type":"Identifier","start":7387,"end":7390,"name":"doc"},"property":{"type":"Identifier","start":7391,"end":7400,"name":"tenantUrl"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7401,"end":7406,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7407,"end":7413,"value":"____","raw":"'____'"}],"optional":false},"property":{"type":"Literal","start":7415,"end":7416,"value":1,"raw":"1"},"computed":true,"optional":false},{"type":"Identifier","start":7419,"end":7427,"name":"formData"}],"optional":false},"property":{"type":"Identifier","start":7429,"end":7433,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":7434,"end":7634,"callee":{"type":"Identifier","start":7434,"end":7443,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":7444,"end":7633,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7444,"end":7447,"name":"res"}],"body":{"type":"CallExpression","start":7451,"end":7633,"callee":{"type":"MemberExpression","start":7451,"end":7466,"object":{"type":"Identifier","start":7451,"end":7454,"name":"doc"},"property":{"type":"Identifier","start":7455,"end":7466,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":7467,"end":7632,"properties":[{"type":"Property","start":7489,"end":7502,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7489,"end":7495,"name":"method"},"value":{"type":"Literal","start":7497,"end":7502,"value":"GET","raw":"'GET'"},"kind":"init"},{"type":"Property","start":7524,"end":7533,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7524,"end":7528,"name":"data"},"value":{"type":"Identifier","start":7530,"end":7533,"name":"res"},"kind":"init"},{"type":"Property","start":7555,"end":7566,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7555,"end":7560,"name":"error"},"value":{"type":"Literal","start":7562,"end":7566,"value":null,"raw":"null"},"kind":"init"},{"type":"Property","start":7588,"end":7614,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7588,"end":7592,"name":"time"},"value":{"type":"CallExpression","start":7594,"end":7614,"callee":{"type":"MemberExpression","start":7594,"end":7612,"object":{"type":"NewExpression","start":7594,"end":7604,"callee":{"type":"Identifier","start":7598,"end":7602,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":7605,"end":7612,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"kind":"init"}]}],"optional":false}}],"optional":false},{"type":"CallExpression","start":7636,"end":7807,"callee":{"type":"Identifier","start":7636,"end":7646,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":7647,"end":7806,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7647,"end":7650,"name":"err"}],"body":{"type":"BlockStatement","start":7654,"end":7806,"body":[{"type":"ReturnStatement","start":7676,"end":7788,"argument":{"type":"CallExpression","start":7683,"end":7787,"callee":{"type":"MemberExpression","start":7683,"end":7741,"object":{"type":"CallExpression","start":7683,"end":7736,"callee":{"type":"Identifier","start":7683,"end":7687,"name":"from"},"arguments":[{"type":"CallExpression","start":7688,"end":7735,"callee":{"type":"MemberExpression","start":7688,"end":7703,"object":{"type":"Identifier","start":7688,"end":7691,"name":"doc"},"property":{"type":"Identifier","start":7692,"end":7703,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":7704,"end":7734,"properties":[{"type":"Property","start":7706,"end":7732,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":7706,"end":7711,"name":"error"},"value":{"type":"CallExpression","start":7713,"end":7732,"callee":{"type":"MemberExpression","start":7713,"end":7727,"object":{"type":"Identifier","start":7713,"end":7717,"name":"JSON"},"property":{"type":"Identifier","start":7718,"end":7727,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7728,"end":7731,"name":"err"}],"optional":false},"kind":"init"}]}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":7737,"end":7741,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":7742,"end":7786,"callee":{"type":"Identifier","start":7742,"end":7750,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":7751,"end":7785,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":7757,"end":7785,"callee":{"type":"MemberExpression","start":7757,"end":7778,"object":{"type":"MemberExpression","start":7757,"end":7773,"object":{"type":"ThisExpression","start":7757,"end":7761},"property":{"type":"Identifier","start":7762,"end":7773,"name":"retryChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7774,"end":7778,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7779,"end":7784,"value":false,"raw":"false"}],"optional":false}}],"optional":false}],"optional":false}}]}}],"optional":false}],"optional":false}}]},"alternate":{"type":"IfStatement","start":7841,"end":8180,"test":{"type":"BinaryExpression","start":7845,"end":7868,"left":{"type":"MemberExpression","start":7845,"end":7855,"object":{"type":"Identifier","start":7845,"end":7848,"name":"doc"},"property":{"type":"Identifier","start":7849,"end":7855,"name":"method"},"computed":false,"optional":false},"operator":"===","right":{"type":"Literal","start":7860,"end":7868,"value":"DELETE","raw":"'DELETE'"}},"consequent":{"type":"BlockStatement","start":7870,"end":8180,"body":[{"type":"ReturnStatement","start":7888,"end":8166,"argument":{"type":"CallExpression","start":7895,"end":8165,"callee":{"type":"MemberExpression","start":7895,"end":7961,"object":{"type":"CallExpression","start":7895,"end":7956,"callee":{"type":"MemberExpression","start":7895,"end":7924,"object":{"type":"MemberExpression","start":7895,"end":7917,"object":{"type":"MemberExpression","start":7895,"end":7906,"object":{"type":"ThisExpression","start":7895,"end":7899},"property":{"type":"Identifier","start":7900,"end":7906,"name":"config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7907,"end":7917,"name":"httpClient"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7918,"end":7924,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":7925,"end":7955,"object":{"type":"CallExpression","start":7925,"end":7952,"callee":{"type":"MemberExpression","start":7925,"end":7944,"object":{"type":"MemberExpression","start":7925,"end":7938,"object":{"type":"Identifier","start":7925,"end":7928,"name":"doc"},"property":{"type":"Identifier","start":7929,"end":7938,"name":"tenantUrl"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7939,"end":7944,"name":"split"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":7945,"end":7951,"value":"____","raw":"'____'"}],"optional":false},"property":{"type":"Literal","start":7953,"end":7954,"value":1,"raw":"1"},"computed":true,"optional":false}],"optional":false},"property":{"type":"Identifier","start":7957,"end":7961,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":7962,"end":7991,"callee":{"type":"Identifier","start":7962,"end":7971,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":7972,"end":7990,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":7978,"end":7990,"callee":{"type":"MemberExpression","start":7978,"end":7988,"object":{"type":"Identifier","start":7978,"end":7981,"name":"doc"},"property":{"type":"Identifier","start":7982,"end":7988,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"optional":false},{"type":"CallExpression","start":7993,"end":8164,"callee":{"type":"Identifier","start":7993,"end":8003,"name":"catchError"},"arguments":[{"type":"ArrowFunctionExpression","start":8004,"end":8163,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8004,"end":8007,"name":"err"}],"body":{"type":"BlockStatement","start":8011,"end":8163,"body":[{"type":"ReturnStatement","start":8033,"end":8145,"argument":{"type":"CallExpression","start":8040,"end":8144,"callee":{"type":"MemberExpression","start":8040,"end":8098,"object":{"type":"CallExpression","start":8040,"end":8093,"callee":{"type":"Identifier","start":8040,"end":8044,"name":"from"},"arguments":[{"type":"CallExpression","start":8045,"end":8092,"callee":{"type":"MemberExpression","start":8045,"end":8060,"object":{"type":"Identifier","start":8045,"end":8048,"name":"doc"},"property":{"type":"Identifier","start":8049,"end":8060,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":8061,"end":8091,"properties":[{"type":"Property","start":8063,"end":8089,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8063,"end":8068,"name":"error"},"value":{"type":"CallExpression","start":8070,"end":8089,"callee":{"type":"MemberExpression","start":8070,"end":8084,"object":{"type":"Identifier","start":8070,"end":8074,"name":"JSON"},"property":{"type":"Identifier","start":8075,"end":8084,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8085,"end":8088,"name":"err"}],"optional":false},"kind":"init"}]}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":8094,"end":8098,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8099,"end":8143,"callee":{"type":"Identifier","start":8099,"end":8107,"name":"finalize"},"arguments":[{"type":"ArrowFunctionExpression","start":8108,"end":8142,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":8114,"end":8142,"callee":{"type":"MemberExpression","start":8114,"end":8135,"object":{"type":"MemberExpression","start":8114,"end":8130,"object":{"type":"ThisExpression","start":8114,"end":8118},"property":{"type":"Identifier","start":8119,"end":8130,"name":"retryChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8131,"end":8135,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":8136,"end":8141,"value":false,"raw":"false"}],"optional":false}}],"optional":false}],"optional":false}}]}}],"optional":false}],"optional":false}}]},"alternate":null}}},{"type":"ReturnStatement","start":8193,"end":8294,"argument":{"type":"CallExpression","start":8200,"end":8293,"callee":{"type":"Identifier","start":8200,"end":8210,"name":"throwError"},"arguments":[{"type":"TemplateLiteral","start":8211,"end":8292,"expressions":[{"type":"CallExpression","start":8261,"end":8290,"callee":{"type":"MemberExpression","start":8261,"end":8275,"object":{"type":"Identifier","start":8261,"end":8265,"name":"JSON"},"property":{"type":"Identifier","start":8266,"end":8275,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"ChainExpression","start":8276,"end":8289,"expression":{"type":"CallExpression","start":8276,"end":8289,"callee":{"type":"MemberExpression","start":8276,"end":8287,"object":{"type":"Identifier","start":8276,"end":8279,"name":"doc"},"property":{"type":"Identifier","start":8281,"end":8287,"name":"toJSON"},"computed":false,"optional":true},"arguments":[],"optional":false}}],"optional":false}],"quasis":[{"type":"TemplateElement","start":8212,"end":8259,"value":{"raw":"Document doesn\\'t have valid method. Document: ","cooked":"Document doesn't have valid method. Document: "},"tail":false},{"type":"TemplateElement","start":8291,"end":8291,"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]}}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":8316,"end":8404,"argument":{"type":"CallExpression","start":8323,"end":8403,"callee":{"type":"MemberExpression","start":8323,"end":8359,"object":{"type":"CallExpression","start":8323,"end":8354,"callee":{"type":"MemberExpression","start":8323,"end":8352,"object":{"type":"MemberExpression","start":8323,"end":8339,"object":{"type":"ThisExpression","start":8323,"end":8327},"property":{"type":"Identifier","start":8328,"end":8339,"name":"retryChange"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8340,"end":8352,"name":"asObservable"},"computed":false,"optional":false},"arguments":[],"optional":false},"property":{"type":"Identifier","start":8355,"end":8359,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8360,"end":8402,"callee":{"type":"Identifier","start":8360,"end":8369,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":8370,"end":8401,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8370,"end":8377,"name":"trigger"}],"body":{"type":"ConditionalExpression","start":8381,"end":8401,"test":{"type":"Identifier","start":8381,"end":8388,"name":"trigger"},"consequent":{"type":"Identifier","start":8391,"end":8394,"name":"hit"},"alternate":{"type":"CallExpression","start":8397,"end":8401,"callee":{"type":"Identifier","start":8397,"end":8399,"name":"of"},"arguments":[],"optional":false}}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":8415,"end":8907,"static":false,"computed":false,"key":{"type":"Identifier","start":8415,"end":8420,"name":"evict"},"kind":"method","value":{"type":"FunctionExpression","start":8420,"end":8907,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8423,"end":8907,"body":[{"type":"ReturnStatement","start":8433,"end":8901,"argument":{"type":"CallExpression","start":8440,"end":8900,"callee":{"type":"MemberExpression","start":8440,"end":8467,"object":{"type":"MemberExpression","start":8440,"end":8462,"object":{"type":"ThisExpression","start":8440,"end":8444},"property":{"type":"Identifier","start":8445,"end":8462,"name":"storedCollections"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8463,"end":8467,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8468,"end":8899,"callee":{"type":"Identifier","start":8468,"end":8477,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":8478,"end":8898,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8478,"end":8492,"name":"collectionInfo"}],"body":{"type":"BlockStatement","start":8496,"end":8898,"body":[{"type":"VariableDeclaration","start":8510,"end":8846,"declarations":[{"type":"VariableDeclarator","start":8516,"end":8845,"id":{"type":"Identifier","start":8516,"end":8522,"name":"evicts"},"init":{"type":"CallExpression","start":8525,"end":8845,"callee":{"type":"MemberExpression","start":8525,"end":8543,"object":{"type":"Identifier","start":8525,"end":8539,"name":"collectionInfo"},"property":{"type":"Identifier","start":8540,"end":8543,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8544,"end":8844,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8544,"end":8545,"name":"k"}],"body":{"type":"BlockStatement","start":8549,"end":8844,"body":[{"type":"VariableDeclaration","start":8567,"end":8645,"declarations":[{"type":"VariableDeclarator","start":8573,"end":8644,"id":{"type":"Identifier","start":8573,"end":8588,"name":"cacheAllowedAge"},"init":{"type":"BinaryExpression","start":8591,"end":8644,"left":{"type":"CallExpression","start":8591,"end":8611,"callee":{"type":"MemberExpression","start":8591,"end":8609,"object":{"type":"NewExpression","start":8591,"end":8601,"callee":{"type":"Identifier","start":8595,"end":8599,"name":"Date"},"arguments":[]},"property":{"type":"Identifier","start":8602,"end":8609,"name":"getTime"},"computed":false,"optional":false},"arguments":[],"optional":false},"operator":"-","right":{"type":"BinaryExpression","start":8615,"end":8643,"left":{"type":"MemberExpression","start":8615,"end":8636,"object":{"type":"Identifier","start":8615,"end":8616,"name":"k"},"property":{"type":"Identifier","start":8617,"end":8636,"name":"collectionEvictTime"},"computed":false,"optional":false},"operator":"*","right":{"type":"Literal","start":8639,"end":8643,"value":1000,"raw":"1000"}}}}],"kind":"const"},{"type":"ReturnStatement","start":8662,"end":8830,"argument":{"type":"CallExpression","start":8669,"end":8829,"callee":{"type":"MemberExpression","start":8669,"end":8694,"object":{"type":"MemberExpression","start":8669,"end":8689,"object":{"type":"MemberExpression","start":8669,"end":8681,"object":{"type":"Identifier","start":8669,"end":8670,"name":"k"},"property":{"type":"Identifier","start":8671,"end":8681,"name":"collection"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8682,"end":8689,"name":"insert$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8690,"end":8694,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8695,"end":8828,"callee":{"type":"Identifier","start":8695,"end":8704,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":8705,"end":8827,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":8711,"end":8827,"callee":{"type":"MemberExpression","start":8711,"end":8825,"object":{"type":"CallExpression","start":8711,"end":8818,"callee":{"type":"MemberExpression","start":8711,"end":8728,"object":{"type":"MemberExpression","start":8711,"end":8723,"object":{"type":"Identifier","start":8711,"end":8712,"name":"k"},"property":{"type":"Identifier","start":8713,"end":8723,"name":"collection"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8724,"end":8728,"name":"find"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":8729,"end":8817,"properties":[{"type":"Property","start":8731,"end":8815,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8731,"end":8739,"name":"selector"},"value":{"type":"ObjectExpression","start":8741,"end":8815,"properties":[{"type":"Property","start":8743,"end":8813,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8743,"end":8747,"name":"$and"},"value":{"type":"ArrayExpression","start":8749,"end":8813,"elements":[{"type":"ObjectExpression","start":8750,"end":8776,"properties":[{"type":"Property","start":8752,"end":8774,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8752,"end":8758,"name":"method"},"value":{"type":"ObjectExpression","start":8760,"end":8774,"properties":[{"type":"Property","start":8762,"end":8772,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8762,"end":8765,"name":"$eq"},"value":{"type":"Literal","start":8767,"end":8772,"value":"GET","raw":"'GET'"},"kind":"init"}]},"kind":"init"}]},{"type":"ObjectExpression","start":8778,"end":8812,"properties":[{"type":"Property","start":8780,"end":8810,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8780,"end":8784,"name":"time"},"value":{"type":"ObjectExpression","start":8786,"end":8810,"properties":[{"type":"Property","start":8788,"end":8808,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":8788,"end":8791,"name":"$lt"},"value":{"type":"Identifier","start":8793,"end":8808,"name":"cacheAllowedAge"},"kind":"init"}]},"kind":"init"}]}]},"kind":"init"}]},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":8819,"end":8825,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"optional":false}],"optional":false}}]}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":8859,"end":8888,"argument":{"type":"CallExpression","start":8866,"end":8887,"callee":{"type":"Identifier","start":8866,"end":8879,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":8880,"end":8886,"name":"evicts"}],"optional":false}}]}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":8912,"end":9331,"static":false,"computed":false,"key":{"type":"Identifier","start":8912,"end":8920,"name":"skipTrim"},"kind":"method","value":{"type":"FunctionExpression","start":8920,"end":9331,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":8923,"end":9331,"body":[{"type":"ReturnStatement","start":8933,"end":9325,"argument":{"type":"CallExpression","start":8940,"end":9324,"callee":{"type":"MemberExpression","start":8940,"end":8967,"object":{"type":"MemberExpression","start":8940,"end":8962,"object":{"type":"ThisExpression","start":8940,"end":8944},"property":{"type":"Identifier","start":8945,"end":8962,"name":"storedCollections"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8963,"end":8967,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":8968,"end":9323,"callee":{"type":"Identifier","start":8968,"end":8977,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":8978,"end":9322,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8979,"end":8993,"name":"collectionInfo"}],"body":{"type":"BlockStatement","start":8998,"end":9322,"body":[{"type":"VariableDeclaration","start":9012,"end":9267,"declarations":[{"type":"VariableDeclarator","start":9018,"end":9266,"id":{"type":"Identifier","start":9018,"end":9027,"name":"skipTrims"},"init":{"type":"CallExpression","start":9030,"end":9266,"callee":{"type":"MemberExpression","start":9030,"end":9048,"object":{"type":"Identifier","start":9030,"end":9044,"name":"collectionInfo"},"property":{"type":"Identifier","start":9045,"end":9048,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9049,"end":9265,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9049,"end":9050,"name":"k"}],"body":{"type":"BlockStatement","start":9054,"end":9265,"body":[{"type":"ReturnStatement","start":9072,"end":9251,"argument":{"type":"CallExpression","start":9079,"end":9250,"callee":{"type":"MemberExpression","start":9079,"end":9104,"object":{"type":"MemberExpression","start":9079,"end":9099,"object":{"type":"MemberExpression","start":9079,"end":9091,"object":{"type":"Identifier","start":9079,"end":9080,"name":"k"},"property":{"type":"Identifier","start":9081,"end":9091,"name":"collection"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9092,"end":9099,"name":"insert$"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9100,"end":9104,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":9105,"end":9249,"callee":{"type":"Identifier","start":9105,"end":9114,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":9115,"end":9248,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"CallExpression","start":9121,"end":9248,"callee":{"type":"MemberExpression","start":9121,"end":9246,"object":{"type":"CallExpression","start":9121,"end":9239,"callee":{"type":"MemberExpression","start":9121,"end":9138,"object":{"type":"MemberExpression","start":9121,"end":9133,"object":{"type":"Identifier","start":9121,"end":9122,"name":"k"},"property":{"type":"Identifier","start":9123,"end":9133,"name":"collection"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9134,"end":9138,"name":"find"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":9139,"end":9238,"properties":[{"type":"Property","start":9141,"end":9177,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9141,"end":9149,"name":"selector"},"value":{"type":"ObjectExpression","start":9151,"end":9177,"properties":[{"type":"Property","start":9153,"end":9175,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9153,"end":9159,"name":"method"},"value":{"type":"ObjectExpression","start":9161,"end":9175,"properties":[{"type":"Property","start":9163,"end":9173,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9163,"end":9166,"name":"$eq"},"value":{"type":"Literal","start":9168,"end":9173,"value":"GET","raw":"'GET'"},"kind":"init"}]},"kind":"init"}]},"kind":"init"},{"type":"Property","start":9179,"end":9203,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9179,"end":9183,"name":"sort"},"value":{"type":"ArrayExpression","start":9185,"end":9203,"elements":[{"type":"ObjectExpression","start":9186,"end":9202,"properties":[{"type":"Property","start":9188,"end":9200,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9188,"end":9192,"name":"time"},"value":{"type":"Literal","start":9194,"end":9200,"value":"desc","raw":"'desc'"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":9205,"end":9236,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9205,"end":9209,"name":"skip"},"value":{"type":"MemberExpression","start":9211,"end":9236,"object":{"type":"Identifier","start":9211,"end":9212,"name":"k"},"property":{"type":"Identifier","start":9213,"end":9236,"name":"collectionSkipDocuments"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false},"property":{"type":"Identifier","start":9240,"end":9246,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"optional":false}],"optional":false}}]}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":9280,"end":9312,"argument":{"type":"CallExpression","start":9287,"end":9311,"callee":{"type":"Identifier","start":9287,"end":9300,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":9301,"end":9310,"name":"skipTrims"}],"optional":false}}]}}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":9336,"end":9611,"static":false,"computed":false,"key":{"type":"Identifier","start":9336,"end":9345,"name":"createNew"},"kind":"method","value":{"type":"FunctionExpression","start":9345,"end":9611,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9346,"end":9349,"name":"doc"}],"body":{"type":"BlockStatement","start":9351,"end":9611,"body":[{"type":"IfStatement","start":9361,"end":9494,"test":{"type":"LogicalExpression","start":9365,"end":9419,"left":{"type":"LogicalExpression","start":9365,"end":9394,"left":{"type":"UnaryExpression","start":9365,"end":9370,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":9366,"end":9370,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":9367,"end":9370,"name":"doc"}}},"operator":"&&","right":{"type":"BinaryExpression","start":9374,"end":9394,"left":{"type":"MemberExpression","start":9374,"end":9384,"object":{"type":"Identifier","start":9374,"end":9377,"name":"doc"},"property":{"type":"Identifier","start":9378,"end":9384,"name":"method"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":9389,"end":9394,"value":"GET","raw":"'GET'"}}},"operator":"&&","right":{"type":"BinaryExpression","start":9398,"end":9419,"left":{"type":"MemberExpression","start":9398,"end":9408,"object":{"type":"Identifier","start":9398,"end":9401,"name":"doc"},"property":{"type":"Identifier","start":9402,"end":9408,"name":"method"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":9413,"end":9419,"value":"POST","raw":"'POST'"}}},"consequent":{"type":"BlockStatement","start":9421,"end":9494,"body":[{"type":"ReturnStatement","start":9435,"end":9484,"argument":{"type":"CallExpression","start":9442,"end":9483,"callee":{"type":"Identifier","start":9442,"end":9446,"name":"from"},"arguments":[{"type":"CallExpression","start":9447,"end":9482,"callee":{"type":"MemberExpression","start":9447,"end":9462,"object":{"type":"Identifier","start":9447,"end":9450,"name":"doc"},"property":{"type":"Identifier","start":9451,"end":9462,"name":"atomicPatch"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":9463,"end":9481,"properties":[{"type":"Property","start":9465,"end":9479,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":9465,"end":9471,"name":"method"},"value":{"type":"Literal","start":9473,"end":9479,"value":"POST","raw":"'POST'"},"kind":"init"}]}],"optional":false}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":9503,"end":9605,"argument":{"type":"CallExpression","start":9510,"end":9604,"callee":{"type":"Identifier","start":9510,"end":9520,"name":"throwError"},"arguments":[{"type":"TemplateLiteral","start":9521,"end":9603,"expressions":[{"type":"CallExpression","start":9566,"end":9601,"callee":{"type":"MemberExpression","start":9566,"end":9580,"object":{"type":"Identifier","start":9566,"end":9570,"name":"JSON"},"property":{"type":"Identifier","start":9571,"end":9580,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"LogicalExpression","start":9581,"end":9600,"left":{"type":"ChainExpression","start":9581,"end":9594,"expression":{"type":"CallExpression","start":9581,"end":9594,"callee":{"type":"MemberExpression","start":9581,"end":9592,"object":{"type":"Identifier","start":9581,"end":9584,"name":"doc"},"property":{"type":"Identifier","start":9586,"end":9592,"name":"toJSON"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"ObjectExpression","start":9598,"end":9600,"properties":[]}}],"optional":false}],"quasis":[{"type":"TemplateElement","start":9522,"end":9564,"value":{"raw":"Cannot duplicate this document. Document: ","cooked":"Cannot duplicate this document. Document: "},"tail":false},{"type":"TemplateElement","start":9602,"end":9602,"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]}}},{"type":"MethodDefinition","start":9616,"end":9845,"static":false,"computed":false,"key":{"type":"Identifier","start":9616,"end":9630,"name":"deleteConflict"},"kind":"method","value":{"type":"FunctionExpression","start":9630,"end":9845,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9631,"end":9634,"name":"doc"}],"body":{"type":"BlockStatement","start":9636,"end":9845,"body":[{"type":"IfStatement","start":9646,"end":9731,"test":{"type":"LogicalExpression","start":9650,"end":9679,"left":{"type":"UnaryExpression","start":9650,"end":9655,"operator":"!","prefix":true,"argument":{"type":"UnaryExpression","start":9651,"end":9655,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":9652,"end":9655,"name":"doc"}}},"operator":"&&","right":{"type":"BinaryExpression","start":9659,"end":9679,"left":{"type":"MemberExpression","start":9659,"end":9669,"object":{"type":"Identifier","start":9659,"end":9662,"name":"doc"},"property":{"type":"Identifier","start":9663,"end":9669,"name":"method"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":9674,"end":9679,"value":"GET","raw":"'GET'"}}},"consequent":{"type":"BlockStatement","start":9681,"end":9731,"body":[{"type":"ReturnStatement","start":9695,"end":9721,"argument":{"type":"CallExpression","start":9702,"end":9720,"callee":{"type":"Identifier","start":9702,"end":9706,"name":"from"},"arguments":[{"type":"CallExpression","start":9707,"end":9719,"callee":{"type":"MemberExpression","start":9707,"end":9717,"object":{"type":"Identifier","start":9707,"end":9710,"name":"doc"},"property":{"type":"Identifier","start":9711,"end":9717,"name":"remove"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":9740,"end":9839,"argument":{"type":"CallExpression","start":9747,"end":9838,"callee":{"type":"Identifier","start":9747,"end":9757,"name":"throwError"},"arguments":[{"type":"TemplateLiteral","start":9758,"end":9837,"expressions":[{"type":"CallExpression","start":9800,"end":9835,"callee":{"type":"MemberExpression","start":9800,"end":9814,"object":{"type":"Identifier","start":9800,"end":9804,"name":"JSON"},"property":{"type":"Identifier","start":9805,"end":9814,"name":"stringify"},"computed":false,"optional":false},"arguments":[{"type":"LogicalExpression","start":9815,"end":9834,"left":{"type":"ChainExpression","start":9815,"end":9828,"expression":{"type":"CallExpression","start":9815,"end":9828,"callee":{"type":"MemberExpression","start":9815,"end":9826,"object":{"type":"Identifier","start":9815,"end":9818,"name":"doc"},"property":{"type":"Identifier","start":9820,"end":9826,"name":"toJSON"},"computed":false,"optional":true},"arguments":[],"optional":false}},"operator":"||","right":{"type":"ObjectExpression","start":9832,"end":9834,"properties":[]}}],"optional":false}],"quasis":[{"type":"TemplateElement","start":9759,"end":9798,"value":{"raw":"Cannot delete this document. Document: ","cooked":"Cannot delete this document. Document: "},"tail":false},{"type":"TemplateElement","start":9836,"end":9836,"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":9848,"end":11114,"declaration":{"type":"FunctionDeclaration","start":9855,"end":11114,"id":{"type":"Identifier","start":9864,"end":9878,"name":"createFormData"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9879,"end":9885,"name":"object"},{"type":"Identifier","start":9887,"end":9891,"name":"form"},{"type":"Identifier","start":9893,"end":9902,"name":"namespace"}],"body":{"type":"BlockStatement","start":9904,"end":11114,"body":[{"type":"VariableDeclaration","start":9910,"end":9948,"declarations":[{"type":"VariableDeclarator","start":9914,"end":9947,"id":{"type":"Identifier","start":9914,"end":9922,"name":"formData"},"init":{"type":"LogicalExpression","start":9925,"end":9947,"left":{"type":"Identifier","start":9925,"end":9929,"name":"form"},"operator":"||","right":{"type":"NewExpression","start":9933,"end":9947,"callee":{"type":"Identifier","start":9937,"end":9945,"name":"FormData"},"arguments":[]}}}],"kind":"let"},{"type":"ForInStatement","start":9953,"end":11091,"left":{"type":"VariableDeclaration","start":9958,"end":9974,"declarations":[{"type":"VariableDeclarator","start":9962,"end":9974,"id":{"type":"Identifier","start":9962,"end":9974,"name":"propertyName"},"init":null}],"kind":"let"},"right":{"type":"Identifier","start":9978,"end":9984,"name":"object"},"body":{"type":"BlockStatement","start":9986,"end":11091,"body":[{"type":"VariableDeclaration","start":9996,"end":10070,"declarations":[{"type":"VariableDeclarator","start":10002,"end":10069,"id":{"type":"Identifier","start":10002,"end":10009,"name":"formKey"},"init":{"type":"ConditionalExpression","start":10012,"end":10069,"test":{"type":"Identifier","start":10012,"end":10021,"name":"namespace"},"consequent":{"type":"TemplateLiteral","start":10024,"end":10054,"expressions":[{"type":"Identifier","start":10027,"end":10036,"name":"namespace"},{"type":"Identifier","start":10040,"end":10052,"name":"propertyName"}],"quasis":[{"type":"TemplateElement","start":10025,"end":10025,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":10037,"end":10038,"value":{"raw":".","cooked":"."},"tail":false},{"type":"TemplateElement","start":10053,"end":10053,"value":{"raw":"","cooked":""},"tail":true}]},"alternate":{"type":"Identifier","start":10057,"end":10069,"name":"propertyName"}}}],"kind":"const"},{"type":"IfStatement","start":10079,"end":11085,"test":{"type":"BinaryExpression","start":10083,"end":10119,"left":{"type":"MemberExpression","start":10083,"end":10103,"object":{"type":"Identifier","start":10083,"end":10089,"name":"object"},"property":{"type":"Identifier","start":10090,"end":10102,"name":"propertyName"},"computed":true,"optional":false},"operator":"instanceof","right":{"type":"Identifier","start":10115,"end":10119,"name":"Date"}},"consequent":{"type":"BlockStatement","start":10121,"end":10206,"body":[{"type":"ExpressionStatement","start":10135,"end":10196,"expression":{"type":"CallExpression","start":10135,"end":10195,"callee":{"type":"MemberExpression","start":10135,"end":10150,"object":{"type":"Identifier","start":10135,"end":10143,"name":"formData"},"property":{"type":"Identifier","start":10144,"end":10150,"name":"append"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10151,"end":10158,"name":"formKey"},{"type":"CallExpression","start":10160,"end":10194,"callee":{"type":"MemberExpression","start":10160,"end":10192,"object":{"type":"MemberExpression","start":10160,"end":10180,"object":{"type":"Identifier","start":10160,"end":10166,"name":"object"},"property":{"type":"Identifier","start":10167,"end":10179,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":10181,"end":10192,"name":"toISOString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}]},"alternate":{"type":"IfStatement","start":10220,"end":11085,"test":{"type":"BinaryExpression","start":10224,"end":10261,"left":{"type":"MemberExpression","start":10224,"end":10244,"object":{"type":"Identifier","start":10224,"end":10230,"name":"object"},"property":{"type":"Identifier","start":10231,"end":10243,"name":"propertyName"},"computed":true,"optional":false},"operator":"instanceof","right":{"type":"Identifier","start":10256,"end":10261,"name":"Array"}},"consequent":{"type":"BlockStatement","start":10263,"end":10660,"body":[{"type":"ExpressionStatement","start":10277,"end":10650,"expression":{"type":"CallExpression","start":10277,"end":10649,"callee":{"type":"MemberExpression","start":10277,"end":10305,"object":{"type":"MemberExpression","start":10277,"end":10297,"object":{"type":"Identifier","start":10277,"end":10283,"name":"object"},"property":{"type":"Identifier","start":10284,"end":10296,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":10298,"end":10305,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":10306,"end":10648,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10307,"end":10314,"name":"element"},{"type":"Identifier","start":10316,"end":10321,"name":"index"}],"body":{"type":"BlockStatement","start":10326,"end":10648,"body":[{"type":"VariableDeclaration","start":10344,"end":10386,"declarations":[{"type":"VariableDeclarator","start":10350,"end":10385,"id":{"type":"Identifier","start":10350,"end":10361,"name":"tempFormKey"},"init":{"type":"TemplateLiteral","start":10364,"end":10385,"expressions":[{"type":"Identifier","start":10367,"end":10374,"name":"formKey"},{"type":"Identifier","start":10378,"end":10383,"name":"index"}],"quasis":[{"type":"TemplateElement","start":10365,"end":10365,"value":{"raw":"","cooked":""},"tail":false},{"type":"TemplateElement","start":10375,"end":10376,"value":{"raw":"-","cooked":"-"},"tail":false},{"type":"TemplateElement","start":10384,"end":10384,"value":{"raw":"","cooked":""},"tail":true}]}}],"kind":"const"},{"type":"IfStatement","start":10403,"end":10634,"test":{"type":"BinaryExpression","start":10407,"end":10434,"left":{"type":"UnaryExpression","start":10407,"end":10421,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":10414,"end":10421,"name":"element"}},"operator":"===","right":{"type":"Literal","start":10426,"end":10434,"value":"object","raw":"'object'"}},"consequent":{"type":"BlockStatement","start":10436,"end":10523,"body":[{"type":"ExpressionStatement","start":10458,"end":10505,"expression":{"type":"CallExpression","start":10458,"end":10504,"callee":{"type":"Identifier","start":10458,"end":10472,"name":"createFormData"},"arguments":[{"type":"Identifier","start":10473,"end":10480,"name":"element"},{"type":"Identifier","start":10482,"end":10490,"name":"formData"},{"type":"Identifier","start":10492,"end":10503,"name":"tempFormKey"}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":10545,"end":10634,"body":[{"type":"ExpressionStatement","start":10567,"end":10616,"expression":{"type":"CallExpression","start":10567,"end":10615,"callee":{"type":"MemberExpression","start":10567,"end":10582,"object":{"type":"Identifier","start":10567,"end":10575,"name":"formData"},"property":{"type":"Identifier","start":10576,"end":10582,"name":"append"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10583,"end":10594,"name":"tempFormKey"},{"type":"CallExpression","start":10596,"end":10614,"callee":{"type":"MemberExpression","start":10596,"end":10612,"object":{"type":"Identifier","start":10596,"end":10603,"name":"element"},"property":{"type":"Identifier","start":10604,"end":10612,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false}}]}}]}}],"optional":false}}]},"alternate":{"type":"IfStatement","start":10674,"end":11085,"test":{"type":"LogicalExpression","start":10678,"end":10832,"left":{"type":"LogicalExpression","start":10678,"end":10794,"left":{"type":"LogicalExpression","start":10678,"end":10761,"left":{"type":"BinaryExpression","start":10678,"end":10718,"left":{"type":"UnaryExpression","start":10678,"end":10705,"operator":"typeof","prefix":true,"argument":{"type":"MemberExpression","start":10685,"end":10705,"object":{"type":"Identifier","start":10685,"end":10691,"name":"object"},"property":{"type":"Identifier","start":10692,"end":10704,"name":"propertyName"},"computed":true,"optional":false}},"operator":"===","right":{"type":"Literal","start":10710,"end":10718,"value":"object","raw":"'object'"}},"operator":"&&","right":{"type":"UnaryExpression","start":10722,"end":10761,"operator":"!","prefix":true,"argument":{"type":"BinaryExpression","start":10724,"end":10760,"left":{"type":"MemberExpression","start":10724,"end":10744,"object":{"type":"Identifier","start":10724,"end":10730,"name":"object"},"property":{"type":"Identifier","start":10731,"end":10743,"name":"propertyName"},"computed":true,"optional":false},"operator":"instanceof","right":{"type":"Identifier","start":10756,"end":10760,"name":"File"}}}},"operator":"&&","right":{"type":"BinaryExpression","start":10765,"end":10794,"left":{"type":"MemberExpression","start":10765,"end":10785,"object":{"type":"Identifier","start":10765,"end":10771,"name":"object"},"property":{"type":"Identifier","start":10772,"end":10784,"name":"propertyName"},"computed":true,"optional":false},"operator":"!==","right":{"type":"Literal","start":10790,"end":10794,"value":null,"raw":"null"}}},"operator":"&&","right":{"type":"BinaryExpression","start":10798,"end":10832,"left":{"type":"MemberExpression","start":10798,"end":10818,"object":{"type":"Identifier","start":10798,"end":10804,"name":"object"},"property":{"type":"Identifier","start":10805,"end":10817,"name":"propertyName"},"computed":true,"optional":false},"operator":"!==","right":{"type":"Identifier","start":10823,"end":10832,"name":"undefined"}}},"consequent":{"type":"BlockStatement","start":10834,"end":10914,"body":[{"type":"ExpressionStatement","start":10848,"end":10904,"expression":{"type":"CallExpression","start":10848,"end":10903,"callee":{"type":"Identifier","start":10848,"end":10862,"name":"createFormData"},"arguments":[{"type":"MemberExpression","start":10863,"end":10883,"object":{"type":"Identifier","start":10863,"end":10869,"name":"object"},"property":{"type":"Identifier","start":10870,"end":10882,"name":"propertyName"},"computed":true,"optional":false},{"type":"Identifier","start":10885,"end":10893,"name":"formData"},{"type":"Identifier","start":10895,"end":10902,"name":"formKey"}],"optional":false}}]},"alternate":{"type":"BlockStatement","start":10928,"end":11085,"body":[{"type":"ExpressionStatement","start":10942,"end":11075,"expression":{"type":"CallExpression","start":10942,"end":11074,"callee":{"type":"MemberExpression","start":10942,"end":10957,"object":{"type":"Identifier","start":10942,"end":10950,"name":"formData"},"property":{"type":"Identifier","start":10951,"end":10957,"name":"append"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10958,"end":10965,"name":"formKey"},{"type":"ConditionalExpression","start":10967,"end":11073,"test":{"type":"LogicalExpression","start":10967,"end":11034,"left":{"type":"BinaryExpression","start":10967,"end":10996,"left":{"type":"MemberExpression","start":10967,"end":10987,"object":{"type":"Identifier","start":10967,"end":10973,"name":"object"},"property":{"type":"Identifier","start":10974,"end":10986,"name":"propertyName"},"computed":true,"optional":false},"operator":"===","right":{"type":"Literal","start":10992,"end":10996,"value":null,"raw":"null"}},"operator":"||","right":{"type":"BinaryExpression","start":11000,"end":11034,"left":{"type":"MemberExpression","start":11000,"end":11020,"object":{"type":"Identifier","start":11000,"end":11006,"name":"object"},"property":{"type":"Identifier","start":11007,"end":11019,"name":"propertyName"},"computed":true,"optional":false},"operator":"===","right":{"type":"Identifier","start":11025,"end":11034,"name":"undefined"}}},"consequent":{"type":"Literal","start":11037,"end":11039,"value":"","raw":"''"},"alternate":{"type":"CallExpression","start":11042,"end":11073,"callee":{"type":"MemberExpression","start":11042,"end":11071,"object":{"type":"MemberExpression","start":11042,"end":11062,"object":{"type":"Identifier","start":11042,"end":11048,"name":"object"},"property":{"type":"Identifier","start":11049,"end":11061,"name":"propertyName"},"computed":true,"optional":false},"property":{"type":"Identifier","start":11063,"end":11071,"name":"toString"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"optional":false}}]}}}}]}},{"type":"ReturnStatement","start":11096,"end":11112,"argument":{"type":"Identifier","start":11103,"end":11111,"name":"formData"}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtY29sbGVjdGlvbi5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBYyxFQUFFLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3hGLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3SCxPQUFPLEVBQUUsb0JBQW9CLEVBQWlCLG9CQUFvQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdEcsT0FBTyxFQUFFLGFBQWEsRUFBZSxNQUFNLHlCQUF5QixDQUFDO0FBQ3JFLE9BQU8sRUFBRSwrQkFBK0IsRUFBeUIsNEJBQTRCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUM3SSxPQUFPLEVBQUUscUJBQXFCLEVBQTJDLE1BQU0scUNBQXFDLENBQUM7QUFDckgsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQXFCMUMsTUFBTSxPQUFPLHFCQUFxQjtJQW9COUIsWUFBb0IsT0FBOEM7UUFBOUMsWUFBTyxHQUFQLE9BQU8sQ0FBdUM7UUFiMUQsV0FBTSxHQUFpQztZQUMzQyxJQUFJLEVBQUUseUJBQXlCO1lBQy9CLEdBQUcsRUFBRSxFQUFFLEVBQUU7WUFDVCxXQUFXLEVBQUUsRUFB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QUFXLENBQUMsQ0FBQztpQkFFbEQ7cUJBQU07b0JBRUgsUUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7aUJBQ3BEO1lBRUwsQ0FBQyxDQUFDLENBQUM7U0FFTjthQUFNLElBQUksT0FBTyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssUUFBUSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLElBQUksSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBRW5LLGNBQWMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBRTNEO2FBQU07WUFFSCxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSSxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7U0FDeEk7S0FDSjtJQUVELE9BQU8sUUFBUSxDQUFDO0FBZ0NwQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUnhDb2xsZWN0aW9uQ3JlYXRvciwgUnhEYXRhYmFzZSB9IGZyb20gJ3J4ZGInO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBmcm9tLCBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBjYXRjaEVycm9yLCBjb25jYXRNYXAsIGZpbHRlciwgZmluYWxpemUsIGZpcnN0LCBtYXAsIHNoYXJlUmVwbGF5LCBzd2l0Y2hNYXAsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IGdldENvbGxlY3Rpb25DcmVhdG9yLCBQd2FDb2xsZWN0aW9uLCBwd2FDb2xsZWN0aW9uTWV0aG9kcyB9IGZyb20gJy4uL2RlZmluaXRpb25zL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHsgcHdhRG9jTWV0aG9kcywgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBnZXRTeW5jaHJvbmlzZUNvbGxlY3Rpb25DcmVhdG9yLCBTeW5jaHJvbmlzZUNvbGxlY3Rpb24sIHN5bmNocm9uaXNlQ29sbGVjdGlvbk1ldGhvZHMgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uJztcbmltcG9ydCB7IHN5bmNocm9uaXNlRG9jTWV0aG9kcywgU3luY2hyb25pc2VEb2NUeXBlLCBTeW5jaHJvbmlzZURvY3VtZW50IH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMvc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuaW1wb3J0IHsgZW50ZXJab25lIH0gZnJvbSAnLi9vcGVyYXRvcnMucmVzb3VyY2UnO1xuaW1wb3J0IHsgUHdhRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSAnLi9kYXRhYmFzZS5yZXNvdXJjZSc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi9taXNjLnJlc291cmNlJztcblxuaW50ZXJmYWNlIEV4dHJhcyB7XG4gICAgY29sbGVjdGlvbjogUHdhQ29sbGVjdGlvbjxhbnk+O1xufVxuXG50eXBlIFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhcyA9IFN5bmNocm9uaXNlRG9jVHlwZSAmIEV4dHJhcztcblxuXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNDb2xsZWN0aW9uU2VydmljZUNyZWF0b3Ige1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkYiQ6IE9ic2VydmFibGU8UnhEYXRhYmFzZTxhbnk+PjtcbiAgICBhdHRhY2htZW50cz86IHt9O1xuICAgIG9wdGlvbnM/OiB7fTtcbiAgICBtaWdyYXRpb25TdHJhdGVnaWVzPzoge307XG4gICAgYXV0b01pZ3JhdGU/OiBib29sZWFuO1xuICAgIG5nWm9uZTogTmdab25lO1xuICAgIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQ7XG59XG5cblxuZXhwb3J0IGNsYXNzIFN5bmNDb2xsZWN0aW9uU2VydmljZSB7XG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHZhcmlhYmxlLW5hbWVcbiAgICBwcml2YXRlIF9jb2xsZWN0aW9uJDogT2JzZXJ2YWJsZTxTeW5jaHJvbmlzZUNvbGxlY3Rpb24+O1xuXG4gICAgcHJpdmF0ZSByZXRyeUNoYW5nZTogQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+O1xuXG4gICAgcHJpdmF0ZSBjb25maWc6IFN5bmNDb2xsZWN0aW9uU2VydmljZUNyZWF0b3IgPSB7XG4gICAgICAgIG5hbWU6ICdub19uYW1lX3N5bmNfY29sbGVjdGlvbicsXG4gICAgICAgIGRiJDogb2YoKSxcbiAgICAgICAgYXR0YWNobWVudHM6IHt9LFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczoge30sXG4gICAgICAgIGF1dG9NaWdyYXRlOiB0cnVlLFxuICAgICAgICBuZ1pvbmU6IG51bGwsXG4gICAgICAgIGh0dHBDbGllbnQ6IG51bGwsXG4gICAgfTtcblxuICAgIHN0b3JlZENvbGxlY3Rpb25zOiBPYnNlcnZhYmxlPFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhc1tdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2NvbmZpZzogUGFydGlhbDxTeW5jQ29sbGVjdGlvblNlcnZpY2VDcmVhdG9yPikge1xuXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICAgICAgICAuLi50aGlzLl9jb25maWdcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJldHJ5Q2hhbmdlID0gbmV3IEJlaGF2aW9yU3ViamVjdCh0cnVlKTtcblxuICAgICAgICB0aGlzLnN0b3JlZENvbGxlY3Rpb25zID0gdGhpcy5jb2xsZWN0aW9uJC5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoY29sID0+IGNvbC5maW5kKCkuJCksXG5cbiAgICAgICAgICAgIG1hcChkb2NzID0+IGRvY3MubWFwKGQgPT4gZC50b0pTT04oKSkpLFxuXG4gICAgICAgICAgICBtYXAoZG9jVHlwZXMgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gcmVkdWNlIGNvbGxlY3Rpb25zIHRvIGRhdGFiYXNlIHdpc2VcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhYmFzZXNTY2hlbWE6IHtba2V5OiBzdHJpbmddOiBTeW5jaHJvbmlzZURvY1R5cGVbXX0gPSB7fTtcblxuICAgICAgICAgICAgICAgIGRvY1R5cGVzLmZvckVhY2goZCA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZC5kYXRhYmFzZU9wdGlvbnM7XG5cbiAgICAgICAgICAgICAgICAgICAga2V5IGluIGRhdGFiYXNlc1NjaGVtYSA/IGRhdGFiYXNlc1NjaGVtYVtrZXldLnB1c2goZCkgOiBkYXRhYmFzZXNTY2hlbWFba2V5XSA9IFtkXTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIG1hcCBSeERhdGFiYXNlIGFuZCBjb2xsZWN0aW9uTmFtZXNcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFiYXNlc01hcDoge2RhdGFiYXNlOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U+LCBjb2xsZWN0aW9uSW5mbzogU3luY2hyb25pc2VEb2NUeXBlW119W10gPSBbXTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGFiYXNlc1NjaGVtYSkuZm9yRWFjaChzY2hlbWEgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB3YURhdGFiYXNlU2VydmljZSA9IG5ldyBQd2FEYXRhYmFzZVNlcnZpY2U8YW55Pih7ZGJDcmVhdG9yOiB7Li4uSlNPTi5wYXJzZShzY2hlbWEpLCBpZ25vcmVEdXBsaWNhdGU6IHRydWV9fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VzTWFwLnB1c2goe2RhdGFiYXNlOiBwd2FEYXRhYmFzZVNlcnZpY2UuZGIkLCBjb2xsZWN0aW9uSW5mbzogZGF0YWJhc2VzU2NoZW1hW3NjaGVtYV19KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhYmFzZXNNYXA7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGRhdGFiYXNlc01hcCA9PiBjb21iaW5lTGF0ZXN0KGRhdGFiYXNlc01hcC5tYXAobSA9PiB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbS5kYXRhYmFzZS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaE1hcChkYiA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25JbmZvS2V5VmFsdWU6IHtba2V5OiBzdHJpbmddOiBTeW5jaHJvbmlzZURvY1R5cGV9ID0gbS5jb2xsZWN0aW9uSW5mby5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1cjogU3luY2hyb25pc2VEb2NUeXBlLCBhY2M6IHt9KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjW2N1ci5jb2xsZWN0aW9uTmFtZV0gPSBjdXI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbnMgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbS5jb2xsZWN0aW9uSW5mby5mb3JFYWNoKGkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbk9wdGlvbnMgPSBKU09OLnBhcnNlKGkuY29sbGVjdGlvbk9wdGlvbnMpIGFzIFJ4Q29sbGVjdGlvbkNyZWF0b3I7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uc1tpLmNvbGxlY3Rpb25OYW1lXSA9IGdldENvbGxlY3Rpb25DcmVhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmNvbGxlY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd2FDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHdhRG9jTWV0aG9kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbk9wdGlvbnMuYXR0YWNobWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLm1pZ3JhdGlvblN0cmF0ZWdpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLmF1dG9NaWdyYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkYi5hZGRDb2xsZWN0aW9ucyhjb2xsZWN0aW9ucykpLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAodiA9PiBPYmplY3Qua2V5cyh2KS5tYXAoayA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiB2W2tdIGFzIFB3YUNvbGxlY3Rpb248YW55PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29sbGVjdGlvbkluZm9LZXlWYWx1ZVtrXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH0pKSksXG5cbiAgICAgICAgICAgIG1hcCh2ID0+IGZsYXR0ZW4odikpLFxuXG4gICAgICAgICAgICB0YXAoKHY6IFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhc1tdKSA9PiAge1xuXG4gICAgICAgICAgICAgICAgdi5mb3JFYWNoKGRvY1R5cGUgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY1R5cGUuY29sbGVjdGlvbi5wcmVTYXZlKChwbGFpbkRhdGEsIHJ4RG9jdW1lbnQpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW9kaWZ5IGFueUZpZWxkIGJlZm9yZSBzYXZpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluRGF0YS5jcmVhdGVkQXQgPSBwbGFpbkRhdGEuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW5EYXRhLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldCBjb2xsZWN0aW9uJCgpOiBPYnNlcnZhYmxlPFN5bmNocm9uaXNlQ29sbGVjdGlvbj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9jb2xsZWN0aW9uJCkgeyByZXR1cm4gdGhpcy5fY29sbGVjdGlvbiQ7IH1cblxuICAgICAgICBjb25zdCBjb2xsZWN0aW9uU2NoZW1hID0ge307XG5cbiAgICAgICAgY29sbGVjdGlvblNjaGVtYVt0aGlzLmNvbmZpZy5uYW1lXSA9IGdldFN5bmNocm9uaXNlQ29sbGVjdGlvbkNyZWF0b3IoXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5uYW1lLFxuICAgICAgICAgICAgc3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgIHN5bmNocm9uaXNlRG9jTWV0aG9kcyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmF0dGFjaG1lbnRzLFxuICAgICAgICAgICAgdGhpcy5jb25maWcub3B0aW9ucyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm1pZ3JhdGlvblN0cmF0ZWdpZXMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRvTWlncmF0ZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3Rpb24kID0gdGhpcy5jb25maWcuZGIkLnBpcGUoXG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZGIgPT4gZnJvbShkYi5hZGRDb2xsZWN0aW9ucyhjb2xsZWN0aW9uU2NoZW1hKSkpLFxuXG4gICAgICAgICAgICBtYXAoY29sbGVjdGlvbnMgPT4gY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xsZWN0aW9uJDtcbiAgICB9XG5cblxuICAgIGFkZFN5bmNocm9uaXNlRG9jdW1lbnQoZGF0YTogU3luY2hyb25pc2VEb2NUeXBlKTogT2JzZXJ2YWJsZTxTeW5jaHJvbmlzZURvY3VtZW50PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KGRhdGEpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gU3luY2hyb25pc2F0aW9uIE1hbmFnZW1lbnRcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIHN0YXJ0U3luYygpIHtcblxuICAgICAgICB0aGlzLnJldHJ5Q2hhbmdlLm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgc3RvcFN5bmMoKSB7XG5cbiAgICAgICAgdGhpcy5yZXRyeUNoYW5nZS5uZXh0KGZhbHNlKTtcbiAgICB9XG5cbiAgICB1bnN5bmNocm9uaXNlZCh0ZW5hbnQ6IHN0cmluZywgb3JkZXI6ICdkZXNjJyB8ICdhc2MnID0gJ2FzYycpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT5bXT4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZENvbGxlY3Rpb25zLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoY29sbGVjdGlvbnNJbmZvKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoVXJsOiB7JHJlZ2V4OiBuZXcgUmVnRXhwKGBeJHt0ZW5hbnR9LipgKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHskbmU6ICdHRVQnfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZERvY3MkID0gY29sbGVjdGlvbnNJbmZvLm1hcChrID0+IHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShrLmNvbGxlY3Rpb24uZmluZChxdWVyeSkuJC5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb21iaW5lTGF0ZXN0KHNvcnRlZERvY3MkKTtcblxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIG1hcChzb3J0ZWREb2NzID0+IGZsYXR0ZW4oc29ydGVkRG9jcykpLFxuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgbWFwKChzb3J0ZWREb2NzOiBQd2FEb2N1bWVudDxhbnk+W10pID0+IHNvcnRlZERvY3Muc29ydCgoYSwgYikgPT4gb3JkZXIgPT09ICdhc2MnID8gYS50aW1lIC0gYi50aW1lIDogYi50aW1lIC0gYS50aW1lKSksXG5cbiAgICAgICAgICAgIGVudGVyWm9uZTxQd2FEb2N1bWVudDxhbnk+W10+KHRoaXMuY29uZmlnLm5nWm9uZSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3luY2hyb25pc2UodGVuYW50OiBzdHJpbmcpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT4gfCBib29sZWFuPiB7XG5cbiAgICAgICAgY29uc3QgcG9wOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT4+ID0gdGhpcy51bnN5bmNocm9uaXNlZCh0ZW5hbnQsICdhc2MnKS5waXBlKFxuXG4gICAgICAgICAgICBmaWx0ZXIoc29ydGVkRG9jcyA9PiBzb3J0ZWREb2NzLmxlbmd0aCA+IDApLFxuXG4gICAgICAgICAgICBtYXAoc29ydGVkRG9jcyA9PiBzb3J0ZWREb2NzWzBdKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGhpdCA9IHBvcC5waXBlKFxuXG4gICAgICAgICAgICBjb25jYXRNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChkb2MubWV0aG9kID09PSAnUE9TVCcpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0uc3BsaXQoJy8nKTtcblxuICAgICAgICAgICAgICAgICAgICB1cmwuc3BsaWNlKHVybC5sZW5ndGggLSAxLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybURhdGE6IEZvcm1EYXRhIHwge307XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvYy5maWxlRmllbGRzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGFydC9mb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBjcmVhdGVGb3JtRGF0YShkb2MudG9KU09OKCkuZGF0YSkgYXMgRm9ybURhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5maWxlRmllbGRzLmZvckVhY2goayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVGaWVsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVOYW1lRmllbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZvcm1EYXRhIGFzIEZvcm1EYXRhKS5kZWxldGUoay5maWxlVHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoay5maWxlS2V5RmllbGQgJiYgay5maWxlRmllbGQgJiYgay5maWxlVHlwZSkgKGZvcm1EYXRhIGFzIEZvcm1EYXRhKS5hcHBlbmQoay5maWxlS2V5RmllbGQsIG5ldyBGaWxlKFtuZXcgVWludDhBcnJheShKU09OLnBhcnNlKGRvYy5kYXRhW2suZmlsZUZpZWxkXSkpLmJ1ZmZlcl0sIGsuZmlsZU5hbWVGaWVsZCB8fCAnVW5rbm93bicsIHt0eXBlOiBrLmZpbGVUeXBlfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGxpY2F0aW9uL2pzb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gZG9jLnRvSlNPTigpLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuaHR0cENsaWVudC5wb3N0KHVybC5qb2luKCcvJyksIGZvcm1EYXRhKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAocmVzID0+IGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHtlcnJvcjogSlNPTi5zdHJpbmdpZnkoZXJyKX0pKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHRoaXMucmV0cnlDaGFuZ2UubmV4dChmYWxzZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2MubWV0aG9kID09PSAnUFVUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3JtRGF0YTogRm9ybURhdGEgfCB7fTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jLmZpbGVGaWVsZHMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVsdGlwYXJ0L2Zvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IGNyZWF0ZUZvcm1EYXRhKGRvYy50b0pTT04oKS5kYXRhKSBhcyBGb3JtRGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmZpbGVGaWVsZHMuZm9yRWFjaChrID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmb3JtRGF0YSBhcyBGb3JtRGF0YSkuZGVsZXRlKGsuZmlsZUZpZWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmb3JtRGF0YSBhcyBGb3JtRGF0YSkuZGVsZXRlKGsuZmlsZU5hbWVGaWVsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVUeXBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrLmZpbGVLZXlGaWVsZCAmJiBrLmZpbGVGaWVsZCAmJiBrLmZpbGVUeXBlKSAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmFwcGVuZChrLmZpbGVLZXlGaWVsZCwgbmV3IEZpbGUoW25ldyBVaW50OEFycmF5KEpTT04ucGFyc2UoZG9jLmRhdGFbay5maWxlRmllbGRdKSkuYnVmZmVyXSwgay5maWxlTmFtZUZpZWxkIHx8ICdVbmtub3duJywge3R5cGU6IGsuZmlsZVR5cGV9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbGljYXRpb24vanNvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBkb2MudG9KU09OKCkuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LnB1dChkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0sIGZvcm1EYXRhKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAocmVzID0+IGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHtlcnJvcjogSlNPTi5zdHJpbmdpZnkoZXJyKX0pKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHRoaXMucmV0cnlDaGFuZ2UubmV4dChmYWxzZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2MubWV0aG9kID09PSAnREVMRVRFJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LmRlbGV0ZShkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0pLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiBkb2MucmVtb3ZlKCkpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkb2MuYXRvbWljUGF0Y2goe2Vycm9yOiBKU09OLnN0cmluZ2lmeShlcnIpfSkpLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxpemUoKCkgPT4gdGhpcy5yZXRyeUNoYW5nZS5uZXh0KGZhbHNlKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYERvY3VtZW50IGRvZXNuXFwndCBoYXZlIHZhbGlkIG1ldGhvZC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSl9YCk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5Q2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCh0cmlnZ2VyID0+IHRyaWdnZXIgPyBoaXQgOiBvZigpKVxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxib29sZWFuIHwgUHdhRG9jdW1lbnQ8YW55Pj47XG5cbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBFdmljdCBNYW5hZ2VtZW50XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBldmljdCgpOiBPYnNlcnZhYmxlPGFueT4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZENvbGxlY3Rpb25zLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcChjb2xsZWN0aW9uSW5mbyA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBldmljdHMgPSBjb2xsZWN0aW9uSW5mby5tYXAoayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVBbGxvd2VkQWdlID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAoay5jb2xsZWN0aW9uRXZpY3RUaW1lICogMTAwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsuY29sbGVjdGlvbi5pbnNlcnQkLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gay5jb2xsZWN0aW9uLmZpbmQoe3NlbGVjdG9yOiB7JGFuZDogW3ttZXRob2Q6IHskZXE6ICdHRVQnfX0sIHt0aW1lOiB7JGx0OiBjYWNoZUFsbG93ZWRBZ2V9fV19fSkucmVtb3ZlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb21iaW5lTGF0ZXN0KGV2aWN0cyk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgIH1cblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgc2tpcFRyaW0oKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZWRDb2xsZWN0aW9ucy5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKGNvbGxlY3Rpb25JbmZvKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBza2lwVHJpbXMgPSBjb2xsZWN0aW9uSW5mby5tYXAoayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsuY29sbGVjdGlvbi5pbnNlcnQkLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gay5jb2xsZWN0aW9uLmZpbmQoe3NlbGVjdG9yOiB7bWV0aG9kOiB7JGVxOiAnR0VUJ319LCBzb3J0OiBbe3RpbWU6ICdkZXNjJ31dLCBza2lwOiBrLmNvbGxlY3Rpb25Ta2lwRG9jdW1lbnRzfSkucmVtb3ZlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChza2lwVHJpbXMpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQ29uZmxpY3QgTWFuYWdlbWVudFxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgY3JlYXRlTmV3KGRvYzogUHdhRG9jdW1lbnQ8YW55Pik6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8YW55Pj4ge1xuXG4gICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJyAmJiBkb2MubWV0aG9kICE9PSAnUE9TVCcpIHtcblxuICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHttZXRob2Q6ICdQT1NUJ30pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGBDYW5ub3QgZHVwbGljYXRlIHRoaXMgZG9jdW1lbnQuIERvY3VtZW50OiAke0pTT04uc3RyaW5naWZ5KGRvYz8udG9KU09OKCkgfHwge30pfWApO1xuICAgIH1cblxuICAgIGRlbGV0ZUNvbmZsaWN0KGRvYzogUHdhRG9jdW1lbnQ8YW55Pik6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuXG4gICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJykge1xuXG4gICAgICAgICAgICByZXR1cm4gZnJvbShkb2MucmVtb3ZlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYENhbm5vdCBkZWxldGUgdGhpcyBkb2N1bWVudC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSB8fCB7fSl9YCk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JtRGF0YShvYmplY3Q6IE9iamVjdCwgZm9ybT86IEZvcm1EYXRhLCBuYW1lc3BhY2U/OiBzdHJpbmcpOiBGb3JtRGF0YSB7XG5cbiAgICBsZXQgZm9ybURhdGEgPSBmb3JtIHx8IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIGluIG9iamVjdCkge1xuXG4gICAgICAgIGNvbnN0IGZvcm1LZXkgPSBuYW1lc3BhY2UgPyBgJHtuYW1lc3BhY2V9LiR7cHJvcGVydHlOYW1lfWAgOiBwcm9wZXJ0eU5hbWU7XG5cbiAgICAgICAgaWYgKG9iamVjdFtwcm9wZXJ0eU5hbWVdIGluc3RhbmNlb2YgRGF0ZSkge1xuXG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZm9ybUtleSwgb2JqZWN0W3Byb3BlcnR5TmFtZV0udG9JU09TdHJpbmcoKSk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3RbcHJvcGVydHlOYW1lXSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgICAgIG9iamVjdFtwcm9wZXJ0eU5hbWVdLmZvckVhY2goKGVsZW1lbnQ6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcEZvcm1LZXkgPSBgJHtmb3JtS2V5fS0ke2luZGV4fWA7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRm9ybURhdGEoZWxlbWVudCwgZm9ybURhdGEsIHRlbXBGb3JtS2V5KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKHRlbXBGb3JtS2V5LCBlbGVtZW50LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0W3Byb3BlcnR5TmFtZV0gPT09ICdvYmplY3QnICYmICEob2JqZWN0W3Byb3BlcnR5TmFtZV0gaW5zdGFuY2VvZiBGaWxlKSAmJiBvYmplY3RbcHJvcGVydHlOYW1lXSAhPT0gbnVsbCAmJiBvYmplY3RbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIGNyZWF0ZUZvcm1EYXRhKG9iamVjdFtwcm9wZXJ0eU5hbWVdLCBmb3JtRGF0YSwgZm9ybUtleSk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGZvcm1LZXksIG9iamVjdFtwcm9wZXJ0eU5hbWVdID09PSBudWxsIHx8IG9iamVjdFtwcm9wZXJ0eU5hbWVdID09PSB1bmRlZmluZWQgPyAnJyA6IG9iamVjdFtwcm9wZXJ0eU5hbWVdLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xuXG4gICAgLy8gY29uc3QgZm9ybURhdGEgPSBmb3JtIHx8IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgLy8gZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcblxuICAgIC8vICAgICBsZXQgZm9ybUtleSA9ICcnO1xuXG4gICAgLy8gICAgIGlmIChpc0FycmF5KSB7XG5cbiAgICAvLyAgICAgICAgIGZvcm1LZXkgPSBuYW1lc3BhY2UgPyBgJHtuYW1lc3BhY2V9WyR7cHJvcGVydHl9XWAgOiBwcm9wZXJ0eTtcblxuICAgIC8vICAgICB9IGVsc2Uge1xuXG4gICAgLy8gICAgICAgICBmb3JtS2V5ID0gbmFtZXNwYWNlID8gYCR7bmFtZXNwYWNlfS4ke3Byb3BlcnR5fWAgOiBwcm9wZXJ0eTtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmIChvYmplY3RbcHJvcGVydHldIGluc3RhbmNlb2YgRGF0ZSkge1xuXG4gICAgLy8gICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZm9ybUtleSwgb2JqZWN0W3Byb3BlcnR5XS50b0lTT1N0cmluZygpKTtcblxuICAgIC8vICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3RbcHJvcGVydHldID09PSAnb2JqZWN0JyAmJiAhKG9iamVjdFtwcm9wZXJ0eV0gaW5zdGFuY2VvZiBGaWxlKSAmJiBvYmplY3RbcHJvcGVydHldICE9PSBudWxsICYmIG9iamVjdFtwcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuXG4gICAgLy8gICAgICAgICBjcmVhdGVGb3JtRGF0YShvYmplY3RbcHJvcGVydHldLCBmb3JtRGF0YSwgZm9ybUtleSwgdHlwZW9mIG9iamVjdFtwcm9wZXJ0eV0gPT09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkob2JqZWN0W3Byb3BlcnR5XSkpO1xuXG4gICAgLy8gICAgIH0gZWxzZSB7XG5cbiAgICAvLyAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChmb3JtS2V5LCBvYmplY3RbcHJvcGVydHldID09PSBudWxsIHx8IG9iamVjdFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCA/ICcnIDogb2JqZWN0W3Byb3BlcnR5XSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyByZXR1cm4gZm9ybURhdGE7XG59XG4iXX0=","start":11115,"end":50989}]},"code":"import { BehaviorSubject, combineLatest, from, of, throwError } from 'rxjs';\nimport { auditTime, catchError, concatMap, filter, finalize, first, map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { getCollectionCreator, pwaCollectionMethods } from '../definitions/collection';\nimport { pwaDocMethods } from '../definitions/document';\nimport { getSynchroniseCollectionCreator, synchroniseCollectionMethods } from '../definitions/synchronise-collection';\nimport { synchroniseDocMethods } from '../definitions/synchronise-document';\nimport { enterZone } from './operators.resource';\nimport { PwaDatabaseService } from './database.resource';\nimport { flatten } from './misc.resource';\nexport class SyncCollectionService {\n    constructor(_config) {\n        this._config = _config;\n        this.config = {\n            name: 'no_name_sync_collection',\n            db$: of(),\n            attachments: {},\n            options: {},\n            migrationStrategies: {},\n            autoMigrate: true,\n            ngZone: null,\n            httpClient: null,\n        };\n        this.config = {\n            ...this.config,\n            ...this._config\n        };\n        this.retryChange = new BehaviorSubject(true);\n        this.storedCollections = this.collection$.pipe(switchMap(col => col.find().$), map(docs => docs.map(d => d.toJSON())), map(docTypes => {\n            const databasesSchema = {};\n            docTypes.forEach(d => {\n                const key = d.databaseOptions;\n                key in databasesSchema ? databasesSchema[key].push(d) : databasesSchema[key] = [d];\n            });\n            const databasesMap = [];\n            Object.keys(databasesSchema).forEach(schema => {\n                const pwaDatabaseService = new PwaDatabaseService({ dbCreator: { ...JSON.parse(schema), ignoreDuplicate: true } });\n                databasesMap.push({ database: pwaDatabaseService.db$, collectionInfo: databasesSchema[schema] });\n            });\n            return databasesMap;\n        }), switchMap(databasesMap => combineLatest(databasesMap.map(m => {\n            return m.database.pipe(switchMap(db => {\n                const collectionInfoKeyValue = m.collectionInfo.reduce((cur, acc) => {\n                    acc[cur.collectionName] = cur;\n                    return acc;\n                }, {});\n                const collections = {};\n                m.collectionInfo.forEach(i => {\n                    const collectionOptions = JSON.parse(i.collectionOptions);\n                    collections[i.collectionName] = getCollectionCreator(i.collectionName, pwaCollectionMethods, pwaDocMethods, collectionOptions.attachments, collectionOptions.options, collectionOptions.migrationStrategies, collectionOptions.autoMigrate);\n                });\n                return from(db.addCollections(collections)).pipe(map(v => Object.keys(v).map(k => ({\n                    collection: v[k],\n                    ...collectionInfoKeyValue[k],\n                }))));\n            }));\n        }))), map(v => flatten(v)), tap((v) => {\n            v.forEach(docType => {\n                docType.collection.preSave((plainData, rxDocument) => {\n                    plainData.createdAt = plainData.createdAt || new Date().getTime();\n                    plainData.updatedAt = new Date().getTime();\n                }, false);\n            });\n        }), shareReplay(1));\n    }\n    get collection$() {\n        if (this._collection$) {\n            return this._collection$;\n        }\n        const collectionSchema = {};\n        collectionSchema[this.config.name] = getSynchroniseCollectionCreator(this.config.name, synchroniseCollectionMethods, synchroniseDocMethods, this.config.attachments, this.config.options, this.config.migrationStrategies, this.config.autoMigrate);\n        this._collection$ = this.config.db$.pipe(switchMap(db => from(db.addCollections(collectionSchema))), map(collections => collections[this.config.name]), shareReplay(1), first());\n        return this._collection$;\n    }\n    addSynchroniseDocument(data) {\n        return this.collection$.pipe(switchMap(col => col.atomicUpsert(data)));\n    }\n    startSync() {\n        this.retryChange.next(true);\n    }\n    stopSync() {\n        this.retryChange.next(false);\n    }\n    unsynchronised(tenant, order = 'asc') {\n        return this.storedCollections.pipe(switchMap((collectionsInfo) => {\n            const query = {\n                selector: {\n                    matchUrl: { $regex: new RegExp(`^${tenant}.*`) },\n                    method: { $ne: 'GET' }\n                }\n            };\n            const sortedDocs$ = collectionsInfo.map(k => {\n                return from(k.collection.find(query).$.pipe(auditTime(1000 / 60)));\n            });\n            return combineLatest(sortedDocs$);\n        }), map(sortedDocs => flatten(sortedDocs)), map((sortedDocs) => sortedDocs.sort((a, b) => order === 'asc' ? a.time - b.time : b.time - a.time)), enterZone(this.config.ngZone));\n    }\n    synchronise(tenant) {\n        const pop = this.unsynchronised(tenant, 'asc').pipe(filter(sortedDocs => sortedDocs.length > 0), map(sortedDocs => sortedDocs[0]));\n        const hit = pop.pipe(concatMap(doc => {\n            if (doc.method === 'POST') {\n                const url = doc.tenantUrl.split('____')[1].split('/');\n                url.splice(url.length - 1, 1);\n                let formData;\n                if (doc.fileFields.length) {\n                    formData = createFormData(doc.toJSON().data);\n                    doc.fileFields.forEach(k => {\n                        formData.delete(k.fileField);\n                        formData.delete(k.fileNameField);\n                        formData.delete(k.fileType);\n                        if (k.fileKeyField && k.fileField && k.fileType)\n                            formData.append(k.fileKeyField, new File([new Uint8Array(JSON.parse(doc.data[k.fileField])).buffer], k.fileNameField || 'Unknown', { type: k.fileType }));\n                    });\n                }\n                else {\n                    formData = doc.toJSON().data;\n                }\n                return this.config.httpClient.post(url.join('/'), formData).pipe(switchMap(res => doc.atomicPatch({\n                    method: 'GET',\n                    data: res,\n                    error: null,\n                    time: new Date().getTime()\n                })), catchError(err => {\n                    return from(doc.atomicPatch({ error: JSON.stringify(err) })).pipe(finalize(() => this.retryChange.next(false)));\n                }));\n            }\n            else if (doc.method === 'PUT') {\n                let formData;\n                if (doc.fileFields.length) {\n                    formData = createFormData(doc.toJSON().data);\n                    doc.fileFields.forEach(k => {\n                        formData.delete(k.fileField);\n                        formData.delete(k.fileNameField);\n                        formData.delete(k.fileType);\n                        if (k.fileKeyField && k.fileField && k.fileType)\n                            formData.append(k.fileKeyField, new File([new Uint8Array(JSON.parse(doc.data[k.fileField])).buffer], k.fileNameField || 'Unknown', { type: k.fileType }));\n                    });\n                }\n                else {\n                    formData = doc.toJSON().data;\n                }\n                return this.config.httpClient.put(doc.tenantUrl.split('____')[1], formData).pipe(switchMap(res => doc.atomicPatch({\n                    method: 'GET',\n                    data: res,\n                    error: null,\n                    time: new Date().getTime()\n                })), catchError(err => {\n                    return from(doc.atomicPatch({ error: JSON.stringify(err) })).pipe(finalize(() => this.retryChange.next(false)));\n                }));\n            }\n            else if (doc.method === 'DELETE') {\n                return this.config.httpClient.delete(doc.tenantUrl.split('____')[1]).pipe(switchMap(() => doc.remove()), catchError(err => {\n                    return from(doc.atomicPatch({ error: JSON.stringify(err) })).pipe(finalize(() => this.retryChange.next(false)));\n                }));\n            }\n            return throwError(`Document doesn\\'t have valid method. Document: ${JSON.stringify(doc?.toJSON())}`);\n        }));\n        return this.retryChange.asObservable().pipe(switchMap(trigger => trigger ? hit : of()));\n    }\n    evict() {\n        return this.storedCollections.pipe(switchMap(collectionInfo => {\n            const evicts = collectionInfo.map(k => {\n                const cacheAllowedAge = new Date().getTime() - (k.collectionEvictTime * 1000);\n                return k.collection.insert$.pipe(switchMap(() => k.collection.find({ selector: { $and: [{ method: { $eq: 'GET' } }, { time: { $lt: cacheAllowedAge } }] } }).remove()));\n            });\n            return combineLatest(evicts);\n        }));\n    }\n    skipTrim() {\n        return this.storedCollections.pipe(switchMap((collectionInfo) => {\n            const skipTrims = collectionInfo.map(k => {\n                return k.collection.insert$.pipe(switchMap(() => k.collection.find({ selector: { method: { $eq: 'GET' } }, sort: [{ time: 'desc' }], skip: k.collectionSkipDocuments }).remove()));\n            });\n            return combineLatest(skipTrims);\n        }));\n    }\n    createNew(doc) {\n        if (!!doc && doc.method !== 'GET' && doc.method !== 'POST') {\n            return from(doc.atomicPatch({ method: 'POST' }));\n        }\n        return throwError(`Cannot duplicate this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n    }\n    deleteConflict(doc) {\n        if (!!doc && doc.method !== 'GET') {\n            return from(doc.remove());\n        }\n        return throwError(`Cannot delete this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n    }\n}\nexport function createFormData(object, form, namespace) {\n    let formData = form || new FormData();\n    for (let propertyName in object) {\n        const formKey = namespace ? `${namespace}.${propertyName}` : propertyName;\n        if (object[propertyName] instanceof Date) {\n            formData.append(formKey, object[propertyName].toISOString());\n        }\n        else if (object[propertyName] instanceof Array) {\n            object[propertyName].forEach((element, index) => {\n                const tempFormKey = `${formKey}-${index}`;\n                if (typeof element === 'object') {\n                    createFormData(element, formData, tempFormKey);\n                }\n                else {\n                    formData.append(tempFormKey, element.toString());\n                }\n            });\n        }\n        else if (typeof object[propertyName] === 'object' && !(object[propertyName] instanceof File) && object[propertyName] !== null && object[propertyName] !== undefined) {\n            createFormData(object[propertyName], formData, formKey);\n        }\n        else {\n            formData.append(formKey, object[propertyName] === null || object[propertyName] === undefined ? '' : object[propertyName].toString());\n        }\n    }\n    return formData;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtY29sbGVjdGlvbi5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBYyxFQUFFLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3hGLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3SCxPQUFPLEVBQUUsb0JBQW9CLEVBQWlCLG9CQUFvQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdEcsT0FBTyxFQUFFLGFBQWEsRUFBZSxNQUFNLHlCQUF5QixDQUFDO0FBQ3JFLE9BQU8sRUFBRSwrQkFBK0IsRUFBeUIsNEJBQTRCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUM3SSxPQUFPLEVBQUUscUJBQXFCLEVBQTJDLE1BQU0scUNBQXFDLENBQUM7QUFDckgsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQXFCMUMsTUFBTSxPQUFPLHFCQUFxQjtJQW9COUIsWUFBb0IsT0FBOEM7UUFBOUMsWUFBTyxHQUFQLE9BQU8sQ0FBdUM7UUFiMUQsV0FBTSxHQUFpQztZQUMzQyxJQUFJLEVBQUUseUJBQXlCO1lBQy9CLEdBQUcsRUFBRSxFQUFFLEVBQUU7WUFDVCxXQUFXLEVBQUUsRUFB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QUFXLENBQUMsQ0FBQztpQkFFbEQ7cUJBQU07b0JBRUgsUUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7aUJBQ3BEO1lBRUwsQ0FBQyxDQUFDLENBQUM7U0FFTjthQUFNLElBQUksT0FBTyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssUUFBUSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLElBQUksSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBRW5LLGNBQWMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBRTNEO2FBQU07WUFFSCxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSSxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7U0FDeEk7S0FDSjtJQUVELE9BQU8sUUFBUSxDQUFDO0FBZ0NwQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUnhDb2xsZWN0aW9uQ3JlYXRvciwgUnhEYXRhYmFzZSB9IGZyb20gJ3J4ZGInO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBmcm9tLCBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBjYXRjaEVycm9yLCBjb25jYXRNYXAsIGZpbHRlciwgZmluYWxpemUsIGZpcnN0LCBtYXAsIHNoYXJlUmVwbGF5LCBzd2l0Y2hNYXAsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IGdldENvbGxlY3Rpb25DcmVhdG9yLCBQd2FDb2xsZWN0aW9uLCBwd2FDb2xsZWN0aW9uTWV0aG9kcyB9IGZyb20gJy4uL2RlZmluaXRpb25zL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHsgcHdhRG9jTWV0aG9kcywgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBnZXRTeW5jaHJvbmlzZUNvbGxlY3Rpb25DcmVhdG9yLCBTeW5jaHJvbmlzZUNvbGxlY3Rpb24sIHN5bmNocm9uaXNlQ29sbGVjdGlvbk1ldGhvZHMgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uJztcbmltcG9ydCB7IHN5bmNocm9uaXNlRG9jTWV0aG9kcywgU3luY2hyb25pc2VEb2NUeXBlLCBTeW5jaHJvbmlzZURvY3VtZW50IH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMvc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuaW1wb3J0IHsgZW50ZXJab25lIH0gZnJvbSAnLi9vcGVyYXRvcnMucmVzb3VyY2UnO1xuaW1wb3J0IHsgUHdhRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSAnLi9kYXRhYmFzZS5yZXNvdXJjZSc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi9taXNjLnJlc291cmNlJztcblxuaW50ZXJmYWNlIEV4dHJhcyB7XG4gICAgY29sbGVjdGlvbjogUHdhQ29sbGVjdGlvbjxhbnk+O1xufVxuXG50eXBlIFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhcyA9IFN5bmNocm9uaXNlRG9jVHlwZSAmIEV4dHJhcztcblxuXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNDb2xsZWN0aW9uU2VydmljZUNyZWF0b3Ige1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkYiQ6IE9ic2VydmFibGU8UnhEYXRhYmFzZTxhbnk+PjtcbiAgICBhdHRhY2htZW50cz86IHt9O1xuICAgIG9wdGlvbnM/OiB7fTtcbiAgICBtaWdyYXRpb25TdHJhdGVnaWVzPzoge307XG4gICAgYXV0b01pZ3JhdGU/OiBib29sZWFuO1xuICAgIG5nWm9uZTogTmdab25lO1xuICAgIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQ7XG59XG5cblxuZXhwb3J0IGNsYXNzIFN5bmNDb2xsZWN0aW9uU2VydmljZSB7XG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHZhcmlhYmxlLW5hbWVcbiAgICBwcml2YXRlIF9jb2xsZWN0aW9uJDogT2JzZXJ2YWJsZTxTeW5jaHJvbmlzZUNvbGxlY3Rpb24+O1xuXG4gICAgcHJpdmF0ZSByZXRyeUNoYW5nZTogQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+O1xuXG4gICAgcHJpdmF0ZSBjb25maWc6IFN5bmNDb2xsZWN0aW9uU2VydmljZUNyZWF0b3IgPSB7XG4gICAgICAgIG5hbWU6ICdub19uYW1lX3N5bmNfY29sbGVjdGlvbicsXG4gICAgICAgIGRiJDogb2YoKSxcbiAgICAgICAgYXR0YWNobWVudHM6IHt9LFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczoge30sXG4gICAgICAgIGF1dG9NaWdyYXRlOiB0cnVlLFxuICAgICAgICBuZ1pvbmU6IG51bGwsXG4gICAgICAgIGh0dHBDbGllbnQ6IG51bGwsXG4gICAgfTtcblxuICAgIHN0b3JlZENvbGxlY3Rpb25zOiBPYnNlcnZhYmxlPFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhc1tdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2NvbmZpZzogUGFydGlhbDxTeW5jQ29sbGVjdGlvblNlcnZpY2VDcmVhdG9yPikge1xuXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICAgICAgICAuLi50aGlzLl9jb25maWdcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJldHJ5Q2hhbmdlID0gbmV3IEJlaGF2aW9yU3ViamVjdCh0cnVlKTtcblxuICAgICAgICB0aGlzLnN0b3JlZENvbGxlY3Rpb25zID0gdGhpcy5jb2xsZWN0aW9uJC5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoY29sID0+IGNvbC5maW5kKCkuJCksXG5cbiAgICAgICAgICAgIG1hcChkb2NzID0+IGRvY3MubWFwKGQgPT4gZC50b0pTT04oKSkpLFxuXG4gICAgICAgICAgICBtYXAoZG9jVHlwZXMgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gcmVkdWNlIGNvbGxlY3Rpb25zIHRvIGRhdGFiYXNlIHdpc2VcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhYmFzZXNTY2hlbWE6IHtba2V5OiBzdHJpbmddOiBTeW5jaHJvbmlzZURvY1R5cGVbXX0gPSB7fTtcblxuICAgICAgICAgICAgICAgIGRvY1R5cGVzLmZvckVhY2goZCA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZC5kYXRhYmFzZU9wdGlvbnM7XG5cbiAgICAgICAgICAgICAgICAgICAga2V5IGluIGRhdGFiYXNlc1NjaGVtYSA/IGRhdGFiYXNlc1NjaGVtYVtrZXldLnB1c2goZCkgOiBkYXRhYmFzZXNTY2hlbWFba2V5XSA9IFtkXTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIG1hcCBSeERhdGFiYXNlIGFuZCBjb2xsZWN0aW9uTmFtZXNcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFiYXNlc01hcDoge2RhdGFiYXNlOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U+LCBjb2xsZWN0aW9uSW5mbzogU3luY2hyb25pc2VEb2NUeXBlW119W10gPSBbXTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGFiYXNlc1NjaGVtYSkuZm9yRWFjaChzY2hlbWEgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB3YURhdGFiYXNlU2VydmljZSA9IG5ldyBQd2FEYXRhYmFzZVNlcnZpY2U8YW55Pih7ZGJDcmVhdG9yOiB7Li4uSlNPTi5wYXJzZShzY2hlbWEpLCBpZ25vcmVEdXBsaWNhdGU6IHRydWV9fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VzTWFwLnB1c2goe2RhdGFiYXNlOiBwd2FEYXRhYmFzZVNlcnZpY2UuZGIkLCBjb2xsZWN0aW9uSW5mbzogZGF0YWJhc2VzU2NoZW1hW3NjaGVtYV19KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhYmFzZXNNYXA7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGRhdGFiYXNlc01hcCA9PiBjb21iaW5lTGF0ZXN0KGRhdGFiYXNlc01hcC5tYXAobSA9PiB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbS5kYXRhYmFzZS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaE1hcChkYiA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25JbmZvS2V5VmFsdWU6IHtba2V5OiBzdHJpbmddOiBTeW5jaHJvbmlzZURvY1R5cGV9ID0gbS5jb2xsZWN0aW9uSW5mby5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1cjogU3luY2hyb25pc2VEb2NUeXBlLCBhY2M6IHt9KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjW2N1ci5jb2xsZWN0aW9uTmFtZV0gPSBjdXI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbnMgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbS5jb2xsZWN0aW9uSW5mby5mb3JFYWNoKGkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbk9wdGlvbnMgPSBKU09OLnBhcnNlKGkuY29sbGVjdGlvbk9wdGlvbnMpIGFzIFJ4Q29sbGVjdGlvbkNyZWF0b3I7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uc1tpLmNvbGxlY3Rpb25OYW1lXSA9IGdldENvbGxlY3Rpb25DcmVhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmNvbGxlY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd2FDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHdhRG9jTWV0aG9kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbk9wdGlvbnMuYXR0YWNobWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLm1pZ3JhdGlvblN0cmF0ZWdpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLmF1dG9NaWdyYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkYi5hZGRDb2xsZWN0aW9ucyhjb2xsZWN0aW9ucykpLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAodiA9PiBPYmplY3Qua2V5cyh2KS5tYXAoayA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiB2W2tdIGFzIFB3YUNvbGxlY3Rpb248YW55PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29sbGVjdGlvbkluZm9LZXlWYWx1ZVtrXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH0pKSksXG5cbiAgICAgICAgICAgIG1hcCh2ID0+IGZsYXR0ZW4odikpLFxuXG4gICAgICAgICAgICB0YXAoKHY6IFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhc1tdKSA9PiAge1xuXG4gICAgICAgICAgICAgICAgdi5mb3JFYWNoKGRvY1R5cGUgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY1R5cGUuY29sbGVjdGlvbi5wcmVTYXZlKChwbGFpbkRhdGEsIHJ4RG9jdW1lbnQpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW9kaWZ5IGFueUZpZWxkIGJlZm9yZSBzYXZpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluRGF0YS5jcmVhdGVkQXQgPSBwbGFpbkRhdGEuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW5EYXRhLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldCBjb2xsZWN0aW9uJCgpOiBPYnNlcnZhYmxlPFN5bmNocm9uaXNlQ29sbGVjdGlvbj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9jb2xsZWN0aW9uJCkgeyByZXR1cm4gdGhpcy5fY29sbGVjdGlvbiQ7IH1cblxuICAgICAgICBjb25zdCBjb2xsZWN0aW9uU2NoZW1hID0ge307XG5cbiAgICAgICAgY29sbGVjdGlvblNjaGVtYVt0aGlzLmNvbmZpZy5uYW1lXSA9IGdldFN5bmNocm9uaXNlQ29sbGVjdGlvbkNyZWF0b3IoXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5uYW1lLFxuICAgICAgICAgICAgc3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgIHN5bmNocm9uaXNlRG9jTWV0aG9kcyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmF0dGFjaG1lbnRzLFxuICAgICAgICAgICAgdGhpcy5jb25maWcub3B0aW9ucyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm1pZ3JhdGlvblN0cmF0ZWdpZXMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRvTWlncmF0ZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3Rpb24kID0gdGhpcy5jb25maWcuZGIkLnBpcGUoXG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZGIgPT4gZnJvbShkYi5hZGRDb2xsZWN0aW9ucyhjb2xsZWN0aW9uU2NoZW1hKSkpLFxuXG4gICAgICAgICAgICBtYXAoY29sbGVjdGlvbnMgPT4gY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xsZWN0aW9uJDtcbiAgICB9XG5cblxuICAgIGFkZFN5bmNocm9uaXNlRG9jdW1lbnQoZGF0YTogU3luY2hyb25pc2VEb2NUeXBlKTogT2JzZXJ2YWJsZTxTeW5jaHJvbmlzZURvY3VtZW50PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KGRhdGEpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gU3luY2hyb25pc2F0aW9uIE1hbmFnZW1lbnRcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIHN0YXJ0U3luYygpIHtcblxuICAgICAgICB0aGlzLnJldHJ5Q2hhbmdlLm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgc3RvcFN5bmMoKSB7XG5cbiAgICAgICAgdGhpcy5yZXRyeUNoYW5nZS5uZXh0KGZhbHNlKTtcbiAgICB9XG5cbiAgICB1bnN5bmNocm9uaXNlZCh0ZW5hbnQ6IHN0cmluZywgb3JkZXI6ICdkZXNjJyB8ICdhc2MnID0gJ2FzYycpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT5bXT4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZENvbGxlY3Rpb25zLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoY29sbGVjdGlvbnNJbmZvKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoVXJsOiB7JHJlZ2V4OiBuZXcgUmVnRXhwKGBeJHt0ZW5hbnR9LipgKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHskbmU6ICdHRVQnfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZERvY3MkID0gY29sbGVjdGlvbnNJbmZvLm1hcChrID0+IHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShrLmNvbGxlY3Rpb24uZmluZChxdWVyeSkuJC5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb21iaW5lTGF0ZXN0KHNvcnRlZERvY3MkKTtcblxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIG1hcChzb3J0ZWREb2NzID0+IGZsYXR0ZW4oc29ydGVkRG9jcykpLFxuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgbWFwKChzb3J0ZWREb2NzOiBQd2FEb2N1bWVudDxhbnk+W10pID0+IHNvcnRlZERvY3Muc29ydCgoYSwgYikgPT4gb3JkZXIgPT09ICdhc2MnID8gYS50aW1lIC0gYi50aW1lIDogYi50aW1lIC0gYS50aW1lKSksXG5cbiAgICAgICAgICAgIGVudGVyWm9uZTxQd2FEb2N1bWVudDxhbnk+W10+KHRoaXMuY29uZmlnLm5nWm9uZSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3luY2hyb25pc2UodGVuYW50OiBzdHJpbmcpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT4gfCBib29sZWFuPiB7XG5cbiAgICAgICAgY29uc3QgcG9wOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT4+ID0gdGhpcy51bnN5bmNocm9uaXNlZCh0ZW5hbnQsICdhc2MnKS5waXBlKFxuXG4gICAgICAgICAgICBmaWx0ZXIoc29ydGVkRG9jcyA9PiBzb3J0ZWREb2NzLmxlbmd0aCA+IDApLFxuXG4gICAgICAgICAgICBtYXAoc29ydGVkRG9jcyA9PiBzb3J0ZWREb2NzWzBdKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGhpdCA9IHBvcC5waXBlKFxuXG4gICAgICAgICAgICBjb25jYXRNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChkb2MubWV0aG9kID09PSAnUE9TVCcpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0uc3BsaXQoJy8nKTtcblxuICAgICAgICAgICAgICAgICAgICB1cmwuc3BsaWNlKHVybC5sZW5ndGggLSAxLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybURhdGE6IEZvcm1EYXRhIHwge307XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvYy5maWxlRmllbGRzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGFydC9mb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBjcmVhdGVGb3JtRGF0YShkb2MudG9KU09OKCkuZGF0YSkgYXMgRm9ybURhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5maWxlRmllbGRzLmZvckVhY2goayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVGaWVsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVOYW1lRmllbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZvcm1EYXRhIGFzIEZvcm1EYXRhKS5kZWxldGUoay5maWxlVHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoay5maWxlS2V5RmllbGQgJiYgay5maWxlRmllbGQgJiYgay5maWxlVHlwZSkgKGZvcm1EYXRhIGFzIEZvcm1EYXRhKS5hcHBlbmQoay5maWxlS2V5RmllbGQsIG5ldyBGaWxlKFtuZXcgVWludDhBcnJheShKU09OLnBhcnNlKGRvYy5kYXRhW2suZmlsZUZpZWxkXSkpLmJ1ZmZlcl0sIGsuZmlsZU5hbWVGaWVsZCB8fCAnVW5rbm93bicsIHt0eXBlOiBrLmZpbGVUeXBlfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGxpY2F0aW9uL2pzb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gZG9jLnRvSlNPTigpLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuaHR0cENsaWVudC5wb3N0KHVybC5qb2luKCcvJyksIGZvcm1EYXRhKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAocmVzID0+IGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHtlcnJvcjogSlNPTi5zdHJpbmdpZnkoZXJyKX0pKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHRoaXMucmV0cnlDaGFuZ2UubmV4dChmYWxzZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2MubWV0aG9kID09PSAnUFVUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3JtRGF0YTogRm9ybURhdGEgfCB7fTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jLmZpbGVGaWVsZHMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVsdGlwYXJ0L2Zvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IGNyZWF0ZUZvcm1EYXRhKGRvYy50b0pTT04oKS5kYXRhKSBhcyBGb3JtRGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmZpbGVGaWVsZHMuZm9yRWFjaChrID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmb3JtRGF0YSBhcyBGb3JtRGF0YSkuZGVsZXRlKGsuZmlsZUZpZWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmb3JtRGF0YSBhcyBGb3JtRGF0YSkuZGVsZXRlKGsuZmlsZU5hbWVGaWVsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVUeXBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrLmZpbGVLZXlGaWVsZCAmJiBrLmZpbGVGaWVsZCAmJiBrLmZpbGVUeXBlKSAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmFwcGVuZChrLmZpbGVLZXlGaWVsZCwgbmV3IEZpbGUoW25ldyBVaW50OEFycmF5KEpTT04ucGFyc2UoZG9jLmRhdGFbay5maWxlRmllbGRdKSkuYnVmZmVyXSwgay5maWxlTmFtZUZpZWxkIHx8ICdVbmtub3duJywge3R5cGU6IGsuZmlsZVR5cGV9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbGljYXRpb24vanNvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBkb2MudG9KU09OKCkuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LnB1dChkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0sIGZvcm1EYXRhKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAocmVzID0+IGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHtlcnJvcjogSlNPTi5zdHJpbmdpZnkoZXJyKX0pKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHRoaXMucmV0cnlDaGFuZ2UubmV4dChmYWxzZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2MubWV0aG9kID09PSAnREVMRVRFJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LmRlbGV0ZShkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0pLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiBkb2MucmVtb3ZlKCkpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkb2MuYXRvbWljUGF0Y2goe2Vycm9yOiBKU09OLnN0cmluZ2lmeShlcnIpfSkpLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxpemUoKCkgPT4gdGhpcy5yZXRyeUNoYW5nZS5uZXh0KGZhbHNlKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYERvY3VtZW50IGRvZXNuXFwndCBoYXZlIHZhbGlkIG1ldGhvZC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSl9YCk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5Q2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCh0cmlnZ2VyID0+IHRyaWdnZXIgPyBoaXQgOiBvZigpKVxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxib29sZWFuIHwgUHdhRG9jdW1lbnQ8YW55Pj47XG5cbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBFdmljdCBNYW5hZ2VtZW50XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBldmljdCgpOiBPYnNlcnZhYmxlPGFueT4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZENvbGxlY3Rpb25zLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcChjb2xsZWN0aW9uSW5mbyA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBldmljdHMgPSBjb2xsZWN0aW9uSW5mby5tYXAoayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVBbGxvd2VkQWdlID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAoay5jb2xsZWN0aW9uRXZpY3RUaW1lICogMTAwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsuY29sbGVjdGlvbi5pbnNlcnQkLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gay5jb2xsZWN0aW9uLmZpbmQoe3NlbGVjdG9yOiB7JGFuZDogW3ttZXRob2Q6IHskZXE6ICdHRVQnfX0sIHt0aW1lOiB7JGx0OiBjYWNoZUFsbG93ZWRBZ2V9fV19fSkucmVtb3ZlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb21iaW5lTGF0ZXN0KGV2aWN0cyk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgIH1cblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgc2tpcFRyaW0oKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZWRDb2xsZWN0aW9ucy5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKGNvbGxlY3Rpb25JbmZvKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBza2lwVHJpbXMgPSBjb2xsZWN0aW9uSW5mby5tYXAoayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsuY29sbGVjdGlvbi5pbnNlcnQkLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gay5jb2xsZWN0aW9uLmZpbmQoe3NlbGVjdG9yOiB7bWV0aG9kOiB7JGVxOiAnR0VUJ319LCBzb3J0OiBbe3RpbWU6ICdkZXNjJ31dLCBza2lwOiBrLmNvbGxlY3Rpb25Ta2lwRG9jdW1lbnRzfSkucmVtb3ZlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChza2lwVHJpbXMpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQ29uZmxpY3QgTWFuYWdlbWVudFxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgY3JlYXRlTmV3KGRvYzogUHdhRG9jdW1lbnQ8YW55Pik6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8YW55Pj4ge1xuXG4gICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJyAmJiBkb2MubWV0aG9kICE9PSAnUE9TVCcpIHtcblxuICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHttZXRob2Q6ICdQT1NUJ30pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGBDYW5ub3QgZHVwbGljYXRlIHRoaXMgZG9jdW1lbnQuIERvY3VtZW50OiAke0pTT04uc3RyaW5naWZ5KGRvYz8udG9KU09OKCkgfHwge30pfWApO1xuICAgIH1cblxuICAgIGRlbGV0ZUNvbmZsaWN0KGRvYzogUHdhRG9jdW1lbnQ8YW55Pik6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuXG4gICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJykge1xuXG4gICAgICAgICAgICByZXR1cm4gZnJvbShkb2MucmVtb3ZlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYENhbm5vdCBkZWxldGUgdGhpcyBkb2N1bWVudC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSB8fCB7fSl9YCk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JtRGF0YShvYmplY3Q6IE9iamVjdCwgZm9ybT86IEZvcm1EYXRhLCBuYW1lc3BhY2U/OiBzdHJpbmcpOiBGb3JtRGF0YSB7XG5cbiAgICBsZXQgZm9ybURhdGEgPSBmb3JtIHx8IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIGluIG9iamVjdCkge1xuXG4gICAgICAgIGNvbnN0IGZvcm1LZXkgPSBuYW1lc3BhY2UgPyBgJHtuYW1lc3BhY2V9LiR7cHJvcGVydHlOYW1lfWAgOiBwcm9wZXJ0eU5hbWU7XG5cbiAgICAgICAgaWYgKG9iamVjdFtwcm9wZXJ0eU5hbWVdIGluc3RhbmNlb2YgRGF0ZSkge1xuXG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZm9ybUtleSwgb2JqZWN0W3Byb3BlcnR5TmFtZV0udG9JU09TdHJpbmcoKSk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3RbcHJvcGVydHlOYW1lXSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgICAgIG9iamVjdFtwcm9wZXJ0eU5hbWVdLmZvckVhY2goKGVsZW1lbnQ6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcEZvcm1LZXkgPSBgJHtmb3JtS2V5fS0ke2luZGV4fWA7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRm9ybURhdGEoZWxlbWVudCwgZm9ybURhdGEsIHRlbXBGb3JtS2V5KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKHRlbXBGb3JtS2V5LCBlbGVtZW50LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0W3Byb3BlcnR5TmFtZV0gPT09ICdvYmplY3QnICYmICEob2JqZWN0W3Byb3BlcnR5TmFtZV0gaW5zdGFuY2VvZiBGaWxlKSAmJiBvYmplY3RbcHJvcGVydHlOYW1lXSAhPT0gbnVsbCAmJiBvYmplY3RbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIGNyZWF0ZUZvcm1EYXRhKG9iamVjdFtwcm9wZXJ0eU5hbWVdLCBmb3JtRGF0YSwgZm9ybUtleSk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGZvcm1LZXksIG9iamVjdFtwcm9wZXJ0eU5hbWVdID09PSBudWxsIHx8IG9iamVjdFtwcm9wZXJ0eU5hbWVdID09PSB1bmRlZmluZWQgPyAnJyA6IG9iamVjdFtwcm9wZXJ0eU5hbWVdLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xuXG4gICAgLy8gY29uc3QgZm9ybURhdGEgPSBmb3JtIHx8IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgLy8gZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcblxuICAgIC8vICAgICBsZXQgZm9ybUtleSA9ICcnO1xuXG4gICAgLy8gICAgIGlmIChpc0FycmF5KSB7XG5cbiAgICAvLyAgICAgICAgIGZvcm1LZXkgPSBuYW1lc3BhY2UgPyBgJHtuYW1lc3BhY2V9WyR7cHJvcGVydHl9XWAgOiBwcm9wZXJ0eTtcblxuICAgIC8vICAgICB9IGVsc2Uge1xuXG4gICAgLy8gICAgICAgICBmb3JtS2V5ID0gbmFtZXNwYWNlID8gYCR7bmFtZXNwYWNlfS4ke3Byb3BlcnR5fWAgOiBwcm9wZXJ0eTtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmIChvYmplY3RbcHJvcGVydHldIGluc3RhbmNlb2YgRGF0ZSkge1xuXG4gICAgLy8gICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZm9ybUtleSwgb2JqZWN0W3Byb3BlcnR5XS50b0lTT1N0cmluZygpKTtcblxuICAgIC8vICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3RbcHJvcGVydHldID09PSAnb2JqZWN0JyAmJiAhKG9iamVjdFtwcm9wZXJ0eV0gaW5zdGFuY2VvZiBGaWxlKSAmJiBvYmplY3RbcHJvcGVydHldICE9PSBudWxsICYmIG9iamVjdFtwcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuXG4gICAgLy8gICAgICAgICBjcmVhdGVGb3JtRGF0YShvYmplY3RbcHJvcGVydHldLCBmb3JtRGF0YSwgZm9ybUtleSwgdHlwZW9mIG9iamVjdFtwcm9wZXJ0eV0gPT09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkob2JqZWN0W3Byb3BlcnR5XSkpO1xuXG4gICAgLy8gICAgIH0gZWxzZSB7XG5cbiAgICAvLyAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChmb3JtS2V5LCBvYmplY3RbcHJvcGVydHldID09PSBudWxsIHx8IG9iamVjdFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCA/ICcnIDogb2JqZWN0W3Byb3BlcnR5XSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyByZXR1cm4gZm9ybURhdGE7XG59XG4iXX0=","customTransformCache":false,"dependencies":["rxjs","rxjs/operators","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/collection.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-collection.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-document.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/database.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/synchronise-collection.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { BehaviorSubject, combineLatest, from, of, throwError } from 'rxjs';\nimport { auditTime, catchError, concatMap, filter, finalize, first, map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { getCollectionCreator, pwaCollectionMethods } from '../definitions/collection';\nimport { pwaDocMethods } from '../definitions/document';\nimport { getSynchroniseCollectionCreator, synchroniseCollectionMethods } from '../definitions/synchronise-collection';\nimport { synchroniseDocMethods } from '../definitions/synchronise-document';\nimport { enterZone } from './operators.resource';\nimport { PwaDatabaseService } from './database.resource';\nimport { flatten } from './misc.resource';\nexport class SyncCollectionService {\n    constructor(_config) {\n        this._config = _config;\n        this.config = {\n            name: 'no_name_sync_collection',\n            db$: of(),\n            attachments: {},\n            options: {},\n            migrationStrategies: {},\n            autoMigrate: true,\n            ngZone: null,\n            httpClient: null,\n        };\n        this.config = {\n            ...this.config,\n            ...this._config\n        };\n        this.retryChange = new BehaviorSubject(true);\n        this.storedCollections = this.collection$.pipe(switchMap(col => col.find().$), map(docs => docs.map(d => d.toJSON())), map(docTypes => {\n            const databasesSchema = {};\n            docTypes.forEach(d => {\n                const key = d.databaseOptions;\n                key in databasesSchema ? databasesSchema[key].push(d) : databasesSchema[key] = [d];\n            });\n            const databasesMap = [];\n            Object.keys(databasesSchema).forEach(schema => {\n                const pwaDatabaseService = new PwaDatabaseService({ dbCreator: { ...JSON.parse(schema), ignoreDuplicate: true } });\n                databasesMap.push({ database: pwaDatabaseService.db$, collectionInfo: databasesSchema[schema] });\n            });\n            return databasesMap;\n        }), switchMap(databasesMap => combineLatest(databasesMap.map(m => {\n            return m.database.pipe(switchMap(db => {\n                const collectionInfoKeyValue = m.collectionInfo.reduce((cur, acc) => {\n                    acc[cur.collectionName] = cur;\n                    return acc;\n                }, {});\n                const collections = {};\n                m.collectionInfo.forEach(i => {\n                    const collectionOptions = JSON.parse(i.collectionOptions);\n                    collections[i.collectionName] = getCollectionCreator(i.collectionName, pwaCollectionMethods, pwaDocMethods, collectionOptions.attachments, collectionOptions.options, collectionOptions.migrationStrategies, collectionOptions.autoMigrate);\n                });\n                return from(db.addCollections(collections)).pipe(map(v => Object.keys(v).map(k => ({\n                    collection: v[k],\n                    ...collectionInfoKeyValue[k],\n                }))));\n            }));\n        }))), map(v => flatten(v)), tap((v) => {\n            v.forEach(docType => {\n                docType.collection.preSave((plainData, rxDocument) => {\n                    plainData.createdAt = plainData.createdAt || new Date().getTime();\n                    plainData.updatedAt = new Date().getTime();\n                }, false);\n            });\n        }), shareReplay(1));\n    }\n    get collection$() {\n        if (this._collection$) {\n            return this._collection$;\n        }\n        const collectionSchema = {};\n        collectionSchema[this.config.name] = getSynchroniseCollectionCreator(this.config.name, synchroniseCollectionMethods, synchroniseDocMethods, this.config.attachments, this.config.options, this.config.migrationStrategies, this.config.autoMigrate);\n        this._collection$ = this.config.db$.pipe(switchMap(db => from(db.addCollections(collectionSchema))), map(collections => collections[this.config.name]), shareReplay(1), first());\n        return this._collection$;\n    }\n    addSynchroniseDocument(data) {\n        return this.collection$.pipe(switchMap(col => col.atomicUpsert(data)));\n    }\n    startSync() {\n        this.retryChange.next(true);\n    }\n    stopSync() {\n        this.retryChange.next(false);\n    }\n    unsynchronised(tenant, order = 'asc') {\n        return this.storedCollections.pipe(switchMap((collectionsInfo) => {\n            const query = {\n                selector: {\n                    matchUrl: { $regex: new RegExp(`^${tenant}.*`) },\n                    method: { $ne: 'GET' }\n                }\n            };\n            const sortedDocs$ = collectionsInfo.map(k => {\n                return from(k.collection.find(query).$.pipe(auditTime(1000 / 60)));\n            });\n            return combineLatest(sortedDocs$);\n        }), map(sortedDocs => flatten(sortedDocs)), map((sortedDocs) => sortedDocs.sort((a, b) => order === 'asc' ? a.time - b.time : b.time - a.time)), enterZone(this.config.ngZone));\n    }\n    synchronise(tenant) {\n        const pop = this.unsynchronised(tenant, 'asc').pipe(filter(sortedDocs => sortedDocs.length > 0), map(sortedDocs => sortedDocs[0]));\n        const hit = pop.pipe(concatMap(doc => {\n            if (doc.method === 'POST') {\n                const url = doc.tenantUrl.split('____')[1].split('/');\n                url.splice(url.length - 1, 1);\n                let formData;\n                if (doc.fileFields.length) {\n                    formData = createFormData(doc.toJSON().data);\n                    doc.fileFields.forEach(k => {\n                        formData.delete(k.fileField);\n                        formData.delete(k.fileNameField);\n                        formData.delete(k.fileType);\n                        if (k.fileKeyField && k.fileField && k.fileType)\n                            formData.append(k.fileKeyField, new File([new Uint8Array(JSON.parse(doc.data[k.fileField])).buffer], k.fileNameField || 'Unknown', { type: k.fileType }));\n                    });\n                }\n                else {\n                    formData = doc.toJSON().data;\n                }\n                return this.config.httpClient.post(url.join('/'), formData).pipe(switchMap(res => doc.atomicPatch({\n                    method: 'GET',\n                    data: res,\n                    error: null,\n                    time: new Date().getTime()\n                })), catchError(err => {\n                    return from(doc.atomicPatch({ error: JSON.stringify(err) })).pipe(finalize(() => this.retryChange.next(false)));\n                }));\n            }\n            else if (doc.method === 'PUT') {\n                let formData;\n                if (doc.fileFields.length) {\n                    formData = createFormData(doc.toJSON().data);\n                    doc.fileFields.forEach(k => {\n                        formData.delete(k.fileField);\n                        formData.delete(k.fileNameField);\n                        formData.delete(k.fileType);\n                        if (k.fileKeyField && k.fileField && k.fileType)\n                            formData.append(k.fileKeyField, new File([new Uint8Array(JSON.parse(doc.data[k.fileField])).buffer], k.fileNameField || 'Unknown', { type: k.fileType }));\n                    });\n                }\n                else {\n                    formData = doc.toJSON().data;\n                }\n                return this.config.httpClient.put(doc.tenantUrl.split('____')[1], formData).pipe(switchMap(res => doc.atomicPatch({\n                    method: 'GET',\n                    data: res,\n                    error: null,\n                    time: new Date().getTime()\n                })), catchError(err => {\n                    return from(doc.atomicPatch({ error: JSON.stringify(err) })).pipe(finalize(() => this.retryChange.next(false)));\n                }));\n            }\n            else if (doc.method === 'DELETE') {\n                return this.config.httpClient.delete(doc.tenantUrl.split('____')[1]).pipe(switchMap(() => doc.remove()), catchError(err => {\n                    return from(doc.atomicPatch({ error: JSON.stringify(err) })).pipe(finalize(() => this.retryChange.next(false)));\n                }));\n            }\n            return throwError(`Document doesn\\'t have valid method. Document: ${JSON.stringify(doc?.toJSON())}`);\n        }));\n        return this.retryChange.asObservable().pipe(switchMap(trigger => trigger ? hit : of()));\n    }\n    evict() {\n        return this.storedCollections.pipe(switchMap(collectionInfo => {\n            const evicts = collectionInfo.map(k => {\n                const cacheAllowedAge = new Date().getTime() - (k.collectionEvictTime * 1000);\n                return k.collection.insert$.pipe(switchMap(() => k.collection.find({ selector: { $and: [{ method: { $eq: 'GET' } }, { time: { $lt: cacheAllowedAge } }] } }).remove()));\n            });\n            return combineLatest(evicts);\n        }));\n    }\n    skipTrim() {\n        return this.storedCollections.pipe(switchMap((collectionInfo) => {\n            const skipTrims = collectionInfo.map(k => {\n                return k.collection.insert$.pipe(switchMap(() => k.collection.find({ selector: { method: { $eq: 'GET' } }, sort: [{ time: 'desc' }], skip: k.collectionSkipDocuments }).remove()));\n            });\n            return combineLatest(skipTrims);\n        }));\n    }\n    createNew(doc) {\n        if (!!doc && doc.method !== 'GET' && doc.method !== 'POST') {\n            return from(doc.atomicPatch({ method: 'POST' }));\n        }\n        return throwError(`Cannot duplicate this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n    }\n    deleteConflict(doc) {\n        if (!!doc && doc.method !== 'GET') {\n            return from(doc.remove());\n        }\n        return throwError(`Cannot delete this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n    }\n}\nexport function createFormData(object, form, namespace) {\n    let formData = form || new FormData();\n    for (let propertyName in object) {\n        const formKey = namespace ? `${namespace}.${propertyName}` : propertyName;\n        if (object[propertyName] instanceof Date) {\n            formData.append(formKey, object[propertyName].toISOString());\n        }\n        else if (object[propertyName] instanceof Array) {\n            object[propertyName].forEach((element, index) => {\n                const tempFormKey = `${formKey}-${index}`;\n                if (typeof element === 'object') {\n                    createFormData(element, formData, tempFormKey);\n                }\n                else {\n                    formData.append(tempFormKey, element.toString());\n                }\n            });\n        }\n        else if (typeof object[propertyName] === 'object' && !(object[propertyName] instanceof File) && object[propertyName] !== null && object[propertyName] !== undefined) {\n            createFormData(object[propertyName], formData, formKey);\n        }\n        else {\n            formData.append(formKey, object[propertyName] === null || object[propertyName] === undefined ? '' : object[propertyName].toString());\n        }\n    }\n    return formData;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtY29sbGVjdGlvbi5yZXNvdXJjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uLnJlc291cmNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBLE9BQU8sRUFBRSxlQUFlLEVBQUUsYUFBYSxFQUFFLElBQUksRUFBYyxFQUFFLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ3hGLE9BQU8sRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUM3SCxPQUFPLEVBQUUsb0JBQW9CLEVBQWlCLG9CQUFvQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFDdEcsT0FBTyxFQUFFLGFBQWEsRUFBZSxNQUFNLHlCQUF5QixDQUFDO0FBQ3JFLE9BQU8sRUFBRSwrQkFBK0IsRUFBeUIsNEJBQTRCLEVBQUUsTUFBTSx1Q0FBdUMsQ0FBQztBQUM3SSxPQUFPLEVBQUUscUJBQXFCLEVBQTJDLE1BQU0scUNBQXFDLENBQUM7QUFDckgsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3pELE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQXFCMUMsTUFBTSxPQUFPLHFCQUFxQjtJQW9COUIsWUFBb0IsT0FBOEM7UUFBOUMsWUFBTyxHQUFQLE9BQU8sQ0FBdUM7UUFiMUQsV0FBTSxHQUFpQztZQUMzQyxJQUFJLEVBQUUseUJBQXlCO1lBQy9CLEdBQUcsRUFBRSxFQUFFLEVBQUU7WUFDVCxXQUFXLEVBQUUsRUFBRTtZQUNmLE9BQU8sRUFBRSxFQUFFO1lBQ1gsbUJBQW1CLEVBQUUsRUFBRTtZQUN2QixXQUFXLEVBQUUsSUFBSTtZQUNqQixNQUFNLEVBQUUsSUFBSTtZQUNaLFVBQVUsRUFBRSxJQUFJO1NBQ25CLENBQUM7UUFNRSxJQUFJLENBQUMsTUFBTSxHQUFHO1lBQ1YsR0FBRyxJQUFJLENBQUMsTUFBTTtZQUNkLEdBQUcsSUFBSSxDQUFDLE9BQU87U0FDbEIsQ0FBQztRQUVGLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFFN0MsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUUxQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBRTlCLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxFQUV0QyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFHWCxNQUFNLGVBQWUsR0FBMEMsRUFBRSxDQUFDO1lBRWxFLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBRWpCLE1BQU0sR0FBRyxHQUFHLENBQUMsQ0FBQyxlQUFlLENBQUM7Z0JBRTlCLEdBQUcsSUFBSSxlQUFlLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3ZGLENBQUMsQ0FBQyxDQUFDO1lBSUgsTUFBTSxZQUFZLEdBQStFLEVBQUUsQ0FBQztZQUVwRyxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtnQkFFMUMsTUFBTSxrQkFBa0IsR0FBRyxJQUFJLGtCQUFrQixDQUFNLEVBQUMsU0FBUyxFQUFFLEVBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLGVBQWUsRUFBRSxJQUFJLEVBQUMsRUFBQyxDQUFDLENBQUM7Z0JBRXBILFlBQVksQ0FBQyxJQUFJLENBQUMsRUFBQyxRQUFRLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxFQUFFLGNBQWMsRUFBRSxlQUFlLENBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxDQUFDO1lBQ25HLENBQUMsQ0FBQyxDQUFDO1lBRUgsT0FBTyxZQUFZLENBQUM7UUFDeEIsQ0FBQyxDQUFDLEVBRUYsU0FBUyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7WUFFekQsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksQ0FFbEIsU0FBUyxDQUFDLEVBQUUsQ0FBQyxFQUFFO2dCQUVYLE1BQU0sc0JBQXNCLEdBQXdDLENBQUMsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUN2RixDQUFDLEdBQXVCLEVBQUUsR0FBTyxFQUFFLEVBQUU7b0JBRWpDLEdBQUcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLEdBQUcsR0FBRyxDQUFDO29CQUU5QixPQUFPLEdBQUcsQ0FBQztnQkFFZixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBRVgsTUFBTSxXQUFXLEdBQUcsRUFBRSxDQUFDO2dCQUV2QixDQUFDLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTtvQkFFekIsTUFBTSxpQkFBaUIsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsQ0FBd0IsQ0FBQztvQkFFakYsV0FBVyxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsR0FBRyxvQkFBb0IsQ0FDaEQsQ0FBQyxDQUFDLGNBQWMsRUFDaEIsb0JBQW9CLEVBQ3BCLGFBQWEsRUFDYixpQkFBaUIsQ0FBQyxXQUFXLEVBQzdCLGlCQUFpQixDQUFDLE9BQU8sRUFDekIsaUJBQWlCLENBQUMsbUJBQW1CLEVBQ3JDLGlCQUFpQixDQUFDLFdBQVcsQ0FDaEMsQ0FBQztnQkFDTixDQUFDLENBQUMsQ0FBQztnQkFFSCxPQUFPLElBQUksQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUU1QyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7b0JBQzlCLFVBQVUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUF1QjtvQkFDdEMsR0FBRyxzQkFBc0IsQ0FBQyxDQUFDLENBQUM7aUJBQy9CLENBQUMsQ0FBQyxDQUFDLENBQ1AsQ0FBQztZQUNOLENBQUMsQ0FBQyxDQUNMLENBQUM7UUFFTixDQUFDLENBQUMsQ0FBQyxDQUFDLEVBRUosR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBRXBCLEdBQUcsQ0FBQyxDQUFDLENBQTZCLEVBQUUsRUFBRTtZQUVsQyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxFQUFFO2dCQUVoQixPQUFPLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLFNBQVMsRUFBRSxVQUFVLEVBQUUsRUFBRTtvQkFHakQsU0FBUyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsU0FBUyxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7b0JBQ2xFLFNBQVMsQ0FBQyxTQUFTLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQztnQkFFL0MsQ0FBQyxFQUFFLEtBQUssQ0FBQyxDQUFDO1lBRWQsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLENBQUMsRUFFRixXQUFXLENBQUMsQ0FBQyxDQUFDLENBQ2pCLENBQUM7SUFDTixDQUFDO0lBRUQsSUFBSSxXQUFXO1FBRVgsSUFBSSxJQUFJLENBQUMsWUFBWSxFQUFFO1lBQUUsT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO1NBQUU7UUFFcEQsTUFBTSxnQkFBZ0IsR0FBRyxFQUFFLENBQUM7UUFFNUIsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRywrQkFBK0IsQ0FDaEUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQ2hCLDRCQUE0QixFQUM1QixxQkFBcUIsRUFDckIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUNuQixJQUFJLENBQUMsTUFBTSxDQUFDLG1CQUFtQixFQUMvQixJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FDMUIsQ0FBQztRQUVGLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUdwQyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLENBQUMsRUFFMUQsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsRUFFakQsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUVkLEtBQUssRUFBRSxDQUNWLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxZQUFZLENBQUM7SUFDN0IsQ0FBQztJQUdELHNCQUFzQixDQUFDLElBQXdCO1FBRTNDLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBRXhCLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FDM0MsQ0FBQztJQUNOLENBQUM7SUFNRCxTQUFTO1FBRUwsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDaEMsQ0FBQztJQUVELFFBQVE7UUFFSixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsY0FBYyxDQUFDLE1BQWMsRUFBRSxRQUF3QixLQUFLO1FBRXhELE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FFOUIsU0FBUyxDQUFDLENBQUMsZUFBZSxFQUFFLEVBQUU7WUFFMUIsTUFBTSxLQUFLLEdBQUc7Z0JBQ1YsUUFBUSxFQUFFO29CQUNOLFFBQVEsRUFBRSxFQUFDLE1BQU0sRUFBRSxJQUFJLE1BQU0sQ0FBQyxJQUFJLE1BQU0sSUFBSSxDQUFDLEVBQUM7b0JBQzlDLE1BQU0sRUFBRSxFQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUM7aUJBQ3ZCO2FBQ0osQ0FBQztZQUVGLE1BQU0sV0FBVyxHQUFHLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEVBQUU7Z0JBRXhDLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBRXZDLFNBQVMsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQ3ZCLENBQUMsQ0FBQztZQUNQLENBQUMsQ0FBQyxDQUFDO1lBRUgsT0FBTyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7UUFFdEMsQ0FBQyxDQUFDLEVBRUYsR0FBRyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBR3RDLEdBQUcsQ0FBQyxDQUFDLFVBQThCLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLEtBQUssS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBRXZILFNBQVMsQ0FBcUIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FDcEQsQ0FBQztJQUNOLENBQUM7SUFFRCxXQUFXLENBQUMsTUFBYztRQUV0QixNQUFNLEdBQUcsR0FBaUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUU3RSxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUUzQyxHQUFHLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FFbkMsQ0FBQztRQUVGLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBRWhCLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUVaLElBQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxNQUFNLEVBQUU7Z0JBRXZCLE1BQU0sR0FBRyxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFFdEQsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFFOUIsSUFBSSxRQUF1QixDQUFDO2dCQUU1QixJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsTUFBTSxFQUFFO29CQU12QixRQUFRLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLENBQWEsQ0FBQztvQkFFekQsR0FBRyxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBRXRCLFFBQXFCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQzt3QkFFMUMsUUFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDO3dCQUU5QyxRQUFxQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7d0JBRTFDLElBQUksQ0FBQyxDQUFDLFlBQVksSUFBSSxDQUFDLENBQUMsU0FBUyxJQUFJLENBQUMsQ0FBQyxRQUFROzRCQUFHLFFBQXFCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxZQUFZLEVBQUUsSUFBSSxJQUFJLENBQUMsQ0FBQyxJQUFJLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsYUFBYSxJQUFJLFNBQVMsRUFBRSxFQUFDLElBQUksRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFDLENBQUMsQ0FBQyxDQUFDO29CQUMzTixDQUFDLENBQUMsQ0FBQztpQkFFTjtxQkFBTTtvQkFNSCxRQUFRLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBQztpQkFDaEM7Z0JBRUQsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxJQUFJLENBRTVELFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUM7b0JBQzdCLE1BQU0sRUFBRSxLQUFLO29CQUNiLElBQUksRUFBRSxHQUFHO29CQUNULEtBQUssRUFBRSxJQUFJO29CQUNYLElBQUksRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRTtpQkFDN0IsQ0FBQyxDQUFDLEVBRUgsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUViLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBRTNELFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUMvQyxDQUFDO2dCQUNOLENBQUMsQ0FBQyxDQUVMLENBQUM7YUFFTDtpQkFBTSxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssS0FBSyxFQUFFO2dCQUU3QixJQUFJLFFBQXVCLENBQUM7Z0JBRTVCLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUU7b0JBTXZCLFFBQVEsR0FBRyxjQUFjLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxDQUFDLElBQUksQ0FBYSxDQUFDO29CQUV6RCxHQUFHLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsRUFBRTt3QkFFdEIsUUFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO3dCQUUxQyxRQUFxQixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUM7d0JBRTlDLFFBQXFCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQzt3QkFFMUMsSUFBSSxDQUFDLENBQUMsWUFBWSxJQUFJLENBQUMsQ0FBQyxTQUFTLElBQUksQ0FBQyxDQUFDLFFBQVE7NEJBQUcsUUFBcUIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLFlBQVksRUFBRSxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxhQUFhLElBQUksU0FBUyxFQUFFLEVBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxRQUFRLEVBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzNOLENBQUMsQ0FBQyxDQUFDO2lCQUVOO3FCQUFNO29CQU1ILFFBQVEsR0FBRyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsSUFBSSxDQUFDO2lCQUNoQztnQkFFRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQyxJQUFJLENBRTVFLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUM7b0JBQzdCLE1BQU0sRUFBRSxLQUFLO29CQUNiLElBQUksRUFBRSxHQUFHO29CQUNULEtBQUssRUFBRSxJQUFJO29CQUNYLElBQUksRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRTtpQkFDN0IsQ0FBQyxDQUFDLEVBRUgsVUFBVSxDQUFDLEdBQUcsQ0FBQyxFQUFFO29CQUViLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBRTNELFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUMvQyxDQUFDO2dCQUNOLENBQUMsQ0FBQyxDQUVMLENBQUM7YUFFTDtpQkFBTSxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssUUFBUSxFQUFFO2dCQUVoQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FFckUsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUU3QixVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUU7b0JBRWIsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FFM0QsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQy9DLENBQUM7Z0JBQ04sQ0FBQyxDQUFDLENBRUwsQ0FBQzthQUNMO1lBRUQsT0FBTyxVQUFVLENBQUMsa0RBQWtELElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3pHLENBQUMsQ0FBQyxDQUVMLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxXQUFXLENBQUMsWUFBWSxFQUFFLENBQUMsSUFBSSxDQUV2QyxTQUFTLENBQUMsT0FBTyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FFSCxDQUFDO0lBRWhELENBQUM7SUFNRCxLQUFLO1FBRUQsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUU5QixTQUFTLENBQUMsY0FBYyxDQUFDLEVBQUU7WUFFdkIsTUFBTSxNQUFNLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFFbEMsTUFBTSxlQUFlLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLENBQUMsQ0FBQztnQkFFOUUsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBRzVCLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDLFFBQVEsRUFBRSxFQUFDLElBQUksRUFBRSxDQUFDLEVBQUMsTUFBTSxFQUFFLEVBQUMsR0FBRyxFQUFFLEtBQUssRUFBQyxFQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUUsRUFBQyxHQUFHLEVBQUUsZUFBZSxFQUFDLEVBQUMsQ0FBQyxFQUFDLEVBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQzVILENBQUM7WUFFTixDQUFDLENBQUMsQ0FBQztZQUVILE9BQU8sYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2pDLENBQUMsQ0FBQyxDQUNMLENBQUM7SUFFTixDQUFDO0lBR0QsUUFBUTtRQUVKLE9BQU8sSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FFOUIsU0FBUyxDQUFDLENBQUMsY0FBYyxFQUFFLEVBQUU7WUFFekIsTUFBTSxTQUFTLEdBQUcsY0FBYyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQkFFckMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBRzVCLFNBQVMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFDLFFBQVEsRUFBRSxFQUFDLE1BQU0sRUFBRSxFQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUMsRUFBQyxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUMsSUFBSSxFQUFFLE1BQU0sRUFBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyx1QkFBdUIsRUFBQyxDQUFDLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FDM0ksQ0FBQztZQUNOLENBQUMsQ0FBQyxDQUFDO1lBRUgsT0FBTyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDcEMsQ0FBQyxDQUFDLENBQ0wsQ0FBQztJQUNOLENBQUM7SUFNRCxTQUFTLENBQUMsR0FBcUI7UUFFM0IsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssS0FBSyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssTUFBTSxFQUFFO1lBRXhELE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBQyxNQUFNLEVBQUUsTUFBTSxFQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ2xEO1FBRUQsT0FBTyxVQUFVLENBQUMsNkNBQTZDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUMxRyxDQUFDO0lBRUQsY0FBYyxDQUFDLEdBQXFCO1FBRWhDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLEtBQUssRUFBRTtZQUUvQixPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztTQUM3QjtRQUVELE9BQU8sVUFBVSxDQUFDLDBDQUEwQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDdkcsQ0FBQztDQUNKO0FBR0QsTUFBTSxVQUFVLGNBQWMsQ0FBQyxNQUFjLEVBQUUsSUFBZSxFQUFFLFNBQWtCO0lBRTlFLElBQUksUUFBUSxHQUFHLElBQUksSUFBSSxJQUFJLFFBQVEsRUFBRSxDQUFDO0lBRXRDLEtBQUssSUFBSSxZQUFZLElBQUksTUFBTSxFQUFFO1FBRTdCLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxTQUFTLElBQUksWUFBWSxFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQztRQUUxRSxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsWUFBWSxJQUFJLEVBQUU7WUFFdEMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7U0FFaEU7YUFBTSxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsWUFBWSxLQUFLLEVBQUU7WUFFOUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQVksRUFBRSxLQUFhLEVBQUUsRUFBRTtnQkFFekQsTUFBTSxXQUFXLEdBQUcsR0FBRyxPQUFPLElBQUksS0FBSyxFQUFFLENBQUM7Z0JBRTFDLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO29CQUU3QixjQUFjLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQztpQkFFbEQ7cUJBQU07b0JBRUgsUUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7aUJBQ3BEO1lBRUwsQ0FBQyxDQUFDLENBQUM7U0FFTjthQUFNLElBQUksT0FBTyxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssUUFBUSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLFlBQVksSUFBSSxDQUFDLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxLQUFLLElBQUksSUFBSSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssU0FBUyxFQUFFO1lBRW5LLGNBQWMsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1NBRTNEO2FBQU07WUFFSCxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsWUFBWSxDQUFDLEtBQUssSUFBSSxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDLENBQUM7U0FDeEk7S0FDSjtJQUVELE9BQU8sUUFBUSxDQUFDO0FBZ0NwQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUnhDb2xsZWN0aW9uQ3JlYXRvciwgUnhEYXRhYmFzZSB9IGZyb20gJ3J4ZGInO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBmcm9tLCBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgYXVkaXRUaW1lLCBjYXRjaEVycm9yLCBjb25jYXRNYXAsIGZpbHRlciwgZmluYWxpemUsIGZpcnN0LCBtYXAsIHNoYXJlUmVwbGF5LCBzd2l0Y2hNYXAsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IGdldENvbGxlY3Rpb25DcmVhdG9yLCBQd2FDb2xsZWN0aW9uLCBwd2FDb2xsZWN0aW9uTWV0aG9kcyB9IGZyb20gJy4uL2RlZmluaXRpb25zL2NvbGxlY3Rpb24nO1xuaW1wb3J0IHsgcHdhRG9jTWV0aG9kcywgUHdhRG9jdW1lbnQgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5pbXBvcnQgeyBnZXRTeW5jaHJvbmlzZUNvbGxlY3Rpb25DcmVhdG9yLCBTeW5jaHJvbmlzZUNvbGxlY3Rpb24sIHN5bmNocm9uaXNlQ29sbGVjdGlvbk1ldGhvZHMgfSBmcm9tICcuLi9kZWZpbml0aW9ucy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uJztcbmltcG9ydCB7IHN5bmNocm9uaXNlRG9jTWV0aG9kcywgU3luY2hyb25pc2VEb2NUeXBlLCBTeW5jaHJvbmlzZURvY3VtZW50IH0gZnJvbSAnLi4vZGVmaW5pdGlvbnMvc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuaW1wb3J0IHsgZW50ZXJab25lIH0gZnJvbSAnLi9vcGVyYXRvcnMucmVzb3VyY2UnO1xuaW1wb3J0IHsgUHdhRGF0YWJhc2VTZXJ2aWNlIH0gZnJvbSAnLi9kYXRhYmFzZS5yZXNvdXJjZSc7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi9taXNjLnJlc291cmNlJztcblxuaW50ZXJmYWNlIEV4dHJhcyB7XG4gICAgY29sbGVjdGlvbjogUHdhQ29sbGVjdGlvbjxhbnk+O1xufVxuXG50eXBlIFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhcyA9IFN5bmNocm9uaXNlRG9jVHlwZSAmIEV4dHJhcztcblxuXG5leHBvcnQgaW50ZXJmYWNlIFN5bmNDb2xsZWN0aW9uU2VydmljZUNyZWF0b3Ige1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBkYiQ6IE9ic2VydmFibGU8UnhEYXRhYmFzZTxhbnk+PjtcbiAgICBhdHRhY2htZW50cz86IHt9O1xuICAgIG9wdGlvbnM/OiB7fTtcbiAgICBtaWdyYXRpb25TdHJhdGVnaWVzPzoge307XG4gICAgYXV0b01pZ3JhdGU/OiBib29sZWFuO1xuICAgIG5nWm9uZTogTmdab25lO1xuICAgIGh0dHBDbGllbnQ6IEh0dHBDbGllbnQ7XG59XG5cblxuZXhwb3J0IGNsYXNzIFN5bmNDb2xsZWN0aW9uU2VydmljZSB7XG5cbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IHZhcmlhYmxlLW5hbWVcbiAgICBwcml2YXRlIF9jb2xsZWN0aW9uJDogT2JzZXJ2YWJsZTxTeW5jaHJvbmlzZUNvbGxlY3Rpb24+O1xuXG4gICAgcHJpdmF0ZSByZXRyeUNoYW5nZTogQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+O1xuXG4gICAgcHJpdmF0ZSBjb25maWc6IFN5bmNDb2xsZWN0aW9uU2VydmljZUNyZWF0b3IgPSB7XG4gICAgICAgIG5hbWU6ICdub19uYW1lX3N5bmNfY29sbGVjdGlvbicsXG4gICAgICAgIGRiJDogb2YoKSxcbiAgICAgICAgYXR0YWNobWVudHM6IHt9LFxuICAgICAgICBvcHRpb25zOiB7fSxcbiAgICAgICAgbWlncmF0aW9uU3RyYXRlZ2llczoge30sXG4gICAgICAgIGF1dG9NaWdyYXRlOiB0cnVlLFxuICAgICAgICBuZ1pvbmU6IG51bGwsXG4gICAgICAgIGh0dHBDbGllbnQ6IG51bGwsXG4gICAgfTtcblxuICAgIHN0b3JlZENvbGxlY3Rpb25zOiBPYnNlcnZhYmxlPFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhc1tdPjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX2NvbmZpZzogUGFydGlhbDxTeW5jQ29sbGVjdGlvblNlcnZpY2VDcmVhdG9yPikge1xuXG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgLi4udGhpcy5jb25maWcsXG4gICAgICAgICAgICAuLi50aGlzLl9jb25maWdcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnJldHJ5Q2hhbmdlID0gbmV3IEJlaGF2aW9yU3ViamVjdCh0cnVlKTtcblxuICAgICAgICB0aGlzLnN0b3JlZENvbGxlY3Rpb25zID0gdGhpcy5jb2xsZWN0aW9uJC5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoY29sID0+IGNvbC5maW5kKCkuJCksXG5cbiAgICAgICAgICAgIG1hcChkb2NzID0+IGRvY3MubWFwKGQgPT4gZC50b0pTT04oKSkpLFxuXG4gICAgICAgICAgICBtYXAoZG9jVHlwZXMgPT4ge1xuXG4gICAgICAgICAgICAgICAgLy8gcmVkdWNlIGNvbGxlY3Rpb25zIHRvIGRhdGFiYXNlIHdpc2VcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhYmFzZXNTY2hlbWE6IHtba2V5OiBzdHJpbmddOiBTeW5jaHJvbmlzZURvY1R5cGVbXX0gPSB7fTtcblxuICAgICAgICAgICAgICAgIGRvY1R5cGVzLmZvckVhY2goZCA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gZC5kYXRhYmFzZU9wdGlvbnM7XG5cbiAgICAgICAgICAgICAgICAgICAga2V5IGluIGRhdGFiYXNlc1NjaGVtYSA/IGRhdGFiYXNlc1NjaGVtYVtrZXldLnB1c2goZCkgOiBkYXRhYmFzZXNTY2hlbWFba2V5XSA9IFtkXTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIG1hcCBSeERhdGFiYXNlIGFuZCBjb2xsZWN0aW9uTmFtZXNcblxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFiYXNlc01hcDoge2RhdGFiYXNlOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U+LCBjb2xsZWN0aW9uSW5mbzogU3luY2hyb25pc2VEb2NUeXBlW119W10gPSBbXTtcblxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRhdGFiYXNlc1NjaGVtYSkuZm9yRWFjaChzY2hlbWEgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHB3YURhdGFiYXNlU2VydmljZSA9IG5ldyBQd2FEYXRhYmFzZVNlcnZpY2U8YW55Pih7ZGJDcmVhdG9yOiB7Li4uSlNPTi5wYXJzZShzY2hlbWEpLCBpZ25vcmVEdXBsaWNhdGU6IHRydWV9fSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YWJhc2VzTWFwLnB1c2goe2RhdGFiYXNlOiBwd2FEYXRhYmFzZVNlcnZpY2UuZGIkLCBjb2xsZWN0aW9uSW5mbzogZGF0YWJhc2VzU2NoZW1hW3NjaGVtYV19KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhYmFzZXNNYXA7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGRhdGFiYXNlc01hcCA9PiBjb21iaW5lTGF0ZXN0KGRhdGFiYXNlc01hcC5tYXAobSA9PiB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbS5kYXRhYmFzZS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaE1hcChkYiA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbGxlY3Rpb25JbmZvS2V5VmFsdWU6IHtba2V5OiBzdHJpbmddOiBTeW5jaHJvbmlzZURvY1R5cGV9ID0gbS5jb2xsZWN0aW9uSW5mby5yZWR1Y2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGN1cjogU3luY2hyb25pc2VEb2NUeXBlLCBhY2M6IHt9KSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjW2N1ci5jb2xsZWN0aW9uTmFtZV0gPSBjdXI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHt9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbnMgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbS5jb2xsZWN0aW9uSW5mby5mb3JFYWNoKGkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sbGVjdGlvbk9wdGlvbnMgPSBKU09OLnBhcnNlKGkuY29sbGVjdGlvbk9wdGlvbnMpIGFzIFJ4Q29sbGVjdGlvbkNyZWF0b3I7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uc1tpLmNvbGxlY3Rpb25OYW1lXSA9IGdldENvbGxlY3Rpb25DcmVhdG9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmNvbGxlY3Rpb25OYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwd2FDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHdhRG9jTWV0aG9kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbk9wdGlvbnMuYXR0YWNobWVudHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLm1pZ3JhdGlvblN0cmF0ZWdpZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25PcHRpb25zLmF1dG9NaWdyYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkYi5hZGRDb2xsZWN0aW9ucyhjb2xsZWN0aW9ucykpLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXAodiA9PiBPYmplY3Qua2V5cyh2KS5tYXAoayA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uOiB2W2tdIGFzIFB3YUNvbGxlY3Rpb248YW55PixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29sbGVjdGlvbkluZm9LZXlWYWx1ZVtrXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH0pKSksXG5cbiAgICAgICAgICAgIG1hcCh2ID0+IGZsYXR0ZW4odikpLFxuXG4gICAgICAgICAgICB0YXAoKHY6IFN5bmNocm9uaXNlRG9jVHlwZUV4dHJhc1tdKSA9PiAge1xuXG4gICAgICAgICAgICAgICAgdi5mb3JFYWNoKGRvY1R5cGUgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgIGRvY1R5cGUuY29sbGVjdGlvbi5wcmVTYXZlKChwbGFpbkRhdGEsIHJ4RG9jdW1lbnQpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW9kaWZ5IGFueUZpZWxkIGJlZm9yZSBzYXZpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWluRGF0YS5jcmVhdGVkQXQgPSBwbGFpbkRhdGEuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhaW5EYXRhLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHNoYXJlUmVwbGF5KDEpLFxuICAgICAgICApO1xuICAgIH1cblxuICAgIGdldCBjb2xsZWN0aW9uJCgpOiBPYnNlcnZhYmxlPFN5bmNocm9uaXNlQ29sbGVjdGlvbj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9jb2xsZWN0aW9uJCkgeyByZXR1cm4gdGhpcy5fY29sbGVjdGlvbiQ7IH1cblxuICAgICAgICBjb25zdCBjb2xsZWN0aW9uU2NoZW1hID0ge307XG5cbiAgICAgICAgY29sbGVjdGlvblNjaGVtYVt0aGlzLmNvbmZpZy5uYW1lXSA9IGdldFN5bmNocm9uaXNlQ29sbGVjdGlvbkNyZWF0b3IoXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5uYW1lLFxuICAgICAgICAgICAgc3luY2hyb25pc2VDb2xsZWN0aW9uTWV0aG9kcyxcbiAgICAgICAgICAgIHN5bmNocm9uaXNlRG9jTWV0aG9kcyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmF0dGFjaG1lbnRzLFxuICAgICAgICAgICAgdGhpcy5jb25maWcub3B0aW9ucyxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm1pZ3JhdGlvblN0cmF0ZWdpZXMsXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRvTWlncmF0ZVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuX2NvbGxlY3Rpb24kID0gdGhpcy5jb25maWcuZGIkLnBpcGUoXG5cbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICBzd2l0Y2hNYXAoZGIgPT4gZnJvbShkYi5hZGRDb2xsZWN0aW9ucyhjb2xsZWN0aW9uU2NoZW1hKSkpLFxuXG4gICAgICAgICAgICBtYXAoY29sbGVjdGlvbnMgPT4gY29sbGVjdGlvbnNbdGhpcy5jb25maWcubmFtZV0pLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKVxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xsZWN0aW9uJDtcbiAgICB9XG5cblxuICAgIGFkZFN5bmNocm9uaXNlRG9jdW1lbnQoZGF0YTogU3luY2hyb25pc2VEb2NUeXBlKTogT2JzZXJ2YWJsZTxTeW5jaHJvbmlzZURvY3VtZW50PiB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbiQucGlwZShcblxuICAgICAgICAgICAgc3dpdGNoTWFwKGNvbCA9PiBjb2wuYXRvbWljVXBzZXJ0KGRhdGEpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gU3luY2hyb25pc2F0aW9uIE1hbmFnZW1lbnRcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgIHN0YXJ0U3luYygpIHtcblxuICAgICAgICB0aGlzLnJldHJ5Q2hhbmdlLm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgc3RvcFN5bmMoKSB7XG5cbiAgICAgICAgdGhpcy5yZXRyeUNoYW5nZS5uZXh0KGZhbHNlKTtcbiAgICB9XG5cbiAgICB1bnN5bmNocm9uaXNlZCh0ZW5hbnQ6IHN0cmluZywgb3JkZXI6ICdkZXNjJyB8ICdhc2MnID0gJ2FzYycpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT5bXT4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZENvbGxlY3Rpb25zLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoY29sbGVjdGlvbnNJbmZvKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoVXJsOiB7JHJlZ2V4OiBuZXcgUmVnRXhwKGBeJHt0ZW5hbnR9LipgKX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IHskbmU6ICdHRVQnfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRlZERvY3MkID0gY29sbGVjdGlvbnNJbmZvLm1hcChrID0+IHtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShrLmNvbGxlY3Rpb24uZmluZChxdWVyeSkuJC5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpdFRpbWUoMTAwMCAvIDYwKVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb21iaW5lTGF0ZXN0KHNvcnRlZERvY3MkKTtcblxuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIG1hcChzb3J0ZWREb2NzID0+IGZsYXR0ZW4oc29ydGVkRG9jcykpLFxuXG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6IG1heC1saW5lLWxlbmd0aFxuICAgICAgICAgICAgbWFwKChzb3J0ZWREb2NzOiBQd2FEb2N1bWVudDxhbnk+W10pID0+IHNvcnRlZERvY3Muc29ydCgoYSwgYikgPT4gb3JkZXIgPT09ICdhc2MnID8gYS50aW1lIC0gYi50aW1lIDogYi50aW1lIC0gYS50aW1lKSksXG5cbiAgICAgICAgICAgIGVudGVyWm9uZTxQd2FEb2N1bWVudDxhbnk+W10+KHRoaXMuY29uZmlnLm5nWm9uZSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc3luY2hyb25pc2UodGVuYW50OiBzdHJpbmcpOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT4gfCBib29sZWFuPiB7XG5cbiAgICAgICAgY29uc3QgcG9wOiBPYnNlcnZhYmxlPFB3YURvY3VtZW50PGFueT4+ID0gdGhpcy51bnN5bmNocm9uaXNlZCh0ZW5hbnQsICdhc2MnKS5waXBlKFxuXG4gICAgICAgICAgICBmaWx0ZXIoc29ydGVkRG9jcyA9PiBzb3J0ZWREb2NzLmxlbmd0aCA+IDApLFxuXG4gICAgICAgICAgICBtYXAoc29ydGVkRG9jcyA9PiBzb3J0ZWREb2NzWzBdKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGhpdCA9IHBvcC5waXBlKFxuXG4gICAgICAgICAgICBjb25jYXRNYXAoZG9jID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChkb2MubWV0aG9kID09PSAnUE9TVCcpIHtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSBkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0uc3BsaXQoJy8nKTtcblxuICAgICAgICAgICAgICAgICAgICB1cmwuc3BsaWNlKHVybC5sZW5ndGggLSAxLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybURhdGE6IEZvcm1EYXRhIHwge307XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvYy5maWxlRmllbGRzLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGFydC9mb3JtXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBjcmVhdGVGb3JtRGF0YShkb2MudG9KU09OKCkuZGF0YSkgYXMgRm9ybURhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYy5maWxlRmllbGRzLmZvckVhY2goayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVGaWVsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVOYW1lRmllbGQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZvcm1EYXRhIGFzIEZvcm1EYXRhKS5kZWxldGUoay5maWxlVHlwZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoay5maWxlS2V5RmllbGQgJiYgay5maWxlRmllbGQgJiYgay5maWxlVHlwZSkgKGZvcm1EYXRhIGFzIEZvcm1EYXRhKS5hcHBlbmQoay5maWxlS2V5RmllbGQsIG5ldyBGaWxlKFtuZXcgVWludDhBcnJheShKU09OLnBhcnNlKGRvYy5kYXRhW2suZmlsZUZpZWxkXSkpLmJ1ZmZlcl0sIGsuZmlsZU5hbWVGaWVsZCB8fCAnVW5rbm93bicsIHt0eXBlOiBrLmZpbGVUeXBlfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGxpY2F0aW9uL2pzb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gZG9jLnRvSlNPTigpLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb25maWcuaHR0cENsaWVudC5wb3N0KHVybC5qb2luKCcvJyksIGZvcm1EYXRhKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAocmVzID0+IGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHtlcnJvcjogSlNPTi5zdHJpbmdpZnkoZXJyKX0pKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHRoaXMucmV0cnlDaGFuZ2UubmV4dChmYWxzZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2MubWV0aG9kID09PSAnUFVUJykge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3JtRGF0YTogRm9ybURhdGEgfCB7fTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jLmZpbGVGaWVsZHMubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTXVsdGlwYXJ0L2Zvcm1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IGNyZWF0ZUZvcm1EYXRhKGRvYy50b0pTT04oKS5kYXRhKSBhcyBGb3JtRGF0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmZpbGVGaWVsZHMuZm9yRWFjaChrID0+IHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmb3JtRGF0YSBhcyBGb3JtRGF0YSkuZGVsZXRlKGsuZmlsZUZpZWxkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChmb3JtRGF0YSBhcyBGb3JtRGF0YSkuZGVsZXRlKGsuZmlsZU5hbWVGaWVsZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmRlbGV0ZShrLmZpbGVUeXBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrLmZpbGVLZXlGaWVsZCAmJiBrLmZpbGVGaWVsZCAmJiBrLmZpbGVUeXBlKSAoZm9ybURhdGEgYXMgRm9ybURhdGEpLmFwcGVuZChrLmZpbGVLZXlGaWVsZCwgbmV3IEZpbGUoW25ldyBVaW50OEFycmF5KEpTT04ucGFyc2UoZG9jLmRhdGFbay5maWxlRmllbGRdKSkuYnVmZmVyXSwgay5maWxlTmFtZUZpZWxkIHx8ICdVbmtub3duJywge3R5cGU6IGsuZmlsZVR5cGV9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXBwbGljYXRpb24vanNvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBkb2MudG9KU09OKCkuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LnB1dChkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0sIGZvcm1EYXRhKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAocmVzID0+IGRvYy5hdG9taWNQYXRjaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiByZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZTogbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHtlcnJvcjogSlNPTi5zdHJpbmdpZnkoZXJyKX0pKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsaXplKCgpID0+IHRoaXMucmV0cnlDaGFuZ2UubmV4dChmYWxzZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2MubWV0aG9kID09PSAnREVMRVRFJykge1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5odHRwQ2xpZW50LmRlbGV0ZShkb2MudGVuYW50VXJsLnNwbGl0KCdfX19fJylbMV0pLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiBkb2MucmVtb3ZlKCkpLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbShkb2MuYXRvbWljUGF0Y2goe2Vycm9yOiBKU09OLnN0cmluZ2lmeShlcnIpfSkpLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxpemUoKCkgPT4gdGhpcy5yZXRyeUNoYW5nZS5uZXh0KGZhbHNlKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYERvY3VtZW50IGRvZXNuXFwndCBoYXZlIHZhbGlkIG1ldGhvZC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSl9YCk7XG4gICAgICAgICAgICB9KSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnJldHJ5Q2hhbmdlLmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCh0cmlnZ2VyID0+IHRyaWdnZXIgPyBoaXQgOiBvZigpKVxuXG4gICAgICAgICkgYXMgT2JzZXJ2YWJsZTxib29sZWFuIHwgUHdhRG9jdW1lbnQ8YW55Pj47XG5cbiAgICB9XG5cbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBFdmljdCBNYW5hZ2VtZW50XG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbiAgICBldmljdCgpOiBPYnNlcnZhYmxlPGFueT4ge1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZENvbGxlY3Rpb25zLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcChjb2xsZWN0aW9uSW5mbyA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBldmljdHMgPSBjb2xsZWN0aW9uSW5mby5tYXAoayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVBbGxvd2VkQWdlID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSAoay5jb2xsZWN0aW9uRXZpY3RUaW1lICogMTAwMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsuY29sbGVjdGlvbi5pbnNlcnQkLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gay5jb2xsZWN0aW9uLmZpbmQoe3NlbGVjdG9yOiB7JGFuZDogW3ttZXRob2Q6IHskZXE6ICdHRVQnfX0sIHt0aW1lOiB7JGx0OiBjYWNoZUFsbG93ZWRBZ2V9fV19fSkucmVtb3ZlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBjb21iaW5lTGF0ZXN0KGV2aWN0cyk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcblxuICAgIH1cblxuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgc2tpcFRyaW0oKTogT2JzZXJ2YWJsZTxhbnk+IHtcblxuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZWRDb2xsZWN0aW9ucy5waXBlKFxuXG4gICAgICAgICAgICBzd2l0Y2hNYXAoKGNvbGxlY3Rpb25JbmZvKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBza2lwVHJpbXMgPSBjb2xsZWN0aW9uSW5mby5tYXAoayA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGsuY29sbGVjdGlvbi5pbnNlcnQkLnBpcGUoXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbWF4LWxpbmUtbGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoKCkgPT4gay5jb2xsZWN0aW9uLmZpbmQoe3NlbGVjdG9yOiB7bWV0aG9kOiB7JGVxOiAnR0VUJ319LCBzb3J0OiBbe3RpbWU6ICdkZXNjJ31dLCBza2lwOiBrLmNvbGxlY3Rpb25Ta2lwRG9jdW1lbnRzfSkucmVtb3ZlKCkpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY29tYmluZUxhdGVzdChza2lwVHJpbXMpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4gICAgLy8gQ29uZmxpY3QgTWFuYWdlbWVudFxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgY3JlYXRlTmV3KGRvYzogUHdhRG9jdW1lbnQ8YW55Pik6IE9ic2VydmFibGU8UHdhRG9jdW1lbnQ8YW55Pj4ge1xuXG4gICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJyAmJiBkb2MubWV0aG9kICE9PSAnUE9TVCcpIHtcblxuICAgICAgICAgICAgcmV0dXJuIGZyb20oZG9jLmF0b21pY1BhdGNoKHttZXRob2Q6ICdQT1NUJ30pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGBDYW5ub3QgZHVwbGljYXRlIHRoaXMgZG9jdW1lbnQuIERvY3VtZW50OiAke0pTT04uc3RyaW5naWZ5KGRvYz8udG9KU09OKCkgfHwge30pfWApO1xuICAgIH1cblxuICAgIGRlbGV0ZUNvbmZsaWN0KGRvYzogUHdhRG9jdW1lbnQ8YW55Pik6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuXG4gICAgICAgIGlmICghIWRvYyAmJiBkb2MubWV0aG9kICE9PSAnR0VUJykge1xuXG4gICAgICAgICAgICByZXR1cm4gZnJvbShkb2MucmVtb3ZlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoYENhbm5vdCBkZWxldGUgdGhpcyBkb2N1bWVudC4gRG9jdW1lbnQ6ICR7SlNPTi5zdHJpbmdpZnkoZG9jPy50b0pTT04oKSB8fCB7fSl9YCk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb3JtRGF0YShvYmplY3Q6IE9iamVjdCwgZm9ybT86IEZvcm1EYXRhLCBuYW1lc3BhY2U/OiBzdHJpbmcpOiBGb3JtRGF0YSB7XG5cbiAgICBsZXQgZm9ybURhdGEgPSBmb3JtIHx8IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgZm9yIChsZXQgcHJvcGVydHlOYW1lIGluIG9iamVjdCkge1xuXG4gICAgICAgIGNvbnN0IGZvcm1LZXkgPSBuYW1lc3BhY2UgPyBgJHtuYW1lc3BhY2V9LiR7cHJvcGVydHlOYW1lfWAgOiBwcm9wZXJ0eU5hbWU7XG5cbiAgICAgICAgaWYgKG9iamVjdFtwcm9wZXJ0eU5hbWVdIGluc3RhbmNlb2YgRGF0ZSkge1xuXG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZm9ybUtleSwgb2JqZWN0W3Byb3BlcnR5TmFtZV0udG9JU09TdHJpbmcoKSk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3RbcHJvcGVydHlOYW1lXSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgICAgIG9iamVjdFtwcm9wZXJ0eU5hbWVdLmZvckVhY2goKGVsZW1lbnQ6IGFueSwgaW5kZXg6IG51bWJlcikgPT4ge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcEZvcm1LZXkgPSBgJHtmb3JtS2V5fS0ke2luZGV4fWA7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRm9ybURhdGEoZWxlbWVudCwgZm9ybURhdGEsIHRlbXBGb3JtS2V5KTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKHRlbXBGb3JtS2V5LCBlbGVtZW50LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0W3Byb3BlcnR5TmFtZV0gPT09ICdvYmplY3QnICYmICEob2JqZWN0W3Byb3BlcnR5TmFtZV0gaW5zdGFuY2VvZiBGaWxlKSAmJiBvYmplY3RbcHJvcGVydHlOYW1lXSAhPT0gbnVsbCAmJiBvYmplY3RbcHJvcGVydHlOYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIGNyZWF0ZUZvcm1EYXRhKG9iamVjdFtwcm9wZXJ0eU5hbWVdLCBmb3JtRGF0YSwgZm9ybUtleSk7XG5cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKGZvcm1LZXksIG9iamVjdFtwcm9wZXJ0eU5hbWVdID09PSBudWxsIHx8IG9iamVjdFtwcm9wZXJ0eU5hbWVdID09PSB1bmRlZmluZWQgPyAnJyA6IG9iamVjdFtwcm9wZXJ0eU5hbWVdLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xuXG4gICAgLy8gY29uc3QgZm9ybURhdGEgPSBmb3JtIHx8IG5ldyBGb3JtRGF0YSgpO1xuXG4gICAgLy8gZm9yIChjb25zdCBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcblxuICAgIC8vICAgICBsZXQgZm9ybUtleSA9ICcnO1xuXG4gICAgLy8gICAgIGlmIChpc0FycmF5KSB7XG5cbiAgICAvLyAgICAgICAgIGZvcm1LZXkgPSBuYW1lc3BhY2UgPyBgJHtuYW1lc3BhY2V9WyR7cHJvcGVydHl9XWAgOiBwcm9wZXJ0eTtcblxuICAgIC8vICAgICB9IGVsc2Uge1xuXG4gICAgLy8gICAgICAgICBmb3JtS2V5ID0gbmFtZXNwYWNlID8gYCR7bmFtZXNwYWNlfS4ke3Byb3BlcnR5fWAgOiBwcm9wZXJ0eTtcbiAgICAvLyAgICAgfVxuXG4gICAgLy8gICAgIGlmIChvYmplY3RbcHJvcGVydHldIGluc3RhbmNlb2YgRGF0ZSkge1xuXG4gICAgLy8gICAgICAgICBmb3JtRGF0YS5hcHBlbmQoZm9ybUtleSwgb2JqZWN0W3Byb3BlcnR5XS50b0lTT1N0cmluZygpKTtcblxuICAgIC8vICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3RbcHJvcGVydHldID09PSAnb2JqZWN0JyAmJiAhKG9iamVjdFtwcm9wZXJ0eV0gaW5zdGFuY2VvZiBGaWxlKSAmJiBvYmplY3RbcHJvcGVydHldICE9PSBudWxsICYmIG9iamVjdFtwcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuXG4gICAgLy8gICAgICAgICBjcmVhdGVGb3JtRGF0YShvYmplY3RbcHJvcGVydHldLCBmb3JtRGF0YSwgZm9ybUtleSwgdHlwZW9mIG9iamVjdFtwcm9wZXJ0eV0gPT09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkob2JqZWN0W3Byb3BlcnR5XSkpO1xuXG4gICAgLy8gICAgIH0gZWxzZSB7XG5cbiAgICAvLyAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChmb3JtS2V5LCBvYmplY3RbcHJvcGVydHldID09PSBudWxsIHx8IG9iamVjdFtwcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCA/ICcnIDogb2JqZWN0W3Byb3BlcnR5XSk7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cbiAgICAvLyByZXR1cm4gZm9ybURhdGE7XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"synchronise-collection.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/synchronise-collection.resource.ts"],"names":[],"mappings":[[[0,0,3,0],[7,0,3,7],[9,0,3,9],[24,0,3,24],[26,0,3,26],[39,0,3,39],[41,0,3,41],[45,0,3,45],[47,0,3,59],[49,0,3,61],[51,0,3,63],[61,0,3,73],[63,0,3,75],[69,0,3,81],[75,0,3,87],[76,0,3,88]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[18,0,4,18],[20,0,4,20],[30,0,4,30],[32,0,4,32],[41,0,4,41],[43,0,4,43],[49,0,4,49],[51,0,4,51],[59,0,4,59],[61,0,4,61],[66,0,4,66],[68,0,4,68],[71,0,4,71],[73,0,4,73],[84,0,4,84],[86,0,4,86],[95,0,4,95],[97,0,4,97],[100,0,4,100],[102,0,4,102],[108,0,4,108],[124,0,4,124],[125,0,4,125]],[[0,0,5,0],[7,0,5,7],[9,0,5,9],[29,0,5,29],[31,0,5,46],[51,0,5,66],[53,0,5,68],[59,0,5,74],[86,0,5,101],[87,0,5,102]],[[0,0,6,0],[7,0,6,7],[9,0,6,9],[22,0,6,22],[24,0,6,37],[30,0,6,43],[55,0,6,68],[56,0,6,69]],[[0,0,7,0],[7,0,7,7],[9,0,7,9],[40,0,7,40],[42,0,7,65],[70,0,7,93],[72,0,7,95],[78,0,7,101],[117,0,7,140],[118,0,7,141]],[[0,0,8,0],[7,0,8,7],[9,0,8,9],[30,0,8,30],[32,0,8,73],[38,0,8,79],[75,0,8,116],[76,0,8,117]],[[0,0,9,0],[7,0,9,7],[9,0,9,9],[18,0,9,18],[20,0,9,20],[26,0,9,26],[48,0,9,48],[49,0,9,49]],[[0,0,10,0],[7,0,10,7],[9,0,10,9],[27,0,10,27],[29,0,10,29],[35,0,10,35],[56,0,10,56],[57,0,10,57]],[[0,0,11,0],[7,0,11,7],[9,0,11,9],[16,0,11,16],[18,0,11,18],[24,0,11,24],[41,0,11,41],[42,0,11,42]],[[0,0,32,0],[6,0,32,6],[13,0,32,13],[34,0,32,34]],[[4,0,52,4],[16,0,52,24],[23,0,52,70]],[[8,0,52,24],[20,0,52,31],[23,0,52,24],[30,0,52,31],[31,0,52,70]],[[8,0,39,12],[19,0,39,18],[22,0,39,51]],[[12,0,40,8],[16,0,40,12],[18,0,40,14],[43,0,40,39]],[[12,0,41,8],[15,0,41,11],[17,0,41,13],[19,0,41,15],[21,0,41,17]],[[12,0,42,8],[23,0,42,19],[25,0,42,21],[27,0,42,23]],[[12,0,43,8],[19,0,43,15],[21,0,43,17],[23,0,43,19]],[[12,0,44,8],[31,0,44,27],[33,0,44,29],[35,0,44,31]],[[12,0,45,8],[23,0,45,19],[25,0,45,21],[29,0,45,25]],[[12,0,46,8],[18,0,46,14],[20,0,46,16],[24,0,46,20]],[[12,0,47,8],[22,0,47,18],[24,0,47,20],[28,0,47,24]],[[9,0,48,5],[10,0,48,6]],[[8,0,54,8],[12,0,54,12],[13,0,54,13],[19,0,54,19],[22,0,54,22]],[[12,0,55,12],[15,0,55,15],[19,0,55,19],[20,0,55,20],[26,0,55,26]],[[12,0,56,12],[15,0,56,15],[19,0,56,19],[20,0,56,20],[27,0,56,27]],[[9,0,57,9],[10,0,57,10]],[[8,0,59,8],[12,0,59,12],[13,0,59,13],[24,0,59,24],[27,0,59,27],[31,0,59,31],[46,0,59,46],[47,0,59,47],[51,0,59,51],[52,0,59,52],[53,0,59,53]],[[8,0,61,8],[12,0,61,12],[13,0,61,13],[30,0,61,30],[33,0,61,33],[37,0,61,37],[38,0,61,38],[49,0,61,49],[50,0,61,50],[54,0,61,54],[55,0,63,12],[64,0,63,21],[65,0,63,22],[68,0,63,25],[69,0,63,26],[71,0,63,28],[72,0,63,29],[75,0,63,32],[76,0,63,33],[80,0,63,37],[82,0,63,39],[83,0,63,40],[84,0,63,41],[85,0,63,42],[87,0,65,12],[90,0,65,15],[91,0,65,16],[95,0,65,20],[96,0,65,21],[98,0,65,23],[99,0,65,24],[103,0,65,28],[104,0,65,29],[107,0,65,32],[108,0,65,33],[109,0,65,34],[110,0,65,35],[112,0,65,37],[113,0,65,38],[114,0,65,39],[115,0,65,40],[121,0,65,46],[123,0,65,48],[124,0,65,49],[125,0,65,50],[127,0,67,12],[130,0,67,15],[131,0,67,16],[139,0,67,24],[140,0,67,25],[142,0,67,27]],[[12,0,70,16],[18,0,70,22],[33,0,70,37],[36,0,70,79],[38,0,70,81],[39,0,70,82]],[[12,0,72,16],[20,0,72,24],[21,0,72,25],[28,0,72,32],[29,0,72,33],[30,0,72,34],[31,0,72,35],[33,0,72,37]],[[16,0,74,20],[22,0,74,26],[25,0,74,29],[28,0,74,32],[29,0,74,33],[30,0,74,34],[45,0,74,49],[46,0,74,50]],[[16,0,76,20],[19,0,76,23],[23,0,76,27],[38,0,76,42],[39,0,76,43],[40,0,76,44],[41,0,76,45],[56,0,76,60],[57,0,76,61],[60,0,76,64],[61,0,76,65],[62,0,76,66],[66,0,76,70],[67,0,76,71],[68,0,76,72],[69,0,76,73],[70,0,76,74],[71,0,76,75],[72,0,76,76],[87,0,76,91],[88,0,76,92],[91,0,76,95],[92,0,76,96],[95,0,76,99],[96,0,76,100],[97,0,76,101],[98,0,76,102],[99,0,76,103]],[[12,0,77,16],[13,0,77,17],[14,0,77,18],[15,0,77,19]],[[12,0,81,16],[18,0,81,22],[30,0,81,34],[33,0,81,113],[35,0,81,115],[36,0,81,116]],[[12,0,83,16],[18,0,83,22],[19,0,83,23],[23,0,83,27],[24,0,83,28],[39,0,83,43],[40,0,83,44],[41,0,83,45],[48,0,83,52],[49,0,83,53],[55,0,83,59],[56,0,83,60],[58,0,83,62]],[[16,0,85,20],[22,0,85,26],[40,0,85,44],[43,0,85,47],[47,0,85,51],[65,0,85,69],[66,0,85,75],[68,0,85,76],[77,0,85,85],[79,0,85,87],[81,0,85,88],[84,0,85,91],[88,0,85,95],[89,0,85,96],[94,0,85,101],[95,0,85,102],[101,0,85,108],[102,0,85,109],[104,0,85,111],[119,0,85,126],[121,0,85,128],[125,0,85,132],[127,0,85,133],[129,0,85,134],[130,0,85,135],[131,0,85,136]],[[16,0,87,20],[28,0,87,32],[29,0,87,33],[33,0,87,37],[34,0,87,38],[36,0,87,39],[44,0,87,47],[46,0,87,49],[64,0,87,67],[65,0,87,68],[68,0,87,71],[70,0,87,73],[84,0,87,87],[86,0,87,89],[101,0,87,104],[102,0,87,105],[108,0,87,111],[109,0,87,112],[111,0,87,113],[112,0,87,114],[113,0,87,115]],[[12,0,88,16],[13,0,88,17],[14,0,88,18],[15,0,88,19]],[[12,0,90,16],[19,0,90,23],[31,0,90,35],[32,0,90,36]],[[8,0,91,12],[9,0,91,13],[10,0,91,14],[12,0,93,12],[21,0,93,21],[22,0,93,22],[34,0,93,34],[35,0,93,35],[37,0,93,37],[38,0,93,38],[51,0,93,51],[52,0,93,52],[64,0,93,64],[65,0,93,65],[68,0,93,68],[69,0,93,69],[70,0,93,70],[71,0,93,71],[73,0,93,73]],[[12,0,95,16],[19,0,95,23],[20,0,95,24],[21,0,95,25],[29,0,95,33],[30,0,95,34],[34,0,95,38],[35,0,97,20],[44,0,97,29],[45,0,97,30],[47,0,97,32],[48,0,97,33],[50,0,97,35]],[[16,0,99,24],[22,0,99,30],[44,0,99,52],[47,0,99,92],[48,0,99,93],[49,0,99,94],[63,0,99,108],[64,0,99,109],[70,0,99,115],[71,0,100,28],[72,0,100,29],[75,0,100,52],[77,0,100,54],[80,0,100,61],[82,0,100,63],[84,0,100,65]],[[20,0,102,32],[23,0,102,35],[24,0,102,36],[27,0,102,39],[28,0,102,40],[42,0,102,54],[43,0,102,55],[46,0,102,58],[49,0,102,61],[50,0,102,62]],[[20,0,104,32],[27,0,104,39],[30,0,104,42],[31,0,104,43]],[[16,0,106,28],[17,0,106,29],[19,0,106,31],[21,0,106,33],[22,0,106,34],[23,0,106,35]],[[16,0,108,24],[22,0,108,30],[33,0,108,41],[36,0,108,44],[38,0,108,46],[39,0,108,47]],[[16,0,110,24],[17,0,110,25],[18,0,110,26],[32,0,110,40],[33,0,110,41],[40,0,110,48],[41,0,110,49],[42,0,110,50],[43,0,110,51],[45,0,110,53]],[[20,0,112,28],[26,0,112,34],[43,0,112,51],[46,0,112,54],[50,0,112,58],[51,0,112,59],[56,0,112,64],[57,0,112,65],[58,0,112,66],[59,0,112,67],[76,0,112,84],[77,0,112,108],[78,0,112,109]],[[20,0,114,28],[31,0,114,39],[32,0,114,40],[33,0,114,41],[34,0,114,42],[48,0,114,56],[49,0,114,57],[52,0,114,60],[72,0,114,80],[73,0,115,32],[74,0,115,33],[75,0,115,34],[89,0,115,48],[91,0,116,32],[111,0,116,52],[113,0,117,32],[126,0,117,45],[128,0,118,32],[145,0,118,49],[146,0,118,50],[157,0,118,61],[159,0,119,32],[176,0,119,49],[177,0,119,50],[184,0,119,57],[186,0,120,32],[203,0,120,49],[204,0,120,50],[223,0,120,69],[225,0,121,32],[242,0,121,49],[243,0,121,50],[254,0,121,61],[255,0,122,29],[256,0,122,30]],[[16,0,123,24],[17,0,123,25],[18,0,123,26],[19,0,123,27]],[[16,0,125,24],[23,0,125,31],[27,0,125,35],[28,0,125,36],[30,0,125,38],[31,0,125,39],[45,0,125,53],[46,0,125,54],[57,0,125,65],[58,0,125,66],[59,0,125,67],[60,0,125,68],[64,0,125,72],[65,0,127,28],[68,0,127,31],[69,0,127,32],[70,0,127,33],[71,0,127,34],[73,0,127,36],[74,0,127,37],[80,0,127,43],[81,0,127,44],[85,0,127,48],[86,0,127,49],[87,0,127,50],[88,0,127,51],[89,0,127,52],[92,0,127,55],[93,0,127,56],[94,0,127,57],[95,0,127,58],[97,0,127,60],[98,0,127,61],[99,0,127,62]],[[20,0,128,32],[30,0,128,42],[32,0,128,44],[33,0,128,45],[34,0,128,46],[35,0,128,47],[36,0,128,70]],[[20,0,129,32],[23,0,129,35],[45,0,129,57],[46,0,129,58],[47,0,129,59],[48,0,129,60]],[[17,0,130,29],[18,0,130,30],[19,0,130,31],[20,0,130,32],[21,0,131,25],[22,0,131,26]],[[12,0,132,20],[13,0,132,21],[14,0,132,22],[15,0,133,17],[16,0,133,18]],[[8,0,135,12],[9,0,135,13],[10,0,135,14],[11,0,135,15],[12,0,135,16],[14,0,137,12],[17,0,137,15],[18,0,137,16],[19,0,137,17],[20,0,137,18],[22,0,137,20],[23,0,137,21],[30,0,137,28],[31,0,137,29],[32,0,137,30],[33,0,137,31],[34,0,137,32],[36,0,139,12],[39,0,139,15],[40,0,139,16],[41,0,139,17],[42,0,139,46],[44,0,139,48],[46,0,139,50]],[[12,0,141,16],[13,0,141,17],[14,0,141,18],[21,0,141,25],[22,0,141,26],[29,0,141,33],[30,0,141,34],[32,0,141,36]],[[16,0,143,20],[23,0,143,27],[24,0,143,28],[34,0,143,38],[35,0,143,39],[42,0,143,46],[43,0,143,47],[44,0,143,48],[53,0,143,57],[55,0,143,59],[65,0,143,69],[67,0,143,71],[69,0,143,73]],[[20,0,146,24],[29,0,146,33],[30,0,146,34],[39,0,146,43],[42,0,146,46],[51,0,146,55],[52,0,146,56],[61,0,146,65],[65,0,146,69],[69,0,146,73],[73,0,146,77],[75,0,146,79],[76,0,146,80],[83,0,146,87],[85,0,146,89],[86,0,146,90]],[[20,0,147,24],[29,0,147,33],[30,0,147,34],[39,0,147,43],[42,0,147,46],[46,0,147,50],[50,0,147,54],[52,0,147,56],[53,0,147,57],[60,0,147,64],[62,0,147,66],[63,0,147,67]],[[16,0,149,20],[17,0,149,21],[19,0,149,23],[24,0,149,28],[25,0,149,29],[26,0,149,30]],[[12,0,151,16],[13,0,151,17],[14,0,151,18],[15,0,151,19]],[[8,0,152,12],[9,0,152,13],[10,0,152,14],[12,0,154,12],[23,0,154,23],[24,0,154,24],[25,0,154,25],[26,0,154,26],[27,0,155,9],[28,0,155,10]],[[4,0,156,4],[5,0,156,5]],[[4,0,158,4],[8,0,158,8],[19,0,158,19]],[[8,0,160,8],[12,0,160,12],[16,0,160,16],[17,0,160,17],[29,0,160,29],[31,0,160,31]],[[12,0,160,33],[19,0,160,40],[23,0,160,44],[24,0,160,45],[36,0,160,57],[37,0,160,58]],[[9,0,160,60]],[[8,0,162,8],[14,0,162,14],[30,0,162,30],[33,0,162,33],[35,0,162,35],[36,0,162,36]],[[8,0,164,8],[24,0,164,24],[25,0,164,25],[29,0,164,29],[30,0,164,30],[36,0,164,36],[37,0,164,37],[41,0,164,41],[42,0,164,42],[45,0,164,45],[76,0,164,76],[77,0,165,12],[81,0,165,16],[82,0,165,17],[88,0,165,23],[89,0,165,24],[93,0,165,28],[95,0,166,12],[123,0,166,40],[125,0,167,12],[146,0,167,33],[148,0,168,12],[152,0,168,16],[153,0,168,17],[159,0,168,23],[160,0,168,24],[171,0,168,35],[173,0,169,12],[177,0,169,16],[178,0,169,17],[184,0,169,23],[185,0,169,24],[192,0,169,31],[194,0,170,12],[198,0,170,16],[199,0,170,17],[205,0,170,23],[206,0,170,24],[225,0,170,43],[227,0,171,12],[231,0,171,16],[232,0,171,17],[238,0,171,23],[239,0,171,24],[250,0,171,35],[251,0,172,9],[252,0,172,10]],[[8,0,174,8],[12,0,174,12],[13,0,174,13],[25,0,174,25],[28,0,174,28],[32,0,174,32],[33,0,174,33],[39,0,174,39],[40,0,174,40],[43,0,174,43],[44,0,174,44],[48,0,174,48],[49,0,177,12],[58,0,177,21],[59,0,177,22],[61,0,177,24],[62,0,177,25],[64,0,177,27],[65,0,177,28],[69,0,177,32],[70,0,177,33],[72,0,177,35],[73,0,177,36],[87,0,177,50],[88,0,177,51],[104,0,177,67],[105,0,177,68],[106,0,177,69],[107,0,177,70],[109,0,179,12],[112,0,179,15],[113,0,179,16],[124,0,179,27],[125,0,179,28],[127,0,179,30],[128,0,179,31],[139,0,179,42],[140,0,179,43],[144,0,179,47],[145,0,179,48],[151,0,179,54],[152,0,179,55],[156,0,179,59],[157,0,179,60],[158,0,179,61],[160,0,181,12],[171,0,181,23],[172,0,181,24],[173,0,181,25],[174,0,181,26],[176,0,183,12],[181,0,183,17],[183,0,183,19],[184,0,184,9],[185,0,184,10]],[[8,0,186,8],[15,0,186,15],[19,0,186,19],[20,0,186,20],[32,0,186,32],[33,0,186,33]],[[4,0,187,4],[5,0,187,5]],[[4,0,190,4],[26,0,190,26],[27,0,190,27],[31,0,190,51]],[[8,0,192,8],[15,0,192,15],[19,0,192,19],[20,0,192,20],[31,0,192,31],[32,0,192,32],[36,0,192,36],[37,0,194,12],[46,0,194,21],[47,0,194,22],[50,0,194,25],[51,0,194,26],[53,0,194,28],[54,0,194,29],[57,0,194,32],[58,0,194,33],[70,0,194,45],[71,0,194,46],[75,0,194,50],[76,0,194,51],[77,0,194,52],[78,0,195,9],[79,0,195,10]],[[4,0,196,4],[5,0,196,5]],[[4,0,202,4],[13,0,202,13]],[[8,0,204,8],[12,0,204,12],[13,0,204,13],[24,0,204,24],[25,0,204,25],[29,0,204,29],[30,0,204,30],[34,0,204,34],[35,0,204,35],[36,0,204,36]],[[4,0,205,4],[5,0,205,5]],[[4,0,207,4],[12,0,207,12]],[[8,0,209,8],[12,0,209,12],[13,0,209,13],[24,0,209,24],[25,0,209,25],[29,0,209,29],[30,0,209,30],[35,0,209,35],[36,0,209,36],[37,0,209,37]],[[4,0,210,4],[5,0,210,5]],[[4,0,212,4],[18,0,212,18],[19,0,212,19],[25,0,212,33],[27,0,212,35],[35,0,212,59],[40,0,212,64]],[[8,0,214,8],[15,0,214,15],[19,0,214,19],[20,0,214,20],[37,0,214,37],[38,0,214,38],[42,0,214,42],[43,0,216,12],[52,0,216,21],[53,0,216,22],[54,0,216,23],[69,0,216,38],[71,0,216,40],[73,0,216,42]],[[12,0,218,16],[18,0,218,22],[23,0,218,27],[26,0,218,30]],[[16,0,219,20],[24,0,219,28],[26,0,219,30]],[[20,0,220,24],[28,0,220,32],[30,0,220,34],[32,0,220,35],[38,0,220,41],[40,0,220,43],[44,0,220,47],[50,0,220,53],[51,0,220,54],[55,0,220,58],[61,0,220,64],[65,0,220,68],[66,0,220,69],[68,0,220,70]],[[20,0,221,24],[26,0,221,30],[28,0,221,32],[30,0,221,33],[33,0,221,36],[35,0,221,38],[40,0,221,43],[42,0,221,44]],[[17,0,222,21]],[[13,0,223,17],[14,0,223,18]],[[12,0,225,16],[18,0,225,22],[29,0,225,33],[32,0,225,36],[47,0,225,51],[48,0,225,52],[51,0,225,55],[52,0,225,56],[53,0,225,57],[54,0,225,58],[56,0,225,60]],[[16,0,227,20],[23,0,227,27],[27,0,227,31],[28,0,227,32],[29,0,227,33],[30,0,227,34],[40,0,227,44],[41,0,227,45],[45,0,227,49],[46,0,227,50],[51,0,227,55],[52,0,227,56],[53,0,227,57],[54,0,227,58],[55,0,227,59],[59,0,227,63],[60,0,229,24],[69,0,229,33],[70,0,229,34],[74,0,229,38],[77,0,229,41],[79,0,229,43],[80,0,229,44],[81,0,230,21],[82,0,230,22],[83,0,230,23]],[[12,0,231,16],[13,0,231,17],[14,0,231,18],[15,0,231,19]],[[12,0,233,16],[19,0,233,23],[32,0,233,36],[33,0,233,37],[44,0,233,48],[45,0,233,49],[46,0,233,50]],[[8,0,235,12],[9,0,235,13],[10,0,235,14],[12,0,237,12],[15,0,237,15],[16,0,237,16],[26,0,237,26],[27,0,237,27],[29,0,237,29],[30,0,237,30],[37,0,237,37],[38,0,237,38],[48,0,237,48],[49,0,237,49],[50,0,237,50],[52,0,240,12],[55,0,240,15],[56,0,240,16],[57,0,240,17],[67,0,240,47],[69,0,240,49],[71,0,240,51],[72,0,240,52],[82,0,240,62],[83,0,240,63],[87,0,240,67],[88,0,240,68],[89,0,240,69],[90,0,240,70],[92,0,240,72],[93,0,240,73],[95,0,240,75],[97,0,240,77],[98,0,240,78],[103,0,240,83],[108,0,240,88],[113,0,240,93],[114,0,240,94],[115,0,240,95],[116,0,240,96],[117,0,240,97],[118,0,240,98],[122,0,240,102],[125,0,240,105],[126,0,240,106],[127,0,240,107],[131,0,240,111],[132,0,240,112],[133,0,240,113],[134,0,240,114],[135,0,240,115],[136,0,240,116],[140,0,240,120],[143,0,240,123],[144,0,240,124],[145,0,240,125],[149,0,240,129],[150,0,240,130],[151,0,240,131],[153,0,242,12],[162,0,242,21],[163,0,242,42],[167,0,242,46],[168,0,242,47],[174,0,242,53],[175,0,242,54],[181,0,242,60],[182,0,242,61],[183,0,243,9],[184,0,243,10]],[[4,0,244,4],[5,0,244,5]],[[4,0,246,4],[15,0,246,15],[16,0,246,16],[22,0,246,30]],[[8,0,248,8],[14,0,248,14],[17,0,248,17],[20,0,248,50],[24,0,248,54],[25,0,248,55],[39,0,248,69],[40,0,248,70],[46,0,248,76],[48,0,248,78],[53,0,248,83],[54,0,248,84],[55,0,248,85],[59,0,248,89],[60,0,250,12],[66,0,250,18],[67,0,250,19],[77,0,250,29],[78,0,250,30],[80,0,250,32],[81,0,250,33],[91,0,250,43],[92,0,250,44],[98,0,250,50],[101,0,250,53],[102,0,250,54],[103,0,250,55],[105,0,252,12],[108,0,252,15],[109,0,252,16],[119,0,252,26],[120,0,252,27],[122,0,252,29],[123,0,252,30],[133,0,252,40],[134,0,252,41],[135,0,252,42],[136,0,252,43],[137,0,252,44],[138,0,254,9],[139,0,254,10]],[[8,0,256,8],[14,0,256,14],[17,0,256,17],[20,0,256,20],[23,0,256,23],[24,0,256,24],[28,0,256,28],[29,0,258,12],[38,0,258,21],[39,0,258,22],[42,0,258,25],[43,0,258,26],[45,0,258,28]],[[12,0,260,16],[16,0,260,20],[19,0,260,23],[20,0,260,24],[26,0,260,30],[31,0,260,35],[37,0,260,41],[39,0,260,43]],[[16,0,262,20],[22,0,262,26],[25,0,262,29],[28,0,262,32],[31,0,262,35],[32,0,262,36],[41,0,262,45],[42,0,262,46],[47,0,262,51],[48,0,262,52],[54,0,262,58],[55,0,262,59],[56,0,262,60],[57,0,262,61],[58,0,262,62],[59,0,262,63],[64,0,262,68],[65,0,262,69],[68,0,262,72],[69,0,262,73],[70,0,262,74]],[[16,0,264,20],[19,0,264,23],[20,0,264,24],[26,0,264,30],[27,0,264,31],[30,0,264,34],[31,0,264,35],[37,0,264,41],[40,0,264,44],[41,0,264,45],[43,0,264,47],[44,0,264,48],[45,0,264,49],[46,0,264,50]],[[16,0,266,20],[20,0,266,24],[28,0,266,47],[29,0,266,48]],[[16,0,268,20],[20,0,268,24],[23,0,268,27],[24,0,268,28],[34,0,268,38],[35,0,268,39],[41,0,268,45],[43,0,268,47]],[[20,0,274,24],[28,0,274,32],[31,0,274,35],[45,0,274,49],[46,0,274,50],[49,0,274,53],[50,0,274,54],[56,0,274,60],[58,0,274,62],[59,0,274,63],[63,0,274,67],[64,0,274,80],[65,0,274,81]],[[20,0,276,24],[23,0,276,27],[24,0,276,28],[34,0,276,38],[35,0,276,39],[42,0,276,46],[43,0,276,47],[44,0,276,48],[45,0,276,49],[47,0,276,51]],[[24,0,278,29],[32,0,278,50],[33,0,278,51],[39,0,278,57],[40,0,278,58],[41,0,278,59],[42,0,278,60],[51,0,278,69],[52,0,278,70],[53,0,278,71]],[[24,0,280,29],[32,0,280,50],[33,0,280,51],[39,0,280,57],[40,0,280,58],[41,0,280,59],[42,0,280,60],[55,0,280,73],[56,0,280,74],[57,0,280,75]],[[24,0,282,29],[32,0,282,50],[33,0,282,51],[39,0,282,57],[40,0,282,58],[41,0,282,59],[42,0,282,60],[50,0,282,68],[51,0,282,69],[52,0,282,70]],[[24,0,284,28],[28,0,284,32],[29,0,284,33],[30,0,284,34],[42,0,284,46],[46,0,284,50],[47,0,284,51],[48,0,284,52],[57,0,284,61],[61,0,284,65],[62,0,284,66],[63,0,284,67],[71,0,284,75]],[[28,0,284,78],[36,0,284,99],[37,0,284,100],[43,0,284,106],[44,0,284,107],[45,0,284,108],[46,0,284,109],[58,0,284,121],[60,0,284,123],[64,0,284,127],[68,0,284,131],[69,0,284,132],[70,0,284,133],[74,0,284,137],[84,0,284,147],[85,0,284,148],[89,0,284,152],[90,0,284,153],[95,0,284,158],[96,0,284,159],[99,0,284,162],[100,0,284,163],[104,0,284,167],[105,0,284,168],[106,0,284,169],[107,0,284,170],[116,0,284,179],[117,0,284,180],[118,0,284,181],[119,0,284,182],[120,0,284,183],[126,0,284,189],[127,0,284,190],[129,0,284,192],[130,0,284,193],[131,0,284,194],[144,0,284,207],[148,0,284,211],[157,0,284,220],[159,0,284,222],[161,0,284,223],[165,0,284,227],[167,0,284,229],[168,0,284,230],[169,0,284,231],[177,0,284,239],[179,0,284,240],[180,0,284,241],[181,0,284,242],[182,0,284,243]],[[20,0,285,24],[21,0,285,25],[22,0,285,26],[23,0,285,27]],[[17,0,287,21]],[[21,0,287,27]],[[20,0,293,24],[28,0,293,32],[31,0,293,35],[34,0,293,38],[35,0,293,39],[41,0,293,45],[43,0,293,47],[44,0,293,48],[48,0,293,52],[49,0,293,53]],[[17,0,294,21]],[[16,0,296,20],[23,0,296,27],[27,0,296,31],[28,0,296,32],[34,0,296,38],[35,0,296,39],[45,0,296,49],[46,0,296,50],[50,0,296,54],[51,0,296,55],[54,0,296,58],[55,0,296,59],[59,0,296,63],[60,0,296,64],[63,0,296,67],[64,0,296,68],[66,0,296,70],[74,0,296,78],[75,0,296,79],[76,0,296,80],[80,0,296,84],[81,0,298,24],[90,0,298,33],[91,0,298,34],[94,0,298,37],[95,0,298,38],[97,0,298,40],[98,0,298,41],[101,0,298,44],[102,0,298,45],[113,0,298,56],[114,0,298,57]],[[20,0,299,28],[26,0,299,34],[28,0,299,36],[33,0,299,41]],[[20,0,300,28],[24,0,300,32],[26,0,300,34],[29,0,300,37]],[[20,0,301,28],[25,0,301,33],[27,0,301,35],[31,0,301,39]],[[20,0,302,28],[24,0,302,32],[26,0,302,34],[30,0,302,38],[34,0,302,42],[36,0,302,44],[37,0,302,45],[44,0,302,52],[46,0,302,54]],[[17,0,303,25],[18,0,303,26],[19,0,303,27],[21,0,305,24],[31,0,305,34],[32,0,305,35],[35,0,305,38],[36,0,305,39],[38,0,305,41]],[[20,0,307,28],[27,0,307,35],[31,0,307,39],[32,0,307,40],[35,0,307,43],[36,0,307,44],[47,0,307,55],[48,0,307,56],[50,0,307,57],[55,0,307,62],[57,0,307,64],[61,0,307,68],[62,0,307,69],[71,0,307,78],[72,0,307,79],[75,0,307,82],[76,0,307,83],[78,0,307,84],[79,0,307,85],[80,0,307,86],[81,0,307,87],[85,0,307,91],[86,0,309,32],[94,0,309,40],[95,0,309,41],[98,0,309,44],[100,0,309,46],[101,0,309,47],[105,0,309,51],[106,0,309,52],[117,0,309,63],[118,0,309,64],[122,0,309,68],[123,0,309,69],[128,0,309,74],[129,0,309,75],[130,0,309,76],[131,0,310,29],[132,0,310,30]],[[16,0,311,24],[17,0,311,25],[18,0,311,26],[19,0,313,21],[20,0,313,22]],[[13,0,315,17]],[[17,0,315,23],[21,0,315,27],[24,0,315,30],[25,0,315,31],[31,0,315,37],[36,0,315,42],[41,0,315,47],[43,0,315,49]],[[16,0,317,20],[20,0,317,24],[28,0,317,47],[29,0,317,48]],[[16,0,319,20],[20,0,319,24],[23,0,319,27],[24,0,319,28],[34,0,319,38],[35,0,319,39],[41,0,319,45],[43,0,319,47]],[[20,0,325,24],[28,0,325,32],[31,0,325,35],[45,0,325,49],[46,0,325,50],[49,0,325,53],[50,0,325,54],[56,0,325,60],[58,0,325,62],[59,0,325,63],[63,0,325,67],[64,0,325,80],[65,0,325,81]],[[20,0,327,24],[23,0,327,27],[24,0,327,28],[34,0,327,38],[35,0,327,39],[42,0,327,46],[43,0,327,47],[44,0,327,48],[45,0,327,49],[47,0,327,51]],[[24,0,329,29],[32,0,329,50],[33,0,329,51],[39,0,329,57],[40,0,329,58],[41,0,329,59],[42,0,329,60],[51,0,329,69],[52,0,329,70],[53,0,329,71]],[[24,0,331,29],[32,0,331,50],[33,0,331,51],[39,0,331,57],[40,0,331,58],[41,0,331,59],[42,0,331,60],[55,0,331,73],[56,0,331,74],[57,0,331,75]],[[24,0,333,29],[32,0,333,50],[33,0,333,51],[39,0,333,57],[40,0,333,58],[41,0,333,59],[42,0,333,60],[50,0,333,68],[51,0,333,69],[52,0,333,70]],[[24,0,335,28],[28,0,335,32],[29,0,335,33],[30,0,335,34],[42,0,335,46],[46,0,335,50],[47,0,335,51],[48,0,335,52],[57,0,335,61],[61,0,335,65],[62,0,335,66],[63,0,335,67],[71,0,335,75]],[[28,0,335,78],[36,0,335,99],[37,0,335,100],[43,0,335,106],[44,0,335,107],[45,0,335,108],[46,0,335,109],[58,0,335,121],[60,0,335,123],[64,0,335,127],[68,0,335,131],[69,0,335,132],[70,0,335,133],[74,0,335,137],[84,0,335,147],[85,0,335,148],[89,0,335,152],[90,0,335,153],[95,0,335,158],[96,0,335,159],[99,0,335,162],[100,0,335,163],[104,0,335,167],[105,0,335,168],[106,0,335,169],[107,0,335,170],[116,0,335,179],[117,0,335,180],[118,0,335,181],[119,0,335,182],[120,0,335,183],[126,0,335,189],[127,0,335,190],[129,0,335,192],[130,0,335,193],[131,0,335,194],[144,0,335,207],[148,0,335,211],[157,0,335,220],[159,0,335,222],[161,0,335,223],[165,0,335,227],[167,0,335,229],[168,0,335,230],[169,0,335,231],[177,0,335,239],[179,0,335,240],[180,0,335,241],[181,0,335,242],[182,0,335,243]],[[20,0,336,24],[21,0,336,25],[22,0,336,26],[23,0,336,27]],[[17,0,338,21]],[[21,0,338,27]],[[20,0,344,24],[28,0,344,32],[31,0,344,35],[34,0,344,38],[35,0,344,39],[41,0,344,45],[43,0,344,47],[44,0,344,48],[48,0,344,52],[49,0,344,53]],[[17,0,345,21]],[[16,0,347,20],[23,0,347,27],[27,0,347,31],[28,0,347,32],[34,0,347,38],[35,0,347,39],[45,0,347,49],[46,0,347,50],[49,0,347,53],[50,0,347,54],[53,0,347,57],[54,0,347,58],[63,0,347,67],[64,0,347,68],[69,0,347,73],[70,0,347,74],[76,0,347,80],[77,0,347,81],[78,0,347,82],[79,0,347,83],[80,0,347,84],[82,0,347,86],[90,0,347,94],[91,0,347,95],[92,0,347,96],[96,0,347,100],[97,0,349,24],[106,0,349,33],[107,0,349,34],[110,0,349,37],[111,0,349,38],[113,0,349,40],[114,0,349,41],[117,0,349,44],[118,0,349,45],[129,0,349,56],[130,0,349,57]],[[20,0,350,28],[26,0,350,34],[28,0,350,36],[33,0,350,41]],[[20,0,351,28],[24,0,351,32],[26,0,351,34],[29,0,351,37]],[[20,0,352,28],[25,0,352,33],[27,0,352,35],[31,0,352,39]],[[20,0,353,28],[24,0,353,32],[26,0,353,34],[30,0,353,38],[34,0,353,42],[36,0,353,44],[37,0,353,45],[44,0,353,52],[46,0,353,54]],[[17,0,354,25],[18,0,354,26],[19,0,354,27],[21,0,356,24],[31,0,356,34],[32,0,356,35],[35,0,356,38],[36,0,356,39],[38,0,356,41]],[[20,0,358,28],[27,0,358,35],[31,0,358,39],[32,0,358,40],[35,0,358,43],[36,0,358,44],[47,0,358,55],[48,0,358,56],[50,0,358,57],[55,0,358,62],[57,0,358,64],[61,0,358,68],[62,0,358,69],[71,0,358,78],[72,0,358,79],[75,0,358,82],[76,0,358,83],[78,0,358,84],[79,0,358,85],[80,0,358,86],[81,0,358,87],[85,0,358,91],[86,0,360,32],[94,0,360,40],[95,0,360,41],[98,0,360,44],[100,0,360,46],[101,0,360,47],[105,0,360,51],[106,0,360,52],[117,0,360,63],[118,0,360,64],[122,0,360,68],[123,0,360,69],[128,0,360,74],[129,0,360,75],[130,0,360,76],[131,0,361,29],[132,0,361,30]],[[16,0,362,24],[17,0,362,25],[18,0,362,26],[19,0,364,21],[20,0,364,22]],[[13,0,366,17]],[[17,0,366,23],[21,0,366,27],[24,0,366,30],[25,0,366,31],[31,0,366,37],[36,0,366,42],[44,0,366,50],[46,0,366,52]],[[16,0,368,20],[23,0,368,27],[27,0,368,31],[28,0,368,32],[34,0,368,38],[35,0,368,39],[45,0,368,49],[46,0,368,50],[52,0,368,56],[53,0,368,57],[56,0,368,60],[57,0,368,61],[66,0,368,70],[67,0,368,71],[72,0,368,76],[73,0,368,77],[79,0,368,83],[80,0,368,84],[81,0,368,85],[82,0,368,86],[83,0,368,87],[84,0,368,88],[85,0,368,89],[89,0,368,93],[90,0,370,24],[99,0,370,33],[100,0,370,34],[103,0,370,37],[105,0,370,39],[106,0,370,40],[109,0,370,43],[110,0,370,44],[116,0,370,50],[118,0,370,52],[119,0,370,53],[121,0,372,24],[131,0,372,34],[132,0,372,35],[135,0,372,38],[136,0,372,39],[138,0,372,41]],[[20,0,374,28],[27,0,374,35],[31,0,374,39],[32,0,374,40],[35,0,374,43],[36,0,374,44],[47,0,374,55],[48,0,374,56],[50,0,374,57],[55,0,374,62],[57,0,374,64],[61,0,374,68],[62,0,374,69],[71,0,374,78],[72,0,374,79],[75,0,374,82],[76,0,374,83],[78,0,374,84],[79,0,374,85],[80,0,374,86],[81,0,374,87],[85,0,374,91],[86,0,376,32],[94,0,376,40],[95,0,376,41],[98,0,376,44],[100,0,376,46],[101,0,376,47],[105,0,376,51],[106,0,376,52],[117,0,376,63],[118,0,376,64],[122,0,376,68],[123,0,376,69],[128,0,376,74],[129,0,376,75],[130,0,376,76],[131,0,377,29],[132,0,377,30]],[[16,0,378,24],[17,0,378,25],[18,0,378,26],[19,0,380,21],[20,0,380,22]],[[13,0,381,17]],[[12,0,383,16],[19,0,383,23],[29,0,383,33],[30,0,383,34],[80,0,383,84],[84,0,383,88],[85,0,383,89],[94,0,383,98],[95,0,383,99],[98,0,383,102],[100,0,383,104],[106,0,383,110],[108,0,383,112],[109,0,383,113],[111,0,383,115],[112,0,383,116],[113,0,383,117]],[[8,0,384,12],[9,0,384,13],[10,0,384,14],[11,0,386,9],[12,0,386,10]],[[8,0,388,8],[15,0,388,15],[19,0,388,19],[20,0,388,20],[31,0,388,31],[32,0,388,32],[44,0,388,44],[46,0,388,46],[47,0,388,47],[51,0,388,51],[52,0,390,12],[61,0,390,21],[62,0,390,22],[69,0,390,29],[70,0,390,30],[72,0,390,32],[73,0,390,33],[80,0,390,40],[81,0,390,41],[82,0,390,42],[83,0,390,43],[86,0,390,46],[87,0,390,47],[88,0,390,48],[89,0,390,49],[91,0,390,51],[93,0,390,53],[94,0,390,54],[95,0,392,51],[96,0,392,52]],[[4,0,394,4],[5,0,394,5]],[[4,0,400,4],[9,0,400,9]],[[8,0,402,8],[15,0,402,15],[19,0,402,19],[20,0,402,20],[37,0,402,37],[38,0,402,38],[42,0,402,42],[43,0,404,12],[52,0,404,21],[53,0,404,22],[67,0,404,36],[68,0,404,37],[70,0,404,39]],[[12,0,406,16],[18,0,406,22],[24,0,406,28],[27,0,406,31],[41,0,406,45],[42,0,406,46],[45,0,406,49],[46,0,406,50],[47,0,406,51],[48,0,406,52],[50,0,406,54]],[[16,0,408,20],[22,0,408,26],[37,0,408,41],[40,0,408,44],[44,0,408,48],[48,0,408,52],[50,0,408,54],[51,0,408,55],[58,0,408,62],[60,0,408,64],[63,0,408,67],[64,0,408,68],[65,0,408,69],[66,0,408,70],[85,0,408,89],[88,0,408,92],[92,0,408,96],[93,0,408,97],[94,0,408,98]],[[16,0,410,20],[23,0,410,27],[24,0,410,28],[25,0,410,29],[35,0,410,39],[36,0,410,40],[43,0,410,47],[44,0,410,48],[48,0,410,52],[49,0,413,24],[58,0,413,33],[59,0,413,34],[62,0,413,37],[64,0,413,39],[65,0,413,40],[66,0,413,41],[67,0,413,42],[77,0,413,52],[78,0,413,53],[82,0,413,57],[83,0,413,58],[85,0,413,59],[93,0,413,67],[95,0,413,69],[97,0,413,70],[101,0,413,74],[103,0,413,76],[104,0,413,77],[106,0,413,78],[112,0,413,84],[114,0,413,86],[116,0,413,87],[119,0,413,90],[121,0,413,92],[126,0,413,97],[128,0,413,98],[130,0,413,99],[132,0,413,101],[134,0,413,102],[138,0,413,106],[140,0,413,108],[142,0,413,109],[145,0,413,112],[147,0,413,114],[162,0,413,129],[164,0,413,130],[166,0,413,131],[167,0,413,132],[169,0,413,133],[171,0,413,134],[172,0,413,135],[173,0,413,136],[179,0,413,142],[181,0,413,144],[182,0,413,145],[183,0,414,21],[184,0,414,22]],[[12,0,416,16],[13,0,416,17],[14,0,416,18],[15,0,416,19]],[[12,0,418,16],[19,0,418,23],[32,0,418,36],[33,0,418,37],[39,0,418,43],[40,0,418,44],[41,0,418,45]],[[8,0,419,12],[9,0,419,13],[10,0,419,14],[11,0,420,9],[12,0,420,10]],[[4,0,422,4],[5,0,422,5]],[[4,0,425,4],[12,0,425,12]],[[8,0,427,8],[15,0,427,15],[19,0,427,19],[20,0,427,20],[37,0,427,37],[38,0,427,38],[42,0,427,42],[43,0,429,12],[52,0,429,21],[53,0,429,22],[54,0,429,23],[68,0,429,37],[70,0,429,39],[72,0,429,41]],[[12,0,431,16],[18,0,431,22],[27,0,431,31],[30,0,431,34],[44,0,431,48],[45,0,431,49],[48,0,431,52],[49,0,431,53],[50,0,431,54],[51,0,431,55],[53,0,431,57]],[[16,0,433,20],[23,0,433,27],[24,0,433,28],[25,0,433,29],[35,0,433,39],[36,0,433,40],[43,0,433,47],[44,0,433,48],[48,0,433,52],[49,0,436,24],[58,0,436,33],[59,0,436,34],[62,0,436,37],[64,0,436,39],[65,0,436,40],[66,0,436,41],[67,0,436,42],[77,0,436,52],[78,0,436,53],[82,0,436,57],[83,0,436,58],[85,0,436,59],[93,0,436,67],[95,0,436,69],[97,0,436,70],[103,0,436,76],[105,0,436,78],[107,0,436,79],[110,0,436,82],[112,0,436,84],[117,0,436,89],[119,0,436,90],[121,0,436,91],[123,0,436,93],[127,0,436,97],[129,0,436,99],[130,0,436,100],[132,0,436,101],[136,0,436,105],[138,0,436,107],[144,0,436,113],[146,0,436,114],[147,0,436,115],[149,0,436,117],[153,0,436,121],[155,0,436,123],[156,0,436,124],[157,0,436,125],[180,0,436,148],[182,0,436,149],[183,0,436,150],[184,0,436,151],[190,0,436,157],[192,0,436,159],[193,0,436,160],[194,0,437,21],[195,0,437,22]],[[12,0,438,16],[13,0,438,17],[14,0,438,18],[15,0,438,19]],[[12,0,440,16],[19,0,440,23],[32,0,440,36],[33,0,440,37],[42,0,440,46],[43,0,440,47],[44,0,440,48]],[[8,0,441,12],[9,0,441,13],[10,0,441,14],[11,0,442,9],[12,0,442,10]],[[4,0,443,4],[5,0,443,5]],[[4,0,449,4],[13,0,449,13],[14,0,449,14],[17,0,449,35]],[[8,0,451,8],[12,0,451,12],[13,0,451,13],[14,0,451,14],[17,0,451,17],[21,0,451,21],[24,0,451,24],[25,0,451,25],[31,0,451,31],[36,0,451,36],[41,0,451,41],[45,0,451,45],[48,0,451,48],[49,0,451,49],[55,0,451,55],[60,0,451,60],[66,0,451,66],[68,0,451,68]],[[12,0,453,12],[19,0,453,19],[23,0,453,23],[24,0,453,24],[27,0,453,27],[28,0,453,28],[39,0,453,39],[40,0,453,40],[42,0,453,41],[48,0,453,47],[50,0,453,49],[56,0,453,55],[58,0,453,56],[59,0,453,57],[60,0,453,58],[61,0,453,59]],[[9,0,454,9]],[[8,0,456,8],[15,0,456,15],[25,0,456,25],[26,0,456,26],[71,0,456,71],[75,0,456,75],[76,0,456,76],[85,0,456,85],[86,0,456,86],[89,0,456,89],[91,0,456,91],[97,0,456,97],[99,0,456,99],[103,0,456,103],[105,0,456,105],[106,0,456,106],[108,0,456,108],[109,0,456,109],[110,0,456,110]],[[4,0,457,4],[5,0,457,5]],[[4,0,459,4],[18,0,459,18],[19,0,459,19],[22,0,459,40]],[[8,0,461,8],[12,0,461,12],[13,0,461,13],[14,0,461,14],[17,0,461,17],[21,0,461,21],[24,0,461,24],[25,0,461,25],[31,0,461,31],[36,0,461,36],[41,0,461,41],[43,0,461,43]],[[12,0,463,12],[19,0,463,19],[23,0,463,23],[24,0,463,24],[27,0,463,27],[28,0,463,28],[34,0,463,34],[36,0,463,36],[37,0,463,37],[38,0,463,38]],[[9,0,464,9]],[[8,0,466,8],[15,0,466,15],[25,0,466,25],[26,0,466,26],[68,0,466,68],[72,0,466,72],[73,0,466,73],[82,0,466,82],[83,0,466,83],[86,0,466,86],[88,0,466,88],[94,0,466,94],[96,0,466,96],[100,0,466,100],[102,0,466,102],[103,0,466,103],[105,0,466,105],[106,0,466,106],[107,0,466,107]],[[4,0,467,4],[5,0,467,5]],[[1,0,468,1]],[[0,0,471,0],[6,0,471,6],[16,0,471,16],[30,0,471,30],[31,0,471,31],[37,0,471,45],[39,0,471,47],[43,0,471,62],[45,0,471,64],[54,0,471,82]],[[4,0,473,4],[8,0,473,8],[16,0,473,16],[19,0,473,19],[23,0,473,23],[27,0,473,27],[31,0,473,31],[39,0,473,39],[41,0,473,41],[42,0,473,42]],[[4,0,475,4],[9,0,475,9],[13,0,475,13],[25,0,475,25],[29,0,475,29],[35,0,475,35],[37,0,475,37]],[[8,0,477,8],[14,0,477,14],[21,0,477,21],[24,0,477,24],[33,0,477,33],[34,0,477,34],[35,0,477,35],[36,0,477,36],[39,0,477,39],[48,0,477,48],[52,0,477,52],[64,0,477,64],[66,0,477,66],[67,0,477,67],[68,0,477,68],[69,0,477,69],[81,0,477,81],[82,0,477,82]],[[8,0,479,8],[12,0,479,12],[18,0,479,18],[19,0,479,19],[31,0,479,31],[32,0,479,32],[44,0,479,44],[48,0,479,48],[50,0,479,50]],[[12,0,481,12],[20,0,481,20],[21,0,481,21],[27,0,481,27],[28,0,481,28],[35,0,481,35],[37,0,481,37],[43,0,481,43],[44,0,481,44],[56,0,481,56],[57,0,481,57],[58,0,481,58],[69,0,481,69],[71,0,481,71],[72,0,481,72],[73,0,481,73]],[[9,0,483,9]],[[13,0,483,15],[17,0,483,19],[23,0,483,25],[24,0,483,26],[36,0,483,38],[37,0,483,39],[49,0,483,51],[54,0,483,56],[56,0,483,58]],[[12,0,485,12],[18,0,485,18],[19,0,485,19],[31,0,485,31],[32,0,485,32],[33,0,485,33],[40,0,485,40],[41,0,485,41],[42,0,485,42],[49,0,485,54],[51,0,485,56],[56,0,485,69],[58,0,485,71],[60,0,485,73]],[[16,0,487,16],[22,0,487,22],[33,0,487,33],[36,0,487,36],[39,0,487,39],[46,0,487,46],[50,0,487,50],[55,0,487,55],[57,0,487,57],[58,0,487,58]],[[16,0,489,16],[20,0,489,20],[27,0,489,27],[34,0,489,34],[39,0,489,39],[47,0,489,47],[49,0,489,49]],[[20,0,491,20],[34,0,491,34],[35,0,491,35],[42,0,491,42],[44,0,491,44],[52,0,491,52],[54,0,491,54],[65,0,491,65],[66,0,491,66],[67,0,491,67]],[[17,0,493,17]],[[21,0,493,23]],[[20,0,495,20],[28,0,495,28],[29,0,495,29],[35,0,495,35],[36,0,495,36],[47,0,495,47],[49,0,495,49],[56,0,495,56],[57,0,495,57],[65,0,495,65],[67,0,495,67],[68,0,495,68],[69,0,495,69]],[[17,0,496,17]],[[12,0,498,12],[13,0,498,13],[14,0,498,14],[15,0,498,15]],[[9,0,500,9]],[[13,0,500,15],[17,0,500,19],[24,0,500,26],[30,0,500,32],[31,0,500,33],[43,0,500,45],[44,0,500,46],[49,0,500,51],[57,0,500,59],[61,0,500,63],[62,0,500,64],[63,0,500,65],[69,0,500,71],[70,0,500,72],[82,0,500,84],[83,0,500,85],[95,0,500,97],[99,0,500,101],[100,0,500,102],[104,0,500,106],[110,0,500,112],[111,0,500,113],[123,0,500,125],[124,0,500,126],[129,0,500,131],[133,0,500,135],[137,0,500,139],[143,0,500,145],[144,0,500,146],[156,0,500,158],[157,0,500,159],[162,0,500,164],[171,0,500,173],[173,0,500,175]],[[12,0,502,12],[26,0,502,26],[27,0,502,27],[33,0,502,33],[34,0,502,34],[46,0,502,46],[47,0,502,47],[49,0,502,49],[57,0,502,57],[59,0,502,59],[66,0,502,66],[67,0,502,67],[68,0,502,68]],[[9,0,504,9]],[[13,0,504,15]],[[12,0,506,12],[20,0,506,20],[21,0,506,21],[27,0,506,27],[28,0,506,28],[35,0,506,35],[37,0,506,37],[43,0,506,43],[44,0,506,44],[56,0,506,56],[57,0,506,57],[62,0,506,62],[66,0,506,66],[70,0,506,70],[76,0,506,76],[77,0,506,77],[89,0,506,89],[90,0,506,90],[95,0,506,95],[104,0,506,104],[105,0,506,105],[106,0,506,106],[107,0,506,107],[109,0,506,109],[110,0,506,110],[111,0,506,111],[112,0,506,112],[118,0,506,118],[119,0,506,119],[131,0,506,131],[132,0,506,132],[133,0,506,133],[141,0,506,141],[143,0,506,143],[144,0,506,144],[145,0,506,145]],[[9,0,507,9]],[[5,0,508,5]],[[4,0,510,4],[11,0,510,11],[19,0,510,19],[20,0,510,20]],[[0,0,542,0],[1,0,542,1]]],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { NgZone } from '@angular/core';\nimport { RxCollectionCreator, RxDatabase } from 'rxdb';\nimport { BehaviorSubject, combineLatest, from, Observable, of, throwError } from 'rxjs';\nimport { auditTime, catchError, concatMap, filter, finalize, first, map, shareReplay, switchMap, tap } from 'rxjs/operators';\nimport { getCollectionCreator, PwaCollection, pwaCollectionMethods } from '../definitions/collection';\nimport { pwaDocMethods, PwaDocument } from '../definitions/document';\nimport { getSynchroniseCollectionCreator, SynchroniseCollection, synchroniseCollectionMethods } from '../definitions/synchronise-collection';\nimport { synchroniseDocMethods, SynchroniseDocType, SynchroniseDocument } from '../definitions/synchronise-document';\nimport { enterZone } from './operators.resource';\nimport { PwaDatabaseService } from './database.resource';\nimport { flatten } from './misc.resource';\n\ninterface Extras {\n    collection: PwaCollection<any>;\n}\n\ntype SynchroniseDocTypeExtras = SynchroniseDocType & Extras;\n\n\nexport interface SyncCollectionServiceCreator {\n    name: string;\n    db$: Observable<RxDatabase<any>>;\n    attachments?: {};\n    options?: {};\n    migrationStrategies?: {};\n    autoMigrate?: boolean;\n    ngZone: NgZone;\n    httpClient: HttpClient;\n}\n\n\nexport class SyncCollectionService {\n\n    // tslint:disable-next-line: variable-name\n    private _collection$: Observable<SynchroniseCollection>;\n\n    private retryChange: BehaviorSubject<boolean>;\n\n    private config: SyncCollectionServiceCreator = {\n        name: 'no_name_sync_collection',\n        db$: of(),\n        attachments: {},\n        options: {},\n        migrationStrategies: {},\n        autoMigrate: true,\n        ngZone: null,\n        httpClient: null,\n    };\n\n    storedCollections: Observable<SynchroniseDocTypeExtras[]>;\n\n    constructor(private _config: Partial<SyncCollectionServiceCreator>) {\n\n        this.config = {\n            ...this.config,\n            ...this._config\n        };\n\n        this.retryChange = new BehaviorSubject(true);\n\n        this.storedCollections = this.collection$.pipe(\n\n            switchMap(col => col.find().$),\n\n            map(docs => docs.map(d => d.toJSON())),\n\n            map(docTypes => {\n\n                // reduce collections to database wise\n                const databasesSchema: {[key: string]: SynchroniseDocType[]} = {};\n\n                docTypes.forEach(d => {\n\n                    const key = d.databaseOptions;\n\n                    key in databasesSchema ? databasesSchema[key].push(d) : databasesSchema[key] = [d];\n                });\n\n                // map RxDatabase and collectionNames\n\n                const databasesMap: {database: Observable<RxDatabase>, collectionInfo: SynchroniseDocType[]}[] = [];\n\n                Object.keys(databasesSchema).forEach(schema => {\n\n                    const pwaDatabaseService = new PwaDatabaseService<any>({dbCreator: {...JSON.parse(schema), ignoreDuplicate: true}});\n\n                    databasesMap.push({database: pwaDatabaseService.db$, collectionInfo: databasesSchema[schema]});\n                });\n\n                return databasesMap;\n            }),\n\n            switchMap(databasesMap => combineLatest(databasesMap.map(m => {\n\n                return m.database.pipe(\n\n                    switchMap(db => {\n\n                        const collectionInfoKeyValue: {[key: string]: SynchroniseDocType} = m.collectionInfo.reduce(\n                            (cur: SynchroniseDocType, acc: {}) => {\n\n                                acc[cur.collectionName] = cur;\n\n                                return acc;\n\n                            }, {});\n\n                        const collections = {};\n\n                        m.collectionInfo.forEach(i => {\n\n                            const collectionOptions = JSON.parse(i.collectionOptions) as RxCollectionCreator;\n\n                            collections[i.collectionName] = getCollectionCreator(\n                                i.collectionName,\n                                pwaCollectionMethods,\n                                pwaDocMethods,\n                                collectionOptions.attachments,\n                                collectionOptions.options,\n                                collectionOptions.migrationStrategies,\n                                collectionOptions.autoMigrate\n                            );\n                        });\n\n                        return from(db.addCollections(collections)).pipe(\n\n                            map(v => Object.keys(v).map(k => ({\n                                collection: v[k] as PwaCollection<any>,\n                                ...collectionInfoKeyValue[k],\n                            })))\n                        );\n                    })\n                );\n\n            }))),\n\n            map(v => flatten(v)),\n\n            tap((v: SynchroniseDocTypeExtras[]) =>  {\n\n                v.forEach(docType => {\n\n                    docType.collection.preSave((plainData, rxDocument) => {\n\n                        // modify anyField before saving\n                        plainData.createdAt = plainData.createdAt || new Date().getTime();\n                        plainData.updatedAt = new Date().getTime();\n\n                    }, false);\n\n                });\n            }),\n\n            shareReplay(1),\n        );\n    }\n\n    get collection$(): Observable<SynchroniseCollection> {\n\n        if (this._collection$) { return this._collection$; }\n\n        const collectionSchema = {};\n\n        collectionSchema[this.config.name] = getSynchroniseCollectionCreator(\n            this.config.name,\n            synchroniseCollectionMethods,\n            synchroniseDocMethods,\n            this.config.attachments,\n            this.config.options,\n            this.config.migrationStrategies,\n            this.config.autoMigrate\n        );\n\n        this._collection$ = this.config.db$.pipe(\n\n            // tslint:disable-next-line: max-line-length\n            switchMap(db => from(db.addCollections(collectionSchema))),\n\n            map(collections => collections[this.config.name]),\n\n            shareReplay(1),\n\n            first()\n        );\n\n        return this._collection$;\n    }\n\n\n    addSynchroniseDocument(data: SynchroniseDocType): Observable<SynchroniseDocument> {\n\n        return this.collection$.pipe(\n\n            switchMap(col => col.atomicUpsert(data))\n        );\n    }\n\n    /////////////////////////////\n    // Synchronisation Management\n    //////////////////////////////\n\n    startSync() {\n\n        this.retryChange.next(true);\n    }\n\n    stopSync() {\n\n        this.retryChange.next(false);\n    }\n\n    unsynchronised(tenant: string, order: 'desc' | 'asc' = 'asc'): Observable<PwaDocument<any>[]> {\n\n        return this.storedCollections.pipe(\n\n            switchMap((collectionsInfo) => {\n\n                const query = {\n                    selector: {\n                        matchUrl: {$regex: new RegExp(`^${tenant}.*`)},\n                        method: {$ne: 'GET'}\n                    }\n                };\n\n                const sortedDocs$ = collectionsInfo.map(k => {\n\n                    return from(k.collection.find(query).$.pipe(\n\n                        auditTime(1000 / 60)\n                    ));\n                });\n\n                return combineLatest(sortedDocs$);\n\n            }),\n\n            map(sortedDocs => flatten(sortedDocs)),\n\n            // tslint:disable-next-line: max-line-length\n            map((sortedDocs: PwaDocument<any>[]) => sortedDocs.sort((a, b) => order === 'asc' ? a.time - b.time : b.time - a.time)),\n\n            enterZone<PwaDocument<any>[]>(this.config.ngZone),\n        );\n    }\n\n    synchronise(tenant: string): Observable<PwaDocument<any> | boolean> {\n\n        const pop: Observable<PwaDocument<any>> = this.unsynchronised(tenant, 'asc').pipe(\n\n            filter(sortedDocs => sortedDocs.length > 0),\n\n            map(sortedDocs => sortedDocs[0]),\n\n        );\n\n        const hit = pop.pipe(\n\n            concatMap(doc => {\n\n                if (doc.method === 'POST') {\n\n                    const url = doc.tenantUrl.split('____')[1].split('/');\n\n                    url.splice(url.length - 1, 1);\n\n                    let formData: FormData | {};\n\n                    if (doc.fileFields.length) {\n\n                        //////////////////\n                        // Multipart/form\n                        //////////////////\n\n                        formData = createFormData(doc.toJSON().data) as FormData;\n\n                        doc.fileFields.forEach(k => {\n\n                            (formData as FormData).delete(k.fileField);\n\n                            (formData as FormData).delete(k.fileNameField);\n\n                            (formData as FormData).delete(k.fileType);\n\n                            if (k.fileKeyField && k.fileField && k.fileType) (formData as FormData).append(k.fileKeyField, new File([new Uint8Array(JSON.parse(doc.data[k.fileField])).buffer], k.fileNameField || 'Unknown', {type: k.fileType}));\n                        });\n\n                    } else {\n\n                        ////////////////////\n                        // Application/json\n                        ////////////////////\n\n                        formData = doc.toJSON().data;\n                    }\n\n                    return this.config.httpClient.post(url.join('/'), formData).pipe(\n\n                        switchMap(res => doc.atomicPatch({\n                            method: 'GET',\n                            data: res,\n                            error: null,\n                            time: new Date().getTime()\n                        })),\n\n                        catchError(err => {\n\n                            return from(doc.atomicPatch({error: JSON.stringify(err)})).pipe(\n\n                                finalize(() => this.retryChange.next(false)),\n                            );\n                        }),\n\n                    );\n\n                } else if (doc.method === 'PUT') {\n\n                    let formData: FormData | {};\n\n                    if (doc.fileFields.length) {\n\n                        //////////////////\n                        // Multipart/form\n                        //////////////////\n\n                        formData = createFormData(doc.toJSON().data) as FormData;\n\n                        doc.fileFields.forEach(k => {\n\n                            (formData as FormData).delete(k.fileField);\n\n                            (formData as FormData).delete(k.fileNameField);\n\n                            (formData as FormData).delete(k.fileType);\n\n                            if (k.fileKeyField && k.fileField && k.fileType) (formData as FormData).append(k.fileKeyField, new File([new Uint8Array(JSON.parse(doc.data[k.fileField])).buffer], k.fileNameField || 'Unknown', {type: k.fileType}));\n                        });\n\n                    } else {\n\n                        ////////////////////\n                        // Application/json\n                        ////////////////////\n\n                        formData = doc.toJSON().data;\n                    }\n\n                    return this.config.httpClient.put(doc.tenantUrl.split('____')[1], formData).pipe(\n\n                        switchMap(res => doc.atomicPatch({\n                            method: 'GET',\n                            data: res,\n                            error: null,\n                            time: new Date().getTime()\n                        })),\n\n                        catchError(err => {\n\n                            return from(doc.atomicPatch({error: JSON.stringify(err)})).pipe(\n\n                                finalize(() => this.retryChange.next(false)),\n                            );\n                        }),\n\n                    );\n\n                } else if (doc.method === 'DELETE') {\n\n                    return this.config.httpClient.delete(doc.tenantUrl.split('____')[1]).pipe(\n\n                        switchMap(() => doc.remove()),\n\n                        catchError(err => {\n\n                            return from(doc.atomicPatch({error: JSON.stringify(err)})).pipe(\n\n                                finalize(() => this.retryChange.next(false)),\n                            );\n                        }),\n\n                    );\n                }\n\n                return throwError(`Document doesn\\'t have valid method. Document: ${JSON.stringify(doc?.toJSON())}`);\n            }),\n\n        );\n\n        return this.retryChange.asObservable().pipe(\n\n            switchMap(trigger => trigger ? hit : of())\n\n        ) as Observable<boolean | PwaDocument<any>>;\n\n    }\n\n    ////////////////////////\n    // Evict Management\n    ////////////////////////\n\n    evict(): Observable<any> {\n\n        return this.storedCollections.pipe(\n\n            switchMap(collectionInfo => {\n\n                const evicts = collectionInfo.map(k => {\n\n                    const cacheAllowedAge = new Date().getTime() - (k.collectionEvictTime * 1000);\n\n                    return k.collection.insert$.pipe(\n\n                        // tslint:disable-next-line: max-line-length\n                        switchMap(() => k.collection.find({selector: {$and: [{method: {$eq: 'GET'}}, {time: {$lt: cacheAllowedAge}}]}}).remove())\n                    );\n\n                });\n\n                return combineLatest(evicts);\n            }),\n        );\n\n    }\n\n    // tslint:disable-next-line: max-line-length\n    skipTrim(): Observable<any> {\n\n        return this.storedCollections.pipe(\n\n            switchMap((collectionInfo) => {\n\n                const skipTrims = collectionInfo.map(k => {\n\n                    return k.collection.insert$.pipe(\n\n                        // tslint:disable-next-line: max-line-length\n                        switchMap(() => k.collection.find({selector: {method: {$eq: 'GET'}}, sort: [{time: 'desc'}], skip: k.collectionSkipDocuments}).remove())\n                    );\n                });\n\n                return combineLatest(skipTrims);\n            }),\n        );\n    }\n\n    ////////////////////////\n    // Conflict Management\n    ////////////////////////\n\n    createNew(doc: PwaDocument<any>): Observable<PwaDocument<any>> {\n\n        if (!!doc && doc.method !== 'GET' && doc.method !== 'POST') {\n\n            return from(doc.atomicPatch({method: 'POST'}));\n        }\n\n        return throwError(`Cannot duplicate this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n    }\n\n    deleteConflict(doc: PwaDocument<any>): Observable<boolean> {\n\n        if (!!doc && doc.method !== 'GET') {\n\n            return from(doc.remove());\n        }\n\n        return throwError(`Cannot delete this document. Document: ${JSON.stringify(doc?.toJSON() || {})}`);\n    }\n}\n\n\nexport function createFormData(object: Object, form?: FormData, namespace?: string): FormData {\n\n    let formData = form || new FormData();\n\n    for (let propertyName in object) {\n\n        const formKey = namespace ? `${namespace}.${propertyName}` : propertyName;\n\n        if (object[propertyName] instanceof Date) {\n\n            formData.append(formKey, object[propertyName].toISOString());\n\n        } else if (object[propertyName] instanceof Array) {\n\n            object[propertyName].forEach((element: any, index: number) => {\n\n                const tempFormKey = `${formKey}-${index}`;\n\n                if (typeof element === 'object') {\n\n                    createFormData(element, formData, tempFormKey);\n\n                } else {\n\n                    formData.append(tempFormKey, element.toString());\n                }\n\n            });\n\n        } else if (typeof object[propertyName] === 'object' && !(object[propertyName] instanceof File) && object[propertyName] !== null && object[propertyName] !== undefined) {\n\n            createFormData(object[propertyName], formData, formKey);\n\n        } else {\n\n            formData.append(formKey, object[propertyName] === null || object[propertyName] === undefined ? '' : object[propertyName].toString());\n        }\n    }\n\n    return formData;\n\n    // const formData = form || new FormData();\n\n    // for (const property in object) {\n\n    //     let formKey = '';\n\n    //     if (isArray) {\n\n    //         formKey = namespace ? `${namespace}[${property}]` : property;\n\n    //     } else {\n\n    //         formKey = namespace ? `${namespace}.${property}` : property;\n    //     }\n\n    //     if (object[property] instanceof Date) {\n\n    //         formData.append(formKey, object[property].toISOString());\n\n    //     } else if (typeof object[property] === 'object' && !(object[property] instanceof File) && object[property] !== null && object[property] !== undefined) {\n\n    //         createFormData(object[property], formData, formKey, typeof object[property] === 'object' && Array.isArray(object[property]));\n\n    //     } else {\n\n    //         formData.append(formKey, object[property] === null || object[property] === undefined ? '' : object[property]);\n    //     }\n    // }\n\n    // return formData;\n}\n"]},"resolvedIds":{"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../definitions/collection":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/collection.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../definitions/document":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../definitions/synchronise-collection":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-collection.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../definitions/synchronise-document":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-document.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./operators.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./database.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/database.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./misc.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":5915,"body":[{"type":"ImportDeclaration","start":0,"end":88,"specifiers":[{"type":"ImportSpecifier","start":9,"end":23,"imported":{"type":"Identifier","start":9,"end":23,"name":"addPouchPlugin"},"local":{"type":"Identifier","start":9,"end":23,"name":"addPouchPlugin"}},{"type":"ImportSpecifier","start":25,"end":36,"imported":{"type":"Identifier","start":25,"end":36,"name":"addRxPlugin"},"local":{"type":"Identifier","start":25,"end":36,"name":"addRxPlugin"}},{"type":"ImportSpecifier","start":38,"end":54,"imported":{"type":"Identifier","start":38,"end":54,"name":"createRxDatabase"},"local":{"type":"Identifier","start":38,"end":54,"name":"createRxDatabase"}},{"type":"ImportSpecifier","start":56,"end":73,"imported":{"type":"Identifier","start":56,"end":73,"name":"getRxStoragePouch"},"local":{"type":"Identifier","start":56,"end":73,"name":"getRxStoragePouch"}}],"source":{"type":"Literal","start":81,"end":87,"value":"rxdb","raw":"'rxdb'"}},{"type":"ImportDeclaration","start":89,"end":117,"specifiers":[{"type":"ImportSpecifier","start":98,"end":102,"imported":{"type":"Identifier","start":98,"end":102,"name":"from"},"local":{"type":"Identifier","start":98,"end":102,"name":"from"}}],"source":{"type":"Literal","start":110,"end":116,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":118,"end":181,"specifiers":[{"type":"ImportSpecifier","start":127,"end":147,"imported":{"type":"Identifier","start":127,"end":147,"name":"RxDBEncryptionPlugin"},"local":{"type":"Identifier","start":127,"end":147,"name":"RxDBEncryptionPlugin"}}],"source":{"type":"Literal","start":155,"end":180,"value":"rxdb/plugins/encryption","raw":"'rxdb/plugins/encryption'"}},{"type":"ImportDeclaration","start":182,"end":254,"specifiers":[{"type":"ImportSpecifier","start":191,"end":215,"imported":{"type":"Identifier","start":191,"end":215,"name":"RxDBLeaderElectionPlugin"},"local":{"type":"Identifier","start":191,"end":215,"name":"RxDBLeaderElectionPlugin"}}],"source":{"type":"Literal","start":223,"end":253,"value":"rxdb/plugins/leader-election","raw":"'rxdb/plugins/leader-election'"}},{"type":"ImportDeclaration","start":255,"end":314,"specifiers":[{"type":"ImportSpecifier","start":264,"end":282,"imported":{"type":"Identifier","start":264,"end":282,"name":"RxDBValidatePlugin"},"local":{"type":"Identifier","start":264,"end":282,"name":"RxDBValidatePlugin"}}],"source":{"type":"Literal","start":290,"end":313,"value":"rxdb/plugins/validate","raw":"'rxdb/plugins/validate'"}},{"type":"ImportDeclaration","start":315,"end":394,"specifiers":[{"type":"ImportSpecifier","start":324,"end":329,"imported":{"type":"Identifier","start":324,"end":329,"name":"first"},"local":{"type":"Identifier","start":324,"end":329,"name":"first"}},{"type":"ImportSpecifier","start":331,"end":334,"imported":{"type":"Identifier","start":331,"end":334,"name":"map"},"local":{"type":"Identifier","start":331,"end":334,"name":"map"}},{"type":"ImportSpecifier","start":336,"end":347,"imported":{"type":"Identifier","start":336,"end":347,"name":"shareReplay"},"local":{"type":"Identifier","start":336,"end":347,"name":"shareReplay"}},{"type":"ImportSpecifier","start":349,"end":358,"imported":{"type":"Identifier","start":349,"end":358,"name":"startWith"},"local":{"type":"Identifier","start":349,"end":358,"name":"startWith"}},{"type":"ImportSpecifier","start":360,"end":369,"imported":{"type":"Identifier","start":360,"end":369,"name":"switchMap"},"local":{"type":"Identifier","start":360,"end":369,"name":"switchMap"}}],"source":{"type":"Literal","start":377,"end":393,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ExpressionStatement","start":395,"end":442,"expression":{"type":"CallExpression","start":395,"end":441,"callee":{"type":"Identifier","start":395,"end":409,"name":"addPouchPlugin"},"arguments":[{"type":"CallExpression","start":410,"end":440,"callee":{"type":"Identifier","start":410,"end":417,"name":"require"},"arguments":[{"type":"Literal","start":418,"end":439,"value":"pouchdb-adapter-idb","raw":"'pouchdb-adapter-idb'"}],"optional":false}],"optional":false}},{"type":"ExportNamedDeclaration","start":443,"end":1364,"declaration":{"type":"ClassDeclaration","start":450,"end":1364,"id":{"type":"Identifier","start":456,"end":475,"name":"SyncDatabaseService"},"superClass":null,"body":{"type":"ClassBody","start":476,"end":1364,"body":[{"type":"MethodDefinition","start":482,"end":542,"static":false,"computed":false,"key":{"type":"Identifier","start":482,"end":493,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":493,"end":542,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":494,"end":501,"name":"_config"}],"body":{"type":"BlockStatement","start":503,"end":542,"body":[{"type":"ExpressionStatement","start":513,"end":536,"expression":{"type":"AssignmentExpression","start":513,"end":535,"operator":"=","left":{"type":"MemberExpression","start":513,"end":525,"object":{"type":"ThisExpression","start":513,"end":517},"property":{"type":"Identifier","start":518,"end":525,"name":"_config"},"computed":false,"optional":false},"right":{"type":"Identifier","start":528,"end":535,"name":"_config"}}}]}}},{"type":"MethodDefinition","start":547,"end":1362,"static":false,"computed":false,"key":{"type":"Identifier","start":551,"end":554,"name":"db$"},"kind":"get","value":{"type":"FunctionExpression","start":554,"end":1362,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":557,"end":1362,"body":[{"type":"IfStatement","start":567,"end":623,"test":{"type":"MemberExpression","start":571,"end":580,"object":{"type":"ThisExpression","start":571,"end":575},"property":{"type":"Identifier","start":576,"end":580,"name":"_db$"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":582,"end":623,"body":[{"type":"ReturnStatement","start":596,"end":613,"argument":{"type":"MemberExpression","start":603,"end":612,"object":{"type":"ThisExpression","start":603,"end":607},"property":{"type":"Identifier","start":608,"end":612,"name":"_db$"},"computed":false,"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":632,"end":666,"expression":{"type":"CallExpression","start":632,"end":665,"callee":{"type":"Identifier","start":632,"end":643,"name":"addRxPlugin"},"arguments":[{"type":"Identifier","start":644,"end":664,"name":"RxDBEncryptionPlugin"}],"optional":false}},{"type":"ExpressionStatement","start":675,"end":713,"expression":{"type":"CallExpression","start":675,"end":712,"callee":{"type":"Identifier","start":675,"end":686,"name":"addRxPlugin"},"arguments":[{"type":"Identifier","start":687,"end":711,"name":"RxDBLeaderElectionPlugin"}],"optional":false}},{"type":"ExpressionStatement","start":722,"end":754,"expression":{"type":"CallExpression","start":722,"end":753,"callee":{"type":"Identifier","start":722,"end":733,"name":"addRxPlugin"},"arguments":[{"type":"Identifier","start":734,"end":752,"name":"RxDBValidatePlugin"}],"optional":false}},{"type":"VariableDeclaration","start":763,"end":809,"declarations":[{"type":"VariableDeclarator","start":769,"end":808,"id":{"type":"Identifier","start":769,"end":781,"name":"pouchAdapter"},"init":{"type":"CallExpression","start":784,"end":808,"callee":{"type":"Identifier","start":784,"end":801,"name":"getRxStoragePouch"},"arguments":[{"type":"Literal","start":802,"end":807,"value":"idb","raw":"'idb'"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":818,"end":923,"expression":{"type":"SequenceExpression","start":818,"end":922,"expressions":[{"type":"AssignmentExpression","start":818,"end":859,"operator":"=","left":{"type":"MemberExpression","start":818,"end":855,"object":{"type":"MemberExpression","start":818,"end":844,"object":{"type":"Identifier","start":818,"end":830,"name":"pouchAdapter"},"property":{"type":"Identifier","start":831,"end":844,"name":"pouchSettings"},"computed":false,"optional":false},"property":{"type":"Identifier","start":845,"end":855,"name":"revs_limit"},"computed":false,"optional":false},"right":{"type":"Literal","start":858,"end":859,"value":0,"raw":"0"}},{"type":"AssignmentExpression","start":873,"end":922,"operator":"=","left":{"type":"MemberExpression","start":873,"end":915,"object":{"type":"MemberExpression","start":873,"end":899,"object":{"type":"Identifier","start":873,"end":885,"name":"pouchAdapter"},"property":{"type":"Identifier","start":886,"end":899,"name":"pouchSettings"},"computed":false,"optional":false},"property":{"type":"Identifier","start":900,"end":915,"name":"auto_compaction"},"computed":false,"optional":false},"right":{"type":"Literal","start":918,"end":922,"value":true,"raw":"true"}}]}},{"type":"ExpressionStatement","start":932,"end":1330,"expression":{"type":"AssignmentExpression","start":932,"end":1329,"operator":"=","left":{"type":"MemberExpression","start":932,"end":941,"object":{"type":"ThisExpression","start":932,"end":936},"property":{"type":"Identifier","start":937,"end":941,"name":"_db$"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":944,"end":1329,"callee":{"type":"MemberExpression","start":944,"end":1218,"object":{"type":"CallExpression","start":944,"end":1213,"callee":{"type":"Identifier","start":944,"end":948,"name":"from"},"arguments":[{"type":"CallExpression","start":949,"end":1212,"callee":{"type":"Identifier","start":949,"end":965,"name":"createRxDatabase"},"arguments":[{"type":"ObjectExpression","start":966,"end":1211,"properties":[{"type":"Property","start":980,"end":1005,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":980,"end":984,"name":"name"},"value":{"type":"Literal","start":986,"end":1005,"value":"synchronise/pwadb","raw":"'synchronise/pwadb'"},"kind":"init"},{"type":"Property","start":1019,"end":1040,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1019,"end":1026,"name":"storage"},"value":{"type":"Identifier","start":1028,"end":1040,"name":"pouchAdapter"},"kind":"init"},{"type":"Property","start":1054,"end":1098,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1054,"end":1062,"name":"password"},"value":{"type":"Literal","start":1064,"end":1098,"value":"ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF","raw":"'ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF'"},"kind":"init"},{"type":"Property","start":1112,"end":1131,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1112,"end":1125,"name":"multiInstance"},"value":{"type":"Literal","start":1127,"end":1131,"value":true,"raw":"true"},"kind":"init"},{"type":"Property","start":1145,"end":1162,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1145,"end":1156,"name":"eventReduce"},"value":{"type":"Literal","start":1158,"end":1162,"value":true,"raw":"true"},"kind":"init"},{"type":"SpreadElement","start":1176,"end":1201,"argument":{"type":"MemberExpression","start":1179,"end":1201,"object":{"type":"MemberExpression","start":1179,"end":1191,"object":{"type":"ThisExpression","start":1179,"end":1183},"property":{"type":"Identifier","start":1184,"end":1191,"name":"_config"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1192,"end":1201,"name":"dbCreator"},"computed":false,"optional":false}}]}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1214,"end":1218,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1219,"end":1303,"callee":{"type":"Identifier","start":1219,"end":1228,"name":"switchMap"},"arguments":[{"type":"ArrowFunctionExpression","start":1229,"end":1302,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1230,"end":1232,"name":"db"}],"body":{"type":"CallExpression","start":1237,"end":1302,"callee":{"type":"MemberExpression","start":1237,"end":1270,"object":{"type":"CallExpression","start":1237,"end":1265,"callee":{"type":"Identifier","start":1237,"end":1241,"name":"from"},"arguments":[{"type":"CallExpression","start":1242,"end":1264,"callee":{"type":"MemberExpression","start":1242,"end":1262,"object":{"type":"Identifier","start":1242,"end":1244,"name":"db"},"property":{"type":"Identifier","start":1245,"end":1262,"name":"waitForLeadership"},"computed":false,"optional":false},"arguments":[],"optional":false}],"optional":false},"property":{"type":"Identifier","start":1266,"end":1270,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":1271,"end":1286,"callee":{"type":"Identifier","start":1271,"end":1280,"name":"startWith"},"arguments":[{"type":"Literal","start":1281,"end":1285,"value":null,"raw":"null"}],"optional":false},{"type":"CallExpression","start":1288,"end":1301,"callee":{"type":"Identifier","start":1288,"end":1291,"name":"map"},"arguments":[{"type":"ArrowFunctionExpression","start":1292,"end":1300,"id":null,"expression":true,"generator":false,"async":false,"params":[],"body":{"type":"Identifier","start":1298,"end":1300,"name":"db"}}],"optional":false}],"optional":false}}],"optional":false},{"type":"CallExpression","start":1305,"end":1319,"callee":{"type":"Identifier","start":1305,"end":1316,"name":"shareReplay"},"arguments":[{"type":"Literal","start":1317,"end":1318,"value":1,"raw":"1"}],"optional":false},{"type":"CallExpression","start":1321,"end":1328,"callee":{"type":"Identifier","start":1321,"end":1326,"name":"first"},"arguments":[],"optional":false}],"optional":false}}},{"type":"ReturnStatement","start":1339,"end":1356,"argument":{"type":"MemberExpression","start":1346,"end":1355,"object":{"type":"ThisExpression","start":1346,"end":1350},"property":{"type":"Identifier","start":1351,"end":1355,"name":"_db$"},"computed":false,"optional":false}}]}}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtZGF0YWJhc2UucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvc3luY2hyb25pc2UtZGF0YWJhc2UucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsaUJBQWlCLEVBQWlDLE1BQU0sTUFBTSxDQUFDO0FBQ3ZILE9BQU8sRUFBRSxJQUFJLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDeEMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDL0QsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDeEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDM0QsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUUvRSxjQUFjLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztBQVEvQyxNQUFNLE9BQU8sbUJBQW1CO0lBSzVCLFlBQW9CLE9BQW1DO1FBQW5DLFlBQU8sR0FBUCxPQUFPLENBQTRCO0lBQUcsQ0FBQztJQUUzRCxJQUFJLEdBQUc7UUFFSCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FBRTtRQUdwQyxXQUFXLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUdsQyxXQUFXLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUd0QyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUVoQyxNQUFNLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5QyxZQUFZLENBQUMsYUFBYSxDQUFDLFVBQVUsR0FBUyxDQUFDO1lBQy9DLFlBQVksQ0FBQyxhQUFhLENBQUMsZUFBZSxHQUFJLElBQUksQ0FBQztRQUVuRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztZQUM5QixJQUFJLEVBQUUsbUJBQW1CO1lBQ3pCLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLFFBQVEsRUFBRSxrQ0FBa0M7WUFDNUMsYUFBYSxFQUFFLElBQUk7WUFDbkIsV0FBVyxFQUFFLElBQUk7WUFDakIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVM7U0FDNUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUVKLFNBQVMsQ0FBQyxDQUFDLEVBQU8sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUVwRCxTQUFTLENBQUMsSUFBSSxDQUFDLEVBRWYsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUNoQixDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUVkLEtBQUssRUFBRSxDQUVWLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkUG91Y2hQbHVnaW4sIGFkZFJ4UGx1Z2luLCBjcmVhdGVSeERhdGFiYXNlLCBnZXRSeFN0b3JhZ2VQb3VjaCwgUnhEYXRhYmFzZSwgUnhEYXRhYmFzZUNyZWF0b3IgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGZyb20sIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4REJFbmNyeXB0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2VuY3J5cHRpb24nO1xuaW1wb3J0IHsgUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2xlYWRlci1lbGVjdGlvbic7XG5pbXBvcnQgeyBSeERCVmFsaWRhdGVQbHVnaW4gfSBmcm9tICdyeGRiL3BsdWdpbnMvdmFsaWRhdGUnO1xuaW1wb3J0IHsgZmlyc3QsIG1hcCwgc2hhcmVSZXBsYXksIHN0YXJ0V2l0aCwgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5hZGRQb3VjaFBsdWdpbihyZXF1aXJlKCdwb3VjaGRiLWFkYXB0ZXItaWRiJykpO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgU3luY0RhdGFiYXNlU2VydmljZUNyZWF0b3Ige1xuICAgIGRiQ3JlYXRvcjogUGFydGlhbDxSeERhdGFiYXNlQ3JlYXRvcj47XG59XG5cblxuZXhwb3J0IGNsYXNzIFN5bmNEYXRhYmFzZVNlcnZpY2Uge1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB2YXJpYWJsZS1uYW1lXG4gICAgcHJpdmF0ZSBfZGIkOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8YW55Pj47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jb25maWc6IFN5bmNEYXRhYmFzZVNlcnZpY2VDcmVhdG9yKSB7fVxuXG4gICAgZ2V0IGRiJCgpOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8YW55Pj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9kYiQpIHsgcmV0dXJuIHRoaXMuX2RiJDsgfVxuXG4gICAgICAgIC8vIGFkZCBlbmNyeXB0aW9uIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCRW5jcnlwdGlvblBsdWdpbik7XG5cbiAgICAgICAgLy8gYWRkIGxlYWRlciBlbGVjdGlvbiBwbHVnaW5cbiAgICAgICAgYWRkUnhQbHVnaW4oUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luKTtcblxuICAgICAgICAvLyBhZGQgc2NoZW1hIHZhbGlkYXRlIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCVmFsaWRhdGVQbHVnaW4pO1xuXG4gICAgICAgIGNvbnN0IHBvdWNoQWRhcHRlciA9IGdldFJ4U3RvcmFnZVBvdWNoKCdpZGInKTtcblxuICAgICAgICBwb3VjaEFkYXB0ZXIucG91Y2hTZXR0aW5ncy5yZXZzX2xpbWl0ICAgICAgID0gMCxcbiAgICAgICAgcG91Y2hBZGFwdGVyLnBvdWNoU2V0dGluZ3MuYXV0b19jb21wYWN0aW9uICA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZGIkID0gZnJvbShjcmVhdGVSeERhdGFiYXNlKHtcbiAgICAgICAgICAgIG5hbWU6ICdzeW5jaHJvbmlzZS9wd2FkYicsXG4gICAgICAgICAgICBzdG9yYWdlOiBwb3VjaEFkYXB0ZXIsXG4gICAgICAgICAgICBwYXNzd29yZDogJ3ViVDZMSUw3bmUyYmRwemUwVjFEYWVPR0tLcVlNV1ZGJyxcbiAgICAgICAgICAgIG11bHRpSW5zdGFuY2U6IHRydWUsXG4gICAgICAgICAgICBldmVudFJlZHVjZTogdHJ1ZSxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZy5kYkNyZWF0b3JcbiAgICAgICAgfSkpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoZGI6IGFueSkgPT4gZnJvbShkYi53YWl0Rm9yTGVhZGVyc2hpcCgpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKG51bGwpLFxuXG4gICAgICAgICAgICAgICAgbWFwKCgpID0+IGRiKSxcbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9kYiQ7XG4gICAgfVxuXG59XG5cbiJdfQ==","start":1365,"end":5915}]},"code":"import { addPouchPlugin, addRxPlugin, createRxDatabase, getRxStoragePouch } from 'rxdb';\nimport { from } from 'rxjs';\nimport { RxDBEncryptionPlugin } from 'rxdb/plugins/encryption';\nimport { RxDBLeaderElectionPlugin } from 'rxdb/plugins/leader-election';\nimport { RxDBValidatePlugin } from 'rxdb/plugins/validate';\nimport { first, map, shareReplay, startWith, switchMap } from 'rxjs/operators';\naddPouchPlugin(require('pouchdb-adapter-idb'));\nexport class SyncDatabaseService {\n    constructor(_config) {\n        this._config = _config;\n    }\n    get db$() {\n        if (this._db$) {\n            return this._db$;\n        }\n        addRxPlugin(RxDBEncryptionPlugin);\n        addRxPlugin(RxDBLeaderElectionPlugin);\n        addRxPlugin(RxDBValidatePlugin);\n        const pouchAdapter = getRxStoragePouch('idb');\n        pouchAdapter.pouchSettings.revs_limit = 0,\n            pouchAdapter.pouchSettings.auto_compaction = true;\n        this._db$ = from(createRxDatabase({\n            name: 'synchronise/pwadb',\n            storage: pouchAdapter,\n            password: 'ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF',\n            multiInstance: true,\n            eventReduce: true,\n            ...this._config.dbCreator\n        })).pipe(switchMap((db) => from(db.waitForLeadership()).pipe(startWith(null), map(() => db))), shareReplay(1), first());\n        return this._db$;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtZGF0YWJhc2UucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvc3luY2hyb25pc2UtZGF0YWJhc2UucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsaUJBQWlCLEVBQWlDLE1BQU0sTUFBTSxDQUFDO0FBQ3ZILE9BQU8sRUFBRSxJQUFJLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDeEMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDL0QsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDeEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDM0QsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUUvRSxjQUFjLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztBQVEvQyxNQUFNLE9BQU8sbUJBQW1CO0lBSzVCLFlBQW9CLE9BQW1DO1FBQW5DLFlBQU8sR0FBUCxPQUFPLENBQTRCO0lBQUcsQ0FBQztJQUUzRCxJQUFJLEdBQUc7UUFFSCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FBRTtRQUdwQyxXQUFXLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUdsQyxXQUFXLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUd0QyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUVoQyxNQUFNLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5QyxZQUFZLENBQUMsYUFBYSxDQUFDLFVBQVUsR0FBUyxDQUFDO1lBQy9DLFlBQVksQ0FBQyxhQUFhLENBQUMsZUFBZSxHQUFJLElBQUksQ0FBQztRQUVuRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztZQUM5QixJQUFJLEVBQUUsbUJBQW1CO1lBQ3pCLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLFFBQVEsRUFBRSxrQ0FBa0M7WUFDNUMsYUFBYSxFQUFFLElBQUk7WUFDbkIsV0FBVyxFQUFFLElBQUk7WUFDakIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVM7U0FDNUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUVKLFNBQVMsQ0FBQyxDQUFDLEVBQU8sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUVwRCxTQUFTLENBQUMsSUFBSSxDQUFDLEVBRWYsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUNoQixDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUVkLEtBQUssRUFBRSxDQUVWLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkUG91Y2hQbHVnaW4sIGFkZFJ4UGx1Z2luLCBjcmVhdGVSeERhdGFiYXNlLCBnZXRSeFN0b3JhZ2VQb3VjaCwgUnhEYXRhYmFzZSwgUnhEYXRhYmFzZUNyZWF0b3IgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGZyb20sIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4REJFbmNyeXB0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2VuY3J5cHRpb24nO1xuaW1wb3J0IHsgUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2xlYWRlci1lbGVjdGlvbic7XG5pbXBvcnQgeyBSeERCVmFsaWRhdGVQbHVnaW4gfSBmcm9tICdyeGRiL3BsdWdpbnMvdmFsaWRhdGUnO1xuaW1wb3J0IHsgZmlyc3QsIG1hcCwgc2hhcmVSZXBsYXksIHN0YXJ0V2l0aCwgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5hZGRQb3VjaFBsdWdpbihyZXF1aXJlKCdwb3VjaGRiLWFkYXB0ZXItaWRiJykpO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgU3luY0RhdGFiYXNlU2VydmljZUNyZWF0b3Ige1xuICAgIGRiQ3JlYXRvcjogUGFydGlhbDxSeERhdGFiYXNlQ3JlYXRvcj47XG59XG5cblxuZXhwb3J0IGNsYXNzIFN5bmNEYXRhYmFzZVNlcnZpY2Uge1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB2YXJpYWJsZS1uYW1lXG4gICAgcHJpdmF0ZSBfZGIkOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8YW55Pj47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jb25maWc6IFN5bmNEYXRhYmFzZVNlcnZpY2VDcmVhdG9yKSB7fVxuXG4gICAgZ2V0IGRiJCgpOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8YW55Pj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9kYiQpIHsgcmV0dXJuIHRoaXMuX2RiJDsgfVxuXG4gICAgICAgIC8vIGFkZCBlbmNyeXB0aW9uIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCRW5jcnlwdGlvblBsdWdpbik7XG5cbiAgICAgICAgLy8gYWRkIGxlYWRlciBlbGVjdGlvbiBwbHVnaW5cbiAgICAgICAgYWRkUnhQbHVnaW4oUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luKTtcblxuICAgICAgICAvLyBhZGQgc2NoZW1hIHZhbGlkYXRlIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCVmFsaWRhdGVQbHVnaW4pO1xuXG4gICAgICAgIGNvbnN0IHBvdWNoQWRhcHRlciA9IGdldFJ4U3RvcmFnZVBvdWNoKCdpZGInKTtcblxuICAgICAgICBwb3VjaEFkYXB0ZXIucG91Y2hTZXR0aW5ncy5yZXZzX2xpbWl0ICAgICAgID0gMCxcbiAgICAgICAgcG91Y2hBZGFwdGVyLnBvdWNoU2V0dGluZ3MuYXV0b19jb21wYWN0aW9uICA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZGIkID0gZnJvbShjcmVhdGVSeERhdGFiYXNlKHtcbiAgICAgICAgICAgIG5hbWU6ICdzeW5jaHJvbmlzZS9wd2FkYicsXG4gICAgICAgICAgICBzdG9yYWdlOiBwb3VjaEFkYXB0ZXIsXG4gICAgICAgICAgICBwYXNzd29yZDogJ3ViVDZMSUw3bmUyYmRwemUwVjFEYWVPR0tLcVlNV1ZGJyxcbiAgICAgICAgICAgIG11bHRpSW5zdGFuY2U6IHRydWUsXG4gICAgICAgICAgICBldmVudFJlZHVjZTogdHJ1ZSxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZy5kYkNyZWF0b3JcbiAgICAgICAgfSkpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoZGI6IGFueSkgPT4gZnJvbShkYi53YWl0Rm9yTGVhZGVyc2hpcCgpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKG51bGwpLFxuXG4gICAgICAgICAgICAgICAgbWFwKCgpID0+IGRiKSxcbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9kYiQ7XG4gICAgfVxuXG59XG5cbiJdfQ==","customTransformCache":false,"dependencies":["rxdb","rxjs","rxdb/plugins/encryption","rxdb/plugins/leader-election","rxdb/plugins/validate","rxjs/operators"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/synchronise-database.resource.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { addPouchPlugin, addRxPlugin, createRxDatabase, getRxStoragePouch } from 'rxdb';\nimport { from } from 'rxjs';\nimport { RxDBEncryptionPlugin } from 'rxdb/plugins/encryption';\nimport { RxDBLeaderElectionPlugin } from 'rxdb/plugins/leader-election';\nimport { RxDBValidatePlugin } from 'rxdb/plugins/validate';\nimport { first, map, shareReplay, startWith, switchMap } from 'rxjs/operators';\naddPouchPlugin(require('pouchdb-adapter-idb'));\nexport class SyncDatabaseService {\n    constructor(_config) {\n        this._config = _config;\n    }\n    get db$() {\n        if (this._db$) {\n            return this._db$;\n        }\n        addRxPlugin(RxDBEncryptionPlugin);\n        addRxPlugin(RxDBLeaderElectionPlugin);\n        addRxPlugin(RxDBValidatePlugin);\n        const pouchAdapter = getRxStoragePouch('idb');\n        pouchAdapter.pouchSettings.revs_limit = 0,\n            pouchAdapter.pouchSettings.auto_compaction = true;\n        this._db$ = from(createRxDatabase({\n            name: 'synchronise/pwadb',\n            storage: pouchAdapter,\n            password: 'ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF',\n            multiInstance: true,\n            eventReduce: true,\n            ...this._config.dbCreator\n        })).pipe(switchMap((db) => from(db.waitForLeadership()).pipe(startWith(null), map(() => db))), shareReplay(1), first());\n        return this._db$;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3luY2hyb25pc2UtZGF0YWJhc2UucmVzb3VyY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2xpYi9yZXNvdXJjZXMvc3luY2hyb25pc2UtZGF0YWJhc2UucmVzb3VyY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxXQUFXLEVBQUUsZ0JBQWdCLEVBQUUsaUJBQWlCLEVBQWlDLE1BQU0sTUFBTSxDQUFDO0FBQ3ZILE9BQU8sRUFBRSxJQUFJLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDeEMsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDL0QsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sOEJBQThCLENBQUM7QUFDeEUsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDM0QsT0FBTyxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUUvRSxjQUFjLENBQUMsT0FBTyxDQUFDLHFCQUFxQixDQUFDLENBQUMsQ0FBQztBQVEvQyxNQUFNLE9BQU8sbUJBQW1CO0lBSzVCLFlBQW9CLE9BQW1DO1FBQW5DLFlBQU8sR0FBUCxPQUFPLENBQTRCO0lBQUcsQ0FBQztJQUUzRCxJQUFJLEdBQUc7UUFFSCxJQUFJLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFBRSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7U0FBRTtRQUdwQyxXQUFXLENBQUMsb0JBQW9CLENBQUMsQ0FBQztRQUdsQyxXQUFXLENBQUMsd0JBQXdCLENBQUMsQ0FBQztRQUd0QyxXQUFXLENBQUMsa0JBQWtCLENBQUMsQ0FBQztRQUVoQyxNQUFNLFlBQVksR0FBRyxpQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUU5QyxZQUFZLENBQUMsYUFBYSxDQUFDLFVBQVUsR0FBUyxDQUFDO1lBQy9DLFlBQVksQ0FBQyxhQUFhLENBQUMsZUFBZSxHQUFJLElBQUksQ0FBQztRQUVuRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztZQUM5QixJQUFJLEVBQUUsbUJBQW1CO1lBQ3pCLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLFFBQVEsRUFBRSxrQ0FBa0M7WUFDNUMsYUFBYSxFQUFFLElBQUk7WUFDbkIsV0FBVyxFQUFFLElBQUk7WUFDakIsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVM7U0FDNUIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUVKLFNBQVMsQ0FBQyxDQUFDLEVBQU8sRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUVwRCxTQUFTLENBQUMsSUFBSSxDQUFDLEVBRWYsR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUNoQixDQUFDLEVBRUYsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUVkLEtBQUssRUFBRSxDQUVWLENBQUM7UUFFRixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDckIsQ0FBQztDQUVKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWRkUG91Y2hQbHVnaW4sIGFkZFJ4UGx1Z2luLCBjcmVhdGVSeERhdGFiYXNlLCBnZXRSeFN0b3JhZ2VQb3VjaCwgUnhEYXRhYmFzZSwgUnhEYXRhYmFzZUNyZWF0b3IgfSBmcm9tICdyeGRiJztcbmltcG9ydCB7IGZyb20sIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4REJFbmNyeXB0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2VuY3J5cHRpb24nO1xuaW1wb3J0IHsgUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luIH0gZnJvbSAncnhkYi9wbHVnaW5zL2xlYWRlci1lbGVjdGlvbic7XG5pbXBvcnQgeyBSeERCVmFsaWRhdGVQbHVnaW4gfSBmcm9tICdyeGRiL3BsdWdpbnMvdmFsaWRhdGUnO1xuaW1wb3J0IHsgZmlyc3QsIG1hcCwgc2hhcmVSZXBsYXksIHN0YXJ0V2l0aCwgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5hZGRQb3VjaFBsdWdpbihyZXF1aXJlKCdwb3VjaGRiLWFkYXB0ZXItaWRiJykpO1xuXG5cbmV4cG9ydCBpbnRlcmZhY2UgU3luY0RhdGFiYXNlU2VydmljZUNyZWF0b3Ige1xuICAgIGRiQ3JlYXRvcjogUGFydGlhbDxSeERhdGFiYXNlQ3JlYXRvcj47XG59XG5cblxuZXhwb3J0IGNsYXNzIFN5bmNEYXRhYmFzZVNlcnZpY2Uge1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiB2YXJpYWJsZS1uYW1lXG4gICAgcHJpdmF0ZSBfZGIkOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8YW55Pj47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9jb25maWc6IFN5bmNEYXRhYmFzZVNlcnZpY2VDcmVhdG9yKSB7fVxuXG4gICAgZ2V0IGRiJCgpOiBPYnNlcnZhYmxlPFJ4RGF0YWJhc2U8YW55Pj4ge1xuXG4gICAgICAgIGlmICh0aGlzLl9kYiQpIHsgcmV0dXJuIHRoaXMuX2RiJDsgfVxuXG4gICAgICAgIC8vIGFkZCBlbmNyeXB0aW9uIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCRW5jcnlwdGlvblBsdWdpbik7XG5cbiAgICAgICAgLy8gYWRkIGxlYWRlciBlbGVjdGlvbiBwbHVnaW5cbiAgICAgICAgYWRkUnhQbHVnaW4oUnhEQkxlYWRlckVsZWN0aW9uUGx1Z2luKTtcblxuICAgICAgICAvLyBhZGQgc2NoZW1hIHZhbGlkYXRlIHBsdWdpblxuICAgICAgICBhZGRSeFBsdWdpbihSeERCVmFsaWRhdGVQbHVnaW4pO1xuXG4gICAgICAgIGNvbnN0IHBvdWNoQWRhcHRlciA9IGdldFJ4U3RvcmFnZVBvdWNoKCdpZGInKTtcblxuICAgICAgICBwb3VjaEFkYXB0ZXIucG91Y2hTZXR0aW5ncy5yZXZzX2xpbWl0ICAgICAgID0gMCxcbiAgICAgICAgcG91Y2hBZGFwdGVyLnBvdWNoU2V0dGluZ3MuYXV0b19jb21wYWN0aW9uICA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5fZGIkID0gZnJvbShjcmVhdGVSeERhdGFiYXNlKHtcbiAgICAgICAgICAgIG5hbWU6ICdzeW5jaHJvbmlzZS9wd2FkYicsXG4gICAgICAgICAgICBzdG9yYWdlOiBwb3VjaEFkYXB0ZXIsXG4gICAgICAgICAgICBwYXNzd29yZDogJ3ViVDZMSUw3bmUyYmRwemUwVjFEYWVPR0tLcVlNV1ZGJyxcbiAgICAgICAgICAgIG11bHRpSW5zdGFuY2U6IHRydWUsXG4gICAgICAgICAgICBldmVudFJlZHVjZTogdHJ1ZSxcbiAgICAgICAgICAgIC4uLnRoaXMuX2NvbmZpZy5kYkNyZWF0b3JcbiAgICAgICAgfSkpLnBpcGUoXG5cbiAgICAgICAgICAgIHN3aXRjaE1hcCgoZGI6IGFueSkgPT4gZnJvbShkYi53YWl0Rm9yTGVhZGVyc2hpcCgpKS5waXBlKFxuXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKG51bGwpLFxuXG4gICAgICAgICAgICAgICAgbWFwKCgpID0+IGRiKSxcbiAgICAgICAgICAgICkpLFxuXG4gICAgICAgICAgICBzaGFyZVJlcGxheSgxKSxcblxuICAgICAgICAgICAgZmlyc3QoKSxcblxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9kYiQ7XG4gICAgfVxuXG59XG5cbiJdfQ==","originalSourcemap":{"version":3,"file":"synchronise-database.resource.js","sourceRoot":"","sources":["../../../../../projects/pwadb-lib/src/lib/resources/synchronise-database.resource.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[23,0,0,23],[25,0,0,25],[36,0,0,36],[38,0,0,38],[54,0,0,54],[56,0,0,56],[73,0,0,73],[75,0,0,106],[81,0,0,112],[87,0,0,118],[88,0,0,119]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[13,0,1,13],[15,0,1,27],[21,0,1,33],[27,0,1,39],[28,0,1,40]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[29,0,2,29],[31,0,2,31],[37,0,2,37],[62,0,2,62],[63,0,2,63]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[33,0,3,33],[35,0,3,35],[41,0,3,41],[71,0,3,71],[72,0,3,72]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[27,0,4,27],[29,0,4,29],[35,0,4,35],[58,0,4,58],[59,0,4,59]],[[0,0,5,0],[7,0,5,7],[9,0,5,9],[14,0,5,14],[16,0,5,16],[19,0,5,19],[21,0,5,21],[32,0,5,32],[34,0,5,34],[43,0,5,43],[45,0,5,45],[54,0,5,54],[56,0,5,56],[62,0,5,62],[78,0,5,78],[79,0,5,79]],[[0,0,7,0],[14,0,7,14],[15,0,7,15],[22,0,7,22],[23,0,7,23],[44,0,7,44],[45,0,7,45],[46,0,7,46],[47,0,7,47]],[[0,0,15,0],[6,0,15,6],[13,0,15,13],[32,0,15,32]],[[4,0,20,4],[16,0,20,24],[23,0,20,59]],[[8,0,20,24],[20,0,20,31],[23,0,20,24],[30,0,20,31],[31,0,20,59]],[[4,0,20,62],[5,0,20,63]],[[4,0,22,4],[8,0,22,8],[11,0,22,11]],[[8,0,24,8],[12,0,24,12],[16,0,24,16],[17,0,24,17],[21,0,24,21],[23,0,24,23]],[[12,0,24,25],[19,0,24,32],[23,0,24,36],[24,0,24,37],[28,0,24,41],[29,0,24,42]],[[9,0,24,44]],[[8,0,27,8],[19,0,27,19],[20,0,27,20],[40,0,27,40],[41,0,27,41],[42,0,27,42]],[[8,0,30,8],[19,0,30,19],[20,0,30,20],[44,0,30,44],[45,0,30,45],[46,0,30,46]],[[8,0,33,8],[19,0,33,19],[20,0,33,20],[38,0,33,38],[39,0,33,39],[40,0,33,40]],[[8,0,35,8],[14,0,35,14],[26,0,35,26],[29,0,35,29],[46,0,35,46],[47,0,35,47],[52,0,35,52],[53,0,35,53],[54,0,35,54]],[[8,0,37,8],[20,0,37,20],[21,0,37,21],[34,0,37,34],[35,0,37,35],[45,0,37,45],[48,0,37,54],[49,0,37,55]],[[12,0,38,8],[24,0,38,20],[25,0,38,21],[38,0,38,34],[39,0,38,35],[54,0,38,50],[57,0,38,54],[61,0,38,58],[62,0,38,59]],[[8,0,40,8],[12,0,40,12],[13,0,40,13],[17,0,40,17],[20,0,40,20],[24,0,40,24],[25,0,40,25],[41,0,40,41],[42,0,40,42]],[[12,0,41,12],[16,0,41,16],[18,0,41,18],[37,0,41,37]],[[12,0,42,12],[19,0,42,19],[21,0,42,21],[33,0,42,33]],[[12,0,43,12],[20,0,43,20],[22,0,43,22],[56,0,43,56]],[[12,0,44,12],[25,0,44,25],[27,0,44,27],[31,0,44,31]],[[12,0,45,12],[23,0,45,23],[25,0,45,25],[29,0,45,29]],[[12,0,46,12],[15,0,46,15],[19,0,46,19],[20,0,46,20],[27,0,46,27],[28,0,46,28],[37,0,46,37]],[[9,0,47,9],[10,0,47,10],[11,0,47,11],[12,0,47,12],[16,0,47,16],[17,0,49,12],[26,0,49,21],[27,0,49,22],[28,0,49,23],[30,0,49,30],[32,0,49,32],[34,0,49,34],[35,0,49,35],[39,0,49,39],[40,0,49,40],[42,0,49,42],[43,0,49,43],[60,0,49,60],[62,0,49,62],[63,0,49,63],[64,0,49,64],[68,0,49,68],[69,0,51,16],[78,0,51,25],[79,0,51,26],[83,0,51,30],[84,0,51,31],[86,0,53,16],[89,0,53,19],[90,0,53,20],[93,0,53,23],[95,0,53,25],[96,0,53,26],[98,0,53,28],[99,0,53,29],[100,0,54,13],[101,0,54,14],[103,0,56,12],[114,0,56,23],[115,0,56,24],[116,0,56,25],[117,0,56,26],[119,0,58,12],[124,0,58,17],[126,0,58,19],[127,0,60,9],[128,0,60,10]],[[8,0,62,8],[15,0,62,15],[19,0,62,19],[20,0,62,20],[24,0,62,24],[25,0,62,25]],[[4,0,63,4],[5,0,63,5]],[[1,0,65,1]]],"sourcesContent":["import { addPouchPlugin, addRxPlugin, createRxDatabase, getRxStoragePouch, RxDatabase, RxDatabaseCreator } from 'rxdb';\nimport { from, Observable } from 'rxjs';\nimport { RxDBEncryptionPlugin } from 'rxdb/plugins/encryption';\nimport { RxDBLeaderElectionPlugin } from 'rxdb/plugins/leader-election';\nimport { RxDBValidatePlugin } from 'rxdb/plugins/validate';\nimport { first, map, shareReplay, startWith, switchMap } from 'rxjs/operators';\n\naddPouchPlugin(require('pouchdb-adapter-idb'));\n\n\nexport interface SyncDatabaseServiceCreator {\n    dbCreator: Partial<RxDatabaseCreator>;\n}\n\n\nexport class SyncDatabaseService {\n\n    // tslint:disable-next-line: variable-name\n    private _db$: Observable<RxDatabase<any>>;\n\n    constructor(private _config: SyncDatabaseServiceCreator) {}\n\n    get db$(): Observable<RxDatabase<any>> {\n\n        if (this._db$) { return this._db$; }\n\n        // add encryption plugin\n        addRxPlugin(RxDBEncryptionPlugin);\n\n        // add leader election plugin\n        addRxPlugin(RxDBLeaderElectionPlugin);\n\n        // add schema validate plugin\n        addRxPlugin(RxDBValidatePlugin);\n\n        const pouchAdapter = getRxStoragePouch('idb');\n\n        pouchAdapter.pouchSettings.revs_limit       = 0,\n        pouchAdapter.pouchSettings.auto_compaction  = true;\n\n        this._db$ = from(createRxDatabase({\n            name: 'synchronise/pwadb',\n            storage: pouchAdapter,\n            password: 'ubT6LIL7ne2bdpze0V1DaeOGKKqYMWVF',\n            multiInstance: true,\n            eventReduce: true,\n            ...this._config.dbCreator\n        })).pipe(\n\n            switchMap((db: any) => from(db.waitForLeadership()).pipe(\n\n                startWith(null),\n\n                map(() => db),\n            )),\n\n            shareReplay(1),\n\n            first(),\n\n        );\n\n        return this._db$;\n    }\n\n}\n\n"]},"resolvedIds":{"rxdb":{"external":true,"id":"rxdb","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxdb/plugins/encryption":{"external":true,"id":"rxdb/plugins/encryption","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxdb/plugins/leader-election":{"external":true,"id":"rxdb/plugins/leader-election","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxdb/plugins/validate":{"external":true,"id":"rxdb/plugins/validate","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2655,"body":[{"type":"ExportAllDeclaration","start":0,"end":45,"exported":null,"source":{"type":"Literal","start":14,"end":44,"value":"./lib/definitions/collection","raw":"'./lib/definitions/collection'"}},{"type":"ExportAllDeclaration","start":46,"end":89,"exported":null,"source":{"type":"Literal","start":60,"end":88,"value":"./lib/definitions/document","raw":"'./lib/definitions/document'"}},{"type":"ExportAllDeclaration","start":90,"end":147,"exported":null,"source":{"type":"Literal","start":104,"end":146,"value":"./lib/definitions/synchronise-collection","raw":"'./lib/definitions/synchronise-collection'"}},{"type":"ExportAllDeclaration","start":148,"end":203,"exported":null,"source":{"type":"Literal","start":162,"end":202,"value":"./lib/definitions/synchronise-document","raw":"'./lib/definitions/synchronise-document'"}},{"type":"ExportAllDeclaration","start":204,"end":258,"exported":null,"source":{"type":"Literal","start":218,"end":257,"value":"./lib/resources/customParams.resource","raw":"'./lib/resources/customParams.resource'"}},{"type":"ExportAllDeclaration","start":259,"end":311,"exported":null,"source":{"type":"Literal","start":273,"end":310,"value":"./lib/resources/collection.resource","raw":"'./lib/resources/collection.resource'"}},{"type":"ExportAllDeclaration","start":312,"end":362,"exported":null,"source":{"type":"Literal","start":326,"end":361,"value":"./lib/resources/database.resource","raw":"'./lib/resources/database.resource'"}},{"type":"ExportAllDeclaration","start":363,"end":412,"exported":null,"source":{"type":"Literal","start":377,"end":411,"value":"./lib/resources/filters.resource","raw":"'./lib/resources/filters.resource'"}},{"type":"ExportAllDeclaration","start":413,"end":464,"exported":null,"source":{"type":"Literal","start":427,"end":463,"value":"./lib/resources/operators.resource","raw":"'./lib/resources/operators.resource'"}},{"type":"ExportAllDeclaration","start":465,"end":518,"exported":null,"source":{"type":"Literal","start":479,"end":517,"value":"./lib/resources/apiProgress.resource","raw":"'./lib/resources/apiProgress.resource'"}},{"type":"ExportAllDeclaration","start":519,"end":566,"exported":null,"source":{"type":"Literal","start":533,"end":565,"value":"./lib/resources/table.resource","raw":"'./lib/resources/table.resource'"}},{"type":"ExportAllDeclaration","start":567,"end":613,"exported":null,"source":{"type":"Literal","start":581,"end":612,"value":"./lib/resources/tree.resource","raw":"'./lib/resources/tree.resource'"}},{"type":"ExportAllDeclaration","start":614,"end":660,"exported":null,"source":{"type":"Literal","start":628,"end":659,"value":"./lib/resources/misc.resource","raw":"'./lib/resources/misc.resource'"}},{"type":"ExportAllDeclaration","start":661,"end":725,"exported":null,"source":{"type":"Literal","start":675,"end":724,"value":"./lib/resources/synchronise-collection.resource","raw":"'./lib/resources/synchronise-collection.resource'"}},{"type":"ExportAllDeclaration","start":726,"end":788,"exported":null,"source":{"type":"Literal","start":740,"end":787,"value":"./lib/resources/synchronise-database.resource","raw":"'./lib/resources/synchronise-database.resource'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvcHVibGljLWFwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsNEJBQTRCLENBQUM7QUFFM0MsY0FBYywwQ0FBMEMsQ0FBQztBQUN6RCxjQUFjLHdDQUF3QyxDQUFDO0FBR3ZELGNBQWMsdUNBQXVDLENBQUM7QUFDdEQsY0FBYyxxQ0FBcUMsQ0FBQztBQUNwRCxjQUFjLG1DQUFtQyxDQUFDO0FBQ2xELGNBQWMsa0NBQWtDLENBQUM7QUFDakQsY0FBYyxvQ0FBb0MsQ0FBQztBQUNuRCxjQUFjLHNDQUFzQyxDQUFDO0FBQ3JELGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYywrQkFBK0IsQ0FBQztBQUM5QyxjQUFjLCtCQUErQixDQUFDO0FBRTlDLGNBQWMsaURBQWlELENBQUM7QUFDaEUsY0FBYywrQ0FBK0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgcHdhZGItbGliXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVmaW5pdGlvbnMvY29sbGVjdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL2RlZmluaXRpb25zL3N5bmNocm9uaXNlLWNvbGxlY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVmaW5pdGlvbnMvc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuXG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9jdXN0b21QYXJhbXMucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2NvbGxlY3Rpb24ucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2RhdGFiYXNlLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9maWx0ZXJzLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9vcGVyYXRvcnMucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2FwaVByb2dyZXNzLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy90YWJsZS5yZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9yZXNvdXJjZXMvdHJlZS5yZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9yZXNvdXJjZXMvbWlzYy5yZXNvdXJjZSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1kYXRhYmFzZS5yZXNvdXJjZSc7XG4iXX0=","start":789,"end":2655}]},"code":"export * from './lib/definitions/collection';\nexport * from './lib/definitions/document';\nexport * from './lib/definitions/synchronise-collection';\nexport * from './lib/definitions/synchronise-document';\nexport * from './lib/resources/customParams.resource';\nexport * from './lib/resources/collection.resource';\nexport * from './lib/resources/database.resource';\nexport * from './lib/resources/filters.resource';\nexport * from './lib/resources/operators.resource';\nexport * from './lib/resources/apiProgress.resource';\nexport * from './lib/resources/table.resource';\nexport * from './lib/resources/tree.resource';\nexport * from './lib/resources/misc.resource';\nexport * from './lib/resources/synchronise-collection.resource';\nexport * from './lib/resources/synchronise-database.resource';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvcHVibGljLWFwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsNEJBQTRCLENBQUM7QUFFM0MsY0FBYywwQ0FBMEMsQ0FBQztBQUN6RCxjQUFjLHdDQUF3QyxDQUFDO0FBR3ZELGNBQWMsdUNBQXVDLENBQUM7QUFDdEQsY0FBYyxxQ0FBcUMsQ0FBQztBQUNwRCxjQUFjLG1DQUFtQyxDQUFDO0FBQ2xELGNBQWMsa0NBQWtDLENBQUM7QUFDakQsY0FBYyxvQ0FBb0MsQ0FBQztBQUNuRCxjQUFjLHNDQUFzQyxDQUFDO0FBQ3JELGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYywrQkFBK0IsQ0FBQztBQUM5QyxjQUFjLCtCQUErQixDQUFDO0FBRTlDLGNBQWMsaURBQWlELENBQUM7QUFDaEUsY0FBYywrQ0FBK0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgcHdhZGItbGliXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVmaW5pdGlvbnMvY29sbGVjdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL2RlZmluaXRpb25zL3N5bmNocm9uaXNlLWNvbGxlY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVmaW5pdGlvbnMvc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuXG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9jdXN0b21QYXJhbXMucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2NvbGxlY3Rpb24ucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2RhdGFiYXNlLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9maWx0ZXJzLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9vcGVyYXRvcnMucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2FwaVByb2dyZXNzLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy90YWJsZS5yZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9yZXNvdXJjZXMvdHJlZS5yZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9yZXNvdXJjZXMvbWlzYy5yZXNvdXJjZSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1kYXRhYmFzZS5yZXNvdXJjZSc7XG4iXX0=","customTransformCache":false,"dependencies":["/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/collection.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-collection.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-document.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/collection.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/database.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/filters.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/apiProgress.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/table.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/tree.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/synchronise-collection.resource.mjs","/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/synchronise-database.resource.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export * from './lib/definitions/collection';\nexport * from './lib/definitions/document';\nexport * from './lib/definitions/synchronise-collection';\nexport * from './lib/definitions/synchronise-document';\nexport * from './lib/resources/customParams.resource';\nexport * from './lib/resources/collection.resource';\nexport * from './lib/resources/database.resource';\nexport * from './lib/resources/filters.resource';\nexport * from './lib/resources/operators.resource';\nexport * from './lib/resources/apiProgress.resource';\nexport * from './lib/resources/table.resource';\nexport * from './lib/resources/tree.resource';\nexport * from './lib/resources/misc.resource';\nexport * from './lib/resources/synchronise-collection.resource';\nexport * from './lib/resources/synchronise-database.resource';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL3B3YWRiLWxpYi9zcmMvcHVibGljLWFwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxjQUFjLDhCQUE4QixDQUFDO0FBQzdDLGNBQWMsNEJBQTRCLENBQUM7QUFFM0MsY0FBYywwQ0FBMEMsQ0FBQztBQUN6RCxjQUFjLHdDQUF3QyxDQUFDO0FBR3ZELGNBQWMsdUNBQXVDLENBQUM7QUFDdEQsY0FBYyxxQ0FBcUMsQ0FBQztBQUNwRCxjQUFjLG1DQUFtQyxDQUFDO0FBQ2xELGNBQWMsa0NBQWtDLENBQUM7QUFDakQsY0FBYyxvQ0FBb0MsQ0FBQztBQUNuRCxjQUFjLHNDQUFzQyxDQUFDO0FBQ3JELGNBQWMsZ0NBQWdDLENBQUM7QUFDL0MsY0FBYywrQkFBK0IsQ0FBQztBQUM5QyxjQUFjLCtCQUErQixDQUFDO0FBRTlDLGNBQWMsaURBQWlELENBQUM7QUFDaEUsY0FBYywrQ0FBK0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBQdWJsaWMgQVBJIFN1cmZhY2Ugb2YgcHdhZGItbGliXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVmaW5pdGlvbnMvY29sbGVjdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9kZWZpbml0aW9ucy9kb2N1bWVudCc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL2RlZmluaXRpb25zL3N5bmNocm9uaXNlLWNvbGxlY3Rpb24nO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvZGVmaW5pdGlvbnMvc3luY2hyb25pc2UtZG9jdW1lbnQnO1xuXG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9jdXN0b21QYXJhbXMucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2NvbGxlY3Rpb24ucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2RhdGFiYXNlLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9maWx0ZXJzLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9vcGVyYXRvcnMucmVzb3VyY2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvcmVzb3VyY2VzL2FwaVByb2dyZXNzLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy90YWJsZS5yZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9yZXNvdXJjZXMvdHJlZS5yZXNvdXJjZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9yZXNvdXJjZXMvbWlzYy5yZXNvdXJjZSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1jb2xsZWN0aW9uLnJlc291cmNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL3Jlc291cmNlcy9zeW5jaHJvbmlzZS1kYXRhYmFzZS5yZXNvdXJjZSc7XG4iXX0=","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/pwadb-lib/src/public-api.ts"],"names":[],"mappings":[[[0,0,4,0],[14,0,4,14],[44,0,4,44],[45,0,4,45]],[[0,0,5,0],[14,0,5,14],[42,0,5,42],[43,0,5,43]],[[0,0,7,0],[14,0,7,14],[56,0,7,56],[57,0,7,57]],[[0,0,8,0],[14,0,8,14],[54,0,8,54],[55,0,8,55]],[[0,0,11,0],[14,0,11,14],[53,0,11,53],[54,0,11,54]],[[0,0,12,0],[14,0,12,14],[51,0,12,51],[52,0,12,52]],[[0,0,13,0],[14,0,13,14],[49,0,13,49],[50,0,13,50]],[[0,0,14,0],[14,0,14,14],[48,0,14,48],[49,0,14,49]],[[0,0,15,0],[14,0,15,14],[50,0,15,50],[51,0,15,51]],[[0,0,16,0],[14,0,16,14],[52,0,16,52],[53,0,16,53]],[[0,0,17,0],[14,0,17,14],[46,0,17,46],[47,0,17,47]],[[0,0,18,0],[14,0,18,14],[45,0,18,45],[46,0,18,46]],[[0,0,19,0],[14,0,19,14],[45,0,19,45],[46,0,19,46]],[[0,0,21,0],[14,0,21,14],[63,0,21,63],[64,0,21,64]],[[0,0,22,0],[14,0,22,14],[61,0,22,61],[62,0,22,62]]],"sourcesContent":["/*\n * Public API Surface of pwadb-lib\n */\n\nexport * from './lib/definitions/collection';\nexport * from './lib/definitions/document';\n\nexport * from './lib/definitions/synchronise-collection';\nexport * from './lib/definitions/synchronise-document';\n\n\nexport * from './lib/resources/customParams.resource';\nexport * from './lib/resources/collection.resource';\nexport * from './lib/resources/database.resource';\nexport * from './lib/resources/filters.resource';\nexport * from './lib/resources/operators.resource';\nexport * from './lib/resources/apiProgress.resource';\nexport * from './lib/resources/table.resource';\nexport * from './lib/resources/tree.resource';\nexport * from './lib/resources/misc.resource';\n\nexport * from './lib/resources/synchronise-collection.resource';\nexport * from './lib/resources/synchronise-database.resource';\n"]},"resolvedIds":{"./lib/definitions/collection":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/collection.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/definitions/document":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/document.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/definitions/synchronise-collection":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-collection.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/definitions/synchronise-document":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/definitions/synchronise-document.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/customParams.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/customParams.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/collection.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/collection.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/database.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/database.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/filters.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/filters.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/operators.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/operators.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/apiProgress.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/apiProgress.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/table.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/table.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/tree.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/tree.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/misc.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/misc.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/synchronise-collection.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/synchronise-collection.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/resources/synchronise-database.resource":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/lib/resources/synchronise-database.resource.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":464,"body":[{"type":"ExportAllDeclaration","start":0,"end":29,"exported":null,"source":{"type":"Literal","start":14,"end":28,"value":"./public-api","raw":"'./public-api'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWR2YW5jZS10b29scy1wd2FkYi1saWIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2FkdmFuY2UtdG9vbHMtcHdhZGItbGliLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLGNBQWMsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpYy1hcGknO1xuIl19","start":30,"end":464}]},"code":"export * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWR2YW5jZS10b29scy1wd2FkYi1saWIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2FkdmFuY2UtdG9vbHMtcHdhZGItbGliLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLGNBQWMsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpYy1hcGknO1xuIl19","customTransformCache":false,"dependencies":["/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/public-api.mjs"],"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/advance-tools-pwadb-lib.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWR2YW5jZS10b29scy1wd2FkYi1saWIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9wd2FkYi1saWIvc3JjL2FkdmFuY2UtdG9vbHMtcHdhZGItbGliLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBLGNBQWMsY0FBYyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHZW5lcmF0ZWQgYnVuZGxlIGluZGV4LiBEbyBub3QgZWRpdC5cbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL3B1YmxpYy1hcGknO1xuIl19","originalSourcemap":{"version":3,"file":"advance-tools-pwadb-lib.js","sourceRoot":"","sources":["../../../projects/pwadb-lib/src/advance-tools-pwadb-lib.ts"],"names":[],"mappings":[[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"external":false,"id":"/home/project/advance-tools/pwadb/pwadb/dist/pwadb-lib/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"sourcemaps":{},"json":{}}}